"use strict";(self.webpackChunkmessage_table_angular=self.webpackChunkmessage_table_angular||[]).push([[240],{1240:(K,x,i)=>{i.r(x),i.d(x,{LazyLoadingModule:()=>X});var C=i(4190),_=i(3365),d=i(3566),m=i(5313),b=i(8645),Z=i(9773),p=i(3338),g=i(4221);const M=(0,g.ZF)("messages"),T=(0,g.P1)(M,e=>e.messages);(0,g.P1)(M,e=>e);var c=i(7700),t=i(5879),u=i(2296);let y=(()=>{class e{constructor(o,n,a){this.dialogRef=o,this.data=n,this.store=a,n&&(this.messageData=n)}deleteMessage(){this.store.dispatch(p.$Z({messageId:this.messageData.id})),this.closeDialog()}closeDialog(){this.dialogRef.close()}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c.so),t.Y36(c.WI),t.Y36(g.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dialog-box"]],decls:15,vars:1,consts:[[1,"delete-message"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"button-wrapper-delete"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"h1",1)(2,"strong"),t._uU(3,"Delete Message"),t.qZA()(),t.TgZ(4,"div",2)(5,"p"),t._uU(6," Sure to delete "),t.TgZ(7,"b"),t._uU(8),t.qZA(),t._uU(9,"? "),t.qZA()(),t.TgZ(10,"div",3)(11,"button",4),t.NdJ("click",function(){return a.deleteMessage()}),t._uU(12," Delete "),t.qZA(),t.TgZ(13,"button",5),t.NdJ("click",function(){return a.closeDialog()}),t._uU(14,"Cancel"),t.qZA()()()),2&n&&(t.xp6(8),t.Oqu(a.data.name))},dependencies:[u.lW,c.uh,c.xY,c.H8],styles:[".btn-cancel[_ngcontent-%COMP%]{left:53%;margin-top:-18%}.button-wrapper-delete[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:10px;gap:20px}.card-body[_ngcontent-%COMP%]{margin:0 5%}button[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return e})();var r=i(6223),h=i(6814),f=i(4170),D=i(4516),P=i(6263);const v=["messageForm"];function O(e,s){1&e&&(t.TgZ(0,"mat-error",16),t._uU(1," Title is required "),t.qZA())}function w(e,s){1&e&&(t.TgZ(0,"mat-error",16),t._uU(1," Message text is required "),t.qZA())}function A(e,s){1&e&&(t.TgZ(0,"mat-error",16),t._uU(1," Message text length should not be more than 255 symbols "),t.qZA())}let U=(()=>{class e{constructor(o,n,a){this.dialogRef=o,this.store=n,this.formBuilder=a,this.messageForm=this.formBuilder.group({name:new r.NI("",[r.kI.required]),text:new r.NI("",[r.kI.required,r.kI.maxLength(255)])})}onSubmit(){this.messageForm.valid&&(this.store.dispatch(p.tn({message:this.messageForm.value})),this.closeDialog())}closeDialog(){this.formReference?.resetForm(),this.dialogRef.close()}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c.so),t.Y36(g.yh),t.Y36(r.qu))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dialog-box"]],viewQuery:function(n,a){if(1&n&&t.Gf(v,5),2&n){let l;t.iGM(l=t.CRH())&&(a.formReference=l.first)}},decls:25,vars:5,consts:[[1,"create-message"],["mat-dialog-title",""],[1,"btn-close-wrapper"],["mat-button","",1,"btn","btn-close",3,"click"],["mat-dialog-content","",1,"container"],[1,"card-body"],[1,"form",3,"formGroup","ngSubmit"],["appearance","outline",1,"name","field"],["matInput","","value","","formControlName","name"],["class","text-danger",4,"ngIf"],["appearance","outline",1,"text","field"],["matInput","","cdkTextareaAutosize","","placeholder","Write your message here...","value","","formControlName","text","cdkAutosizeMinRows","7","cdkAutosizeMaxRows","10"],["autosize","cdkTextareaAutosize"],[1,"button-wrapper"],["mat-raised-button","","color","primary","type","submit",1,"btn","btn-submit",3,"disabled"],["mat-raised-button","",1,"btn","btn-cancel",3,"click"],[1,"text-danger"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"h1",1)(2,"strong"),t._uU(3,"New Message"),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return a.closeDialog()}),t._uU(6,"\xd7"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(10,"mat-form-field",7)(11,"mat-label"),t._uU(12,"Title"),t.qZA(),t._UZ(13,"input",8),t.YNc(14,O,2,0,"mat-error",9),t.qZA(),t.TgZ(15,"mat-form-field",10),t._UZ(16,"textarea",11,12),t.YNc(18,w,2,0,"mat-error",9),t.YNc(19,A,2,0,"mat-error",9),t.qZA(),t.TgZ(20,"div",13)(21,"button",14),t._uU(22," Submit "),t.qZA()()(),t.TgZ(23,"button",15),t.NdJ("click",function(){return a.closeDialog()}),t._uU(24," Cancel "),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("formGroup",a.messageForm),t.xp6(5),t.Q6J("ngIf",a.messageForm.controls.name.invalid&&(a.messageForm.controls.name.dirty||a.messageForm.controls.name.touched)),t.xp6(4),t.Q6J("ngIf",a.messageForm.controls.text.value.length<1&&(a.messageForm.controls.text.dirty||a.messageForm.controls.text.touched)),t.xp6(1),t.Q6J("ngIf",a.messageForm.controls.text.value.length>255&&(a.messageForm.controls.text.dirty||a.messageForm.controls.text.touched)),t.xp6(2),t.Q6J("disabled",!a.messageForm.valid))},dependencies:[h.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,u.lW,f.KE,f.hX,f.TO,D.Nt,P.IC,c.uh,c.xY],styles:[".button-wrapper[_ngcontent-%COMP%]{margin-top:38px;gap:20px;display:flex;justify-content:center}.btn-cancel[_ngcontent-%COMP%]{left:53%;margin-top:-18%}.btn-submit[_ngcontent-%COMP%]{margin-right:30%;margin-top:-5%}.btn-close[_ngcontent-%COMP%]{font-size:25px;text-align:center}.btn-close-wrapper[_ngcontent-%COMP%]{position:absolute;right:45px;top:15px;width:30px;height:30px}.card-body[_ngcontent-%COMP%]{margin:0 5%}.name.field[_ngcontent-%COMP%]{margin-bottom:10px}mat-form-field[_ngcontent-%COMP%]{width:400px}.text[_ngcontent-%COMP%]{height:200px}button[_ngcontent-%COMP%]{margin-bottom:10px}.card-body[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}return e})();var N=i(617);function Y(e,s){1&e&&(t.TgZ(0,"th",27),t._uU(1," ID "),t.qZA())}function S(e,s){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.xp6(1),t.hij(" ",o.id," ")}}function B(e,s){1&e&&(t.TgZ(0,"th",29),t._uU(1," Creation Date "),t.qZA())}function F(e,s){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=s.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.date,"medium")," ")}}function k(e,s){1&e&&(t.TgZ(0,"th",30),t._uU(1," Name "),t.qZA())}function J(e,s){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.xp6(1),t.Oqu(o.name)}}function Q(e,s){1&e&&(t.TgZ(0,"th",31),t._uU(1," Message Text "),t.qZA())}function q(e,s){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=s.$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.showMessageText(o.text)," ")}}function z(e,s){1&e&&(t.TgZ(0,"th",33),t._uU(1," Action "),t.qZA())}function I(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"td",34)(1,"div",35)(2,"button",36),t.NdJ("click",function(){const l=t.CHM(o).$implicit,E=t.oxw();return t.KtG(E.openDialog(l))}),t.TgZ(3,"div",5)(4,"mat-icon"),t._uU(5,"delete"),t.qZA()()()()()}}function R(e,s){1&e&&t._UZ(0,"tr",37)}function H(e,s){1&e&&t._UZ(0,"tr",38)}function $(e,s){1&e&&(t.ynx(0,39),t.TgZ(1,"h2"),t._uU(2,"There's no message yet"),t.qZA(),t.BQk())}const W=function(){return[5,10,20,50]};let G=(()=>{class e{constructor(o,n){this.dialog=o,this.store=n,this.displayedColumns=["id","date","name","text","action"],this.dataSource$=this.store.select(T),this.dataSource=new m.by([]),this.maxMessageLength=100,this.dialogDeleteWidth="400px",this.dialogCreateWidth="500px",this.dialogCreateHeight="510px",this.page=0,this.pageSize=5,this.destroy$=new b.x}ngOnInit(){this.store.dispatch(p._U()),this.dataSource$.pipe((0,Z.R)(this.destroy$)).subscribe(o=>{this.dataSource.data=o,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.paginator&&(this.paginator.pageIndex=this.page,this.paginator.pageSize=this.pageSize)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}openDialog(o=null){let n;n=o?this.dialog.open(y,{width:this.dialogDeleteWidth,data:o}):this.dialog.open(U,{width:this.dialogCreateWidth,height:this.dialogCreateHeight})}showMessageText(o){return o.length<=this.maxMessageLength?o:`${o.substring(0,this.maxMessageLength)}...`}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c.uw),t.Y36(g.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-messages-page"]],viewQuery:function(n,a){if(1&n&&(t.Gf(_.NW,5),t.Gf(d.YE,5)),2&n){let l;t.iGM(l=t.CRH())&&(a.paginator=l.first),t.iGM(l=t.CRH())&&(a.sort=l.first)}},decls:34,vars:6,consts:[[1,"title-wrapper"],[1,"title-holder"],[1,"list-title"],["id","wrapper"],["mat--raised-button","","color","primary","mat-flat-button","",1,"go-to-create-page",3,"click"],[1,"mat-icon"],[1,"table-holder"],[1,"container","table"],["matSort","","matSortActive","date","matSortDirection","desc",1,"message-table","mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["class","header id-column","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["class","header date-column","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["class","header name-column","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","text"],["class","header text-column","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-column-cell",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","class","header action-column",4,"matHeaderCellDef"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-message",4,"ngIf"],[3,"pageSizeOptions"],["id","warning-message"],["mat-header-cell","",1,"header","id-column"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"header","date-column"],["mat-header-cell","",1,"header","name-column"],["mat-header-cell","",1,"header","text-column"],["mat-cell","",1,"text-column-cell"],["mat-header-cell","",1,"header","action-column"],["mat-cell","",1,"action-link"],[1,"btn-wrapper"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-message"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Message Box"),t.qZA()()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return a.openDialog()}),t.TgZ(6,"div",5)(7,"mat-icon"),t._uU(8,"send"),t.qZA()()(),t.TgZ(9,"div",6)(10,"div",7)(11,"div")(12,"mat-table",8),t.ynx(13,9),t.YNc(14,Y,2,0,"th",10),t.YNc(15,S,2,1,"td",11),t.BQk(),t.ynx(16,12),t.YNc(17,B,2,0,"th",13),t.YNc(18,F,3,4,"td",11),t.BQk(),t.ynx(19,14),t.YNc(20,k,2,0,"th",15),t.YNc(21,J,2,1,"td",11),t.BQk(),t.ynx(22,16),t.YNc(23,Q,2,0,"th",17),t.YNc(24,q,2,1,"td",18),t.BQk(),t.ynx(25,19),t.YNc(26,z,2,0,"th",20),t.YNc(27,I,6,0,"td",21),t.BQk(),t.YNc(28,R,1,0,"tr",22),t.YNc(29,H,1,0,"tr",23),t.qZA(),t.YNc(30,$,3,0,"ng-container",24),t._UZ(31,"mat-paginator",25),t.qZA()()()(),t.TgZ(32,"div",26),t._uU(33,"This page is only viewable in landscape mode"),t.qZA()),2&n&&(t.xp6(12),t.Q6J("dataSource",a.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===a.dataSource.data.length),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,W)))},dependencies:[h.O5,u.lW,N.Hw,d.YE,d.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,_.NW,h.uU],styles:["#warning-message[_ngcontent-%COMP%]{display:none}@media only screen and (orientation: portrait){#wrapper[_ngcontent-%COMP%]{display:none}#warning-message[_ngcontent-%COMP%]{display:inline-flex;margin:30% 20%;text-align:center}}@media only screen and (orientation: landscape){#warning-message[_ngcontent-%COMP%]{display:none}}.list-title[_ngcontent-%COMP%]{float:left;margin:50px 80px}.table-holder[_ngcontent-%COMP%]{display:table;width:90%;margin:5%}.go-to-create-page[_ngcontent-%COMP%]{float:right;margin:50px 100px}.container[_ngcontent-%COMP%]{margin-bottom:50px}mat-table[_ngcontent-%COMP%]{width:100%;display:table}.header[_ngcontent-%COMP%]{font-size:20px}button[_ngcontent-%COMP%]{margin:5px}td[_ngcontent-%COMP%]{text-align:center;padding:10px}th[_ngcontent-%COMP%]{text-align:center;padding:30px}.text-column-cell[_ngcontent-%COMP%]{max-width:300px;max-height:300px;overflow-wrap:break-word}.id-column[_ngcontent-%COMP%], .date-column[_ngcontent-%COMP%]{width:15%}.name-column[_ngcontent-%COMP%], .text-column[_ngcontent-%COMP%]{width:20%}.action-column[_ngcontent-%COMP%]{width:10%}h2[_ngcontent-%COMP%]{margin:50px 40%}.mat-icon[_ngcontent-%COMP%]{display:flex;flex-wrap:initial}"]})}return e})();const j=[{path:i(5030).w,component:G}];let X=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[C.Bz.forChild(j),C.Bz]})}return e})()}}]);