"use strict";(self.webpackChunkmessage_table_angular=self.webpackChunkmessage_table_angular||[]).push([[179],{4562:(Qe,ue,b)=>{b.d(ue,{$:()=>ys,A:()=>ne,G:()=>Ie,K:()=>br,L:()=>dn,N:()=>Ir,P:()=>Gl,R:()=>Jv,U:()=>Jt,V:()=>Rs,W:()=>_s,X:()=>ji,Y:()=>Uu,Z:()=>io,_:()=>vs,a:()=>ap,a0:()=>zu,a1:()=>ma,a2:()=>ec,a3:()=>tc,a4:()=>zc,a5:()=>Hu,a6:()=>Ol,a7:()=>$u,a8:()=>ic,a9:()=>rc,aA:()=>ae,aB:()=>Te,aC:()=>Oe,aD:()=>gp,aE:()=>_e,aF:()=>un,aG:()=>tl,aH:()=>mc,aI:()=>pc,aJ:()=>Nn,aN:()=>Zc,aQ:()=>Ki,aa:()=>jc,ab:()=>Hc,ac:()=>$c,ad:()=>Wu,ae:()=>hh,af:()=>ka,ag:()=>Ns,ah:()=>R,ak:()=>He,al:()=>en,am:()=>Un,ap:()=>le,aq:()=>Fr,as:()=>Qs,at:()=>oi,au:()=>Qt,av:()=>Rt,aw:()=>je,ax:()=>se,ay:()=>Ch,az:()=>Zl,b:()=>lc,c:()=>jw,d:()=>Ea,e:()=>qu,f:()=>Hw,g:()=>Ca,h:()=>lg,i:()=>fi,j:()=>hg,k:()=>ly,l:()=>ey,m:()=>Zw,p:()=>Z,r:()=>Yu,s:()=>yh,u:()=>up,y:()=>ac});var u=b(5861),A=b(9058),S=b(534),v=b(7879),te=b(7582),fe=b(4537);const Z={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ie=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ne=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new A.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new v.Yd("@firebase/auth");function st(w,...m){ye.logLevel<=v.in.ERROR&&ye.error(`Auth (${S.SDK_VERSION}): ${w}`,...m)}function se(w,...m){throw Ze(w,...m)}function Te(w,...m){return Ze(w,...m)}function Ce(w,m,_){const T=Object.assign(Object.assign({},Ne()),{[m]:_});return new A.LL("auth","Firebase",T).create(m,{appName:w.name})}function qe(w,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&se(w,"argument-error"),Ce(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(w,...m){if("string"!=typeof w){const _=m[0],T=[...m.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(_,...T)}return xe.create(w,...m)}function Oe(w,m,..._){if(!w)throw Ze(m,..._)}function zt(w){const m="INTERNAL ASSERTION FAILED: "+w;throw st(m),new Error(m)}function Qt(w,m){w||zt(m)}function Vt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function cn(){return"http:"===jt()||"https:"===jt()}function jt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class tn{constructor(m,_){this.shortDelay=m,this.longDelay=_,Qt(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,A.uI)()||(0,A.b$)()}get(){return function gn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cn()||(0,A.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bn(w,m){Qt(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Se{static initialize(m,_,T){this.fetchImpl=m,_&&(this.headersImpl=_),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new tn(3e4,6e4);function tt(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function et(w,m,_,T){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,u.Z)(function*(w,m,_,T,K={}){return Dt(w,K,(0,u.Z)(function*(){let de={},vt={};T&&("GET"===m?vt=T:de={body:JSON.stringify(T)});const $t=(0,A.xO)(Object.assign({key:w.config.apiKey},vt)).slice(1),ln=yield w._getAdditionalHeaders();return ln["Content-Type"]="application/json",w.languageCode&&(ln["X-Firebase-Locale"]=w.languageCode),Se.fetch()(it(w,w.config.apiHost,_,$t),Object.assign({method:m,headers:ln,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function Dt(w,m,_){return be.apply(this,arguments)}function be(){return(be=(0,u.Z)(function*(w,m,_){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},Le),m);try{const K=new Nt(w),de=yield Promise.race([_(),K.promise]);K.clearNetworkTimeout();const vt=yield de.json();if("needConfirmation"in vt)throw Kt(w,"account-exists-with-different-credential",vt);if(de.ok&&!("errorMessage"in vt))return vt;{const $t=de.ok?vt.errorMessage:vt.error.message,[ln,jn]=$t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ln)throw Kt(w,"credential-already-in-use",vt);if("EMAIL_EXISTS"===ln)throw Kt(w,"email-already-in-use",vt);if("USER_DISABLED"===ln)throw Kt(w,"user-disabled",vt);const Qn=T[ln]||ln.toLowerCase().replace(/[_\s]+/g,"-");if(jn)throw Ce(w,Qn,jn);se(w,Qn)}}catch(K){if(K instanceof A.ZR)throw K;se(w,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function Be(w,m,_,T){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(w,m,_,T,K={}){const de=yield et(w,m,_,T,K);return"mfaPendingCredential"in de&&se(w,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function it(w,m,_,T){const K=`${m}${_}?${T}`;return w.config.emulator?bn(w.config,K):`${w.config.apiScheme}://${K}`}function _t(w){switch(w){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,T)=>{this.timer=setTimeout(()=>T(Te(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kt(w,m,_){const T={appName:w.name};_.email&&(T.email=_.email),_.phoneNumber&&(T.phoneNumber=_.phoneNumber);const K=Te(w,m,T);return K.customData._tokenResponse=_,K}function yn(w){return void 0!==w&&void 0!==w.getResponse}function Je(w){return void 0!==w&&void 0!==w.enterprise}class Ot{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===m)return _t(_.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function Tn(){return(Tn=(0,u.Z)(function*(w){return(yield et(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hn(w,m){return dt.apply(this,arguments)}function dt(){return(dt=(0,u.Z)(function*(w,m){return et(w,"GET","/v2/recaptchaConfig",tt(w,m))})).apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function V(){return(V=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function re(){return(re=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function ut(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ke(){return(ke=(0,u.Z)(function*(w,m=!1){const _=(0,A.m9)(w),T=yield _.getIdToken(m),K=rt(T);Oe(K&&K.exp&&K.auth_time&&K.iat,_.auth,"internal-error");const de="object"==typeof K.firebase?K.firebase:void 0,vt=de?.sign_in_provider;return{claims:K,token:T,authTime:ut(ht(K.auth_time)),issuedAtTime:ut(ht(K.iat)),expirationTime:ut(ht(K.exp)),signInProvider:vt||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function ht(w){return 1e3*Number(w)}function rt(w){const[m,_,T]=w.split(".");if(void 0===m||void 0===_||void 0===T)return st("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,A.tV)(_);return K?JSON.parse(K):(st("Failed to decode base64 JWT payload"),null)}catch(K){return st("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Lt(w,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(w,m,_=!1){if(_)return m;try{return yield m}catch(T){throw T instanceof A.ZR&&function Pn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}class Wn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const K=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const T=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),T)}iteration(){var m=this;return(0,u.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class Kn{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ut(this.lastLoginAt),this.creationTime=ut(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tt(w){return An.apply(this,arguments)}function An(){return An=(0,u.Z)(function*(w){var m;const _=w.auth,T=yield w.getIdToken(),K=yield Lt(w,function H(w,m){return re.apply(this,arguments)}(_,{idToken:T}));Oe(K?.users.length,_,"internal-error");const de=K.users[0];w._notifyReloadListener(de);const vt=null!==(m=de.providerUserInfo)&&void 0!==m&&m.length?function Ee(w){return w.map(m=>{var{providerId:_}=m,T=(0,te._T)(m,["providerId"]);return{providerId:_,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(de.providerUserInfo):[],$t=function Fe(w,m){return[...w.filter(T=>!m.some(K=>K.providerId===T.providerId)),...m]}(w.providerData,vt),Qn=!!w.isAnonymous&&!(w.email&&de.passwordHash||$t?.length),Ri={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:$t,metadata:new Kn(de.createdAt,de.lastLoginAt),isAnonymous:Qn};Object.assign(w,Ri)}),An.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(w){const m=(0,A.m9)(w);yield Tt(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(w,m){const _=yield Dt(w,{},(0,u.Z)(function*(){const T=(0,A.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:K,apiKey:de}=w.config,vt=it(w,K,"/v1/token",`key=${de}`),$t=yield w._getAdditionalHeaders();return $t["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(vt,{method:"POST",headers:$t,body:T})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function Q(){return(Q=(0,u.Z)(function*(w,m){return et(w,"POST","/v2/accounts:revokeToken",tt(w,m))})).apply(this,arguments)}class F{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Oe(m.idToken,"internal-error"),Oe(typeof m.idToken<"u","internal-error"),Oe(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function qt(w){const m=rt(w);return Oe(m,"internal-error"),Oe(typeof m.exp<"u","internal-error"),Oe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var T=this;return(0,u.Z)(function*(){return Oe(!T.accessToken||T.refreshToken,m,"user-token-expired"),_||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(m,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var T=this;return(0,u.Z)(function*(){const{accessToken:K,refreshToken:de,expiresIn:vt}=yield function We(w,m){return yt.apply(this,arguments)}(m,_);T.updateTokensAndExpiration(K,de,Number(vt))})()}updateTokensAndExpiration(m,_,T){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(m,_){const{refreshToken:T,accessToken:K,expirationTime:de}=_,vt=new F;return T&&(Oe("string"==typeof T,"internal-error",{appName:m}),vt.refreshToken=T),K&&(Oe("string"==typeof K,"internal-error",{appName:m}),vt.accessToken=K),de&&(Oe("number"==typeof de,"internal-error",{appName:m}),vt.expirationTime=de),vt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new F,this.toJSON())}_performRefresh(){return zt("not implemented")}}function M(w,m){Oe("string"==typeof w||typeof w>"u","internal-error",{appName:m})}class x{constructor(m){var{uid:_,auth:T,stsTokenManager:K}=m,de=(0,te._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=T,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new Kn(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,u.Z)(function*(){const T=yield Lt(_,_.stsTokenManager.getToken(_.auth,m));return Oe(T,_.auth,"internal-error"),_.accessToken!==T&&(_.accessToken=T,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),T})()}getIdTokenResult(m){return function pt(w){return ke.apply(this,arguments)}(this,m)}reload(){return function At(w){return nt.apply(this,arguments)}(this)}_assign(m){this!==m&&(Oe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const _=new x(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(m){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var T=this;return(0,u.Z)(function*(){let K=!1;m.idToken&&m.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(m),K=!0),_&&(yield Tt(T)),yield T.auth._persistUserIfCurrent(T),K&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var m=this;return(0,u.Z)(function*(){const _=yield m.getIdToken();return yield Lt(m,function Gt(w,m){return It.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var T,K,de,vt,$t,ln,jn,Qn;const Ri=null!==(T=_.displayName)&&void 0!==T?T:void 0,ws=null!==(K=_.email)&&void 0!==K?K:void 0,vc=null!==(de=_.phoneNumber)&&void 0!==de?de:void 0,bg=null!==(vt=_.photoURL)&&void 0!==vt?vt:void 0,Eg=null!==($t=_.tenantId)&&void 0!==$t?$t:void 0,hy=null!==(ln=_._redirectEventId)&&void 0!==ln?ln:void 0,fy=null!==(jn=_.createdAt)&&void 0!==jn?jn:void 0,py=null!==(Qn=_.lastLoginAt)&&void 0!==Qn?Qn:void 0,{uid:Sh,emailVerified:Jw,isAnonymous:eI,providerData:Rh,stsTokenManager:Bt}=_;Oe(Sh&&Bt,m,"internal-error");const tI=F.fromJSON(this.name,Bt);Oe("string"==typeof Sh,m,"internal-error"),M(Ri,m.name),M(ws,m.name),Oe("boolean"==typeof Jw,m,"internal-error"),Oe("boolean"==typeof eI,m,"internal-error"),M(vc,m.name),M(bg,m.name),M(Eg,m.name),M(hy,m.name),M(fy,m.name),M(py,m.name);const Vs=new x({uid:Sh,auth:m,email:ws,emailVerified:Jw,displayName:Ri,isAnonymous:eI,photoURL:bg,phoneNumber:vc,tenantId:Eg,stsTokenManager:tI,createdAt:fy,lastLoginAt:py});return Rh&&Array.isArray(Rh)&&(Vs.providerData=Rh.map(On=>Object.assign({},On))),hy&&(Vs._redirectEventId=hy),Vs}static _fromIdTokenResponse(m,_,T=!1){return(0,u.Z)(function*(){const K=new F;K.updateFromServerResponse(_);const de=new x({uid:_.localId,auth:m,stsTokenManager:K,isAnonymous:T});return yield Tt(de),de})()}}const W=new Map;function _e(w){Qt(w instanceof Function,"Expected a class definition");let m=W.get(w);return m?(Qt(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,W.set(w,m),m)}const Jt=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,T){var K=this;return(0,u.Z)(function*(){K.storage[_]=T})()}_get(_){var T=this;return(0,u.Z)(function*(){const K=T.storage[_];return void 0===K?null:K})()}_remove(_){var T=this;return(0,u.Z)(function*(){delete T.storage[_]})()}_addListener(_,T){}_removeListener(_,T){}}return w.type="NONE",w})();function un(w,m,_){return`firebase:${w}:${m}:${_}`}class pn{constructor(m,_,T){this.persistence=m,this.auth=_,this.userKey=T;const{config:K,name:de}=this.auth;this.fullUserKey=un(this.userKey,K.apiKey,de),this.fullPersistenceKey=un("persistence",K.apiKey,de),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?x._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,u.Z)(function*(){if(_.persistence===m)return;const T=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,T?_.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,T="authUser"){return(0,u.Z)(function*(){if(!_.length)return new pn(_e(Jt),m,T);const K=(yield Promise.all(_.map(function(){var jn=(0,u.Z)(function*(Qn){if(yield Qn._isAvailable())return Qn});return function(Qn){return jn.apply(this,arguments)}}()))).filter(jn=>jn);let de=K[0]||_e(Jt);const vt=un(T,m.config.apiKey,m.name);let $t=null;for(const jn of _)try{const Qn=yield jn._get(vt);if(Qn){const Ri=x._fromJSON(m,Qn);jn!==de&&($t=Ri),de=jn;break}}catch{}const ln=K.filter(jn=>jn._shouldAllowMigration);return de._shouldAllowMigration&&ln.length?(de=ln[0],$t&&(yield de._set(vt,$t.toJSON())),yield Promise.all(_.map(function(){var jn=(0,u.Z)(function*(Qn){if(Qn!==de)try{yield Qn._remove(vt)}catch{}});return function(Qn){return jn.apply(this,arguments)}}())),new pn(de,m,T)):new pn(de,m,T)})()}}function Cn(w){const m=w.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ct(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Gn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Ue(m))return"Blackberry";if(bt(m))return"Webos";if(ot(m))return"Safari";if((m.includes("chrome/")||Ge(m))&&!m.includes("edge/"))return"Chrome";if(je(m))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function Gn(w=(0,A.z$)()){return/firefox\//i.test(w)}function ot(w=(0,A.z$)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ge(w=(0,A.z$)()){return/crios\//i.test(w)}function ct(w=(0,A.z$)()){return/iemobile/i.test(w)}function je(w=(0,A.z$)()){return/android/i.test(w)}function Ue(w=(0,A.z$)()){return/blackberry/i.test(w)}function bt(w=(0,A.z$)()){return/webos/i.test(w)}function Rt(w=(0,A.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function ae(w=(0,A.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function we(w=(0,A.z$)()){return Rt(w)||je(w)||bt(w)||Ue(w)||/windows phone/i.test(w)||ct(w)}function Ft(w,m=[]){let _;switch(w){case"Browser":_=Cn((0,A.z$)());break;case"Worker":_=`${Cn((0,A.z$)())}-${w}`;break;default:_=w}const T=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${S.SDK_VERSION}/${T}`}class nn{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const T=de=>new Promise((vt,$t)=>{try{vt(m(de))}catch(ln){$t(ln)}});T.onAbort=_,this.queue.push(T);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,u.Z)(function*(){if(_.auth.currentUser===m)return;const T=[];try{for(const K of _.queue)yield K(m),K.onAbort&&T.push(K.onAbort)}catch(K){T.reverse();for(const de of T)try{de()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function Ln(){return(Ln=(0,u.Z)(function*(w,m={}){return et(w,"GET","/v2/passwordPolicy",tt(w,m))})).apply(this,arguments)}class ci{constructor(m){var _,T,K,de;const vt=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=vt.minPasswordLength)&&void 0!==_?_:6,vt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=vt.maxPasswordLength),void 0!==vt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=vt.containsLowercaseCharacter),void 0!==vt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=vt.containsUppercaseCharacter),void 0!==vt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=vt.containsNumericCharacter),void 0!==vt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=vt.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(T=m.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(de=m.forceUpgradeOnSignin)&&void 0!==de&&de,this.schemaVersion=m.schemaVersion}validatePassword(m){var _,T,K,de,vt,$t;const ln={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,ln),this.validatePasswordCharacterOptions(m,ln),ln.isValid&&(ln.isValid=null===(_=ln.meetsMinPasswordLength)||void 0===_||_),ln.isValid&&(ln.isValid=null===(T=ln.meetsMaxPasswordLength)||void 0===T||T),ln.isValid&&(ln.isValid=null===(K=ln.containsLowercaseLetter)||void 0===K||K),ln.isValid&&(ln.isValid=null===(de=ln.containsUppercaseLetter)||void 0===de||de),ln.isValid&&(ln.isValid=null===(vt=ln.containsNumericCharacter)||void 0===vt||vt),ln.isValid&&(ln.isValid=null===($t=ln.containsNonAlphanumericCharacter)||void 0===$t||$t),ln}validatePasswordLengthOptions(m,_){const T=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;T&&(_.meetsMinPasswordLength=m.length>=T),K&&(_.meetsMaxPasswordLength=m.length<=K)}validatePasswordCharacterOptions(m,_){let T;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let K=0;K<m.length;K++)T=m.charAt(K),this.updatePasswordCharacterOptionsStatuses(_,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(m,_,T,K,de){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=de))}}class _i{constructor(m,_,T,K){this.app=m,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=T,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vi(this),this.idTokenSubscription=new vi(this),this.beforeStateQueue=new nn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(m,_){var T=this;return _&&(this._popupRedirectResolver=_e(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var K,de;if(!T._deleted&&(T.persistenceManager=yield pn.create(T,m),!T._deleted)){if(null!==(K=T._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(_),T.lastNotifiedUid=(null===(de=T.currentUser)||void 0===de?void 0:de.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,u.Z)(function*(){var T;const K=yield _.assertedPersistence.getCurrentUser();let de=K,vt=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const $t=null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId,ln=de?._redirectEventId,jn=yield _.tryRedirectSignIn(m);(!$t||$t===ln)&&jn?.user&&(de=jn.user,vt=!0)}if(!de)return _.directlySetCurrentUser(null);if(!de._redirectEventId){if(vt)try{yield _.beforeStateQueue.runMiddleware(de)}catch($t){de=K,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject($t))}return de?_.reloadAndSetCurrentUserOrClear(de):_.directlySetCurrentUser(null)}return Oe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===de._redirectEventId?_.directlySetCurrentUser(de):_.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(m){var _=this;return(0,u.Z)(function*(){let T=null;try{T=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,u.Z)(function*(){try{yield Tt(m)}catch(T){if("auth/network-request-failed"!==T?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function mn(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){const T=m?(0,A.m9)(m):null;return T&&Oe(T.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(T&&T._clone(_))})()}_updateCurrentUser(m,_=!1){var T=this;return(0,u.Z)(function*(){if(!T._deleted)return m&&Oe(T.tenantId===m.tenantId,T,"tenant-id-mismatch"),_||(yield T.beforeStateQueue.runMiddleware(m)),T.queue((0,u.Z)(function*(){yield T.directlySetCurrentUser(m),T.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(_e(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var _=this;return(0,u.Z)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const T=_._getPasswordPolicyInternal();return T.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,u.Z)(function*(){const _=yield function Bn(w){return Ln.apply(this,arguments)}(m),T=new ci(_);null===m.tenantId?m._projectPasswordPolicy=T:m._tenantPasswordPolicies[m.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new A.LL("auth","Firebase",m())}onAuthStateChanged(m,_,T){return this.registerStateListener(this.authStateSubscription,m,_,T)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,T){return this.registerStateListener(this.idTokenSubscription,m,_,T)}authStateReady(){return new Promise((m,_)=>{if(this.currentUser)m();else{const T=this.onAuthStateChanged(()=>{T(),m()},_)}})}revokeAccessToken(m){var _=this;return(0,u.Z)(function*(){if(_.currentUser){const T=yield _.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:T};null!=_.tenantId&&(K.tenantId=_.tenantId),yield function he(w,m){return Q.apply(this,arguments)}(_,K)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var T=this;return(0,u.Z)(function*(){const K=yield T.getOrInitRedirectPersistenceManager(_);return null===m?K.removeCurrentUser():K.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const T=m&&_e(m)||_._popupRedirectResolver;Oe(T,_,"argument-error"),_.redirectPersistenceManager=yield pn.create(_,[_e(T._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,u.Z)(function*(){var T,K;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(T=_._currentUser)||void 0===T?void 0:T._redirectEventId)===m?_._currentUser:(null===(K=_.redirectUser)||void 0===K?void 0:K._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,u.Z)(function*(){if(m===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,T,K){if(this._deleted)return()=>{};const de="function"==typeof _?_:_.next.bind(_);let vt=!1;const $t=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe($t,this,"internal-error"),$t.then(()=>{vt||de(this.currentUser)}),"function"==typeof _){const ln=m.addObserver(_,T,K);return()=>{vt=!0,ln()}}{const ln=m.addObserver(_);return()=>{vt=!0,ln()}}}directlySetCurrentUser(m){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ft(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){var _;const T={"X-Client-Version":m.clientVersion};m.app.options.appId&&(T["X-Firebase-gmpid"]=m.app.options.appId);const K=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();K&&(T["X-Firebase-Client"]=K);const de=yield m._getAppCheckToken();return de&&(T["X-Firebase-AppCheck"]=de),T})()}_getAppCheckToken(){var m=this;return(0,u.Z)(function*(){var _;const T=yield null===(_=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return T?.error&&function lt(w,...m){ye.logLevel<=v.in.WARN&&ye.warn(`Auth (${S.SDK_VERSION}): ${w}`,...m)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function Nn(w){return(0,A.m9)(w)}class vi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,A.ne)(_=>this.observer=_)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ji(w){return new Promise((m,_)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=m,T.onerror=K=>{const de=Te("internal-error");de.customData=K,_(de)},T.type="text/javascript",T.charset="UTF-8",function ur(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(T)})}function Hi(w){return`__${w}${Math.floor(1e6*Math.random())}`}class ar{constructor(m){this.type="recaptcha-enterprise",this.auth=Nn(m)}verify(m="verify",_=!1){var T=this;return(0,u.Z)(function*(){function de(){return de=(0,u.Z)(function*($t){if(!_){if(null==$t.tenantId&&null!=$t._agentRecaptchaConfig)return $t._agentRecaptchaConfig.siteKey;if(null!=$t.tenantId&&void 0!==$t._tenantRecaptchaConfigs[$t.tenantId])return $t._tenantRecaptchaConfigs[$t.tenantId].siteKey}return new Promise(function(){var ln=(0,u.Z)(function*(jn,Qn){Hn($t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ri=>{if(void 0!==Ri.recaptchaKey){const ws=new Ot(Ri);return null==$t.tenantId?$t._agentRecaptchaConfig=ws:$t._tenantRecaptchaConfigs[$t.tenantId]=ws,jn(ws.siteKey)}Qn(new Error("recaptcha Enterprise site key undefined"))}).catch(Ri=>{Qn(Ri)})});return function(jn,Qn){return ln.apply(this,arguments)}}())}),de.apply(this,arguments)}function vt($t,ln,jn){const Qn=window.grecaptcha;Je(Qn)?Qn.enterprise.ready(()=>{Qn.enterprise.execute($t,{action:m}).then(Ri=>{ln(Ri)}).catch(()=>{ln("NO_RECAPTCHA")})}):jn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($t,ln)=>{(function K($t){return de.apply(this,arguments)})(T.auth).then(jn=>{if(!_&&Je(window.grecaptcha))vt(jn,$t,ln);else{if(typeof window>"u")return void ln(new Error("RecaptchaVerifier is only supported in browser"));Ji("https://www.google.com/recaptcha/enterprise.js?render="+jn).then(()=>{vt(jn,$t,ln)}).catch(Qn=>{ln(Qn)})}}).catch(jn=>{ln(jn)})})})()}}function Sa(w,m,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(w,m,_,T=!1){const K=new ar(w);let de;try{de=yield K.verify(_)}catch{de=yield K.verify(_,!0)}const vt=Object.assign({},m);return Object.assign(vt,T?{captchaResp:de}:{captchaResponse:de}),Object.assign(vt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(vt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),vt})).apply(this,arguments)}function Ks(w,m,_,T){return As.apply(this,arguments)}function As(){return As=(0,u.Z)(function*(w,m,_,T){var K;if(null!==(K=w._getRecaptchaConfig())&&void 0!==K&&K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const de=yield Sa(w,m,_,"getOobCode"===_);return T(w,de)}return T(w,m).catch(function(){var de=(0,u.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const $t=yield Sa(w,m,_,"getOobCode"===_);return T(w,$t)}return Promise.reject(vt)});return function(vt){return de.apply(this,arguments)}}())}),As.apply(this,arguments)}function br(w,m,_){const T=Nn(w);Oe(T._canInitEmulator,T,"emulator-config-failed"),Oe(/^https?:\/\//.test(m),T,"invalid-emulator-scheme");const K=!!_?.disableWarnings,de=ze(m),{host:vt,port:$t}=function Yt(w){const m=ze(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!_)return{host:"",port:null};const T=_[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(T);if(K){const de=K[1];return{host:de,port:Et(T.substr(de.length+1))}}{const[de,vt]=T.split(":");return{host:de,port:Et(vt)}}}(m);T.config.emulator={url:`${de}//${vt}${null===$t?"":`:${$t}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:vt,port:$t,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Mt(){function w(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function ze(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function Et(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class dn{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return zt("not implemented")}_getIdTokenResponse(m){return zt("not implemented")}_linkToIdToken(m,_){return zt("not implemented")}_getReauthenticationResolver(m){return zt("not implemented")}}function _n(w,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:resetPassword",tt(w,m))})).apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function mr(w,m){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:update",tt(w,m))})).apply(this,arguments)}function co(w,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(w,m){return Be(w,"POST","/v1/accounts:signInWithPassword",tt(w,m))})).apply(this,arguments)}function ds(w,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:sendOobCode",tt(w,m))})).apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(w,m){return ds(w,m)})).apply(this,arguments)}function ha(w,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(w,m){return ds(w,m)})).apply(this,arguments)}function wn(w,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(w,m){return ds(w,m)})).apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(w,m){return ds(w,m)})).apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(w,m){return Be(w,"POST","/v1/accounts:signInWithEmailLink",tt(w,m))})).apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(w,m){return Be(w,"POST","/v1/accounts:signInWithEmailLink",tt(w,m))})).apply(this,arguments)}class Or extends dn{constructor(m,_,T,K=null){super("password",T),this._email=m,this._password=_,this._tenantId=K}static _fromEmailAndPassword(m,_){return new Or(m,_,"password")}static _fromEmailAndCode(m,_,T=null){return new Or(m,_,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return Ks(m,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",co);case"emailLink":return function Go(w,m){return Gi.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:se(m,"internal-error")}})()}_linkToIdToken(m,_){var T=this;return(0,u.Z)(function*(){switch(T.signInMethod){case"password":return Ks(m,{idToken:_,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mr);case"emailLink":return function Oo(w,m){return Ni.apply(this,arguments)}(m,{idToken:_,email:T._email,oobCode:T._password});default:se(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function wr(w,m){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(w,m){return Be(w,"POST","/v1/accounts:signInWithIdp",tt(w,m))})).apply(this,arguments)}class Ir extends dn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Ir(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):se("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:T,signInMethod:K}=_,de=(0,te._T)(_,["providerId","signInMethod"]);if(!T||!K)return null;const vt=new Ir(T,K);return vt.idToken=de.idToken||void 0,vt.accessToken=de.accessToken||void 0,vt.secret=de.secret,vt.nonce=de.nonce,vt.pendingToken=de.pendingToken||null,vt}_getIdTokenResponse(m){return wr(m,this.buildRequest())}_linkToIdToken(m,_){const T=this.buildRequest();return T.idToken=_,wr(m,T)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,wr(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,A.xO)(_)}return m}}function xi(){return(xi=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:sendVerificationCode",tt(w,m))})).apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(w,m){return Be(w,"POST","/v1/accounts:signInWithPhoneNumber",tt(w,m))})).apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(w,m){const _=yield Be(w,"POST","/v1/accounts:signInWithPhoneNumber",tt(w,m));if(_.temporaryProof)throw Kt(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const vo={USER_NOT_FOUND:"user-not-found"};function Cr(){return(Cr=(0,u.Z)(function*(w,m){return Be(w,"POST","/v1/accounts:signInWithPhoneNumber",tt(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),vo)})).apply(this,arguments)}class kr extends dn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new kr({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new kr({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function fa(w,m){return Yo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function _o(w,m){return Hr.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function qr(w,m){return Cr.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:T,verificationCode:K}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:T,code:K}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:T,phoneNumber:K,temporaryProof:de}=m;return T||_||K||de?new kr({verificationId:_,verificationCode:T,phoneNumber:K,temporaryProof:de}):null}}class Zo{constructor(m){var _,T,K,de,vt,$t;const ln=(0,A.zd)((0,A.pd)(m)),jn=null!==(_=ln.apiKey)&&void 0!==_?_:null,Qn=null!==(T=ln.oobCode)&&void 0!==T?T:null,Ri=function qo(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=ln.mode)&&void 0!==K?K:null);Oe(jn&&Qn&&Ri,"argument-error"),this.apiKey=jn,this.operation=Ri,this.code=Qn,this.continueUrl=null!==(de=ln.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(vt=ln.languageCode)&&void 0!==vt?vt:null,this.tenantId=null!==($t=ln.tenantId)&&void 0!==$t?$t:null}static parseLink(m){const _=function Xn(w){const m=(0,A.zd)((0,A.pd)(w)).link,_=m?(0,A.zd)((0,A.pd)(m)).deep_link_id:null,T=(0,A.zd)((0,A.pd)(w)).deep_link_id;return(T?(0,A.zd)((0,A.pd)(T)).link:null)||T||_||m||w}(m);try{return new Zo(_)}catch{return null}}}let Rs=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,T){return Or._fromEmailAndPassword(_,T)}static credentialWithLink(_,T){const K=Zo.parseLink(T);return Oe(K,"argument-error"),Or._fromEmailAndCode(_,K.code,K.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class rr{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class gs extends rr{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class io extends gs{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return Oe("providerId"in _&&"signInMethod"in _,"argument-error"),Ir._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Oe(m.idToken||m.accessToken,"argument-error"),Ir._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return io.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return io.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:T,oauthTokenSecret:K,pendingToken:de,nonce:vt,providerId:$t}=m;if(!T&&!K&&!_&&!de||!$t)return null;try{return new io($t)._credential({idToken:_,accessToken:T,nonce:vt,pendingToken:de})}catch{return null}}}let _s=(()=>{class w extends gs{constructor(){super("facebook.com")}static credential(_){return Ir._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),ji=(()=>{class w extends gs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,T){return Ir._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:T})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:T,oauthAccessToken:K}=_;if(!T&&!K)return null;try{return w.credential(T,K)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Uu=(()=>{class w extends gs{constructor(){super("github.com")}static credential(_){return Ir._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Ki extends dn{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return wr(m,this.buildRequest())}_linkToIdToken(m,_){const T=this.buildRequest();return T.idToken=_,wr(m,T)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,wr(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:T,signInMethod:K,pendingToken:de}=_;return T&&K&&de&&T===K?new Ki(T,de):null}static _create(m,_){return new Ki(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vs extends rr{constructor(m){Oe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return vs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return vs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Ki.fromJSON(m);return Oe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:T}=m;if(!_||!T)return null;try{return Ki._create(T,_)}catch{return null}}}let ys=(()=>{class w extends gs{constructor(){super("twitter.com")}static credential(_,T){return Ir._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:T})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:T,oauthTokenSecret:K}=_;if(!T||!K)return null;try{return w.credential(T,K)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Nr(w,m){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(w,m){return Be(w,"POST","/v1/accounts:signUp",tt(w,m))})).apply(this,arguments)}class lo{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,T,K=!1){return(0,u.Z)(function*(){const de=yield x._fromIdTokenResponse(m,T,K),vt=Pl(T);return new lo({user:de,providerId:vt,_tokenResponse:T,operationType:_})})()}static _forOperation(m,_,T){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(T,!0);const K=Pl(T);return new lo({user:m,providerId:K,_tokenResponse:T,operationType:_})})()}}function Pl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function zu(w){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(w){var m;const _=Nn(w);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new lo({user:_.currentUser,providerId:null,operationType:"signIn"});const T=yield Nr(_,{returnSecureToken:!0}),K=yield lo._fromIdTokenResponse(_,"signIn",T,!0);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}class $ extends A.ZR{constructor(m,_,T,K){var de;super(_.code,_.message),this.operationType=T,this.user=K,Object.setPrototypeOf(this,$.prototype),this.customData={appName:m.name,tenantId:null!==(de=m.tenantId)&&void 0!==de?de:void 0,_serverResponse:_.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(m,_,T,K){return new $(m,_,T,K)}}function Y(w,m,_,T){return("reauthenticate"===m?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?$._fromErrorAndOperation(w,de,m,T):de})}function L(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function le(w,m){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,u.Z)(function*(w,m){const _=(0,A.m9)(w);yield bo(!0,_,m);const{providerUserInfo:T}=yield function Ke(w,m){return V.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),K=L(T||[]);return _.providerData=_.providerData.filter(de=>K.has(de.providerId)),K.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Ye.apply(this,arguments)}function Sn(w,m){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(w,m,_=!1){const T=yield Lt(w,m._linkToIdToken(w.auth,yield w.getIdToken()),_);return lo._forOperation(w,"link",T)})).apply(this,arguments)}function bo(w,m,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(w,m,_){yield Tt(m);const K=!1===w?"provider-already-linked":"no-such-provider";Oe(L(m.providerData).has(_)===w,m.auth,K)})).apply(this,arguments)}function Ja(w,m){return ju.apply(this,arguments)}function ju(){return(ju=(0,u.Z)(function*(w,m,_=!1){const{auth:T}=w,K="reauthenticate";try{const de=yield Lt(w,Y(T,K,m,w),_);Oe(de.idToken,T,"internal-error");const vt=rt(de.idToken);Oe(vt,T,"internal-error");const{sub:$t}=vt;return Oe(w.uid===$t,T,"user-mismatch"),lo._forOperation(w,K,de)}catch(de){throw"auth/user-not-found"===de?.code&&se(T,"user-mismatch"),de}})).apply(this,arguments)}function dh(w,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(w,m,_=!1){const T="signIn",K=yield Y(w,T,m),de=yield lo._fromIdTokenResponse(w,T,K);return _||(yield w._updateCurrentUser(de.user)),de})).apply(this,arguments)}function ma(w,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(w,m){return dh(Nn(w),m)})).apply(this,arguments)}function ec(w,m){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,u.Z)(function*(w,m){const _=(0,A.m9)(w);return yield bo(!1,_,m.providerId),Sn(_,m)})).apply(this,arguments)}function tc(w,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(w,m){return Ja((0,A.m9)(w),m)})).apply(this,arguments)}function qs(){return(qs=(0,u.Z)(function*(w,m){return Be(w,"POST","/v1/accounts:signInWithCustomToken",tt(w,m))})).apply(this,arguments)}function zc(w,m){return xr.apply(this,arguments)}function xr(){return xr=(0,u.Z)(function*(w,m){const _=Nn(w),T=yield function Zr(w,m){return qs.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),K=yield lo._fromIdTokenResponse(_,"signIn",T);return yield _._updateCurrentUser(K.user),K}),xr.apply(this,arguments)}class Eo{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?gr._fromServerResponse(m,_):"totpInfo"in _?Os._fromServerResponse(m,_):se(m,"internal-error")}}class gr extends Eo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new gr(_)}}class Os extends Eo{constructor(m){super("totp",m)}static _fromServerResponse(m,_){return new Os(_)}}function ga(w,m,_){var T;Oe((null===(T=_.url)||void 0===T?void 0:T.length)>0,w,"invalid-continue-uri"),Oe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Oe(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(Oe(_.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function _a(w){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(w){const m=Nn(w);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function Hu(w,m,_){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,u.Z)(function*(w,m,_){const T=Nn(w),K={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};_&&ga(T,K,_),yield Ks(T,K,"getOobCode",ha)})).apply(this,arguments)}function Ol(w,m,_){return ks.apply(this,arguments)}function ks(){return ks=(0,u.Z)(function*(w,m,_){yield _n((0,A.m9)(w),{oobCode:m,newPassword:_}).catch(function(){var T=(0,u.Z)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&_a(w),K});return function(K){return T.apply(this,arguments)}}())}),ks.apply(this,arguments)}function $u(w,m){return nc.apply(this,arguments)}function nc(){return nc=(0,u.Z)(function*(w,m){yield function Si(w,m){return Ci.apply(this,arguments)}((0,A.m9)(w),{oobCode:m})}),nc.apply(this,arguments)}function ic(w,m){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(w,m){const _=(0,A.m9)(w),T=yield _n(_,{oobCode:m}),K=T.requestType;switch(Oe(K,_,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(T.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(T.mfaInfo,_,"internal-error");default:Oe(T.email,_,"internal-error")}let de=null;return T.mfaInfo&&(de=Eo._fromServerResponse(Nn(_),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:de},operation:K}})).apply(this,arguments)}function rc(w,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(w,m){const{data:_}=yield ic((0,A.m9)(w),m);return _.email})).apply(this,arguments)}function jc(w,m,_){return kl.apply(this,arguments)}function kl(){return(kl=(0,u.Z)(function*(w,m,_){const T=Nn(w),vt=yield Ks(T,{returnSecureToken:!0,email:m,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nr).catch(ln=>{throw"auth/password-does-not-meet-requirements"===ln.code&&_a(w),ln}),$t=yield lo._fromIdTokenResponse(T,"signIn",vt);return yield T._updateCurrentUser($t.user),$t})).apply(this,arguments)}function Hc(w,m,_){return ma((0,A.m9)(w),Rs.credential(m,_)).catch(function(){var T=(0,u.Z)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&_a(w),K});return function(K){return T.apply(this,arguments)}}())}function $c(w,m,_){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(w,m,_){const T=Nn(w),K={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function de(vt,$t){Oe($t.handleCodeInApp,T,"argument-error"),$t&&ga(T,vt,$t)})(K,_),yield Ks(T,K,"getOobCode",wn)})).apply(this,arguments)}function Wu(w,m){const _=Zo.parseLink(m);return"EMAIL_SIGNIN"===_?.operation}function hh(w,m,_){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(w,m,_){const T=(0,A.m9)(w),K=Rs.credentialWithLink(m,_||Vt());return Oe(K._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),ma(T,K)})).apply(this,arguments)}function Nl(){return(Nl=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:createAuthUri",tt(w,m))})).apply(this,arguments)}function ka(w,m){return oc.apply(this,arguments)}function oc(){return oc=(0,u.Z)(function*(w,m){const T={identifier:m,continueUri:cn()?Vt():"http://localhost"},{signinMethods:K}=yield function Gc(w,m){return Nl.apply(this,arguments)}((0,A.m9)(w),T);return K||[]}),oc.apply(this,arguments)}function Ns(w,m){return sc.apply(this,arguments)}function sc(){return sc=(0,u.Z)(function*(w,m){const _=(0,A.m9)(w),K={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&ga(_.auth,K,m);const{email:de}=yield function fs(w,m){return ps.apply(this,arguments)}(_.auth,K);de!==w.email&&(yield w.reload())}),sc.apply(this,arguments)}function R(w,m,_){return J.apply(this,arguments)}function J(){return J=(0,u.Z)(function*(w,m,_){const T=(0,A.m9)(w),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};_&&ga(T.auth,de,_);const{email:vt}=yield function Di(w,m){return Er.apply(this,arguments)}(T.auth,de);vt!==w.email&&(yield w.reload())}),J.apply(this,arguments)}function G(){return(G=(0,u.Z)(function*(w,m){return et(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function He(w,m){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,u.Z)(function*(w,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const T=(0,A.m9)(w),de={idToken:yield T.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},vt=yield Lt(T,function B(w,m){return G.apply(this,arguments)}(T.auth,de));T.displayName=vt.displayName||null,T.photoURL=vt.photoUrl||null;const $t=T.providerData.find(({providerId:ln})=>"password"===ln);$t&&($t.displayName=T.displayName,$t.photoURL=T.photoURL),yield T._updateTokensIfNecessary(vt)}),Pt.apply(this,arguments)}function en(w,m){return $i((0,A.m9)(w),m,null)}function Un(w,m){return $i((0,A.m9)(w),null,m)}function $i(w,m,_){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,u.Z)(function*(w,m,_){const{auth:T}=w,de={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(de.email=m),_&&(de.password=_);const vt=yield Lt(w,function ti(w,m){return Ii.apply(this,arguments)}(T,de));yield w._updateTokensIfNecessary(vt,!0)}),Fi.apply(this,arguments)}class si{constructor(m,_,T={}){this.isNewUser=m,this.providerId=_,this.profile=T}}class Yi extends si{constructor(m,_,T,K){super(m,_,T),this.username=K}}class Li extends si{constructor(m,_){super(m,"facebook.com",_)}}class fr extends Yi{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Xo extends si{constructor(m,_){super(m,"google.com",_)}}class ko extends Yi{constructor(m,_,T){super(m,"twitter.com",_,T)}}function Fr(w){const{user:m,_tokenResponse:_}=w;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ti(w){var m,_;if(!w)return null;const{providerId:T}=w,K=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},de=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!T&&w?.idToken){const vt=null===(_=null===(m=rt(w.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(vt)return new si(de,"anonymous"!==vt&&"custom"!==vt?vt:null)}if(!T)return null;switch(T){case"facebook.com":return new Li(de,K);case"github.com":return new fr(de,K);case"google.com":return new Xo(de,K);case"twitter.com":return new ko(de,K,w.screenName||null);case"custom":case"anonymous":return new si(de,null);default:return new si(de,T,K)}}(_)}function ac(w,m,_,T){return(0,A.m9)(w).onAuthStateChanged(m,_,T)}class cc{constructor(m,_,T){this.type=m,this.credential=_,this.user=T}static _fromIdtoken(m,_){return new cc("enroll",m,_)}static _fromMfaPendingCredential(m){return new cc("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,T;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return cc._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(T=m.multiFactorSession)&&void 0!==T&&T.idToken)return cc._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Vl{constructor(m,_,T){this.session=m,this.hints=_,this.signInResolver=T}static _fromError(m,_){const T=Nn(m),K=_.customData._serverResponse,de=(K.mfaInfo||[]).map($t=>Eo._fromServerResponse(T,$t));Oe(K.mfaPendingCredential,T,"internal-error");const vt=cc._fromMfaPendingCredential(K.mfaPendingCredential);return new Vl(vt,de,function(){var $t=(0,u.Z)(function*(ln){const jn=yield ln._process(T,vt);delete K.mfaInfo,delete K.mfaPendingCredential;const Qn=Object.assign(Object.assign({},K),{idToken:jn.idToken,refreshToken:jn.refreshToken});switch(_.operationType){case"signIn":const Ri=yield lo._fromIdTokenResponse(T,_.operationType,Qn);return yield T._updateCurrentUser(Ri.user),Ri;case"reauthenticate":return Oe(_.user,T,"internal-error"),lo._forOperation(_.user,_.operationType,Qn);default:se(T,"internal-error")}});return function(ln){return $t.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,u.Z)(function*(){return _.signInResolver(m)})()}}function Qs(w,m){var _;const T=(0,A.m9)(w),K=m;return Oe(m.customData.operationType,T,"argument-error"),Oe(null===(_=K.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,T,"argument-error"),Vl._fromError(T,K)}class Kc{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(T=>Eo._fromServerResponse(m.auth,T)))})}static _fromUser(m){return new Kc(m)}getSession(){var m=this;return(0,u.Z)(function*(){return cc._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,_){var T=this;return(0,u.Z)(function*(){const K=m,de=yield T.getSession(),vt=yield Lt(T.user,K._process(T.user.auth,de,_));return yield T.user._updateTokensIfNecessary(vt),T.user.reload()})()}unenroll(m){var _=this;return(0,u.Z)(function*(){const T="string"==typeof m?m:m.uid,K=yield _.user.getIdToken();try{const de=yield Lt(_.user,function Ul(w,m){return et(w,"POST","/v2/accounts/mfaEnrollment:withdraw",tt(w,m))}(_.user.auth,{idToken:K,mfaEnrollmentId:T}));_.enrolledFactors=_.enrolledFactors.filter(({uid:vt})=>vt!==T),yield _.user._updateTokensIfNecessary(de),yield _.user.reload()}catch(de){throw de}})()}}const Yc=new WeakMap;function oi(w){const m=(0,A.m9)(w);return Yc.has(m)||Yc.set(m,Kc._fromUser(m)),Yc.get(m)}const qc="__sak";class tg{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const lc=(()=>{class w extends tg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,T)=>this.onStorageEvent(_,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fh(){const w=(0,A.z$)();return ot(w)||Rt(w)}()&&function Xe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const T of Object.keys(this.listeners)){const K=this.storage.getItem(T),de=this.localCache[T];K!==de&&_(T,de,K)}}onStorageEvent(_,T=!1){if(!_.key)return void this.forAllChangedKeys(($t,ln,jn)=>{this.notifyListeners($t,jn)});const K=_.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $t=this.storage.getItem(K);if(_.newValue!==$t)null!==_.newValue?this.storage.setItem(K,_.newValue):this.storage.removeItem(K);else if(this.localCache[K]===_.newValue&&!T)return}const de=()=>{const $t=this.storage.getItem(K);!T&&this.localCache[K]===$t||this.notifyListeners(K,$t)},vt=this.storage.getItem(K);!function X(){return(0,A.w1)()&&10===document.documentMode}()||vt===_.newValue||_.newValue===_.oldValue?de():setTimeout(de,10)}notifyListeners(_,T){this.localCache[_]=T;const K=this.listeners[_];if(K)for(const de of Array.from(K))de(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,T,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:T,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,T){var K=()=>super._set,de=this;return(0,u.Z)(function*(){yield K().call(de,_,T),de.localCache[_]=JSON.stringify(T)})()}_get(_){var T=()=>super._get,K=this;return(0,u.Z)(function*(){const de=yield T().call(K,_);return K.localCache[_]=JSON.stringify(de),de})()}_remove(_){var T=()=>super._remove,K=this;return(0,u.Z)(function*(){yield T().call(K,_),delete K.localCache[_]})()}}return w.type="LOCAL",w})(),ap=(()=>{class w extends tg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,T){}_removeListener(_,T){}}return w.type="SESSION",w})();let uc=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const T=this.receivers.find(de=>de.isListeningto(_));if(T)return T;const K=new w(_);return this.receivers.push(K),K}isListeningto(_){return this.eventTarget===_}handleEvent(_){var T=this;return(0,u.Z)(function*(){const K=_,{eventId:de,eventType:vt,data:$t}=K.data,ln=T.handlersMap[vt];if(!ln?.size)return;K.ports[0].postMessage({status:"ack",eventId:de,eventType:vt});const jn=Array.from(ln).map(function(){var Ri=(0,u.Z)(function*(ws){return ws(K.origin,$t)});return function(ws){return Ri.apply(this,arguments)}}()),Qn=yield function cp(w){return Promise.all(w.map(function(){var m=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(T){return{fulfilled:!1,reason:T}}});return function(_){return m.apply(this,arguments)}}()))}(jn);K.ports[0].postMessage({status:"done",eventId:de,eventType:vt,response:Qn})})()}_subscribe(_,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(T)}_unsubscribe(_,T){this.handlersMap[_]&&T&&this.handlersMap[_].delete(T),(!T||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Zc(w="",m=10){let _="";for(let T=0;T<m;T++)_+=Math.floor(10*Math.random());return w+_}class rn{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,T=50){var K=this;return(0,u.Z)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let vt,$t;return new Promise((ln,jn)=>{const Qn=Zc("",20);de.port1.start();const Ri=setTimeout(()=>{jn(new Error("unsupported_event"))},T);$t={messageChannel:de,onMessage(ws){const vc=ws;if(vc.data.eventId===Qn)switch(vc.data.status){case"ack":clearTimeout(Ri),vt=setTimeout(()=>{jn(new Error("timeout"))},3e3);break;case"done":clearTimeout(vt),ln(vc.data.response);break;default:clearTimeout(Ri),clearTimeout(vt),jn(new Error("invalid_response"))}}},K.handlers.add($t),de.port1.addEventListener("message",$t.onMessage),K.target.postMessage({eventType:m,eventId:Qn,data:_},[de.port2])}).finally(()=>{$t&&K.removeMessageHandler($t)})})()}}function Jn(){return window}function Qc(){return typeof Jn().WorkerGlobalScope<"u"&&"function"==typeof Jn().importScripts}function zl(){return(zl=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gu="firebaseLocalStorageDb",Ku="firebaseLocalStorage",ng="fbase_key";class Xc{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Xr(w,m){return w.transaction([Ku],m?"readwrite":"readonly").objectStore(Ku)}function k(){const w=indexedDB.open(Gu,1);return new Promise((m,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(Ku,{keyPath:ng})}catch(K){_(K)}}),w.addEventListener("success",(0,u.Z)(function*(){const T=w.result;T.objectStoreNames.contains(Ku)?m(T):(T.close(),yield function D(){const w=indexedDB.deleteDatabase(Gu);return new Xc(w).toPromise()}(),m(yield k()))}))})}function I(w,m,_){return O.apply(this,arguments)}function O(){return(O=(0,u.Z)(function*(w,m,_){const T=Xr(w,!0).put({[ng]:m,value:_});return new Xc(T).toPromise()})).apply(this,arguments)}function ce(){return(ce=(0,u.Z)(function*(w,m){const _=Xr(w,!1).get(m),T=yield new Xc(_).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function $e(w,m){const _=Xr(w,!0).delete(m);return new Xc(_).toPromise()}const fi=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield k()),_.db})()}_withRetries(_){var T=this;return(0,u.Z)(function*(){let K=0;for(;;)try{const de=yield T._openDb();return yield _(de)}catch(de){if(K++>3)throw de;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return Qc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=uc._getInstance(function Es(){return Qc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var T=(0,u.Z)(function*(K,de){return{keyProcessed:(yield _._poll()).includes(de.key)}});return function(K,de){return T.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var T=(0,u.Z)(function*(K,de){return["keyChanged"]});return function(K,de){return T.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var T,K;if(_.activeServiceWorker=yield function $r(){return zl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new rn(_.activeServiceWorker);const de=yield _.sender._send("ping",{},800);de&&null!==(T=de[0])&&void 0!==T&&T.fulfilled&&null!==(K=de[0])&&void 0!==K&&K.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var T=this;return(0,u.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Na(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:_},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield k();return yield I(_,qc,"1"),yield $e(_,qc),!0}catch{}return!1})()}_withPendingWrite(_){var T=this;return(0,u.Z)(function*(){T.pendingWrites++;try{yield _()}finally{T.pendingWrites--}})()}_set(_,T){var K=this;return(0,u.Z)(function*(){return K._withPendingWrite((0,u.Z)(function*(){return yield K._withRetries(de=>I(de,_,T)),K.localCache[_]=T,K.notifyServiceWorker(_)}))})()}_get(_){var T=this;return(0,u.Z)(function*(){const K=yield T._withRetries(de=>function j(w,m){return ce.apply(this,arguments)}(de,_));return T.localCache[_]=K,K})()}_remove(_){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(K=>$e(K,_)),delete T.localCache[_],T.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const T=yield _._withRetries(vt=>{const $t=Xr(vt,!1).getAll();return new Xc($t).toPromise()});if(!T)return[];if(0!==_.pendingWrites)return[];const K=[],de=new Set;for(const{fbase_key:vt,value:$t}of T)de.add(vt),JSON.stringify(_.localCache[vt])!==JSON.stringify($t)&&(_.notifyListeners(vt,$t),K.push(vt));for(const vt of Object.keys(_.localCache))_.localCache[vt]&&!de.has(vt)&&(_.notifyListeners(vt,null),K.push(vt));return K})()}notifyListeners(_,T){this.localCache[_]=T;const K=this.listeners[_];if(K)for(const de of Array.from(K))de(T)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),hc=1e12;class fc{constructor(m){this.auth=m,this.counter=hc,this._widgets=new Map}render(m,_){const T=this.counter;return this._widgets.set(T,new lp(m,this.auth.name,_||{})),this.counter++,T}reset(m){var _;const T=m||hc;null===(_=this._widgets.get(T))||void 0===_||_.delete(),this._widgets.delete(T)}getResponse(m){var _;return(null===(_=this._widgets.get(m||hc))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,u.Z)(function*(){var T;return null===(T=_._widgets.get(m||hc))||void 0===T||T.execute(),""})()}}class lp{constructor(m,_,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof m?document.getElementById(m):m;Oe(K,"argument-error",{appName:_}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ig(w){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<w;T++)m.push(_.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rg=Hi("rcb"),Vw=new tn(3e4,6e4);class jl{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Jn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return Oe(function Tr(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(_),m,"argument-error"),this.shouldResolveImmediately(_)&&yn(Jn().grecaptcha)?Promise.resolve(Jn().grecaptcha):new Promise((T,K)=>{const de=Jn().setTimeout(()=>{K(Te(m,"network-request-failed"))},Vw.get());Jn()[rg]=()=>{Jn().clearTimeout(de),delete Jn()[rg];const $t=Jn().grecaptcha;if(!$t||!yn($t))return void K(Te(m,"internal-error"));const ln=$t.render;$t.render=(jn,Qn)=>{const Ri=ln(jn,Qn);return this.counter++,Ri},this.hostLanguage=_,T($t)},Ji(`https://www.google.com/recaptcha/api.js??${(0,A.xO)({onload:rg,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(de),K(Te(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Jn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xv{load(m){return(0,u.Z)(function*(){return new fc(m)})()}clearedOneInstance(){}}const og="recaptcha",sg={theme:"light",type:"image"};class Jv{constructor(m,_,T=Object.assign({},sg)){this.parameters=T,this.type=og,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nn(m),this.isInvisible="invisible"===this.parameters.size,Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof _?document.getElementById(_):_;Oe(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xv:new jl,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),T=m.getAssertedRecaptcha();return T.getResponse(_)||new Promise(de=>{const vt=$t=>{$t&&(m.tokenChangeListeners.delete(vt),de($t))};m.tokenChangeListeners.add(vt),m.isInvisible&&T.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(T=>T(_)),"function"==typeof m)m(_);else if("string"==typeof m){const T=Jn()[m];"function"==typeof T&&T(_)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const T=document.createElement("div");_.appendChild(T),_=T}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){Oe(cn()&&!Qc(),m.auth,"internal-error"),yield function ag(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Xt(w){return Tn.apply(this,arguments)}(m.auth);Oe(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vh{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=kr._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function yh(w,m,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*(w,m,_){const T=Nn(w),K=yield Wl(T,m,(0,A.m9)(_));return new vh(K,de=>ma(T,de))})).apply(this,arguments)}function ey(w,m,_){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,u.Z)(function*(w,m,_){const T=(0,A.m9)(w);yield bo(!1,T,"phone");const K=yield Wl(T.auth,m,(0,A.m9)(_));return new vh(K,de=>ec(T,de))})).apply(this,arguments)}function Yu(w,m,_){return $l.apply(this,arguments)}function $l(){return($l=(0,u.Z)(function*(w,m,_){const T=(0,A.m9)(w),K=yield Wl(T.auth,m,(0,A.m9)(_));return new vh(K,de=>tc(T,de))})).apply(this,arguments)}function Wl(w,m,_){return bh.apply(this,arguments)}function bh(){return bh=(0,u.Z)(function*(w,m,_){var T;const K=yield _.verify();try{let de;if(Oe("string"==typeof K,w,"argument-error"),Oe(_.type===og,w,"argument-error"),de="string"==typeof m?{phoneNumber:m}:m,"session"in de){const vt=de.session;if("phoneNumber"in de)return Oe("enroll"===vt.type,w,"internal-error"),(yield function Xs(w,m){return et(w,"POST","/v2/accounts/mfaEnrollment:start",tt(w,m))}(w,{idToken:vt.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{Oe("signin"===vt.type,w,"internal-error");const $t=(null===(T=de.multiFactorHint)||void 0===T?void 0:T.uid)||de.multiFactorUid;return Oe($t,w,"missing-multi-factor-info"),(yield function or(w,m){return et(w,"POST","/v2/accounts/mfaSignIn:start",tt(w,m))}(w,{mfaPendingCredential:vt.credential,mfaEnrollmentId:$t,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:vt}=yield function Ko(w,m){return xi.apply(this,arguments)}(w,{phoneNumber:de.phoneNumber,recaptchaToken:K});return vt}}finally{_._reset()}}),bh.apply(this,arguments)}function up(w,m){return dp.apply(this,arguments)}function dp(){return(dp=(0,u.Z)(function*(w,m){yield Sn((0,A.m9)(w),m)})).apply(this,arguments)}let Gl=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=Nn(_)}verifyPhoneNumber(_,T){return Wl(this.auth,_,(0,A.m9)(T))}static credential(_,T){return kr._fromVerification(_,T)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:T,temporaryProof:K}=_;return T&&K?kr._fromTokenResponse(T,K):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function ea(w,m){return m?_e(m):(Oe(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class hp extends dn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return wr(m,this._buildIdpRequest())}_linkToIdToken(m,_){return wr(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return wr(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Bw(w){return dh(w.auth,new hp(w),w.bypassAuthState)}function Eh(w){const{auth:m,user:_}=w;return Oe(_,m,"internal-error"),Ja(_,new hp(w),w.bypassAuthState)}function Uw(w){return yi.apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(w){const{auth:m,user:_}=w;return Oe(_,m,"internal-error"),Sn(_,new hp(w),w.bypassAuthState)})).apply(this,arguments)}class cg{constructor(m,_,T,K,de=!1){this.auth=m,this.resolver=T,this.user=K,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,u.Z)(function*(T,K){m.pendingPromise={resolve:T,reject:K};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(de){m.reject(de)}});return function(T,K){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,u.Z)(function*(){const{urlResponse:T,sessionId:K,postBody:de,tenantId:vt,error:$t,type:ln}=m;if($t)return void _.reject($t);const jn={auth:_.auth,requestUri:T,sessionId:K,tenantId:vt||void 0,postBody:de||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ln)(jn))}catch(Qn){_.reject(Qn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Bw;case"linkViaPopup":case"linkViaRedirect":return Uw;case"reauthViaPopup":case"reauthViaRedirect":return Eh;default:se(this.auth,"internal-error")}}resolve(m){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zw=new tn(2e3,1e4);function jw(w,m,_){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(w,m,_){const T=Nn(w);qe(w,m,rr);const K=ea(T,_);return new Kl(T,"signInViaPopup",m,K).executeNotNull()})).apply(this,arguments)}function qu(w,m,_){return el.apply(this,arguments)}function el(){return(el=(0,u.Z)(function*(w,m,_){const T=(0,A.m9)(w);qe(T.auth,m,rr);const K=ea(T.auth,_);return new Kl(T.auth,"reauthViaPopup",m,K,T).executeNotNull()})).apply(this,arguments)}function Ea(w,m,_){return ta.apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(w,m,_){const T=(0,A.m9)(w);qe(T.auth,m,rr);const K=ea(T.auth,_);return new Kl(T.auth,"linkViaPopup",m,K,T).executeNotNull()})).apply(this,arguments)}let Kl=(()=>{class w extends cg{constructor(_,T,K,de,vt){super(_,T,de,vt),this.provider=K,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const T=yield _.execute();return Oe(T,_.auth,"internal-error"),T})()}onExecution(){var _=this;return(0,u.Z)(function*(){Qt(1===_.filter.length,"Popup operations only handle one event");const T=Zc();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],T),_.authWindow.associatedEvent=T,_.resolver._originValidation(_.auth).catch(K=>{_.reject(K)}),_.resolver._isIframeWebStorageSupported(_.auth,K=>{K||_.reject(Te(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var T,K;this.pollId=null!==(K=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,zw.get())};_()}}return w.currentPopupAction=null,w})();const fp="pendingRedirect",wa=new Map;class Zu extends cg{constructor(m,_,T=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,T),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,u.Z)(function*(){let T=wa.get(_.auth._key());if(!T){try{const de=(yield function ty(w,m){return uo.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;T=()=>Promise.resolve(de)}catch(K){T=()=>Promise.reject(K)}wa.set(_.auth._key(),T)}return _.bypassAuthState||wa.set(_.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,T=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(T,m);if("unknown"!==m.type){if(m.eventId){const K=yield T.auth._redirectUserForId(m.eventId);if(K)return T.user=K,_().call(T,m);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function uo(){return(uo=(0,u.Z)(function*(w,m){const _=Ia(m),T=Qu(w);if(!(yield T._isAvailable()))return!1;const K="true"===(yield T._get(_));return yield T._remove(_),K})).apply(this,arguments)}function wh(w,m){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,u.Z)(function*(w,m){return Qu(w)._set(Ia(m),"true")})).apply(this,arguments)}function pc(){wa.clear()}function mc(w,m){wa.set(w._key(),m)}function Qu(w){return _e(w._redirectPersistence)}function Ia(w){return un(fp,w.config.apiKey,w.name)}function Hw(w,m,_){return function ny(w,m,_){return wo.apply(this,arguments)}(w,m,_)}function wo(){return(wo=(0,u.Z)(function*(w,m,_){const T=Nn(w);qe(w,m,rr),yield T._initializationPromise;const K=ea(T,_);return yield wh(K,T),K._openRedirect(T,m,"signInViaRedirect")})).apply(this,arguments)}function lg(w,m,_){return function ug(w,m,_){return gc.apply(this,arguments)}(w,m,_)}function gc(){return(gc=(0,u.Z)(function*(w,m,_){const T=(0,A.m9)(w);qe(T.auth,m,rr),yield T.auth._initializationPromise;const K=ea(T.auth,_);yield wh(K,T.auth);const de=yield Io(T);return K._openRedirect(T.auth,m,"reauthViaRedirect",de)})).apply(this,arguments)}function Ca(w,m,_){return function xa(w,m,_){return dg.apply(this,arguments)}(w,m,_)}function dg(){return(dg=(0,u.Z)(function*(w,m,_){const T=(0,A.m9)(w);qe(T.auth,m,rr),yield T.auth._initializationPromise;const K=ea(T.auth,_);yield bo(!1,T,m.providerId),yield wh(K,T.auth);const de=yield Io(T);return K._openRedirect(T.auth,m,"linkViaRedirect",de)})).apply(this,arguments)}function hg(w,m){return ql.apply(this,arguments)}function ql(){return(ql=(0,u.Z)(function*(w,m){return yield Nn(w)._initializationPromise,tl(w,m,!1)})).apply(this,arguments)}function tl(w,m){return pp.apply(this,arguments)}function pp(){return(pp=(0,u.Z)(function*(w,m,_=!1){const T=Nn(w),K=ea(T,m),vt=yield new Zu(T,K,_).execute();return vt&&!_&&(delete vt.user._redirectEventId,yield T._persistUserIfCurrent(vt.user),yield T._setRedirectUser(null,m)),vt})).apply(this,arguments)}function Io(w){return mp.apply(this,arguments)}function mp(){return(mp=(0,u.Z)(function*(w){const m=Zc(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class gp{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(m,T)&&(_=!0,this.sendToConsumer(m,T),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function _p(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pg(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var T;if(m.error&&!pg(m)){const K=(null===(T=m.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";_.onError(Te(this.auth,K))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const T=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&T}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iy(m))}saveEventToCache(m){this.cachedEventUids.add(iy(m)),this.lastProcessedEventTime=Date.now()}}function iy(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function pg({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===m?.code}function Zl(w){return nl.apply(this,arguments)}function nl(){return(nl=(0,u.Z)(function*(w,m={}){return et(w,"GET","/v1/projects",m)})).apply(this,arguments)}const Xu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mg=/^https?/;function Wr(){return(Wr=(0,u.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield Zl(w);for(const _ of m)try{if(Ql(_))return}catch{}se(w,"unauthorized-domain")})).apply(this,arguments)}function Ql(w){const m=Vt(),{protocol:_,hostname:T}=new URL(m);if(w.startsWith("chrome-extension://")){const vt=new URL(w);return""===vt.hostname&&""===T?"chrome-extension:"===_&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&vt.hostname===T}if(!mg.test(_))return!1;if(Xu.test(w))return T===w;const K=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(T)}const ry=new tn(3e4,6e4);function oy(){const w=Jn().___jsl;if(w?.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let Ih=null;const gg=new tn(5e3,15e3),TT="__/auth/iframe",_c="emulator/auth/iframe",sy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ay=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oo(w){const m=w.config;Oe(m.authDomain,w,"auth-domain-config-required");const _=m.emulator?bn(m,_c):`https://${w.config.authDomain}/${TT}`,T={apiKey:m.apiKey,appName:w.name,v:S.SDK_VERSION},K=ay.get(w.config.apiHost);K&&(T.eid=K);const de=w._getFrameworks();return de.length&&(T.fw=de.join(",")),`${_}?${(0,A.xO)(T).slice(1)}`}function il(){return il=(0,u.Z)(function*(w){const m=yield function vp(w){return Ih=Ih||function DT(w){return new Promise((m,_)=>{var T,K,de;function vt(){oy(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{oy(),_(Te(w,"network-request-failed"))},timeout:ry.get()})}if(null!==(K=null===(T=Jn().gapi)||void 0===T?void 0:T.iframes)&&void 0!==K&&K.Iframe)m(gapi.iframes.getContext());else{if(null===(de=Jn().gapi)||void 0===de||!de.load){const $t=Hi("iframefcb");return Jn()[$t]=()=>{gapi.load?vt():_(Te(w,"network-request-failed"))},Ji(`https://apis.google.com/js/api.js?onload=${$t}`).catch(ln=>_(ln))}vt()}}).catch(m=>{throw Ih=null,m})}(w),Ih}(w),_=Jn().gapi;return Oe(_,w,"internal-error"),m.open({where:document.body,url:oo(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sy,dontclear:!0},T=>new Promise(function(){var K=(0,u.Z)(function*(de,vt){yield T.restyle({setHideOnLeave:!1});const $t=Te(w,"network-request-failed"),ln=Jn().setTimeout(()=>{vt($t)},gg.get());function jn(){Jn().clearTimeout(ln),de(T)}T.ping(jn).then(jn,()=>{vt($t)})});return function(de,vt){return K.apply(this,arguments)}}()))}),il.apply(this,arguments)}const Ww={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ed{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Kw="__/auth/handler",ST="emulator/auth/handler",Ls=encodeURIComponent("fac");function Ch(w,m,_,T,K,de){return rl.apply(this,arguments)}function rl(){return(rl=(0,u.Z)(function*(w,m,_,T,K,de){Oe(w.config.authDomain,w,"auth-domain-config-required"),Oe(w.config.apiKey,w,"invalid-api-key");const vt={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:T,v:S.SDK_VERSION,eventId:K};if(m instanceof rr){m.setDefaultLanguage(w.languageCode),vt.providerId=m.providerId||"",(0,A.xb)(m.getCustomParameters())||(vt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Qn,Ri]of Object.entries(de||{}))vt[Qn]=Ri}if(m instanceof gs){const Qn=m.getScopes().filter(Ri=>""!==Ri);Qn.length>0&&(vt.scopes=Qn.join(","))}w.tenantId&&(vt.tid=w.tenantId);const $t=vt;for(const Qn of Object.keys($t))void 0===$t[Qn]&&delete $t[Qn];const ln=yield w._getAppCheckToken(),jn=ln?`#${Ls}=${encodeURIComponent(ln)}`:"";return`${function RT({config:w}){return w.emulator?bn(w,ST):`https://${w.authDomain}/${Kw}`}(w)}?${(0,A.xO)($t).slice(1)}${jn}`})).apply(this,arguments)}const bp="webStorageSupport",ly=class Yw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ap,this._completeRedirectFn=tl,this._overrideRedirectResult=mc}_openPopup(m,_,T,K){var de=this;return(0,u.Z)(function*(){var vt;Qt(null===(vt=de.eventManagers[m._key()])||void 0===vt?void 0:vt.manager,"_initialize() not called before _openPopup()");const $t=yield Ch(m,_,T,Vt(),K);return function Gw(w,m,_,T=500,K=600){const de=Math.max((window.screen.availHeight-K)/2,0).toString(),vt=Math.max((window.screen.availWidth-T)/2,0).toString();let $t="";const ln=Object.assign(Object.assign({},Ww),{width:T.toString(),height:K.toString(),top:de,left:vt}),jn=(0,A.z$)().toLowerCase();_&&($t=Ge(jn)?"_blank":_),Gn(jn)&&(m=m||"http://localhost",ln.scrollbars="yes");const Qn=Object.entries(ln).reduce((ws,[vc,bg])=>`${ws}${vc}=${bg},`,"");if(function mt(w=(0,A.z$)()){var m;return Rt(w)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(jn)&&"_self"!==$t)return function AT(w,m){const _=document.createElement("a");_.href=w,_.target=m;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(T)}(m||"",$t),new ed(null);const Ri=window.open(m||"",$t,Qn);Oe(Ri,w,"popup-blocked");try{Ri.focus()}catch{}return new ed(Ri)}(m,$t,Zc())})()}_openRedirect(m,_,T,K){var de=this;return(0,u.Z)(function*(){return yield de._originValidation(m),function gh(w){Jn().location.href=w}(yield Ch(m,_,T,Vt(),K)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:K,promise:de}=this.eventManagers[_];return K?Promise.resolve(K):(Qt(de,"If manager is not set, promise should be"),de)}const T=this.initAndGetManager(m);return this.eventManagers[_]={promise:T},T.catch(()=>{delete this.eventManagers[_]}),T}initAndGetManager(m){var _=this;return(0,u.Z)(function*(){const T=yield function $w(w){return il.apply(this,arguments)}(m),K=new gp(m);return T.register("authEvent",de=>(Oe(de?.authEvent,m,"invalid-auth-event"),{status:K.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:K},_.iframes[m._key()]=T,K})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(bp,{type:bp},K=>{var de;const vt=null===(de=K?.[0])||void 0===de?void 0:de[bp];void 0!==vt&&_(!!vt),se(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function gt(w){return Wr.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return we()||ot()||Rt()}};class qw{constructor(m){this.factorId=m}_process(m,_,T){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,T);case"signin":return this._finalizeSignIn(m,_.credential);default:return zt("unexpected MultiFactorSessionType")}}}class _g extends qw{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new _g(m)}_finalizeEnroll(m,_,T){return function Bl(w,m){return et(w,"POST","/v2/accounts/mfaEnrollment:finalize",tt(w,m))}(m,{idToken:_,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Vi(w,m){return et(w,"POST","/v2/accounts/mfaSignIn:finalize",tt(w,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zw=(()=>{class w{constructor(){}static assertion(_){return _g._fromCredential(_)}}return w.FACTOR_ID="phone",w})();var Ah="@firebase/auth";class Ep{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(T=>{m(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,A.Pz)("authIdTokenMaxAge"),function dy(w){(0,S._registerComponent)(new fe.wA("auth",(m,{options:_})=>{const T=m.getProvider("app").getImmediate(),K=m.getProvider("heartbeat"),de=m.getProvider("app-check-internal"),{apiKey:vt,authDomain:$t}=T.options;Oe(vt&&!vt.includes(":"),"invalid-api-key",{appName:T.name});const ln={apiKey:vt,authDomain:$t,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ft(w)},jn=new _i(T,K,de,ln);return function da(w,m){const _=m?.persistence||[],T=(Array.isArray(_)?_:[_]).map(_e);m?.errorMap&&w._updateErrorMap(m.errorMap),w._initializeWithPersistence(T,m?.popupRedirectResolver)}(jn,_),jn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,T)=>{m.getProvider("auth-internal").initialize()})),(0,S._registerComponent)(new fe.wA("auth-internal",m=>{const _=Nn(m.getProvider("auth").getImmediate());return new Ep(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,S.registerVersion)(Ah,"1.4.0",function Qw(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,S.registerVersion)(Ah,"1.4.0","esm2017")}("Browser")},9058:(Qe,ue,b)=>{b.d(ue,{$s:()=>Fe,BH:()=>Ce,DV:()=>Ot,G6:()=>bn,GJ:()=>yn,L:()=>oe,LL:()=>Ae,P0:()=>st,Pz:()=>Te,Sg:()=>qe,UG:()=>zt,UI:()=>Tn,US:()=>fe,Wl:()=>ve,Yr:()=>tn,ZB:()=>pe,ZR:()=>et,aH:()=>se,b$:()=>cn,cI:()=>Be,dS:()=>Pn,eu:()=>Le,g5:()=>S,gK:()=>rt,gQ:()=>H,h$:()=>Z,hl:()=>Se,hu:()=>A,jU:()=>Qt,m9:()=>yt,ne:()=>re,p$:()=>ne,pd:()=>V,r3:()=>Je,ru:()=>Vt,tV:()=>q,uI:()=>Oe,ug:()=>Wn,vZ:()=>Hn,w1:()=>gn,w9:()=>Kt,xO:()=>It,xb:()=>Xt,z$:()=>Ze,zI:()=>Re,zd:()=>Ke});const u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},A=function(he,Q){if(!he)throw S(Q)},S=function(he){return new Error("Firebase Database ("+u.SDK_VERSION+") INTERNAL ASSERT FAILED: "+he)},v=function(he){const Q=[];let F=0;for(let M=0;M<he.length;M++){let x=he.charCodeAt(M);x<128?Q[F++]=x:x<2048?(Q[F++]=x>>6|192,Q[F++]=63&x|128):55296==(64512&x)&&M+1<he.length&&56320==(64512&he.charCodeAt(M+1))?(x=65536+((1023&x)<<10)+(1023&he.charCodeAt(++M)),Q[F++]=x>>18|240,Q[F++]=x>>12&63|128,Q[F++]=x>>6&63|128,Q[F++]=63&x|128):(Q[F++]=x>>12|224,Q[F++]=x>>6&63|128,Q[F++]=63&x|128)}return Q},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(he,Q){if(!Array.isArray(he))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,M=[];for(let x=0;x<he.length;x+=3){const W=he[x],_e=x+1<he.length,xt=_e?he[x+1]:0,Jt=x+2<he.length,un=Jt?he[x+2]:0;let Gn=(15&xt)<<2|un>>6,ot=63&un;Jt||(ot=64,_e||(Gn=64)),M.push(F[W>>2],F[(3&W)<<4|xt>>4],F[Gn],F[ot])}return M.join("")},encodeString(he,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(he):this.encodeByteArray(v(he),Q)},decodeString(he,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(he):function(he){const Q=[];let F=0,M=0;for(;F<he.length;){const x=he[F++];if(x<128)Q[M++]=String.fromCharCode(x);else if(x>191&&x<224){const W=he[F++];Q[M++]=String.fromCharCode((31&x)<<6|63&W)}else if(x>239&&x<365){const Jt=((7&x)<<18|(63&he[F++])<<12|(63&he[F++])<<6|63&he[F++])-65536;Q[M++]=String.fromCharCode(55296+(Jt>>10)),Q[M++]=String.fromCharCode(56320+(1023&Jt))}else{const W=he[F++],_e=he[F++];Q[M++]=String.fromCharCode((15&x)<<12|(63&W)<<6|63&_e)}}return Q.join("")}(this.decodeStringToByteArray(he,Q))},decodeStringToByteArray(he,Q){this.init_();const F=Q?this.charToByteMapWebSafe_:this.charToByteMap_,M=[];for(let x=0;x<he.length;){const W=F[he.charAt(x++)],xt=x<he.length?F[he.charAt(x)]:0;++x;const un=x<he.length?F[he.charAt(x)]:64;++x;const Cn=x<he.length?F[he.charAt(x)]:64;if(++x,null==W||null==xt||null==un||null==Cn)throw new ge;M.push(W<<2|xt>>4),64!==un&&(M.push(xt<<4&240|un>>2),64!==Cn&&M.push(un<<6&192|Cn))}return M},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let he=0;he<this.ENCODED_VALS.length;he++)this.byteToCharMap_[he]=this.ENCODED_VALS.charAt(he),this.charToByteMap_[this.byteToCharMap_[he]]=he,this.byteToCharMapWebSafe_[he]=this.ENCODED_VALS_WEBSAFE.charAt(he),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[he]]=he,he>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(he)]=he,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(he)]=he)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z=function(he){const Q=v(he);return fe.encodeByteArray(Q,!0)},oe=function(he){return Z(he).replace(/\./g,"")},q=function(he){try{return fe.decodeString(he,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function ne(he){return pe(void 0,he)}function pe(he,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===he&&(he={});break;case Array:he=[];break;default:return Q}for(const F in Q)!Q.hasOwnProperty(F)||!Me(F)||(he[F]=pe(he[F],Q[F]));return he}function Me(he){return"__proto__"!==he}const ye=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const he=process.env.__FIREBASE_DEFAULTS__;return he?JSON.parse(he):void 0})()||(()=>{if(typeof document>"u")return;let he;try{he=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=he&&q(he[1]);return Q&&JSON.parse(Q)})()}catch(he){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${he}`)}},st=he=>{const Q=(he=>{var Q,F;return null===(F=null===(Q=ye())||void 0===Q?void 0:Q.emulatorHosts)||void 0===F?void 0:F[he]})(he);if(!Q)return;const F=Q.lastIndexOf(":");if(F<=0||F+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);const M=parseInt(Q.substring(F+1),10);return"["===Q[0]?[Q.substring(1,F-1),M]:[Q.substring(0,F),M]},se=()=>{var he;return null===(he=ye())||void 0===he?void 0:he.config},Te=he=>{var Q;return null===(Q=ye())||void 0===Q?void 0:Q[`_${he}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,F)=>{this.resolve=Q,this.reject=F})}wrapCallback(Q){return(F,M)=>{F?this.reject(F):this.resolve(M),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(F):Q(F,M))}}}function qe(he,Q){if(he.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const M=Q||"demo-project",x=he.iat||0,W=he.sub||he.user_id;if(!W)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _e=Object.assign({iss:`https://securetoken.google.com/${M}`,aud:M,iat:x,exp:x+3600,auth_time:x,sub:W,user_id:W,firebase:{sign_in_provider:"custom",identities:{}}},he);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(_e)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function zt(){var he;const Q=null===(he=ye())||void 0===he?void 0:he.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qt(){return"object"==typeof self&&self.self===self}function Vt(){const he="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof he&&void 0!==he.id}function cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gn(){const he=Ze();return he.indexOf("MSIE ")>=0||he.indexOf("Trident/")>=0}function tn(){return!0===u.NODE_CLIENT||!0===u.NODE_ADMIN}function bn(){return!zt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Le(){return new Promise((he,Q)=>{try{let F=!0;const M="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(M);x.onsuccess=()=>{x.result.close(),F||self.indexedDB.deleteDatabase(M),he(!0)},x.onupgradeneeded=()=>{F=!1},x.onerror=()=>{var W;Q((null===(W=x.error)||void 0===W?void 0:W.message)||"")}}catch(F){Q(F)}})}function Re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class et extends Error{constructor(Q,F,M){super(F),this.code=Q,this.customData=M,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ae.prototype.create)}}class Ae{constructor(Q,F,M){this.service=Q,this.serviceName=F,this.errors=M}create(Q,...F){const M=F[0]||{},x=`${this.service}/${Q}`,W=this.errors[Q],_e=W?function Dt(he,Q){return he.replace(be,(F,M)=>{const x=Q[M];return null!=x?String(x):`<${M}?>`})}(W,M):"Error";return new et(x,`${this.serviceName}: ${_e} (${x}).`,M)}}const be=/\{\$([^}]+)}/g;function Be(he){return JSON.parse(he)}function ve(he){return JSON.stringify(he)}const it=function(he){let Q={},F={},M={},x="";try{const W=he.split(".");Q=Be(q(W[0])||""),F=Be(q(W[1])||""),x=W[2],M=F.d||{},delete F.d}catch{}return{header:Q,claims:F,data:M,signature:x}},Kt=function(he){const F=it(he).claims;return!!F&&"object"==typeof F&&F.hasOwnProperty("iat")},yn=function(he){const Q=it(he).claims;return"object"==typeof Q&&!0===Q.admin};function Je(he,Q){return Object.prototype.hasOwnProperty.call(he,Q)}function Ot(he,Q){if(Object.prototype.hasOwnProperty.call(he,Q))return he[Q]}function Xt(he){for(const Q in he)if(Object.prototype.hasOwnProperty.call(he,Q))return!1;return!0}function Tn(he,Q,F){const M={};for(const x in he)Object.prototype.hasOwnProperty.call(he,x)&&(M[x]=Q.call(F,he[x],x,he));return M}function Hn(he,Q){if(he===Q)return!0;const F=Object.keys(he),M=Object.keys(Q);for(const x of F){if(!M.includes(x))return!1;const W=he[x],_e=Q[x];if(dt(W)&&dt(_e)){if(!Hn(W,_e))return!1}else if(W!==_e)return!1}for(const x of M)if(!F.includes(x))return!1;return!0}function dt(he){return null!==he&&"object"==typeof he}function It(he){const Q=[];for(const[F,M]of Object.entries(he))Array.isArray(M)?M.forEach(x=>{Q.push(encodeURIComponent(F)+"="+encodeURIComponent(x))}):Q.push(encodeURIComponent(F)+"="+encodeURIComponent(M));return Q.length?"&"+Q.join("&"):""}function Ke(he){const Q={};return he.replace(/^\?/,"").split("&").forEach(M=>{if(M){const[x,W]=M.split("=");Q[decodeURIComponent(x)]=decodeURIComponent(W)}}),Q}function V(he){const Q=he.indexOf("?");if(!Q)return"";const F=he.indexOf("#",Q);return he.substring(Q,F>0?F:void 0)}class H{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Q=1;Q<this.blockSize;++Q)this.pad_[Q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Q,F){F||(F=0);const M=this.W_;if("string"==typeof Q)for(let Cn=0;Cn<16;Cn++)M[Cn]=Q.charCodeAt(F)<<24|Q.charCodeAt(F+1)<<16|Q.charCodeAt(F+2)<<8|Q.charCodeAt(F+3),F+=4;else for(let Cn=0;Cn<16;Cn++)M[Cn]=Q[F]<<24|Q[F+1]<<16|Q[F+2]<<8|Q[F+3],F+=4;for(let Cn=16;Cn<80;Cn++){const Gn=M[Cn-3]^M[Cn-8]^M[Cn-14]^M[Cn-16];M[Cn]=4294967295&(Gn<<1|Gn>>>31)}let un,pn,x=this.chain_[0],W=this.chain_[1],_e=this.chain_[2],xt=this.chain_[3],Jt=this.chain_[4];for(let Cn=0;Cn<80;Cn++){Cn<40?Cn<20?(un=xt^W&(_e^xt),pn=1518500249):(un=W^_e^xt,pn=1859775393):Cn<60?(un=W&_e|xt&(W|_e),pn=2400959708):(un=W^_e^xt,pn=3395469782);const Gn=(x<<5|x>>>27)+un+Jt+pn+M[Cn]&4294967295;Jt=xt,xt=_e,_e=4294967295&(W<<30|W>>>2),W=x,x=Gn}this.chain_[0]=this.chain_[0]+x&4294967295,this.chain_[1]=this.chain_[1]+W&4294967295,this.chain_[2]=this.chain_[2]+_e&4294967295,this.chain_[3]=this.chain_[3]+xt&4294967295,this.chain_[4]=this.chain_[4]+Jt&4294967295}update(Q,F){if(null==Q)return;void 0===F&&(F=Q.length);const M=F-this.blockSize;let x=0;const W=this.buf_;let _e=this.inbuf_;for(;x<F;){if(0===_e)for(;x<=M;)this.compress_(Q,x),x+=this.blockSize;if("string"==typeof Q){for(;x<F;)if(W[_e]=Q.charCodeAt(x),++_e,++x,_e===this.blockSize){this.compress_(W),_e=0;break}}else for(;x<F;)if(W[_e]=Q[x],++_e,++x,_e===this.blockSize){this.compress_(W),_e=0;break}}this.inbuf_=_e,this.total_+=F}digest(){const Q=[];let F=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let x=this.blockSize-1;x>=56;x--)this.buf_[x]=255&F,F/=256;this.compress_(this.buf_);let M=0;for(let x=0;x<5;x++)for(let W=24;W>=0;W-=8)Q[M]=this.chain_[x]>>W&255,++M;return Q}}function re(he,Q){const F=new ut(he,Q);return F.subscribe.bind(F)}class ut{constructor(Q,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{Q(this)}).catch(M=>{this.error(M)})}next(Q){this.forEachObserver(F=>{F.next(Q)})}error(Q){this.forEachObserver(F=>{F.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,F,M){let x;if(void 0===Q&&void 0===F&&void 0===M)throw new Error("Missing Observer.");x=function pt(he,Q){if("object"!=typeof he||null===he)return!1;for(const F of Q)if(F in he&&"function"==typeof he[F])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:F,complete:M},void 0===x.next&&(x.next=ke),void 0===x.error&&(x.error=ke),void 0===x.complete&&(x.complete=ke);const W=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch{}}),this.observers.push(x),W}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,Q)}sendOne(Q,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{F(this.observers[Q])}catch(M){typeof console<"u"&&console.error&&console.error(M)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ke(){}function rt(he,Q){return`${he} failed: ${Q} argument `}const Pn=function(he){const Q=[];let F=0;for(let M=0;M<he.length;M++){let x=he.charCodeAt(M);if(x>=55296&&x<=56319){const W=x-55296;M++,A(M<he.length,"Surrogate pair missing trail surrogate."),x=65536+(W<<10)+(he.charCodeAt(M)-56320)}x<128?Q[F++]=x:x<2048?(Q[F++]=x>>6|192,Q[F++]=63&x|128):x<65536?(Q[F++]=x>>12|224,Q[F++]=x>>6&63|128,Q[F++]=63&x|128):(Q[F++]=x>>18|240,Q[F++]=x>>12&63|128,Q[F++]=x>>6&63|128,Q[F++]=63&x|128)}return Q},Wn=function(he){let Q=0;for(let F=0;F<he.length;F++){const M=he.charCodeAt(F);M<128?Q++:M<2048?Q+=2:M>=55296&&M<=56319?(Q+=4,F++):Q+=3}return Q},Tt=1e3,An=2,At=144e5,nt=.5;function Fe(he,Q=Tt,F=An){const M=Q*Math.pow(F,he),x=Math.round(nt*M*(Math.random()-.5)*2);return Math.min(At,M+x)}function yt(he){return he&&he._delegate?he._delegate:he}},5030:(Qe,ue,b)=>{b.d(ue,{$:()=>u,w:()=>A});const u="home",A="messages"},3338:(Qe,ue,b)=>{b.d(ue,{$Z:()=>Z,_U:()=>A,cc:()=>q,iL:()=>oe,kb:()=>ge,o2:()=>fe,tn:()=>te,wf:()=>S,xh:()=>v});var u=b(4221);const A=(0,u.PH)("[Messages] Get Messages"),S=(0,u.PH)("[Messages] Messages Loaded",(0,u.Ky)()),v=(0,u.PH)("[Messages] Messages Not Loaded",(0,u.Ky)()),te=(0,u.PH)("[Messages] Proceed Creation",(0,u.Ky)()),fe=(0,u.PH)("[Message] Create Loaded",(0,u.Ky)()),ge=(0,u.PH)("[Message] Create Not Loaded",(0,u.Ky)()),Z=(0,u.PH)("[Message] Proceed Delete",(0,u.Ky)()),oe=(0,u.PH)("[Message] Delete Loaded",(0,u.Ky)()),q=(0,u.PH)("[Message] Delete Not Loaded",(0,u.Ky)())},5356:(Qe,ue,b)=>{var u=b(6593),A=b(4190),S=b(5030),v=b(5879);let te=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=v.Xpm({type:n,selectors:[["app-home"]],decls:4,vars:0,consts:[[1,"container"],[1,"home-welcome"],["src","https://i.natgeofe.com/n/548467d8-c5f1-4551-9f58-6817a8d2c45e/NationalGeographic_2572187_square.jpg","alt","Clock",1,"img-welcome"]],template:function(i,o){1&i&&(v.TgZ(0,"div",0)(1,"h1",1),v._uU(2,"Welcome to my favorite Message App!"),v.qZA(),v._UZ(3,"img",2),v.qZA())},styles:[".container[_ngcontent-%COMP%]{display:block}.home-welcome[_ngcontent-%COMP%]{text-align:center;margin:5%}.img-welcome[_ngcontent-%COMP%]{margin:0 40%;object-fit:contain;width:-webkit-fill-available}"]})}return n})();const fe=[{path:"",redirectTo:S.$,pathMatch:"full"},{path:S.$,component:te},{path:"",loadChildren:()=>b.e(335).then(b.bind(b,7335)).then(n=>n.LazyLoadingModule)}];let ge=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({imports:[A.Bz.forRoot(fe),A.Bz]})}return n})();var Z=b(2296),oe=b(617),q=b(4300),ne=b(2495),pe=b(6028),Me=b(8645),Ie=b(3019),Ne=b(7394),xe=b(2096),me=b(6410),ye=b(7921),lt=b(4664),st=b(8180),se=b(9773),Te=b(2181),Ce=b(6321),qe=b(5211),Ze=b(9360),Oe=b(8251),zt=b(2420);function Qt(){return(0,Ze.e)((n,e)=>{n.subscribe((0,Oe.x)(e,zt.Z))})}var Vt=b(975),cn=b(1631),jt=b(4829);function gn(n,e){return e?t=>(0,qe.z)(e.pipe((0,st.q)(1),Qt()),t.pipe(gn(n))):(0,cn.z)((t,i)=>(0,jt.Xf)(n(t,i)).pipe((0,st.q)(1),(0,Vt.h)(t)))}var mn=b(9080);function tn(n,e=Ce.z){const t=(0,mn.H)(n,e);return gn(()=>t)}var bn=b(3680),Se=b(6814),Le=b(8484),Re=b(6825),tt=b(9388),et=b(3651),Ae=b(2831),Dt=b(5407);const be=["mat-menu-item",""];function Be(n,e){1&n&&(v.O4$(),v.TgZ(0,"svg",3),v._UZ(1,"polygon",4),v.qZA())}const ve=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],it=["mat-icon, [matMenuItemIcon]","*"];function _t(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div",0),v.NdJ("keydown",function(o){v.CHM(t);const c=v.oxw();return v.KtG(c._handleKeydown(o))})("click",function(){v.CHM(t);const o=v.oxw();return v.KtG(o.closed.emit("click"))})("@transformMenu.start",function(o){v.CHM(t);const c=v.oxw();return v.KtG(c._onAnimationStart(o))})("@transformMenu.done",function(o){v.CHM(t);const c=v.oxw();return v.KtG(c._onAnimationDone(o))}),v.TgZ(1,"div",1),v.Hsn(2),v.qZA()()}if(2&n){const t=v.oxw();v.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),v.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Nt=["*"],Kt=new v.OlP("MAT_MENU_PANEL"),yn=(0,bn.Kr)((0,bn.Id)(class{}));let Je=(()=>{class n extends yn{constructor(t,i,o,c,l){super(),this._elementRef=t,this._document=i,this._focusMonitor=o,this._parentMenu=c,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new Me.x,this._focused=new Me.x,this._highlighted=!1,this._triggersSubmenu=!1,c?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<i.length;o++)i[o].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(v.Y36(v.SBq),v.Y36(Se.K0),v.Y36(q.tE),v.Y36(Kt,8),v.Y36(v.sBO))};static#t=this.\u0275cmp=v.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,o){1&i&&v.NdJ("click",function(l){return o._checkDisabled(l)})("mouseenter",function(){return o._handleMouseEnter()}),2&i&&(v.uIk("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),v.ekj("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[v.qOj],attrs:be,ngContentSelectors:it,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,o){1&i&&(v.F$t(ve),v.Hsn(0),v.TgZ(1,"span",0),v.Hsn(2,1),v.qZA(),v._UZ(3,"div",1),v.YNc(4,Be,2,0,"svg",2)),2&i&&(v.xp6(3),v.Q6J("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),v.xp6(1),v.Q6J("ngIf",o._triggersSubmenu))},dependencies:[Se.O5,bn.wG],encapsulation:2,changeDetection:0})}return n})();const Hn=new v.OlP("MatMenuContent"),It={transformMenu:(0,Re.X$)("transformMenu",[(0,Re.SB)("void",(0,Re.oB)({opacity:0,transform:"scale(0.8)"})),(0,Re.eR)("void => enter",(0,Re.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Re.oB)({opacity:1,transform:"scale(1)"}))),(0,Re.eR)("* => void",(0,Re.jt)("100ms 25ms linear",(0,Re.oB)({opacity:0})))]),fadeInItems:(0,Re.X$)("fadeInItems",[(0,Re.SB)("showing",(0,Re.oB)({opacity:1})),(0,Re.eR)("void => *",[(0,Re.oB)({opacity:0}),(0,Re.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let H=0;const re=new v.OlP("mat-menu-default-options",{providedIn:"root",factory:function ut(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ve=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=(0,ne.Ig)(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=(0,ne.Ig)(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,o,c){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=c,this._directDescendantItems=new v.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new Me.x,this.closed=new v.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+H++,this.overlayPanelClass=o.overlayPanelClass||"",this._xPosition=o.xPosition,this._yPosition=o.yPosition,this.backdropClass=o.backdropClass,this._overlapTrigger=o.overlapTrigger,this._hasBackdrop=o.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new q.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,ye.O)(this._directDescendantItems),(0,lt.w)(t=>(0,Ie.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const o=t.toArray(),c=Math.max(0,Math.min(o.length-1,i.activeItemIndex||0));o[c]&&!o[c].disabled?i.setActiveItem(c):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,ye.O)(this._directDescendantItems),(0,lt.w)(i=>(0,Ie.T)(...i.map(o=>o._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,o=this._keyManager;switch(i){case pe.hY:(0,pe.Vb)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case pe.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case pe.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(i===pe.LH||i===pe.JH)&&o.setFocusOrigin("keyboard"),void o.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,st.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const o=this._keyManager;o.setFocusOrigin(t).setFirstItemActive(),!o.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),o=`${this._elevationPrefix}${i}`,c=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!c||c===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(t=this.xPosition,i=this.yPosition){const o=this._classList;o["mat-menu-before"]="before"===t,o["mat-menu-after"]="after"===t,o["mat-menu-above"]="above"===i,o["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,ye.O)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(re),v.Y36(v.sBO))};static#t=this.\u0275dir=v.lG2({type:n,contentQueries:function(i,o,c){if(1&i&&(v.Suo(c,Hn,5),v.Suo(c,Je,5),v.Suo(c,Je,4)),2&i){let l;v.iGM(l=v.CRH())&&(o.lazyContent=l.first),v.iGM(l=v.CRH())&&(o._allItems=l),v.iGM(l=v.CRH())&&(o.items=l)}},viewQuery:function(i,o){if(1&i&&v.Gf(v.Rgc,5),2&i){let c;v.iGM(c=v.CRH())&&(o.templateRef=c.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),pt=(()=>{class n extends Ve{constructor(t,i,o,c){super(t,i,o,c),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(re),v.Y36(v.sBO))};static#t=this.\u0275cmp=v.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,o){2&i&&v.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[v._Bn([{provide:Kt,useExisting:n}]),v.qOj],ngContentSelectors:Nt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,o){1&i&&(v.F$t(),v.YNc(0,_t,3,6,"ng-template"))},dependencies:[Se.mk],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[It.transformMenu,It.fadeInItems]},changeDetection:0})}return n})();const ke=new v.OlP("mat-menu-scroll-strategy"),rt={provide:ke,deps:[et.aV],useFactory:function ht(n){return()=>n.scrollStrategies.reposition()}},qt=(0,Ae.i$)({passive:!0});let hn=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,o,c,l,f,g,E,N){this._overlay=t,this._element=i,this._viewContainerRef=o,this._menuItemInstance=f,this._dir=g,this._focusMonitor=E,this._ngZone=N,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ne.w0.EMPTY,this._hoverSubscription=Ne.w0.EMPTY,this._menuCloseSubscription=Ne.w0.EMPTY,this._changeDetectorRef=(0,v.f3M)(v.sBO),this._handleTouchStart=U=>{(0,q.yG)(U)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new v.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new v.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=l instanceof Ve?l:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,qt)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,qt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),o=i.getConfig(),c=o.positionStrategy;this._setPosition(t,c),o.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Ve&&(t._startAnimation(),t._directDescendantItems.changes.pipe((0,se.R)(t.close)).subscribe(()=>{c.withLockedPosition(!1).reapplyLastPosition(),c.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Ve?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,Te.h)(o=>"void"===o.toState),(0,st.q)(1),(0,se.R)(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,o=t.parentMenu;for(;o;)i++,o=o.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new et.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(o=>{const c="start"===o.connectionPair.overlayX?"after":"before",l="top"===o.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(c,l)):t.setPositionClasses(c,l)})}_setPosition(t,i){let[o,c]="before"===t.xPosition?["end","start"]:["start","end"],[l,f]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[g,E]=[l,f],[N,U]=[o,c],ee=0;if(this.triggersSubmenu()){if(U=o="before"===t.xPosition?"start":"end",c=N="end"===o?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Pe=this._parentMaterialMenu.items.first;this._parentInnerPadding=Pe?Pe._getHostElement().offsetTop:0}ee="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(g="top"===l?"bottom":"top",E="top"===f?"bottom":"top");i.withPositions([{originX:o,originY:g,overlayX:N,overlayY:l,offsetY:ee},{originX:c,originY:g,overlayX:U,overlayY:l,offsetY:ee},{originX:o,originY:E,overlayX:N,overlayY:f,offsetY:-ee},{originX:c,originY:E,overlayX:U,overlayY:f,offsetY:-ee}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,xe.of)(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Te.h)(l=>l!==this._menuItemInstance),(0,Te.h)(()=>this._menuOpen)):(0,xe.of)();return(0,Ie.T)(t,o,c,i)}_handleMousedown(t){(0,q.X6)(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(i===pe.K5||i===pe.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===pe.SV&&"ltr"===this.dir||i===pe.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Te.h)(t=>t===this._menuItemInstance&&!t.disabled),tn(0,me.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ve&&this.menu._isAnimating?this.menu._animationDone.pipe((0,st.q)(1),tn(0,me.E),(0,se.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Le.UE(t.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(v.Y36(et.aV),v.Y36(v.SBq),v.Y36(v.s_b),v.Y36(ke),v.Y36(Kt,8),v.Y36(Je,10),v.Y36(tt.Is,8),v.Y36(q.tE),v.Y36(v.R0b))};static#t=this.\u0275dir=v.lG2({type:n,hostVars:3,hostBindings:function(i,o){1&i&&v.NdJ("click",function(l){return o._handleClick(l)})("mousedown",function(l){return o._handleMousedown(l)})("keydown",function(l){return o._handleKeydown(l)}),2&i&&v.uIk("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),Pn=(()=>{class n extends hn{static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=v.n5z(n)))(o||n)}}();static#t=this.\u0275dir=v.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[v.qOj]})}return n})(),Wn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({providers:[rt],imports:[Se.ez,bn.si,bn.BQ,et.U8,Dt.ZD,bn.BQ]})}return n})();const Kn=["*",[["mat-toolbar-row"]]],Tt=["*","mat-toolbar-row"],An=(0,bn.pj)(class{constructor(n){this._elementRef=n}});let At=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=v.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),nt=(()=>{class n extends An{constructor(t,i,o){super(t),this._platform=i,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(v.Y36(v.SBq),v.Y36(Ae.t4),v.Y36(Se.K0))};static#t=this.\u0275cmp=v.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,o,c){if(1&i&&v.Suo(c,At,5),2&i){let l;v.iGM(l=v.CRH())&&(o._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,o){2&i&&v.ekj("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",0===o._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[v.qOj],ngContentSelectors:Tt,decls:2,vars:0,template:function(i,o){1&i&&(v.F$t(Kn),v.Hsn(0),v.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),Ee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({imports:[bn.BQ,bn.BQ]})}return n})(),We=(()=>{class n{constructor(t){this.router=t}goToHomePage(){this.router.navigate([S.$])}goToMessagesPage(){this.router.navigate([S.w])}static#e=this.\u0275fac=function(i){return new(i||n)(v.Y36(A.F0))};static#t=this.\u0275cmp=v.Xpm({type:n,selectors:[["app-navbar"]],decls:21,vars:2,consts:[["color","primary"],[1,"fill-remaining-space"],["mat-icon-button","",3,"matMenuTriggerFor","mouseover"],["menuTrigger","matMenuTrigger"],[3,"overlapTrigger"],["menu","matMenu"],[3,"mouseleave"],["mat-menu-item","",3,"click"]],template:function(i,o){if(1&i){const c=v.EpF();v.TgZ(0,"mat-toolbar",0)(1,"span",1)(2,"button",2,3),v.NdJ("mouseover",function(){v.CHM(c);const f=v.MAs(3);return v.KtG(f.openMenu())}),v.TgZ(4,"mat-icon"),v._uU(5,"menu"),v.qZA()(),v.TgZ(6,"mat-menu",4,5)(8,"span",6),v.NdJ("mouseleave",function(){v.CHM(c);const f=v.MAs(3);return v.KtG(f.closeMenu())}),v.TgZ(9,"button",7),v.NdJ("click",function(){return o.goToHomePage()}),v.TgZ(10,"mat-icon"),v._uU(11,"home"),v.qZA(),v.TgZ(12,"span"),v._uU(13,"Home"),v.qZA()(),v.TgZ(14,"button",7),v.NdJ("click",function(){return o.goToMessagesPage()}),v.TgZ(15,"mat-icon"),v._uU(16,"message"),v.qZA(),v.TgZ(17,"span"),v._uU(18,"Messages"),v.qZA()()()()(),v.TgZ(19,"span",1),v._uU(20,"Message App"),v.qZA()()}if(2&i){const c=v.MAs(7);v.xp6(2),v.Q6J("matMenuTriggerFor",c),v.xp6(4),v.Q6J("overlapTrigger",!1)}},dependencies:[Z.RK,oe.Hw,pt,Je,Pn,nt],styles:[".fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}"]})}return n})();var yt=b(5619);let he=(()=>{class n{constructor(){this.apiCount=0,this.isLoadingSubject=new yt.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}showLoader(){0===this.apiCount&&this.isLoadingSubject.next(!0),this.apiCount++}hideLoader(){this.apiCount--,0===this.apiCount&&this.isLoadingSubject.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Q=["determinateSpinner"];function F(n,e){if(1&n&&(v.O4$(),v.TgZ(0,"svg",11),v._UZ(1,"circle",12),v.qZA()),2&n){const t=v.oxw();v.uIk("viewBox",t._viewBox()),v.xp6(1),v.Udp("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),v.uIk("r",t._circleRadius())}}const M=(0,bn.pj)(class{constructor(n){this._elementRef=n}},"primary"),x=new v.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function W(){return{diameter:_e}}}),_e=100;let Jt=(()=>{class n extends M{constructor(t,i,o){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=_e,this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,(0,ne.su)(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=(0,ne.su)(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=(0,ne.su)(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(i){return new(i||n)(v.Y36(v.SBq),v.Y36(v.QbO,8),v.Y36(x))};static#t=this.\u0275cmp=v.Xpm({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,o){if(1&i&&v.Gf(Q,5),2&i){let c;v.iGM(c=v.CRH())&&(o._determinateCircle=c.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(i,o){2&i&&(v.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===o.mode?o.value:null)("mode",o.mode),v.Udp("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),v.ekj("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===o.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[v.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,o){if(1&i&&(v.YNc(0,F,2,8,"ng-template",null,0,v.W1O),v.TgZ(2,"div",1,2),v.O4$(),v.TgZ(4,"svg",3),v._UZ(5,"circle",4),v.qZA()(),v.kcU(),v.TgZ(6,"div",5)(7,"div",6)(8,"div",7),v.GkF(9,8),v.qZA(),v.TgZ(10,"div",9),v.GkF(11,8),v.qZA(),v.TgZ(12,"div",10),v.GkF(13,8),v.qZA()()()),2&i){const c=v.MAs(1);v.xp6(4),v.uIk("viewBox",o._viewBox()),v.xp6(1),v.Udp("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),v.uIk("r",o._circleRadius()),v.xp6(4),v.Q6J("ngTemplateOutlet",c),v.xp6(2),v.Q6J("ngTemplateOutlet",c),v.xp6(2),v.Q6J("ngTemplateOutlet",c)}},dependencies:[Se.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),pn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({imports:[Se.ez,bn.BQ]})}return n})();function Cn(n,e){1&n&&(v.TgZ(0,"div",1),v._UZ(1,"mat-spinner",2),v.qZA()),2&n&&(v.xp6(1),v.Q6J("diameter",50))}let Gn=(()=>{class n{constructor(t){this.loader=t}static#e=this.\u0275fac=function(i){return new(i||n)(v.Y36(he))};static#t=this.\u0275cmp=v.Xpm({type:n,selectors:[["app-spinner"]],decls:2,vars:3,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],["color","primary","mode","indeterminate",3,"diameter"]],template:function(i,o){1&i&&(v.YNc(0,Cn,2,1,"div",0),v.ALo(1,"async")),2&i&&v.Q6J("ngIf",v.lcZ(1,1,o.loader.isLoading$))},dependencies:[Se.O5,Jt,Se.Ov],styles:[".spinner-overlay[_ngcontent-%COMP%]{background-color:#000000b3;position:absolute;top:0;left:0;width:100%;min-height:805px;z-index:9998}mat-spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;z-index:9999}"]})}return n})(),ot=(()=>{class n{constructor(){this.title="message-table-angular"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=v.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(i,o){1&i&&(v.TgZ(0,"router-outlet"),v._UZ(1,"app-spinner")(2,"app-navbar"),v.qZA())},dependencies:[A.lC,We,Gn]})}return n})();function ct(n){return new v.vHH(3e3,!1)}function Et(n){switch(n.length){case 0:return new Re.ZN;case 1:return n[0];default:return new Re.ZE(n)}}function Mt(n,e,t=new Map,i=new Map){const o=[],c=[];let l=-1,f=null;if(e.forEach(g=>{const E=g.get("offset"),N=E==l,U=N&&f||new Map;g.forEach((ee,Pe)=>{let at=Pe,wt=ee;if("offset"!==Pe)switch(at=n.normalizePropertyName(at,o),wt){case Re.k1:wt=t.get(Pe);break;case Re.l3:wt=i.get(Pe);break;default:wt=n.normalizeStyleValue(Pe,at,wt,o)}U.set(at,wt)}),N||c.push(U),f=U,l=E}),o.length)throw function Wo(n){return new v.vHH(3502,!1)}();return c}function dn(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&_n(t,"start",n)));break;case"done":n.onDone(()=>i(t&&_n(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&_n(t,"destroy",n)))}}function _n(n,e,t){const c=ri(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(c._data=l),c}function ri(n,e,t,i,o="",c=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:o,totalTime:c,disabled:!!l}}function ti(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Ii(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const mr=(()=>typeof document>"u"?null:document.documentElement)();function Fn(n){const e=n.parentNode||n.host||null;return e===mr?null:e}let Ci=null,co=!1;function fs(n,e){for(;e;){if(e===n)return!0;e=Fn(e)}return!1}function ps(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let zi=(()=>{class n{validateStyleProperty(t){return function ir(n){Ci||(Ci=function hs(){return typeof document<"u"?document.body:null}()||{},co=!!Ci.style&&"WebkitAppearance"in Ci.style);let e=!0;return Ci.style&&!function Si(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ci.style,!e&&co&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ci.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return fs(t,i)}getParentElement(t){return Fn(t)}query(t,i,o){return ps(t,i,o)}computeStyle(t,i,o){return o||""}animate(t,i,o,c,l,f=[],g){return new Re.ZN(o,c)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac})}return n})(),wn=(()=>{class n{static#e=this.NOOP=new zi}return n})();const ii=1e3,Go="ng-enter",Gi="ng-leave",Oo="ng-trigger",Ni=".ng-trigger",Or="ng-animating",wr=".ng-animating";function $n(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ms(parseFloat(e[1]),e[2])}function ms(n,e){return"s"===e?n*ii:n}function Ir(n,e,t){return n.hasOwnProperty("duration")?n:function Ko(n,e,t){let o,c=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(ct()),{duration:0,delay:0,easing:""};o=ms(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(c=ms(parseFloat(g),f[4]));const E=f[5];E&&(l=E)}else o=n;if(!t){let f=!1,g=e.length;o<0&&(e.push(function je(){return new v.vHH(3100,!1)}()),f=!0),c<0&&(e.push(function Ue(){return new v.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,ct())}return{duration:o,delay:c,easing:l}}(n,e,t)}function xi(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function fa(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Hr(n,e=new Map,t){if(t)for(let[i,o]of t)e.set(i,o);for(let[i,o]of n)e.set(i,o);return e}function vo(n,e,t){e.forEach((i,o)=>{const c=rr(o);t&&!t.has(o)&&t.set(o,n.style[c]),n.style[c]=i})}function qr(n,e){e.forEach((t,i)=>{const o=rr(i);n.style[o]=""})}function Cr(n){return Array.isArray(n)?1==n.length?n[0]:(0,Re.vP)(n):n}const qo=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xn(n){let e=[];if("string"==typeof n){let t;for(;t=qo.exec(n);)e.push(t[1]);qo.lastIndex=0}return e}function Zo(n,e,t){const i=n.toString(),o=i.replace(qo,(c,l)=>{let f=e[l];return null==f&&(t.push(function Rt(n){return new v.vHH(3003,!1)}()),f=""),f.toString()});return o==i?n:o}function yo(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Rs=/-+([a-z0-9])/g;function rr(n){return n.replace(Rs,(...e)=>e[1].toUpperCase())}function ji(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ae(n){return new v.vHH(3004,!1)}()}}function Uu(n,e){return window.getComputedStyle(n)[e]}const bs="*";function lo(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Pl(n,e,t){if(":"==n[0]){const g=function zu(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Ji(n){return new v.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function ur(n){return new v.vHH(3015,!1)}()),e;const o=i[1],c=i[2],l=i[3];e.push(Y(o,l));"<"==c[0]&&!(o==bs&&l==bs)&&e.push(Y(l,o))}(i,t,e)):t.push(n),t}const Ms=new Set(["true","1"]),$=new Set(["false","0"]);function Y(n,e){const t=Ms.has(n)||$.has(n),i=Ms.has(e)||$.has(e);return(o,c)=>{let l=n==bs||n==o,f=e==bs||e==c;return!l&&t&&"boolean"==typeof o&&(l=o?Ms.has(n):$.has(n)),!f&&i&&"boolean"==typeof c&&(f=c?Ms.has(e):$.has(e)),l&&f}}const L=":self",le=new RegExp(`s*${L}s*,?`,"g");function Ye(n,e,t,i){return new li(n).build(e,t,i)}class li{constructor(e){this._driver=e}build(e,t,i){const o=new Ja(t);return this._resetContextStyleTimingState(o),ji(this,Cr(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,o=t.depCount=0;const c=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function X(){return new v.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,E=g.name;E.toString().split(/\s*,\s*/).forEach(N=>{g.name=N,c.push(this.visitState(g,t))}),g.name=E}else if(1==f.type){const g=this.visitTransition(f,t);i+=g.queryCount,o+=g.depCount,l.push(g)}else t.errors.push(function we(){return new v.vHH(3007,!1)}())}),{type:7,name:e.name,states:c,transitions:l,queryCount:i,depCount:o,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(i.containsDynamicStyles){const c=new Set,l=o||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{Xn(g).forEach(E=>{l.hasOwnProperty(E)||c.add(E)})})}),c.size&&(yo(c.values()),t.errors.push(function Xe(n,e){return new v.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ji(this,Cr(e.animation),t);return{type:1,matchers:lo(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ps(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ji(this,i,t)),options:Ps(e.options)}}visitGroup(e,t){const i=t.currentTime;let o=0;const c=e.steps.map(l=>{t.currentTime=i;const f=ji(this,l,t);return o=Math.max(o,t.currentTime),f});return t.currentTime=o,{type:3,steps:c,options:Ps(e.options)}}visitAnimate(e,t){const i=function dh(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ma(Ir(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=ma(0,0,"");return c.dynamic=!0,c.strValue=t,c}const o=Ir(t,e);return ma(o.duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let o,c=e.styles?e.styles:(0,Re.oB)({});if(5==c.type)o=this.visitKeyframes(c,t);else{let l=e.styles,f=!1;if(!l){f=!0;const E={};i.easing&&(E.easing=i.easing),l=(0,Re.oB)(E)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(l,t);g.isEmptyStep=f,o=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of o)"string"==typeof f?f===Re.l3?i.push(f):t.errors.push(new v.vHH(3002,!1)):i.push(fa(f));let c=!1,l=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!c))for(let g of f.values())if(g.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let o=t.currentTime,c=t.currentTime;i&&c>0&&(c-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,g)=>{const E=t.collectedStyles.get(t.currentQuerySelector),N=E.get(g);let U=!0;N&&(c!=o&&c>=N.startTime&&o<=N.endTime&&(t.errors.push(function Bn(n,e,t,i,o){return new v.vHH(3010,!1)}()),U=!1),c=N.startTime),U&&E.set(g,{startTime:c,endTime:o}),t.options&&function kr(n,e,t){const i=e.params||{},o=Xn(n);o.length&&o.forEach(c=>{i.hasOwnProperty(c)||t.push(function bt(n){return new v.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ln(){return new v.vHH(3011,!1)}()),i;let c=0;const l=[];let f=!1,g=!1,E=0;const N=e.steps.map(En=>{const In=this._makeStyleAst(En,t);let vn=null!=In.offset?In.offset:function ju(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(In.styles),zn=0;return null!=vn&&(c++,zn=In.offset=vn),g=g||zn<0||zn>1,f=f||zn<E,E=zn,l.push(zn),In});g&&t.errors.push(function ei(){return new v.vHH(3012,!1)}()),f&&t.errors.push(function ci(){return new v.vHH(3200,!1)}());const U=e.steps.length;let ee=0;c>0&&c<U?t.errors.push(function _i(){return new v.vHH(3202,!1)}()):0==c&&(ee=1/(U-1));const Pe=U-1,at=t.currentTime,wt=t.currentAnimateTimings,Ht=wt.duration;return N.forEach((En,In)=>{const vn=ee>0?In==Pe?1:ee*In:l[In],zn=vn*Ht;t.currentTime=at+wt.delay+zn,wt.duration=zn,this._validateStyleAst(En,t),En.offset=vn,i.styles.push(En)}),i}visitReference(e,t){return{type:8,animation:ji(this,Cr(e.animation),t),options:Ps(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ps(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ps(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[c,l]=function bo(n){const e=!!n.split(/\s*,\s*/).find(t=>t==L);return e&&(n=n.replace(le,"")),n=n.replace(/@\*/g,Ni).replace(/@\w+/g,t=>Ni+"-"+t.slice(1)).replace(/:animating/g,wr),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+c:c,ti(t.collectedStyles,t.currentQuerySelector,new Map);const f=ji(this,Cr(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:c,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Ps(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Nn(){return new v.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ir(e.timings,t.errors,!0);return{type:12,animation:ji(this,Cr(e.animation),t),timings:i,options:null}}}class Ja{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ps(n){return n?(n=xi(n)).params&&(n.params=function pa(n){return n?xi(n):null}(n.params)):n={},n}function ma(n,e,t){return{duration:n,delay:e,easing:t}}function Ra(n,e,t,i,o,c,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:o,delay:c,totalTime:o+c,easing:l,subTimeline:f}}class ec{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Qo=new RegExp(":enter","g"),qs=new RegExp(":leave","g");function zc(n,e,t,i,o,c=new Map,l=new Map,f,g,E=[]){return(new xr).buildKeyframes(n,e,t,i,o,c,l,f,g,E)}class xr{buildKeyframes(e,t,i,o,c,l,f,g,E,N=[]){E=E||new ec;const U=new gr(e,t,E,o,c,N,[]);U.options=g;const ee=g.delay?$n(g.delay):0;U.currentTimeline.delayNextStep(ee),U.currentTimeline.setStyles([l],null,U.errors,g),ji(this,i,U);const Pe=U.timelines.filter(at=>at.containsAnimation());if(Pe.length&&f.size){let at;for(let wt=Pe.length-1;wt>=0;wt--){const Ht=Pe[wt];if(Ht.element===t){at=Ht;break}}at&&!at.allowOnlyTimelineStyles()&&at.setStyles([f],null,U.errors,g)}return Pe.length?Pe.map(at=>at.buildKeyframes()):[Ra(t,[],[],[],0,ee,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const o=t.createSubContext(e.options),c=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,o,o.options);c!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const o of e){const c=o?.delay;if(c){const l="number"==typeof c?c:$n(Zo(c,o?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let c=t.currentTimeline.currentTime;const l=null!=i.duration?$n(i.duration):null,f=null!=i.delay?$n(i.delay):null;return 0!==l&&e.forEach(g=>{const E=t.appendInstructionToTimeline(g,l,f);c=Math.max(c,E.duration+E.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),ji(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let o=t;const c=e.options;if(c&&(c.params||c.delay)&&(o=t.createSubContext(c),o.transformIntoNewTimeline(),null!=c.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Eo);const l=$n(c.delay);o.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>ji(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let o=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?$n(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);c&&f.delayNextStep(c),ji(this,l,f),o=Math.max(o,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Ir(t.params?Zo(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),o.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(i.duration),this.visitStyle(c,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,o=t.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const c=o&&o.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(c):i.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,o=t.currentTimeline.duration,c=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*c),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(o+c),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,o=e.options||{},c=o.delay?$n(o.delay):0;c&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Eo);let l=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((E,N)=>{t.currentQueryIndex=N;const U=t.createSubContext(e.options,E);c&&U.delayNextStep(c),E===t.element&&(g=U.currentTimeline),ji(this,e.animation,U),U.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,U.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,o=t.currentTimeline,c=e.timings,l=Math.abs(c.duration),f=l*(t.currentQueryTotal-1);let g=l*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const N=t.currentTimeline;g&&N.delayNextStep(g);const U=N.currentTime;ji(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=o.currentTime-U+(o.startTime-i.currentTimeline.startTime)}}const Eo={};class gr{constructor(e,t,i,o,c,l,f,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=c,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Eo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Os(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let o=this.options;null!=i.duration&&(o.duration=$n(i.duration)),null!=i.delay&&(o.delay=$n(i.delay));const c=i.params;if(c){let l=o.params;l||(l=this.options.params={}),Object.keys(c).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=Zo(c[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(o=>{i[o]=t[o]})}}return e}createSubContext(e=null,t,i){const o=t||this.element,c=new gr(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=Eo,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},c=new ga(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(c),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,o,c,l){let f=[];if(o&&f.push(this.element),e.length>0){e=(e=e.replace(Qo,"."+this._enterClassName)).replace(qs,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=i);0!==i&&(E=i<0?E.slice(E.length+i,E.length):E.slice(0,i)),f.push(...E)}return!c&&0==f.length&&l.push(function vi(n){return new v.vHH(3014,!1)}()),f}}class Os{constructor(e,t,i,o){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Os(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Re.l3),this._currentKeyframe.set(t,Re.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,o){t&&this._previousKeyframe.set("easing",t);const c=o&&o.params||{},l=function Ma(n,e){const t=new Map;let i;return n.forEach(o=>{if("*"===o){i=i||e.keys();for(let c of i)t.set(c,Re.l3)}else Hr(o,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of l){const E=Zo(g,c,i);this._pendingStyles.set(f,E),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Re.l3),this._updateStyle(f,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const o=this._styleSummary.get(i);(!o||t.time>o.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((f,g)=>{const E=Hr(f,new Map,this._backFill);E.forEach((N,U)=>{N===Re.k1?e.add(U):N===Re.l3&&t.add(U)}),i||E.set("offset",g/this.duration),o.push(E)});const c=e.size?yo(e.values()):[],l=t.size?yo(t.values()):[];if(i){const f=o[0],g=new Map(f);f.set("offset",0),g.set("offset",1),o=[f,g]}return Ra(this.element,o,c,l,this.duration,this.startTime,this.easing,!1)}}class ga extends Os{constructor(e,t,i,o,c,l,f=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=c,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],l=i+t,f=t/l,g=Hr(e[0]);g.set("offset",0),c.push(g);const E=Hr(e[0]);E.set("offset",_a(f)),c.push(E);const N=e.length-1;for(let U=1;U<=N;U++){let ee=Hr(e[U]);const Pe=ee.get("offset");ee.set("offset",_a((t+Pe*i)/l)),c.push(ee)}i=l,t=0,o="",e=c}return Ra(this.element,e,this.preStyleProps,this.postStyleProps,i,t,o,!0)}}function _a(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Pa{}const ks=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $u extends Pa{normalizePropertyName(e,t){return rr(e)}normalizeStyleValue(e,t,i,o){let c="";const l=i.toString().trim();if(ks.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&o.push(function mt(n,e){return new v.vHH(3005,!1)}())}return l+c}}function nc(n,e,t,i,o,c,l,f,g,E,N,U,ee){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:c,toState:i,toStyles:l,timelines:f,queriedElements:g,preStyleProps:E,postStyleProps:N,totalTime:U,errors:ee}}const ic={};class va{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,o){return function Zs(n,e,t,i,o){return n.some(c=>c(e,t,i,o))}(this.ast.matchers,e,t,i,o)}buildStyles(e,t,i){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,i):new Map}build(e,t,i,o,c,l,f,g,E,N){const U=[],ee=this.ast.options&&this.ast.options.params||ic,at=this.buildStyles(i,f&&f.params||ic,U),wt=g&&g.params||ic,Ht=this.buildStyles(o,wt,U),En=new Set,In=new Map,vn=new Map,zn="void"===o,pi={params:jc(wt,ee),delay:this.ast.options?.delay},wi=N?[]:zc(e,t,this.ast.animation,c,l,at,Ht,pi,E,U);let Wi=0;if(wi.forEach(Ml=>{Wi=Math.max(Ml.duration+Ml.delay,Wi)}),U.length)return nc(t,this._triggerName,i,o,zn,at,Ht,[],[],In,vn,Wi,U);wi.forEach(Ml=>{const Lc=Ml.element,wF=ti(In,Lc,new Set);Ml.preStyleProps.forEach(Xm=>wF.add(Xm));const Lw=ti(vn,Lc,new Set);Ml.postStyleProps.forEach(Xm=>Lw.add(Xm)),Lc!==t&&En.add(Lc)});const Po=yo(En.values());return nc(t,this._triggerName,i,o,zn,at,Ht,wi,Po,In,vn,Wi)}}function jc(n,e){const t=xi(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class kl{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,o=xi(this.defaultParams);return Object.keys(e).forEach(c=>{const l=e[c];null!==l&&(o[c]=l)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((l,f)=>{l&&(l=Zo(l,o,t));const g=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,g,l,t),i.set(f,l)})}),i}}class $c{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(o=>{this.states.set(o.name,new kl(o.style,o.options&&o.options.params||{},i))}),Wu(this.states,"true","1"),Wu(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new va(e,o,this.states))}),this.fallbackTransition=function Oa(n,e,t){return new va(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,o){return this.transitionFactories.find(l=>l.match(e,t,i,o))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Wu(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const hh=new ec;class Wc{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],c=Ye(this._driver,t,i,[]);if(i.length)throw function ar(n){return new v.vHH(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,i){const o=e.element,c=Mt(this._normalizer,e.keyframes,t,i);return this._driver.animate(o,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const o=[],c=this._animations.get(e);let l;const f=new Map;if(c?(l=zc(this._driver,t,c,Go,Gi,new Map,new Map,i,hh,o),l.forEach(N=>{const U=ti(f,N.element,new Map);N.postStyleProps.forEach(ee=>U.set(ee,null))})):(o.push(function Sa(){return new v.vHH(3300,!1)}()),l=[]),o.length)throw function Ts(n){return new v.vHH(3504,!1)}();f.forEach((N,U)=>{N.forEach((ee,Pe)=>{N.set(Pe,this._driver.computeStyle(U,Pe,Re.l3))})});const E=Et(l.map(N=>{const U=f.get(N.element);return this._buildPlayer(N,new Map,U)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ks(n){return new v.vHH(3301,!1)}();return t}listen(e,t,i,o){const c=ri(t,"","","");return dn(this._getPlayer(e),i,c,o),()=>{}}command(e,t,i,o){if("register"==i)return void this.register(e,o[0]);if("create"==i)return void this.create(e,t,o[0]||{});const c=this._getPlayer(e);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const Gc="ng-animate-queued",ka="ng-animate-disabled",R=[],J={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},B={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},G="__ng_removed";class He{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function si(n){return n??null}(i?e.value:e),i){const c=xi(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(o=>{null==i[o]&&(i[o]=t[o])})}}}const Pt="void",en=new He(Pt);class Un{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Fr(t,this._hostClassName)}listen(e,t,i,o){if(!this._triggers.has(t))throw function As(n,e){return new v.vHH(3302,!1)}();if(null==i||0==i.length)throw function Ys(n){return new v.vHH(3303,!1)}();if(!function Li(n){return"start"==n||"done"==n}(i))throw function us(n,e){return new v.vHH(3400,!1)}();const c=ti(this._elementListeners,e,[]),l={name:t,phase:i,callback:o};c.push(l);const f=ti(this._engine.statesByElement,e,new Map);return f.has(t)||(Fr(e,Oo),Fr(e,Oo+"-"+t),f.set(t,en)),()=>{this._engine.afterFlush(()=>{const g=c.indexOf(l);g>=0&&c.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ss(n){return new v.vHH(3401,!1)}();return t}trigger(e,t,i,o=!0){const c=this._getTrigger(t),l=new Fi(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Fr(e,Oo),Fr(e,Oo+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const E=new He(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&E.absorbOptions(g.options),f.set(t,E),g||(g=en),E.value!==Pt&&g.value===E.value){if(!function Fl(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++){const c=t[o];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(g.params,E.params)){const wt=[],Ht=c.matchStyles(g.value,g.params,wt),En=c.matchStyles(E.value,E.params,wt);wt.length?this._engine.reportError(wt):this._engine.afterFlush(()=>{qr(e,Ht),vo(e,En)})}return}const ee=ti(this._engine.playersByElement,e,[]);ee.forEach(wt=>{wt.namespaceId==this.id&&wt.triggerName==t&&wt.queued&&wt.destroy()});let Pe=c.matchTransition(g.value,E.value,e,E.params),at=!1;if(!Pe){if(!o)return;Pe=c.fallbackTransition,at=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Pe,fromState:g,toState:E,player:l,isFallbackTransition:at}),at||(Fr(e,Gc),l.onStart(()=>{Lr(e,Gc)})),l.onDone(()=>{let wt=this.players.indexOf(l);wt>=0&&this.players.splice(wt,1);const Ht=this._engine.playersByElement.get(e);if(Ht){let En=Ht.indexOf(l);En>=0&&Ht.splice(En,1)}}),this.players.push(l),ee.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Ni,!0);i.forEach(o=>{if(o[G])return;const c=this._engine.fetchNamespacesByElement(o);c.size?c.forEach(l=>l.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,i,o){const c=this._engine.statesByElement.get(e),l=new Map;if(c){const f=[];if(c.forEach((g,E)=>{if(l.set(E,g.value),this._triggers.has(E)){const N=this.trigger(e,E,Pt,o);N&&f.push(N)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&Et(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const o=new Set;t.forEach(c=>{const l=c.name;if(o.has(l))return;o.add(l);const g=this._triggers.get(l).fallbackTransition,E=i.get(l)||en,N=new He(Pt),U=new Fi(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:g,fromState:E,toState:N,player:U,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(e):[];if(c&&c.length)o=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)i.markElementAsRemoved(this.id,e,!1,t);else{const c=e[G];(!c||c===J)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Fr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const c=i.element,l=this._elementListeners.get(c);l&&l.forEach(f=>{if(f.name==i.triggerName){const g=ri(c,i.triggerName,i.fromState.value,i.toState.value);g._data=e,dn(i.player,f.phase,g,f.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(i)}),this._queue=[],t.sort((i,o)=>{const c=i.transition.ast.depCount,l=o.transition.ast.depCount;return 0==c||0==l?c-l:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class $i{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,c)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Un(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const g=o.get(f);if(g){const E=i.indexOf(g);i.splice(E+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||i.unshift(e)}else i.push(e);return o.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let o=this._namespaceLookup[e];o&&o.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let o of i.values())if(o.namespaceId){const c=this._fetchNamespace(o.namespaceId);c&&t.add(c)}return t}trigger(e,t,i,o){if(Yi(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,i,o),!0}return!1}insertNode(e,t,i,o){if(!Yi(t))return;const c=t[G];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fr(e,ka)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Lr(e,ka))}removeNode(e,t,i){if(Yi(t)){const o=e?this._fetchNamespace(e):null;o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,o,c){this.collectedLeaveElements.push(t),t[G]={namespaceId:e,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,i,o,c){return Yi(t)?this._fetchNamespace(e).listen(t,i,o,c):()=>{}}_buildInstruction(e,t,i,o,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,o,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,Ni,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,wr,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Et(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[G];if(t&&t.setForRemoval){if(e[G]=J,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ka)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Et(t).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(e){throw function da(n){return new v.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new ec,o=[],c=new Map,l=[],f=new Map,g=new Map,E=new Map,N=new Set;this.disabledNodes.forEach(Zn=>{N.add(Zn);const ai=this.driver.query(Zn,".ng-animate-queued",!0);for(let hi=0;hi<ai.length;hi++)N.add(ai[hi])});const U=this.bodyNode,ee=Array.from(this.statesByElement.keys()),Pe=ko(ee,this.collectedEnterElements),at=new Map;let wt=0;Pe.forEach((Zn,ai)=>{const hi=Go+wt++;at.set(ai,hi),Zn.forEach(Xi=>Fr(Xi,hi))});const Ht=[],En=new Set,In=new Set;for(let Zn=0;Zn<this.collectedLeaveElements.length;Zn++){const ai=this.collectedLeaveElements[Zn],hi=ai[G];hi&&hi.setForRemoval&&(Ht.push(ai),En.add(ai),hi.hasAnimation?this.driver.query(ai,".ng-star-inserted",!0).forEach(Xi=>En.add(Xi)):In.add(ai))}const vn=new Map,zn=ko(ee,Array.from(En));zn.forEach((Zn,ai)=>{const hi=Gi+wt++;vn.set(ai,hi),Zn.forEach(Xi=>Fr(Xi,hi))}),e.push(()=>{Pe.forEach((Zn,ai)=>{const hi=at.get(ai);Zn.forEach(Xi=>Lr(Xi,hi))}),zn.forEach((Zn,ai)=>{const hi=vn.get(ai);Zn.forEach(Xi=>Lr(Xi,hi))}),Ht.forEach(Zn=>{this.processLeaveNode(Zn)})});const pi=[],wi=[];for(let Zn=this._namespaceList.length-1;Zn>=0;Zn--)this._namespaceList[Zn].drainQueuedTransitions(t).forEach(hi=>{const Xi=hi.player,ls=hi.element;if(pi.push(Xi),this.collectedEnterElements.length){const Gs=ls[G];if(Gs&&Gs.setForMove){if(Gs.previousTriggersValues&&Gs.previousTriggersValues.has(hi.triggerName)){const Jm=Gs.previousTriggersValues.get(hi.triggerName),Vc=this.statesByElement.get(hi.element);if(Vc&&Vc.has(hi.triggerName)){const xT=Vc.get(hi.triggerName);xT.value=Jm,Vc.set(hi.triggerName,xT)}}return void Xi.destroy()}}const Bu=!U||!this.driver.containsElement(U,ls),Xa=vn.get(ls),np=at.get(ls),no=this._buildInstruction(hi,i,np,Xa,Bu);if(no.errors&&no.errors.length)return void wi.push(no);if(Bu)return Xi.onStart(()=>qr(ls,no.fromStyles)),Xi.onDestroy(()=>vo(ls,no.toStyles)),void o.push(Xi);if(hi.isFallbackTransition)return Xi.onStart(()=>qr(ls,no.fromStyles)),Xi.onDestroy(()=>vo(ls,no.toStyles)),void o.push(Xi);const xF=[];no.timelines.forEach(Gs=>{Gs.stretchStartingKeyframe=!0,this.disabledNodes.has(Gs.element)||xF.push(Gs)}),no.timelines=xF,i.append(ls,no.timelines),l.push({instruction:no,player:Xi,element:ls}),no.queriedElements.forEach(Gs=>ti(f,Gs,[]).push(Xi)),no.preStyleProps.forEach((Gs,Jm)=>{if(Gs.size){let Vc=g.get(Jm);Vc||g.set(Jm,Vc=new Set),Gs.forEach((xT,XP)=>Vc.add(XP))}}),no.postStyleProps.forEach((Gs,Jm)=>{let Vc=E.get(Jm);Vc||E.set(Jm,Vc=new Set),Gs.forEach((xT,XP)=>Vc.add(XP))})});if(wi.length){const Zn=[];wi.forEach(ai=>{Zn.push(function ze(n,e){return new v.vHH(3505,!1)}())}),pi.forEach(ai=>ai.destroy()),this.reportError(Zn)}const Wi=new Map,Po=new Map;l.forEach(Zn=>{const ai=Zn.element;i.has(ai)&&(Po.set(ai,ai),this._beforeAnimationBuild(Zn.player.namespaceId,Zn.instruction,Wi))}),o.forEach(Zn=>{const ai=Zn.element;this._getPreviousPlayers(ai,!1,Zn.namespaceId,Zn.triggerName,null).forEach(Xi=>{ti(Wi,ai,[]).push(Xi),Xi.destroy()})});const Ml=Ht.filter(Zn=>qi(Zn,g,E)),Lc=new Map;Xo(Lc,this.driver,In,E,Re.l3).forEach(Zn=>{qi(Zn,g,E)&&Ml.push(Zn)});const Lw=new Map;Pe.forEach((Zn,ai)=>{Xo(Lw,this.driver,new Set(Zn),g,Re.k1)}),Ml.forEach(Zn=>{const ai=Lc.get(Zn),hi=Lw.get(Zn);Lc.set(Zn,new Map([...ai?.entries()??[],...hi?.entries()??[]]))});const Xm=[],IF=[],CF={};l.forEach(Zn=>{const{element:ai,player:hi,instruction:Xi}=Zn;if(i.has(ai)){if(N.has(ai))return hi.onDestroy(()=>vo(ai,Xi.toStyles)),hi.disabled=!0,hi.overrideTotalTime(Xi.totalTime),void o.push(hi);let ls=CF;if(Po.size>1){let Xa=ai;const np=[];for(;Xa=Xa.parentNode;){const no=Po.get(Xa);if(no){ls=no;break}np.push(Xa)}np.forEach(no=>Po.set(no,ls))}const Bu=this._buildAnimation(hi.namespaceId,Xi,Wi,c,Lw,Lc);if(hi.setRealPlayer(Bu),ls===CF)Xm.push(hi);else{const Xa=this.playersByElement.get(ls);Xa&&Xa.length&&(hi.parentPlayer=Et(Xa)),o.push(hi)}}else qr(ai,Xi.fromStyles),hi.onDestroy(()=>vo(ai,Xi.toStyles)),IF.push(hi),N.has(ai)&&o.push(hi)}),IF.forEach(Zn=>{const ai=c.get(Zn.element);if(ai&&ai.length){const hi=Et(ai);Zn.setRealPlayer(hi)}}),o.forEach(Zn=>{Zn.parentPlayer?Zn.syncPlayerEvents(Zn.parentPlayer):Zn.destroy()});for(let Zn=0;Zn<Ht.length;Zn++){const ai=Ht[Zn],hi=ai[G];if(Lr(ai,Gi),hi&&hi.hasAnimation)continue;let Xi=[];if(f.size){let Bu=f.get(ai);Bu&&Bu.length&&Xi.push(...Bu);let Xa=this.driver.query(ai,wr,!0);for(let np=0;np<Xa.length;np++){let no=f.get(Xa[np]);no&&no.length&&Xi.push(...no)}}const ls=Xi.filter(Bu=>!Bu.destroyed);ls.length?Dr(this,ai,ls):this.processLeaveNode(ai)}return Ht.length=0,Xm.forEach(Zn=>{this.players.push(Zn),Zn.onDone(()=>{Zn.destroy();const ai=this.players.indexOf(Zn);this.players.splice(ai,1)}),Zn.play()}),Xm}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,o,c){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const g=!c||c==Pt;f.forEach(E=>{E.queued||!g&&E.triggerName!=o||l.push(E)})}}return(i||o)&&(l=l.filter(f=>!(i&&i!=f.namespaceId||o&&o!=f.triggerName))),l}_beforeAnimationBuild(e,t,i){const c=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const E=g.element,N=E!==c,U=ti(i,E,[]);this._getPreviousPlayers(E,N,l,f,t.toState).forEach(Pe=>{const at=Pe.getRealPlayer();at.beforeDestroy&&at.beforeDestroy(),Pe.destroy(),U.push(Pe)})}qr(c,t.fromStyles)}_buildAnimation(e,t,i,o,c,l){const f=t.triggerName,g=t.element,E=[],N=new Set,U=new Set,ee=t.timelines.map(at=>{const wt=at.element;N.add(wt);const Ht=wt[G];if(Ht&&Ht.removedBeforeQueried)return new Re.ZN(at.duration,at.delay);const En=wt!==g,In=function Qr(n){const e=[];return No(n,e),e}((i.get(wt)||R).map(Wi=>Wi.getRealPlayer())).filter(Wi=>!!Wi.element&&Wi.element===wt),vn=c.get(wt),zn=l.get(wt),pi=Mt(this._normalizer,at.keyframes,vn,zn),wi=this._buildPlayer(at,pi,In);if(at.subTimeline&&o&&U.add(wt),En){const Wi=new Fi(e,f,wt);Wi.setRealPlayer(wi),E.push(Wi)}return wi});E.forEach(at=>{ti(this.playersByQueriedElement,at.element,[]).push(at),at.onDone(()=>function Ti(n,e,t){let i=n.get(e);if(i){if(i.length){const o=i.indexOf(t);i.splice(o,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,at.element,at))}),N.forEach(at=>Fr(at,Or));const Pe=Et(ee);return Pe.onDestroy(()=>{N.forEach(at=>Lr(at,Or)),vo(g,t.toStyles)}),U.forEach(at=>{ti(o,at,[]).push(Pe)}),Pe}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Re.ZN(e.duration,e.delay)}}class Fi{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Re.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(o=>dn(e,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ti(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Yi(n){return n&&1===n.nodeType}function fr(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Xo(n,e,t,i,o){const c=[];t.forEach(g=>c.push(fr(g)));const l=[];i.forEach((g,E)=>{const N=new Map;g.forEach(U=>{const ee=e.computeStyle(E,U,o);N.set(U,ee),(!ee||0==ee.length)&&(E[G]=B,l.push(E))}),n.set(E,N)});let f=0;return t.forEach(g=>fr(g,c[f++])),l}function ko(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const o=new Set(e),c=new Map;function l(f){if(!f)return 1;let g=c.get(f);if(g)return g;const E=f.parentNode;return g=t.has(E)?E:o.has(E)?1:l(E),c.set(f,g),g}return e.forEach(f=>{const g=l(f);1!==g&&t.get(g).push(f)}),t}function Fr(n,e){n.classList?.add(e)}function Lr(n,e){n.classList?.remove(e)}function Dr(n,e,t){Et(t).onDone(()=>n.processLeaveNode(e))}function No(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Re.ZE?No(i.players,e):e.push(i)}}function qi(n,e,t){const i=t.get(n);if(!i)return!1;let o=e.get(n);return o?i.forEach(c=>o.add(c)):e.set(n,i),t.delete(n),!0}class ac{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,c)=>{},this._transitionEngine=new $i(e,t,i),this._timelineEngine=new Wc(e,t,i),this._transitionEngine.onRemovalComplete=(o,c)=>this.onRemovalComplete(o,c)}registerTrigger(e,t,i,o,c){const l=e+"-"+o;let f=this._triggerCache[l];if(!f){const g=[],N=Ye(this._driver,c,g,[]);if(g.length)throw function go(n,e){return new v.vHH(3404,!1)}();f=function Hc(n,e,t){return new $c(n,e,t)}(o,N,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,o,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,o){this._transitionEngine.insertNode(e,t,i,o)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,o){if("@"==i.charAt(0)){const[c,l]=Ii(i);this._timelineEngine.command(c,t,l,o)}else this._transitionEngine.trigger(e,t,i,o)}listen(e,t,i,o,c){if("@"==i.charAt(0)){const[l,f]=Ii(i);return this._timelineEngine.listen(l,t,f,c)}return this._transitionEngine.listen(e,t,i,o,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Jo=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,o){this._element=t,this._startStyles=i,this._endStyles=o,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&vo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vo(this._element,this._initialStyles),this._endStyles&&(vo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qr(this._element,this._endStyles),this._endStyles=null),vo(this._element,this._initialStyles),this._state=3)}}return n})();function ip(n){let e=null;return n.forEach((t,i)=>{(function rp(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class ya{constructor(e,t,i,o){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&e.set(o,this._finished?i:Uu(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ro{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return fs(e,t)}getParentElement(e){return Fn(e)}query(e,t,i){return ps(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,o,c,l=[]){const g={duration:i,delay:o,fill:0==o?"both":"forwards"};c&&(g.easing=c);const E=new Map,N=l.filter(Pe=>Pe instanceof ya);(function io(n,e){return 0===n||0===e})(i,o)&&N.forEach(Pe=>{Pe.currentSnapshot.forEach((at,wt)=>E.set(wt,at))});let U=function Yo(n){return n.length?n[0]instanceof Map?n:n.map(e=>fa(e)):[]}(t).map(Pe=>Hr(Pe));U=function _s(n,e,t){if(t.size&&e.length){let i=e[0],o=[];if(t.forEach((c,l)=>{i.has(l)||o.push(l),i.set(l,c)}),o.length)for(let c=1;c<e.length;c++){let l=e[c];o.forEach(f=>l.set(f,Uu(n,f)))}}return e}(e,U,E);const ee=function Ll(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ip(e[0]),e.length>1&&(i=ip(e[e.length-1]))):e instanceof Map&&(t=ip(e)),t||i?new Jo(n,t,i):null}(e,U);return new ya(e,U,g,ee)}}let cc=(()=>{class n extends Re._j{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?(0,Re.vP)(t):t;return Xs(this._renderer,null,i,"register",[o]),new Vl(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(v.LFG(v.FYo),v.LFG(Se.K0))};static#t=this.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac})}return n})();class Vl extends Re.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Qs(this._id,e,t||{},this._renderer)}}class Qs{constructor(e,t,i,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Xs(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Xs(n,e,t,i,o){return n.setProperty(e,`@@${t}:${i}`,o)}const eg="@.disabled";let op=(()=>{class n{constructor(t,i,o){this.delegate=t,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(c,l)=>{const f=l?.parentNode(c);f&&l.removeChild(f,c)}}createRenderer(t,i){const c=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let N=this._rendererCache.get(c);return N||(N=new Ul("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,N)),N}const l=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=N=>{Array.isArray(N)?N.forEach(g):this.engine.registerTrigger(l,f,t,N.name,N)};return i.data.animation.forEach(g),new Kc(this,f,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,o){t>=0&&t<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[l,f]=c;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(v.LFG(v.FYo),v.LFG(ac),v.LFG(v.R0b))};static#t=this.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac})}return n})();class Ul{constructor(e,t,i,o){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,o=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,o){this.delegate.setAttribute(e,t,i,o)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,o){this.delegate.setStyle(e,t,i,o)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==eg?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Kc extends Ul{constructor(e,t,i,o,c){super(t,i,o,c),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==eg?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const o=function Yc(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.slice(1),l="";return"@"!=c.charAt(0)&&([c,l]=function oi(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,o,c,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let qc=(()=>{class n extends ac{constructor(t,i,o,c){super(t.body,i,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(v.LFG(Se.K0),v.LFG(wn),v.LFG(Pa),v.LFG(v.z2F))};static#t=this.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac})}return n})();const ph=[{provide:Re._j,useClass:cc},{provide:Pa,useFactory:function tg(){return new $u}},{provide:ac,useClass:qc},{provide:v.FYo,useFactory:function fh(n,e,t){return new op(n,e,t)},deps:[u.se,ac,v.R0b]}],mh=[{provide:wn,useFactory:()=>new ro},{provide:v.QbO,useValue:"BrowserAnimations"},...ph],sp=[{provide:wn,useClass:zi},{provide:v.QbO,useValue:"NoopAnimations"},...ph];let lc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?sp:mh}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({providers:mh,imports:[u.b2]})}return n})();var uc=b(6223),Zc=b(4516);b(8337);const Es=new v.OlP("mat-radio-default-options",{providedIn:"root",factory:function Gu(){return{color:"accent"}}});let k=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({imports:[bn.BQ,Se.ez,bn.si,bn.BQ]})}return n})();var I=b(2939),O=b(4170),j=b(7700);let og=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({imports:[bn.BQ,Se.ez,bn.BQ]})}return n})();var sg=b(3566),Jv=b(5313),ag=b(8525),vh=b(3365);let Eh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({})}return n})(),Uw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({imports:[bn.BQ,bn.si,Eh,bn.BQ,Eh]})}return n})();var yi=b(534);(0,yi.registerVersion)("firebase","10.6.0","app");var jw=b(2381),ts=b(5592),qu=b(9397),el=b(5137),Ea=b(3093);const ta=new v.GfV("ANGULARFIRE2_VERSION");function fp(n,e,t){if(e){if(1===e.length)return e[0];const c=e.filter(l=>l.app===t);if(1===c.length)return c[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const wa=(n,e)=>{const t=e?[e]:(0,yi.getApps)(),i=[];return t.forEach(o=>{o.container.getProvider(n).instances.forEach(l=>{i.includes(l)||i.push(l)})}),i};class Zu{constructor(){return wa(ty)}}const ty="app-check";function uo(){}class wh{zone;delegate;constructor(e,t=jw.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const o=this.zone;return this.delegate.schedule(function(l){o.runGuarded(()=>{e.apply(this,[l])})},t,i)}}class Yl{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo)),t.pipe((0,qu.b)({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new wh(Zone.current)),this.insideAngular=t.run(()=>new wh(Zone.current,Ce.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(v.LFG(v.R0b))};static \u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ia(n){return mc().ngZone.run(()=>n())}function wo(n){return function lg(n){return function(t){return(t=t.lift(new Yl(n.ngZone))).pipe((0,el.R)(n.outsideAngular),(0,Ea.Q)(n.insideAngular))}}(mc())(n)}const ug=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ia(()=>n.apply(void 0,i))},gc=(n,e)=>function(){let t;const i=arguments;for(let c=0;c<arguments.length;c++)"function"==typeof i[c]&&(e&&(t||=Ia(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo))),i[c]=ug(i[c],t));const o=function Qu(n){return mc().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(o instanceof ts.y){const c=mc();return o.pipe((0,el.R)(c.outsideAngular),(0,Ea.Q)(c.insideAngular))}return Ia(()=>o)}return o instanceof ts.y?o.pipe(wo):o instanceof Promise?Ia(()=>new Promise((c,l)=>o.then(f=>Ia(()=>c(f)),f=>Ia(()=>l(f))))):"function"==typeof o&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),o.apply(this,arguments)}:Ia(()=>o)};class Ca{constructor(e){return e}}class xa{constructor(){return(0,yi.getApps)()}}const ql=new v.OlP("angularfire2._apps"),tl={provide:Ca,useFactory:function hg(n){return n&&1===n.length?n[0]:new Ca((0,yi.getApp)())},deps:[[new v.FiY,ql]]},pp={provide:xa,deps:[[new v.FiY,ql]]};function Io(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Ca(i)}}let mp=(()=>{class n{constructor(t){(0,yi.registerVersion)("angularfire",ta.full,"core"),(0,yi.registerVersion)("angularfire",ta.full,"app"),(0,yi.registerVersion)("angular",v.q4F.full,t.toString())}static \u0275fac=function(i){return new(i||n)(v.LFG(v.Lbi))};static \u0275mod=v.oAB({type:n});static \u0275inj=v.cJS({providers:[tl,pp]})}return n})();function fg(n,...e){return{ngModule:mp,providers:[{provide:ql,useFactory:Io(n),multi:!0,deps:[v.R0b,v.zs3,pc,...e]}]}}const _p=gc(yi.initializeApp,!0);var mg=b(4562),gt=b(9058),Wr=b(7879),Ql=b(4537);function ry(n){return new ts.y(function(e){return{unsubscribe:(0,mg.y)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class vp{constructor(e){return e}}class gg{constructor(){return wa("auth")}}const Fs=gc(ry,!0);var On,Bt=b(5861),tI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vs={},nI=nI||{},mi=tI||self;function td(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var wg="closure_uid_"+(1e9*Math.random()>>>0),rI=0;function Mh(n,e,t){return n.call.apply(n.bind,arguments)}function oI(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Fo(n,e,t){return(Fo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mh:oI).apply(null,arguments)}function nd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Jr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,o,c){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[o].apply(i,l)}}function Fa(){this.s=this.s,this.o=this.o}Fa.prototype.s=!1,Fa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function iI(n){Object.prototype.hasOwnProperty.call(n,wg)&&n[wg]||(n[wg]=++rI)}(this)},Fa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function my(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function gy(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(td(i)){const o=n.length||0,c=i.length||0;n.length=o+c;for(let l=0;l<c;l++)n[o+l]=i[l]}else n.push(i)}}function Co(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Co.prototype.h=function(){this.defaultPrevented=!0};var kT=function(){if(!mi.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{mi.addEventListener("test",()=>{},e),mi.removeEventListener("test",()=>{},e)}catch{}return n}();function Ip(n){return/^[\s\xa0]*$/.test(n)}function Ig(){var n=mi.navigator;return n&&(n=n.userAgent)?n:""}function La(n){return-1!=Ig().indexOf(n)}function _y(n){return _y[" "](n),n}_y[" "]=function(){};var Cg,n,Bs=La("Opera"),Jl=La("Trident")||La("MSIE"),vy=La("Edge"),Cp=vy||Jl,Lo=La("Gecko")&&!(-1!=Ig().toLowerCase().indexOf("webkit")&&!La("Edge"))&&!(La("Trident")||La("MSIE"))&&!La("Edge"),xp=-1!=Ig().toLowerCase().indexOf("webkit")&&!La("Edge");function yy(){var n=mi.document;return n?n.documentMode:void 0}e:{var by="",xg=(n=Ig(),Lo?/rv:([^\);]+)(\)|;)/.exec(n):vy?/Edge\/([\d\.]+)/.exec(n):Jl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):xp?/WebKit\/(\S+)/.exec(n):Bs?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xg&&(by=xg?xg[1]:""),Jl){var Ey=yy();if(null!=Ey&&Ey>parseFloat(by)){Cg=String(Ey);break e}}Cg=by}var cI=mi.document&&Jl&&(yy()||parseInt(Cg,10))||void 0;function Dp(n,e){if(Co.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Lo){e:{try{_y(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:FT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Dp.$.h.call(this)}}Jr(Dp,Co);var FT={2:"touch",3:"pen",4:"mouse"};Dp.prototype.h=function(){Dp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var id="closure_listenable_"+(1e6*Math.random()|0),wy=0;function LT(n,e,t,i,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=o,this.key=++wy,this.fa=this.ia=!1}function eu(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Iy(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Cy(n){const e={};for(const t in n)e[t]=n[t];return e}const xy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dy(n,e){let t,i;for(let o=1;o<arguments.length;o++){for(t in i=arguments[o],i)n[t]=i[t];for(let c=0;c<xy.length;c++)t=xy[c],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function ol(n){this.src=n,this.g={},this.h=0}function Ph(n,e){var t=e.type;if(t in n.g){var c,i=n.g[t],o=sI(i,e);(c=0<=o)&&Array.prototype.splice.call(i,o,1),c&&(eu(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Tg(n,e,t,i){for(var o=0;o<n.length;++o){var c=n[o];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==i)return o}return-1}ol.prototype.add=function(n,e,t,i,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var l=Tg(n,e,i,o);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new LT(e,this.src,c,!!i,o)).ia=t,n.push(e)),e};var Tp="closure_lm_"+(1e6*Math.random()|0),Oh={};function lI(n,e,t,i,o){if(i&&i.once)return dI(n,e,t,i,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)lI(n,e[c],t,i,o);return null}return t=Sy(t),n&&n[id]?n.O(e,t,Xl(i)?!!i.capture:!!i,o):uI(n,e,t,!1,i,o)}function uI(n,e,t,i,o,c){if(!e)throw Error("Invalid event type");var l=Xl(o)?!!o.capture:!!o,f=Ap(n);if(f||(n[Tp]=f=new ol(n)),(t=f.add(e,t,i,l,c)).proxy)return t;if(i=function BT(){const e=Ag;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)kT||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),i,o);else if(n.attachEvent)n.attachEvent(Ay(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function dI(n,e,t,i,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)dI(n,e[c],t,i,o);return null}return t=Sy(t),n&&n[id]?n.P(e,t,Xl(i)?!!i.capture:!!i,o):uI(n,e,t,!0,i,o)}function hI(n,e,t,i,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)hI(n,e[c],t,i,o);else i=Xl(i)?!!i.capture:!!i,t=Sy(t),n&&n[id]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Tg(c=n.g[e],t,i,o))&&(eu(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Ap(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Tg(e,t,i,o)),(t=-1<n?e[n]:null)&&Ty(t))}function Ty(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[id])Ph(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Ay(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Ap(e))?(Ph(t,n),0==t.h&&(t.src=null,e[Tp]=null)):eu(n)}}}function Ay(n){return n in Oh?Oh[n]:Oh[n]="on"+n}function Ag(n,e){if(n.fa)n=!0;else{e=new Dp(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Ty(n),n=t.call(i,e)}return n}function Ap(n){return(n=n[Tp])instanceof ol?n:null}var Sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sy(n){return"function"==typeof n?n:(n[Sp]||(n[Sp]=function(e){return n.handleEvent(e)}),n[Sp])}function xo(){Fa.call(this),this.i=new ol(this),this.S=this,this.J=null}function ho(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Co(e,n);else if(e instanceof Co)e.target=e.target||n;else{var o=e;Dy(e=new Co(i,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var l=e.g=t[c];o=Rp(l,i,!0,e)&&o}if(o=Rp(l=e.g=n,i,!0,e)&&o,o=Rp(l,i,!1,e)&&o,t)for(c=0;c<t.length;c++)o=Rp(l=e.g=t[c],i,!1,e)&&o}function Rp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var l=e[c];if(l&&!l.fa&&l.capture==t){var f=l.listener,g=l.la||l.src;l.ia&&Ph(n.i,l),o=!1!==f.call(g,i)&&o}}return o&&!i.defaultPrevented}Jr(xo,Fa),xo.prototype[id]=!0,xo.prototype.removeEventListener=function(n,e,t,i){hI(this,n,e,t,i)},xo.prototype.N=function(){if(xo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)eu(t[i]);delete n.g[e],n.h--}}this.J=null},xo.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},xo.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var sl=mi.JSON.stringify;function pI(){var n=Mp;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var zT=new class fI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Sg,n=>n.reset());class Sg{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jT(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function mI(n){mi.setTimeout(()=>{throw n},0)}let kh,Nh=!1,Mp=new class UT{constructor(){this.h=this.g=null}add(e,t){const i=zT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Ry=()=>{const n=mi.Promise.resolve(void 0);kh=()=>{n.then(Rg)}};var Rg=()=>{for(var n;n=pI();){try{n.h.call(n.g)}catch(t){mI(t)}var e=zT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Nh=!1};function tu(n,e){xo.call(this),this.h=n||1,this.g=e||mi,this.j=Fo(this.qb,this),this.l=Date.now()}function Mg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Pp(n,e,t){if("function"==typeof n)t&&(n=Fo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fo(n.handleEvent,n)}return 2147483647<Number(e)?-1:mi.setTimeout(n,e||0)}function Op(n){n.g=Pp(()=>{n.g=null,n.i&&(n.i=!1,Op(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jr(tu,xo),(On=tu.prototype).ga=!1,On.T=null,On.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ho(this,"tick"),this.ga&&(Mg(this),this.start()))}},On.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},On.N=function(){tu.$.N.call(this),Mg(this),delete this.g};class gI extends Fa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Op(this)}N(){super.N(),this.g&&(mi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rd(n){Fa.call(this),this.h=n,this.g={}}Jr(rd,Fa);var Fh=[];function _I(n,e,t,i){Array.isArray(t)||(t&&(Fh[0]=t.toString()),t=Fh);for(var o=0;o<t.length;o++){var c=lI(e,t[o],i||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function My(n){Iy(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ty(e)},n),n.g={}}function Pg(){this.g=!0}function od(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Og(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var l=1;l<o.length;l++)o[l]=""}}}return sl(t)}catch{return e}}(n,t)+(i?" "+i:"")})}rd.prototype.N=function(){rd.$.N.call(this),My(this)},rd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pg.prototype.Ea=function(){this.g=!1},Pg.prototype.info=function(){};var al={},sd=null;function kg(){return sd=sd||new xo}function yI(n){Co.call(this,al.Ta,n)}function Ng(n){const e=kg();ho(e,new yI(e))}function bI(n,e){Co.call(this,al.STAT_EVENT,n),this.stat=e}function Vo(n){const e=kg();ho(e,new bI(e,n))}function EI(n,e){Co.call(this,al.Ua,n),this.size=e}function yc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return mi.setTimeout(function(){n()},e)}al.Ta="serverreachability",Jr(yI,Co),al.STAT_EVENT="statevent",Jr(bI,Co),al.Ua="timingevent",Jr(EI,Co);var ad={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Fg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Lg(){}function Oy(){}Lg.prototype.h=null;var Fy,Va={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ky(){Co.call(this,"d")}function Ny(){Co.call(this,"c")}function Vg(){}function kp(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new rd(this),this.P=Lh,this.V=new tu(n=Cp?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bc}function bc(){this.i=null,this.g="",this.h=!1}Jr(ky,Co),Jr(Ny,Co),Jr(Vg,Lg),Vg.prototype.g=function(){return new XMLHttpRequest},Vg.prototype.i=function(){return{}},Fy=new Vg;var Lh=45e3,Ly={},Bg={};function Vy(n,e,t){n.L=1,n.v=Vp(nu(e)),n.s=t,n.S=!0,wI(n,null)}function wI(n,e){n.G=Date.now(),Np(n),n.A=nu(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),jy(t.i,"t",i),n.C=0,t=n.l.J,n.h=new bc,n.g=Zg(n.l,t?e:null,!n.s),0<n.O&&(n.M=new gI(Fo(n.Pa,n,n.g),n.O)),_I(n.U,n.g,"readystatechange",n.nb),e=n.I?Cy(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ng(),function HT(n,e,t,i,o,c){n.info(function(){if(n.g)if(c)for(var l="",f=c.split("&"),g=0;g<f.length;g++){var E=f[g].split("=");if(1<E.length){var N=E[0];E=E[1];var U=N.split("_");l=2<=U.length&&"type"==U[1]?l+(N+"=")+E+"&":l+(N+"=redacted&")}}else l=null;else l=c;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function II(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function CI(n,e,t){let o,i=!0;for(;!n.J&&n.C<t.length;){if(o=xI(n,t),o==Bg){4==e&&(n.o=4,Vo(14),i=!1),od(n.j,n.m,null,"[Incomplete Response]");break}if(o==Ly){n.o=4,Vo(15),od(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}od(n.j,n.m,o,null),Ba(n,o)}II(n)&&o!=Bg&&o!=Ly&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Vo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),$I(e),e.M=!0,Vo(11))):(od(n.j,n.m,t,"[Invalid Chunked Response]"),Ec(n),Fp(n))}function xI(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Bg:(t=Number(e.substring(t,i)),isNaN(t)?Ly:(i+=1)+t>e.length?Bg:(e=e.slice(i,i+t),n.C=i+t,e))}function Np(n){n.Y=Date.now()+n.P,DI(n,n.P)}function DI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=yc(Fo(n.lb,n),e)}function Ug(n){n.B&&(mi.clearTimeout(n.B),n.B=null)}function Fp(n){0==n.l.H||n.J||WI(n.l,n)}function Ec(n){Ug(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Mg(n.V),My(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Ba(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||kI(t.i,n)))if(!n.K&&kI(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;fd(t),Hh(t)}Qy(t),Vo(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=yc(Fo(t.ib,t),6e3));if(1>=ZT(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else cl(t,11)}else if((n.K||t.g==n)&&fd(t),!Ip(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let E=o[e];if(t.V=E[0],E=E[1],2==t.H)if("c"==E[0]){t.K=E[1],t.pa=E[2];const N=E[3];null!=N&&(t.ra=N,t.l.info("VER="+t.ra));const U=E[4];null!=U&&(t.Ga=U,t.l.info("SVER="+t.Ga));const ee=E[5];null!=ee&&"number"==typeof ee&&0<ee&&(t.L=i=1.5*ee,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const Pe=n.g;if(Pe){const at=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(at){var c=i.i;c.g||-1==at.indexOf("spdy")&&-1==at.indexOf("quic")&&-1==at.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(ld(c,c.h),c.h=null))}if(i.F){const wt=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;wt&&(i.Da=wt,Ar(i.I,i.F,wt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=qg(i,i.J?i.pa:null,i.Y),l.K){zh(i.i,l);var f=l,g=i.L;g&&f.setTimeout(g),f.B&&(Ug(f),Np(f)),i.g=l}else HI(i);0<t.j.length&&Wg(t)}else"stop"!=E[0]&&"close"!=E[0]||cl(t,7);else 3==t.H&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?cl(t,7):qy(t):"noop"!=E[0]&&t.h&&t.h.Aa(E),t.A=0)}Ng()}catch{}}function By(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(td(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function TI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(td(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Lp(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(td(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),o=i.length,c=0;c<o;c++)e.call(void 0,i[c],t&&t[c],n)}(On=kp.prototype).setTimeout=function(n){this.P=n},On.nb=function(n){n=n.target;const e=this.M;e&&3==Da(n)?e.l():this.Pa(n)},On.Pa=function(n){try{if(n==this.g)e:{const N=Da(this.g);var e=this.g.Ia();if(this.g.da(),!(3>N)&&(3!=N||Cp||this.g&&(this.h.h||this.g.ja()||BI(this.g)))){this.J||4!=N||7==e||Ng(),Ug(this);var t=this.g.da();this.ca=t;t:if(II(this)){var i=BI(this.g);n="";var o=i.length,c=4==Da(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ec(this),Fp(this);var l="";break t}this.h.i=new mi.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:c&&e==o-1});i.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function $T(n,e,t,i,o,c,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+l})}(this.j,this.u,this.A,this.m,this.W,N,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ip(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Vo(12),Ec(this),Fp(this);break e}od(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ba(this,t)}this.S?(CI(this,N,l),Cp&&this.i&&3==N&&(_I(this.U,this.V,"tick",this.mb),this.V.start())):(od(this.j,this.m,l,null),Ba(this,l)),4==N&&Ec(this),this.i&&!this.J&&(4==N?WI(this.l,this):(this.i=!1,Np(this)))}else(function JT(n){const e={};n=(n.g&&2<=Da(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Ip(n[i]))continue;var t=jT(n[i]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[o]||[];e[o]=c,c.push(t)}!function VT(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Vo(12)):(this.o=0,Vo(13)),Ec(this),Fp(this)}}}catch{}},On.mb=function(){if(this.g){var n=Da(this.g),e=this.g.ja();this.C<e.length&&(Ug(this),CI(this,n,e),this.i&&4!=n&&Np(this))}},On.cancel=function(){this.J=!0,Ec(this)},On.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ng(),Vo(17)),Ec(this),this.o=2,Fp(this)):DI(this,this.Y-n)};var Uy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vh){this.h=n.h,Bh(this,n.j),this.s=n.s,this.g=n.g,Uh(this,n.m),this.l=n.l;var e=n.i,t=new zp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),WT(this,t),this.o=n.o}else n&&(e=String(n).match(Uy))?(this.h=!1,Bh(this,e[1]||"",!0),this.s=Bp(e[2]||""),this.g=Bp(e[3]||"",!0),Uh(this,e[4]),this.l=Bp(e[5]||"",!0),WT(this,e[6]||"",!0),this.o=Bp(e[7]||"")):(this.h=!1,this.i=new zp(null,this.h))}function nu(n){return new Vh(n)}function Bh(n,e,t){n.j=t?Bp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Uh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function WT(n,e,t){e instanceof zp?(n.i=e,function KT(n,e){e&&!n.j&&(Us(n),n.i=null,n.g.forEach(function(t,i){var o=i.toLowerCase();i!=o&&(MI(this,i),jy(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Up(e,RI)),n.i=new zp(e,n.h))}function Ar(n,e,t){n.i.set(e,t)}function Vp(n){return Ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Up(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,GT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function GT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Up(e,AI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Up(e,AI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Up(t,"/"==t.charAt(0)?zg:SI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Up(t,zy)),n.join("")};var AI=/[#\/\?@]/g,SI=/[#\?:]/g,zg=/[#\?]/g,RI=/[#\?@]/g,zy=/#/g;function zp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Us(n){n.g||(n.g=new Map,n.h=0,n.i&&function JP(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),o=null;if(0<=i){var c=n[t].substring(0,i);o=n[t].substring(i+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function MI(n,e){Us(n),e=cd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function PI(n,e){return Us(n),e=cd(n,e),n.g.has(e)}function jy(n,e,t){MI(n,e),0<t.length&&(n.i=null,n.g.set(cd(n,e),my(t)),n.h+=t.length)}function cd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function OI(n){this.l=n||qT,n=mi.PerformanceNavigationTiming?0<(n=mi.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(mi.g&&mi.g.Ka&&mi.g.Ka()&&mi.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(On=zp.prototype).add=function(n,e){Us(this),this.i=null,n=cd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},On.forEach=function(n,e){Us(this),this.g.forEach(function(t,i){t.forEach(function(o){n.call(e,o,i,this)},this)},this)},On.ta=function(){Us(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const o=n[i];for(let c=0;c<o.length;c++)t.push(e[i])}return t},On.Z=function(n){Us(this);let e=[];if("string"==typeof n)PI(this,n)&&(e=e.concat(this.g.get(cd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},On.set=function(n,e){return Us(this),this.i=null,PI(this,n=cd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},On.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},On.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const c=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var o=c;""!==l[i]&&(o+="="+encodeURIComponent(String(l[i]))),n.push(o)}}return this.i=n.join("&")};var qT=10;function Hy(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ZT(n){return n.h?1:n.g?n.g.size:0}function kI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ld(n,e){n.g?n.g.add(e):n.h=e}function zh(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function $y(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return my(n.i)}OI.prototype.cancel=function(){if(this.i=$y(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var NI=class{stringify(n){return mi.JSON.stringify(n,void 0)}parse(n){return mi.JSON.parse(n,void 0)}};function Wy(){this.g=new NI}function Gy(n,e,t){const i=t||"";try{By(n,function(o,c){let l=o;Xl(o)&&(l=sl(o)),e.push(i+c+"="+encodeURIComponent(l))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function jp(n,e,t,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function jh(n){this.l=n.ec||null,this.j=n.ob||!1}function ud(n,e){xo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=FI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jr(jh,Lg),jh.prototype.g=function(){return new ud(this.l,this.j)},jh.prototype.i=function(n){return function(){return n}}({}),Jr(ud,xo);var FI=0;function jg(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Hp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dd(n)}function dd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(On=ud.prototype).open=function(n,e){if(this.readyState!=FI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dd(this)},On.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||mi).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},On.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hp(this)),this.readyState=FI},On.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dd(this)),this.g&&(this.readyState=3,dd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof mi.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jg(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},On.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Hp(this):dd(this),3==this.readyState&&jg(this)}},On.Za=function(n){this.g&&(this.response=this.responseText=n,Hp(this))},On.Ya=function(n){this.g&&(this.response=n,Hp(this))},On.ka=function(){this.g&&Hp(this)},On.setRequestHeader=function(n,e){this.v.append(n,e)},On.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},On.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ud.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var LI=mi.JSON.parse;function Vr(n){xo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iu,this.L=this.M=!1}Jr(Vr,xo);var iu="",XT=/^https?$/i,Ky=["POST","PUT"];function VI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$g(n),na(n)}function $g(n){n.F||(n.F=!0,ho(n,"complete"),ho(n,"error"))}function $p(n){if(n.h&&typeof nI<"u"&&(!n.C[1]||4!=Da(n)||2!=n.da()))if(n.v&&4==Da(n))Pp(n.La,0,n);else if(ho(n,"readystatechange"),4==Da(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var o=String(n.I).match(Uy)[1]||null;!o&&mi.self&&mi.self.location&&(o=mi.self.location.protocol.slice(0,-1)),i=!XT.test(o?o.toLowerCase():"")}t=i}if(t)ho(n,"complete"),ho(n,"success");else{n.m=6;try{var c=2<Da(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",$g(n)}}finally{na(n)}}}function na(n,e){if(n.g){hd(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ho(n,"ready");try{t.onreadystatechange=i}catch{}}}function hd(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(mi.clearTimeout(n.A),n.A=null)}function Da(n){return n.g?n.g.readyState:0}function BI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case iu:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Yy(n){let e="";return Iy(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function ru(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Yy(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ar(n,e,t))}function Wp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function UI(n){this.Ga=0,this.j=[],this.l=new Pg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wp("baseRetryDelayMs",5e3,n),this.hb=Wp("retryDelaySeedMs",1e4,n),this.eb=Wp("forwardChannelMaxRetries",2,n),this.xa=Wp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new OI(n&&n.concurrentRequestLimit),this.Ja=new Wy,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qy(n){if(Zy(n),3==n.H){var e=n.W++,t=nu(n.I);if(Ar(t,"SID",n.K),Ar(t,"RID",e),Ar(t,"TYPE","terminate"),Kg(n,t),(e=new kp(n,n.l,e)).L=2,e.v=Vp(nu(t)),t=!1,mi.navigator&&mi.navigator.sendBeacon)try{t=mi.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&mi.Image&&((new Image).src=e.v,t=!0),t||(e.g=Zg(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Np(e)}pd(n)}function Hh(n){n.g&&($I(n),n.g.cancel(),n.g=null)}function Zy(n){Hh(n),n.u&&(mi.clearTimeout(n.u),n.u=null),fd(n),n.i.cancel(),n.m&&("number"==typeof n.m&&mi.clearTimeout(n.m),n.m=null)}function Wg(n){if(!Hy(n.i)&&!n.m){n.m=!0;var e=n.Na;kh||Ry(),Nh||(kh(),Nh=!0),Mp.add(e,n),n.C=0}}function Gg(n,e){var t;t=e?e.m:n.W++;const i=nu(n.I);Ar(i,"SID",n.K),Ar(i,"RID",t),Ar(i,"AID",n.V),Kg(n,i),n.o&&n.s&&ru(i,n.o,n.s),t=new kp(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=jI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ld(n.i,t),Vy(t,i,e)}function Kg(n,e){n.na&&Iy(n.na,function(t,i){Ar(e,i,t)}),n.h&&By({},function(t,i){Ar(e,i,t)})}function jI(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Fo(n.h.Va,n.h,n):null;e:{var o=n.j;let c=-1;for(;;){const l=["count="+t];-1==c?0<t?(c=o[0].g,l.push("ofs="+c)):c=0:l.push("ofs="+c);let f=!0;for(let g=0;g<t;g++){let E=o[g].g;const N=o[g].map;if(E-=c,0>E)c=Math.max(0,o[g].g-100),f=!1;else try{Gy(N,l,"req"+E+"_")}catch{i&&i(N)}}if(f){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function HI(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;kh||Ry(),Nh||(kh(),Nh=!0),Mp.add(e,n),n.A=0}}function Qy(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=yc(Fo(n.Ma,n),Yg(n,n.A)),n.A++,0))}function $I(n){null!=n.B&&(mi.clearTimeout(n.B),n.B=null)}function eA(n){n.g=new kp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=nu(n.wa);Ar(e,"RID","rpc"),Ar(e,"SID",n.K),Ar(e,"AID",n.V),Ar(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ar(e,"TO",n.qa),Ar(e,"TYPE","xmlhttp"),Kg(n,e),n.o&&n.s&&ru(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Vp(nu(e)),t.s=null,t.S=!0,wI(t,n)}function fd(n){null!=n.v&&(mi.clearTimeout(n.v),n.v=null)}function WI(n,e){var t=null;if(n.g==e){fd(n),$I(n),n.g=null;var i=2}else{if(!kI(n.i,e))return;t=e.F,zh(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;ho(i=kg(),new EI(i,t)),Wg(n)}else HI(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==i&&function zI(n,e){return!(ZT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=yc(Fo(n.Na,n,e),Yg(n,n.C)),n.C++,0)))}(n,e)||2==i&&Qy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:cl(n,5);break;case 4:cl(n,10);break;case 3:cl(n,6);break;default:cl(n,2)}}function Yg(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function cl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Fo(n.pb,n);t||(t=new Vh("//www.google.com/images/cleardot.gif"),mi.location&&"http"==mi.location.protocol||Bh(t,"https"),Vp(t)),function QT(n,e){const t=new Pg;if(mi.Image){const i=new Image;i.onload=nd(jp,t,i,"TestLoadImage: loaded",!0,e),i.onerror=nd(jp,t,i,"TestLoadImage: error",!1,e),i.onabort=nd(jp,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=nd(jp,t,i,"TestLoadImage: timeout",!1,e),mi.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Vo(2);n.H=0,n.h&&n.h.za(e),pd(n),Zy(n)}function pd(n){if(n.H=0,n.ma=[],n.h){const e=$y(n.i);(0!=e.length||0!=n.j.length)&&(gy(n.ma,e),gy(n.ma,n.j),n.i.i.length=0,my(n.j),n.j.length=0),n.h.ya()}}function qg(n,e,t){var i=t instanceof Vh?nu(t):new Vh(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Uh(i,i.m);else{var o=mi.location;i=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var c=new Vh(null);i&&Bh(c,i),e&&(c.g=e),o&&Uh(c,o),t&&(c.l=t),i=c}return e=n.Da,(t=n.F)&&e&&Ar(i,t,e),Ar(i,"VER",n.ra),Kg(n,i),i}function Zg(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vr(t&&n.Ha&&!n.va?new jh({ob:!0}):n.va)).Oa(n.J),e}function $h(){}function md(){if(Jl&&!(10<=Number(cI)))throw Error("Environmental error: no available transport.")}function Do(n,e){xo.call(this),this.g=new UI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ip(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ip(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ll(this)}function Qg(n){ky.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Xg(){Ny.call(this),this.status=1}function ll(n){this.g=n}function ia(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gd(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)i[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)i[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],l=(e=n.g[0])+(c^(t=n.g[1])&((o=n.g[2])^c))+i[0]+3614090360&4294967295;l=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=t+(l<<7&4294967295|l>>>25))+((l=c+(o^e&(t^o))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^c&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(c^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(c^t&(o^c))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=c+(o^e&(t^o))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^c&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(c^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(c^t&(o^c))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=c+(o^e&(t^o))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^c&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(c^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(c^t&(o^c))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=c+(o^e&(t^o))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^c&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(c^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^c&(t^o))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^o&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(c^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(o^c))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^c&(t^o))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^o&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(c^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(o^c))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^c&(t^o))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^o&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(c^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(o^c))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^c&(t^o))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^o&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(c^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(o^c))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^o^c)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^o)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(c^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^c^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^c)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^o)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(c^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^c^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^c)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^o)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(c^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^c^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^c)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^o)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(c^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^c^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(o^(t|~c))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~o))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(c|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(c^(o|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~c))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~o))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(c|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(c^(o|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~c))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~o))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(c|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(c^(o|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((c=(e=t+((l=e+(o^(t|~c))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~o))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=c+((l=o+(e^(c|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+c&4294967295}function sr(n,e){this.h=e;for(var t=[],i=!0,o=n.length-1;0<=o;o--){var c=0|n[o];i&&c==e||(t[o]=c,i=!1)}this.g=t}(On=Vr.prototype).Oa=function(n){this.M=n},On.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fy.g(),this.C=function Py(n){return n.h||(n.h=n.i())}(this.u?this.u:Fy),this.g.onreadystatechange=Fo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void VI(this,c)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)t.set(o,i[o]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const c of i.keys())t.set(c,i.get(c))}i=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),o=mi.FormData&&n instanceof mi.FormData,!(0<=sI(Ky,e))||i||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,l]of t)this.g.setRequestHeader(c,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hd(this),0<this.B&&((this.L=function Hg(n){return Jl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fo(this.ua,this)):this.A=Pp(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){VI(this,c)}},On.ua=function(){typeof nI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ho(this,"timeout"),this.abort(8))},On.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ho(this,"complete"),ho(this,"abort"),na(this))},On.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),na(this,!0)),Vr.$.N.call(this)},On.La=function(){this.s||(this.G||this.v||this.l?$p(this):this.kb())},On.kb=function(){$p(this)},On.isActive=function(){return!!this.g},On.da=function(){try{return 2<Da(this)?this.g.status:-1}catch{return-1}},On.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},On.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),LI(e)}},On.Ia=function(){return this.m},On.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(On=UI.prototype).ra=8,On.H=1,On.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new kp(this,this.l,n);let c=this.s;if(this.U&&(c?(c=Cy(c),Dy(c,this.U)):c=this.U),null!==this.o||this.O||(o.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=jI(this,o,e),Ar(t=nu(this.I),"RID",n),Ar(t,"CVER",22),this.F&&Ar(t,"X-HTTP-Session-Id",this.F),Kg(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Yy(c)))+"&"+e:this.o&&ru(t,this.o,c)),ld(this.i,o),this.bb&&Ar(t,"TYPE","init"),this.P?(Ar(t,"$req",e),Ar(t,"SID","null"),o.aa=!0,Vy(o,t,null)):Vy(o,t,e),this.H=2}}else 3==this.H&&(n?Gg(this,n):0==this.j.length||Hy(this.i)||Gg(this))},On.Ma=function(){if(this.u=null,eA(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=yc(Fo(this.jb,this),n)}},On.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vo(10),Hh(this),eA(this))},On.ib=function(){null!=this.v&&(this.v=null,Hh(this),Qy(this),Vo(19))},On.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Vo(2)):(this.l.info("Failed to ping google.com"),Vo(1))},On.isActive=function(){return!!this.h&&this.h.isActive(this)},(On=$h.prototype).Ba=function(){},On.Aa=function(){},On.za=function(){},On.ya=function(){},On.isActive=function(){return!0},On.Va=function(){},md.prototype.g=function(n,e){return new Do(n,e)},Jr(Do,xo),Do.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Vo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=qg(n,null,n.Y),Wg(n)},Do.prototype.close=function(){qy(this.g)},Do.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=sl(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Wg(e)},Do.prototype.N=function(){this.g.h=null,delete this.j,qy(this.g),delete this.g,Do.$.N.call(this)},Jr(Qg,ky),Jr(Xg,Ny),Jr(ll,$h),ll.prototype.Ba=function(){ho(this.g,"a")},ll.prototype.Aa=function(n){ho(this.g,new Qg(n))},ll.prototype.za=function(n){ho(this.g,new Xg)},ll.prototype.ya=function(){ho(this.g,"b")},Jr(ia,function eO(){this.blockSize=-1}),ia.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ia.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,o=this.h,c=0;c<e;){if(0==o)for(;c<=t;)gd(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(i[o++]=n.charCodeAt(c++),o==this.blockSize){gd(this,i),o=0;break}}else for(;c<e;)if(i[o++]=n[c++],o==this.blockSize){gd(this,i),o=0;break}}this.h=o,this.i+=e},ia.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var GI={};function Xy(n){return-128<=n&&128>n?function NT(n,e){var t=GI;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new sr([0|e],0>e?-1:0)}):new sr([0|n],0>n?-1:0)}function wc(n){if(isNaN(n)||!isFinite(n))return Wh;if(0>n)return fo(wc(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=e_;return new sr(e,0)}var e_=4294967296,Wh=Xy(0),Jy=Xy(1),tA=Xy(16777216);function ul(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Is(n){return-1==n.h}function fo(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new sr(t,~n.h).add(Jy)}function t_(n,e){return n.add(fo(e))}function Gp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function _d(n,e){this.g=n,this.h=e}function vd(n,e){if(ul(e))throw Error("division by zero");if(ul(n))return new _d(Wh,Wh);if(Is(n))return e=vd(fo(n),e),new _d(fo(e.g),fo(e.h));if(Is(e))return e=vd(n,fo(e)),new _d(fo(e.g),e.h);if(30<n.g.length){if(Is(n)||Is(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Jy,i=e;0>=i.X(n);)t=KI(t),i=KI(i);var o=yd(t,1),c=yd(i,1);for(i=yd(i,2),t=yd(t,2);!ul(i);){var l=c.add(i);0>=l.X(n)&&(o=o.add(t),c=l),i=yd(i,1),t=yd(t,1)}return e=t_(n,o.R(e)),new _d(o,e)}for(o=Wh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(c=wc(t)).R(e);Is(l)||0<l.X(n);)l=(c=wc(t-=i)).R(e);ul(c)&&(c=Jy),o=o.add(c),n=t_(n,l)}return new _d(o,n)}function KI(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new sr(t,n.h)}function yd(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,o=[],c=0;c<i;c++)o[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new sr(o,n.h)}(On=sr.prototype).ea=function(){if(Is(this))return-fo(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:e_+i)*e,e*=e_}return n},On.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ul(this))return"0";if(Is(this))return"-"+fo(this).toString(n);for(var e=wc(Math.pow(n,6)),t=this,i="";;){var o=vd(t,e).g,c=((0<(t=t_(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ul(t=o))return c+i;for(;6>c.length;)c="0"+c;i=c+i}},On.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},On.X=function(n){return Is(n=t_(this,n))?-1:ul(n)?0:1},On.abs=function(){return Is(this)?fo(this):this},On.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,o=0;o<=e;o++){var c=i+(65535&this.D(o))+(65535&n.D(o)),l=(c>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);i=l>>>16,t[o]=(l&=65535)<<16|(c&=65535)}return new sr(t,-2147483648&t[t.length-1]?-1:0)},On.R=function(n){if(ul(this)||ul(n))return Wh;if(Is(this))return Is(n)?fo(this).R(fo(n)):fo(fo(this).R(n));if(Is(n))return fo(this.R(fo(n)));if(0>this.X(tA)&&0>n.X(tA))return wc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<n.g.length;o++){var c=this.D(i)>>>16,l=65535&this.D(i),f=n.D(o)>>>16,g=65535&n.D(o);t[2*i+2*o]+=l*g,Gp(t,2*i+2*o),t[2*i+2*o+1]+=c*g,Gp(t,2*i+2*o+1),t[2*i+2*o+1]+=l*f,Gp(t,2*i+2*o+1),t[2*i+2*o+2]+=c*f,Gp(t,2*i+2*o+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new sr(t,0)},On.gb=function(n){return vd(this,n).h},On.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new sr(t,this.h&n.h)},On.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new sr(t,this.h|n.h)},On.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new sr(t,this.h^n.h)},md.prototype.createWebChannel=md.prototype.g,Do.prototype.send=Do.prototype.u,Do.prototype.open=Do.prototype.m,Do.prototype.close=Do.prototype.close,ad.NO_ERROR=0,ad.TIMEOUT=8,ad.HTTP_ERROR=6,Fg.COMPLETE="complete",Oy.EventType=Va,Va.OPEN="a",Va.CLOSE="b",Va.ERROR="c",Va.MESSAGE="d",xo.prototype.listen=xo.prototype.O,Vr.prototype.listenOnce=Vr.prototype.P,Vr.prototype.getLastError=Vr.prototype.Sa,Vr.prototype.getLastErrorCode=Vr.prototype.Ia,Vr.prototype.getStatus=Vr.prototype.da,Vr.prototype.getResponseJson=Vr.prototype.Wa,Vr.prototype.getResponseText=Vr.prototype.ja,Vr.prototype.send=Vr.prototype.ha,Vr.prototype.setWithCredentials=Vr.prototype.Oa,ia.prototype.digest=ia.prototype.l,ia.prototype.reset=ia.prototype.reset,ia.prototype.update=ia.prototype.j,sr.prototype.add=sr.prototype.add,sr.prototype.multiply=sr.prototype.R,sr.prototype.modulo=sr.prototype.gb,sr.prototype.compare=sr.prototype.X,sr.prototype.toNumber=sr.prototype.ea,sr.prototype.toString=sr.prototype.toString,sr.prototype.getBits=sr.prototype.D,sr.fromNumber=wc,sr.fromString=function Jg(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return fo(Jg(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=wc(Math.pow(e,8)),i=Wh,o=0;o<n.length;o+=8){var c=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+c),e);8>c?(c=wc(Math.pow(e,c)),i=i.R(c).add(wc(l))):i=(i=i.R(t)).add(wc(l))}return i};var nA=Vs.createWebChannelTransport=function(){return new md},YI=Vs.getStatEventTarget=function(){return kg()},qI=Vs.ErrorCode=ad,iA=Vs.EventType=Fg,Kp=Vs.Event=al,ZI=Vs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gh=Vs.FetchXmlHttpFactory=jh,ou=Vs.WebChannel=Oy,rA=Vs.XhrIo=Vr,QI=Vs.Md5=ia,Kh=Vs.Integer=sr;const XI="@firebase/firestore";class To{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}To.UNAUTHENTICATED=new To(null),To.GOOGLE_CREDENTIALS=new To("google-credentials-uid"),To.FIRST_PARTY=new To("first-party-uid"),To.MOCK_USER=new To("mock-user");let bd="10.5.2";const dl=new Wr.Yd("@firebase/firestore");function su(){return dl.logLevel}function an(n,...e){if(dl.logLevel<=Wr.in.DEBUG){const t=e.map(eb);dl.debug(`Firestore (${bd}): ${n}`,...t)}}function Gr(n,...e){if(dl.logLevel<=Wr.in.ERROR){const t=e.map(eb);dl.error(`Firestore (${bd}): ${n}`,...t)}}function zs(n,...e){if(dl.logLevel<=Wr.in.WARN){const t=e.map(eb);dl.warn(`Firestore (${bd}): ${n}`,...t)}}function eb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Vn(n="Unexpected state"){const e=`FIRESTORE (${bd}) INTERNAL ASSERTION FAILED: `+n;throw Gr(e),new Error(e)}function Yn(n,e){n||Vn()}function Dn(n,e){return n}const Wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sn extends gt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class so{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ua{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(To.UNAUTHENTICATED))}shutdown(){}}class eC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nO{constructor(e){this.t=e,this.currentUser=To.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let o=this.i;const c=E=>this.i!==o?(o=this.i,t(E)):Promise.resolve();let l=new so;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new so,e.enqueueRetryable(()=>c(this.currentUser))};const f=()=>{const E=l;e.enqueueRetryable((0,Bt.Z)(function*(){yield E.promise,yield c(i.currentUser)}))},g=E=>{an("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>g(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?g(E):(an("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new so)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(an("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yn("string"==typeof i.accessToken),new tb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yn(null===e||"string"==typeof e),new To(e)}}class nb{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=To.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class au{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new nb(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(To.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=c=>{null!=c.error&&an("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const l=c.token!==this.R;return this.R=c.token,an("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{an("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):an("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yn("string"==typeof t.token),this.R=t.token,new Yh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class n_{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const o=sA(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[c]%62))}return i}}function ni(n,e){return n<e?-1:n>e?1:0}function Ed(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}function tC(n){return n+"\0"}class Br{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sn(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sn(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sn(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sn(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Br.fromMillis(Date.now())}static fromDate(e){return Br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Br(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ni(this.nanoseconds,e.nanoseconds):ni(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kn(e)}static min(){return new kn(new Br(0,0))}static max(){return new kn(new Br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yp{constructor(e,t,i){void 0===t?t=0:t>e.length&&Vn(),void 0===i?i=e.length-t:i>e.length-t&&Vn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Yp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const c=e.get(o),l=t.get(o);if(c<l)return-1;if(c>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bi extends Yp{construct(e,t,i){return new Bi(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new sn(Wt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Bi(t)}static emptyPath(){return new Bi([])}}const aA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Yp{construct(e,t,i){return new _r(e,t,i)}static isValidIdentifier(e){return aA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const c=()=>{if(0===i.length)throw new sn(Wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;o<e.length;){const f=e[o];if("\\"===f){if(o+1===e.length)throw new sn(Wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new sn(Wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else"`"===f?(l=!l,o++):"."!==f||l?(i+=f,o++):(c(),o++)}if(c(),l)throw new sn(Wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}class xn{constructor(e){this.path=e}static fromPath(e){return new xn(Bi.fromString(e))}static fromName(e){return new xn(Bi.fromString(e).popFirst(5))}static empty(){return new xn(Bi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xn(new Bi(e.slice()))}}class wd{constructor(e,t,i,o){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=o}}function i_(n){return n.fields.find(e=>2===e.kind)}function Id(n){return n.fields.filter(e=>2!==e.kind)}wd.UNKNOWN_ID=-1;class cu{constructor(e,t){this.fieldPath=e,this.kind=t}}class qh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new qh(0,Ao.min())}}function iC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=kn.fromTimestamp(1e9===i?new Br(t+1,0):new Br(t,i));return new Ao(o,xn.empty(),e)}function ib(n){return new Ao(n.readTime,n.key,-1)}class Ao{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ao(kn.min(),xn.empty(),-1)}static max(){return new Ao(kn.max(),xn.empty(),-1)}}function za(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=xn.comparator(n.documentKey,e.documentKey),0!==t?t:ni(n.largestBatchId,e.largestBatchId))}const Cd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function lu(n){return r_.apply(this,arguments)}function r_(){return r_=(0,Bt.Z)(function*(n){if(n.code!==Wt.FAILED_PRECONDITION||n.message!==Cd)throw n;an("LocalStore","Unexpectedly lost primary lease")}),r_.apply(this,arguments)}class St{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Vn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new St((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof St?t:St.resolve(t)}catch(t){return St.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):St.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):St.reject(t)}static resolve(e){return new St((t,i)=>{t(e)})}static reject(e){return new St((t,i)=>{i(e)})}static waitFor(e){return new St((t,i)=>{let o=0,c=0,l=!1;e.forEach(f=>{++o,f.next(()=>{++c,l&&c===o&&t()},g=>i(g))}),l=!0,c===o&&t()})}static or(e){let t=St.resolve(!1);for(const i of e)t=t.next(o=>o?St.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,c)=>{i.push(t.call(this,o,c))}),this.waitFor(i)}static mapArray(e,t){return new St((i,o)=>{const c=e.length,l=new Array(c);let f=0;for(let g=0;g<c;g++){const E=g;t(e[E]).next(N=>{l[E]=N,++f,f===c&&i(l)},N=>o(N))}})}static doWhile(e,t){return new St((i,o)=>{const c=()=>{!0===e()?t().next(()=>{c()},o):i()};c()})}}class Zh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new so,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Qh(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const o=rb(i.target.error);this.V.reject(new Qh(e,o))}}static open(e,t,i,o){try{return new Zh(t,e.transaction(o,i))}catch(c){throw new Qh(t,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(an("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lA(t)}}class Cs{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===Cs.S((0,gt.z$)())&&Gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return an("SimpleDb","Removing database:",e),xd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,gt.hl)())return!1;if(Cs.C())return!0;const e=(0,gt.z$)(),t=Cs.S(e),i=0<t&&t<10,o=Cs.v(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,Bt.Z)(function*(){return t.db||(an("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=l=>{i(l.target.result)},c.onblocked=()=>{o(new Qh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=l=>{const f=l.target.error;o("VersionError"===f.name?new sn(Wt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new sn(Wt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Qh(e,f))},c.onupgradeneeded=l=>{an("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.p.N(l.target.result,c.transaction,l.oldVersion,t.version).next(()=>{an("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,o){var c=this;return(0,Bt.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{c.db=yield c.O(e);const g=Zh.open(c.db,e,l?"readonly":"readwrite",i),E=o(g).next(N=>(g.g(),N)).catch(N=>(g.abort(N),St.reject(N))).toPromise();return E.catch(()=>{}),yield g.m,E}catch(g){const E=g,N="FirebaseError"!==E.name&&f<3;if(an("SimpleDb","Transaction failed with error:",E.message,"Retrying:",N),c.close(),!N)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class o_{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return xd(this.k.delete())}}class Qh extends sn{constructor(e,t){super(Wt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hl(n){return"IndexedDbTransactionError"===n.name}class lA{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(an("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(an("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),xd(i)}add(e){return an("SimpleDb","ADD",this.store.name,e,e),xd(this.store.add(e))}get(e){return xd(this.store.get(e)).next(t=>(void 0===t&&(t=null),an("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return an("SimpleDb","DELETE",this.store.name,e),xd(this.store.delete(e))}count(){return an("SimpleDb","COUNT",this.store.name),xd(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const o=this.cursor(i),c=[];return this.G(o,(l,f)=>{c.push(f)}).next(()=>c)}{const o=this.store.getAll(i.range);return new St((c,l)=>{o.onerror=f=>{l(f.target.error)},o.onsuccess=f=>{c(f.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new St((o,c)=>{i.onerror=l=>{c(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}H(e,t){an("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const o=this.cursor(i);return this.G(o,(c,l,f)=>f.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const o=this.cursor(i);return this.G(o,t)}Z(e){const t=this.cursor({});return new St((i,o)=>{t.onerror=c=>{const l=rb(c.target.error);o(l)},t.onsuccess=c=>{const l=c.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():i()}):i()}})}G(e,t){const i=[];return new St((o,c)=>{e.onerror=l=>{c(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void o();const g=new o_(f),E=t(f.primaryKey,f.value,g);if(E instanceof St){const N=E.catch(U=>(g.done(),St.reject(U)));i.push(N)}g.isDone?o():null===g.$?f.continue():f.continue(g.$)}}).next(()=>St.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xd(n){return new St((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const o=rb(i.target.error);t(o)}})}let oC=!1;function rb(n){const e=Cs.S((0,gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new sn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oC||(oC=!0,setTimeout(()=>{throw i},0)),i}}return n}class sC{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;an("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Bt.Z)(function*(){t.task=null;try{an("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){hl(i)?an("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield lu(i)}yield t.ee(6e4)}))}}class rO{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,Bt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let o=t,c=!0;return St.doWhile(()=>!0===c&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return an("IndexBackiller",`Processing collection: ${l}`),this.re(e,l,o).next(f=>{o-=f,i.add(l)});c=!1})).next(()=>t-o)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,i).next(c=>{const l=c.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ie(o,c)).next(f=>(an("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}ie(e,t){let i=e;return t.changes.forEach((o,c)=>{const l=ib(c);za(l,i)>0&&(i=l)}),new Ao(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ra=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=o=>this.se(o),this.oe=o=>i.writeSequenceNumber(o))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function s_(n){return null==n}function a_(n){return 0===n&&1/n==-1/0}function ob(n){return"number"==typeof n&&Number.isInteger(n)&&!a_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Bo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qp(e)),e=oO(n.get(t),e);return qp(e)}function oO(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function qp(n){return n+"\x01\x01"}function ja(n){const e=n.length;if(Yn(e>=2),2===e)return Yn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Bi.emptyPath();const t=e-2,i=[];let o="";for(let c=0;c<e;){const l=n.indexOf("\x01",c);switch((l<0||l>t)&&Vn(),n.charAt(l+1)){case"\x01":const f=n.substring(c,l);let g;0===o.length?g=f:(o+=f,g=o,o=""),i.push(g);break;case"\x10":o+=n.substring(c,l),o+="\0";break;case"\x11":o+=n.substring(c,l+1);break;default:Vn()}c=l+2}return new Bi(i)}const sb=["userId","batchId"];function c_(n,e){return[n,Bo(e)]}function ab(n,e,t){return[n,Bo(e),t]}const aC={},gi=["prefixPath","collectionGroup","readTime","documentId"],cC=["prefixPath","collectionGroup","documentId"],lC=["collectionGroup","readTime","prefixPath","documentId"],Xh=["canonicalId","targetId"],uC=["targetId","path"],uA=["path","targetId"],l_=["collectionId","parent"],Jh=["indexId","uid"],cb=["uid","sequenceNumber"],Zp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dC=["indexId","uid","orderedDocumentKey"],lb=["userId","collectionPath","documentId"],ub=["userId","collectionPath","largestBatchId"],db=["userId","collectionGroup","largestBatchId"],hb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fb=[...hb,"documentOverlays"],hC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fC=hC,dA=[...fC,"indexConfiguration","indexState","indexEntries"];class u_ extends rC{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function So(n,e){const t=Dn(n);return Cs.M(t.ae,e)}function pC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class hr{constructor(e,t){this.comparator=e,this.root=t||Uo.EMPTY}insert(e,t){return new hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Uo.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Uo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(0===o)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qp(this.root,e,this.comparator,!0)}}class Qp{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Uo{constructor(e,t,i,o,c){this.key=e,this.value=t,this.color=i??Uo.RED,this.left=o??Uo.EMPTY,this.right=c??Uo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,c){return new Uo(e??this.key,t??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,i),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Uo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Uo.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Uo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Uo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vn();const e=this.left.check();if(e!==this.right.check())throw Vn();return e+(this.isRed()?0:1)}}Uo.EMPTY=null,Uo.RED=!0,Uo.BLACK=!1,Uo.EMPTY=new class{constructor(){this.size=0}get key(){throw Vn()}get value(){throw Vn()}get color(){throw Vn()}get left(){throw Vn()}get right(){throw Vn()}copy(e,t,i,o,c){return this}insert(e,t,i){return new Uo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cr{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new js(this.data.getIterator())}getIteratorFrom(e){return new js(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cr(this.comparator);return t.data=e,t}}class js{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ef(n){return n.hasNext()?n.getNext():void 0}class Hs{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new Hs([])}unionWith(e){let t=new cr(_r.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ed(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class hA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ao{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new hA("Invalid base64 string: "+c):c}}(e);return new ao(t)}static fromUint8Array(e){const t=function(o){let c="";for(let l=0;l<o.length;++l)c+=String.fromCharCode(o[l]);return c}(e);return new ao(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ni(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ao.EMPTY_BYTE_STRING=new ao("");const fA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function du(n){if(Yn(!!n),"string"==typeof n){let e=0;const t=fA.exec(n);if(Yn(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kr(n.seconds),nanos:Kr(n.nanos)}}function Kr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ic(n){return"string"==typeof n?ao.fromBase64String(n):ao.fromUint8Array(n)}function d_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function h_(n){const e=n.mapValue.fields.__previous_value__;return d_(e)?h_(e):e}function Dd(n){const e=du(n.mapValue.fields.__local_write_time__.timestampValue);return new Br(e.seconds,e.nanos)}class pA{constructor(e,t,i,o,c,l,f,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=E}}class hu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}const fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},f_={nullValue:"NULL_VALUE"};function pu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?d_(n)?4:g_(n)?9007199254740991:10:Vn()}function po(n,e){if(n===e)return!0;const t=pu(n);if(t!==pu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dd(n).isEqual(Dd(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const l=du(o.timestampValue),f=du(c.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,Ic(n.bytesValue).isEqual(Ic(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,c){return Kr(o.geoPointValue.latitude)===Kr(c.geoPointValue.latitude)&&Kr(o.geoPointValue.longitude)===Kr(c.geoPointValue.longitude)}(n,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Kr(o.integerValue)===Kr(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const l=Kr(o.doubleValue),f=Kr(c.doubleValue);return l===f?a_(l)===a_(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return Ed(n.arrayValue.values||[],e.arrayValue.values||[],po);case 10:return function(o,c){const l=o.mapValue.fields||{},f=c.mapValue.fields||{};if(pC(l)!==pC(f))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===f[g]||!po(l[g],f[g])))return!1;return!0}(n,e);default:return Vn()}var c}function Td(n,e){return void 0!==(n.values||[]).find(t=>po(t,e))}function mu(n,e){if(n===e)return 0;const t=pu(n),i=pu(e);if(t!==i)return ni(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ni(n.booleanValue,e.booleanValue);case 2:return function(c,l){const f=Kr(c.integerValue||c.doubleValue),g=Kr(l.integerValue||l.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(n,e);case 3:return mb(n.timestampValue,e.timestampValue);case 4:return mb(Dd(n),Dd(e));case 5:return ni(n.stringValue,e.stringValue);case 6:return function(c,l){const f=Ic(c),g=Ic(l);return f.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(c,l){const f=c.split("/"),g=l.split("/");for(let E=0;E<f.length&&E<g.length;E++){const N=ni(f[E],g[E]);if(0!==N)return N}return ni(f.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,l){const f=ni(Kr(c.latitude),Kr(l.latitude));return 0!==f?f:ni(Kr(c.longitude),Kr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,l){const f=c.values||[],g=l.values||[];for(let E=0;E<f.length&&E<g.length;++E){const N=mu(f[E],g[E]);if(N)return N}return ni(f.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,l){if(c===fu.mapValue&&l===fu.mapValue)return 0;if(c===fu.mapValue)return 1;if(l===fu.mapValue)return-1;const f=c.fields||{},g=Object.keys(f),E=l.fields||{},N=Object.keys(E);g.sort(),N.sort();for(let U=0;U<g.length&&U<N.length;++U){const ee=ni(g[U],N[U]);if(0!==ee)return ee;const Pe=mu(f[g[U]],E[N[U]]);if(0!==Pe)return Pe}return ni(g.length,N.length)}(n.mapValue,e.mapValue);default:throw Vn()}}function mb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ni(n,e);const t=du(n),i=du(e),o=ni(t.seconds,i.seconds);return 0!==o?o:ni(t.nanos,i.nanos)}function tf(n){return p_(n)}function p_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=du(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ic(n.bytesValue).toBase64():"referenceValue"in n?xn.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const c of t.values||[])o?o=!1:i+=",",i+=p_(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const l of i)c?c=!1:o+=",",o+=`${l}:${p_(t.fields[l])}`;return o+"}"}(n.mapValue):Vn()}function Cc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Jp(n){return!!n&&"integerValue"in n}function m_(n){return!!n&&"arrayValue"in n}function gb(n){return!!n&&"nullValue"in n}function _b(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function em(n){return!!n&&"mapValue"in n}function nf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return uu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=nf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function g_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function fl(n){return"nullValue"in n?f_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cc(hu.empty(),xn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Vn()}function mA(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cc(hu.empty(),xn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?fu:Vn()}function gC(n,e){const t=mu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function __(n,e){const t=mu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class zo{constructor(e){this.value=e}static empty(){return new zo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!em(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nf(t)}setAll(e){let t=_r.emptyPath(),i={},o=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=f.popLast()}l?i[f.lastSegment()]=nf(l):o.push(f.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,o)}delete(e){const t=this.field(e.popLast());em(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return po(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];em(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){uu(t,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new zo(nf(this.value))}}function vb(n){const e=[];return uu(n.fields,(t,i)=>{const o=new _r([t]);if(em(i)){const c=vb(i.mapValue).fields;if(0===c.length)e.push(o);else for(const l of c)e.push(o.child(l))}else e.push(o)}),new Hs(e)}class vr{constructor(e,t,i,o,c,l,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=c,this.data=l,this.documentState=f}static newInvalidDocument(e){return new vr(e,0,kn.min(),kn.min(),kn.min(),zo.empty(),0)}static newFoundDocument(e,t,i,o){return new vr(e,1,t,kn.min(),i,o,0)}static newNoDocument(e,t){return new vr(e,2,t,kn.min(),kn.min(),zo.empty(),0)}static newUnknownDocument(e,t){return new vr(e,3,t,kn.min(),kn.min(),zo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ha{constructor(e,t){this.position=e,this.inclusive=t}}function rf(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const c=e[o],l=n.position[o];if(i=c.field.isKeyField()?xn.comparator(xn.fromName(l.referenceValue),t.key):mu(l,t.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function yb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!po(n.position[t],e.position[t]))return!1;return!0}class gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function sO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class _C{}class Mi extends _C{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new gA(e,t,i):"array-contains"===t?new vA(e,i):"in"===t?new bC(e,i):"not-in"===t?new yA(e,i):"array-contains-any"===t?new bA(e,i):new Mi(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new _A(e,i):new tm(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(mu(t,this.value)):null!==t&&pu(this.value)===pu(t)&&this.matchesComparison(mu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends _C{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new er(e,t)}matches(e){return sf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sf(n){return"and"===n.op}function bb(n){return"or"===n.op}function v_(n){return Eb(n)&&sf(n)}function Eb(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function Ad(n){if(n instanceof Mi)return n.field.canonicalString()+n.op.toString()+tf(n.value);if(v_(n))return n.filters.map(e=>Ad(e)).join(",");{const e=n.filters.map(t=>Ad(t)).join(",");return`${n.op}(${e})`}}function vC(n,e){return n instanceof Mi?(i=n,(o=e)instanceof Mi&&i.op===o.op&&i.field.isEqual(o.field)&&po(i.value,o.value)):n instanceof er?function(i,o){return o instanceof er&&i.op===o.op&&i.filters.length===o.filters.length&&i.filters.reduce((c,l,f)=>c&&vC(l,o.filters[f]),!0)}(n,e):void Vn();var i,o}function wb(n,e){const t=n.filters.concat(e);return er.create(t,n.op)}function Ib(n){return n instanceof Mi?`${(t=n).field.canonicalString()} ${t.op} ${tf(t.value)}`:n instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(Ib).join(" ,")+"}"}(n):"Filter";var t}class gA extends Mi{constructor(e,t,i){super(e,t,i),this.key=xn.fromName(i.referenceValue)}matches(e){const t=xn.comparator(e.key,this.key);return this.matchesComparison(t)}}class _A extends Mi{constructor(e,t){super(e,"in",t),this.keys=yC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tm extends Mi{constructor(e,t){super(e,"not-in",t),this.keys=yC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>xn.fromName(i.referenceValue))}class vA extends Mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return m_(t)&&Td(t.arrayValue,this.value)}}class bC extends Mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Td(this.value.arrayValue,t)}}class yA extends Mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Td(this.value.arrayValue,t)}}class bA extends Mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!m_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Td(this.value.arrayValue,i))}}class EA{constructor(e,t=null,i=[],o=[],c=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=l,this.endAt=f,this.ce=null}}function Cb(n,e=null,t=[],i=[],o=null,c=null,l=null){return new EA(n,e,t,i,o,c,l)}function Sd(n){const e=Dn(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ad(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),s_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>tf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>tf(i)).join(",")),e.ce=t}return e.ce}function af(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yb(n.startAt,e.startAt)&&yb(n.endAt,e.endAt)}function cf(n){return xn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function y_(n,e){return n.filters.filter(t=>t instanceof Mi&&t.field.isEqual(e))}function nm(n,e,t){let i=f_,o=!0;for(const c of y_(n,e)){let l=f_,f=!0;switch(c.op){case"<":case"<=":l=fl(c.value);break;case"==":case"in":case">=":l=c.value;break;case">":l=c.value,f=!1;break;case"!=":case"not-in":l=f_}gC({value:i,inclusive:o},{value:l,inclusive:f})<0&&(i=l,o=f)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const l=t.position[c];gC({value:i,inclusive:o},{value:l,inclusive:t.inclusive})<0&&(i=l,o=t.inclusive);break}return{value:i,inclusive:o}}function EC(n,e,t){let i=fu,o=!0;for(const c of y_(n,e)){let l=fu,f=!0;switch(c.op){case">=":case">":l=mA(c.value),f=!1;break;case"==":case"in":case"<=":l=c.value;break;case"<":l=c.value,f=!1;break;case"!=":case"not-in":l=fu}__({value:i,inclusive:o},{value:l,inclusive:f})>0&&(i=l,o=f)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const l=t.position[c];__({value:i,inclusive:o},{value:l,inclusive:t.inclusive})>0&&(i=l,o=t.inclusive);break}return{value:i,inclusive:o}}class pl{constructor(e,t=null,i=[],o=[],c=null,l="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=l,this.startAt=f,this.endAt=g,this.le=null,this.he=null,this.Pe=null}}function wC(n,e,t,i,o,c,l,f){return new pl(n,e,t,i,o,c,l,f)}function lf(n){return new pl(n)}function IC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function xb(n){return null!==n.collectionGroup}function uf(n){const e=Dn(n);if(null===e.le){e.le=[];const t=new Set;for(const c of e.explicitOrderBy)e.le.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let f=new cr(_r.comparator);return l.filters.forEach(g=>{g.getFlattenedFilters().forEach(E=>{E.isInequality()&&(f=f.add(E.field))})}),f})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.le.push(new gu(c,i))}),t.has(_r.keyField().canonicalString())||e.le.push(new gu(_r.keyField(),i))}return e.le}function ns(n){const e=Dn(n);return e.he||(e.he=function Db(n,e){if("F"===n.limitType)return Cb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>new gu(o.field,"desc"===o.dir?"asc":"desc"));const t=n.endAt?new Ha(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ha(n.startAt.position,n.startAt.inclusive):null;return Cb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,uf(n))),e.he}function Tb(n,e){const t=n.filters.concat([e]);return new pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ab(n,e,t){return new pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function df(n,e){return af(ns(n),ns(e))&&n.limitType===e.limitType}function Sb(n){return`${Sd(ns(n))}|lt:${n.limitType}`}function im(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Ib(o)).join(", ")}]`),s_(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>tf(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>tf(o)).join(",")),`Target(${i})`}(ns(n))}; limitType=${n.limitType})`}function _u(n,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):xn.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(n,e)&&function(i,o){for(const c of uf(i))if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(n,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(n,e)&&(o=e,!((i=n).startAt&&!function(l,f,g){const E=rf(l,f,g);return l.inclusive?E<=0:E<0}(i.startAt,uf(i),o)||i.endAt&&!function(l,f,g){const E=rf(l,f,g);return l.inclusive?E>=0:E>0}(i.endAt,uf(i),o)));var i,o}function CC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xC(n){return(e,t)=>{let i=!1;for(const o of uf(n)){const c=Rb(o,e,t);if(0!==c)return c;i=i||o.field.isKeyField()}return 0}}function Rb(n,e,t){const i=n.field.isKeyField()?xn.comparator(e.key,t.key):function(c,l,f){const g=l.data.field(c),E=f.data.field(c);return null!==g&&null!==E?mu(g,E):Vn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Vn()}}class ml{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[o,c]of i)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(void 0===o)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return 1===i.length?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){uu(this.inner,(t,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return mC(this.inner)}size(){return this.innerSize}}const xc=new hr(xn.comparator);function Ro(){return xc}const jo=new hr(xn.comparator);function $a(...n){let e=jo;for(const t of n)e=e.insert(t.key,t);return e}function rm(n){let e=jo;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function eo(){return Dc()}function b_(){return Dc()}function Dc(){return new ml(n=>n.toString(),(n,e)=>n.isEqual(e))}const hf=new hr(xn.comparator),ff=new cr(xn.comparator);function ui(...n){let e=ff;for(const t of n)e=e.add(t);return e}const pf=new cr(ni);function vu(){return pf}function Rd(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:a_(e)?"-0":e}}function Md(n){return{integerValue:""+n}}function Pd(n,e){return ob(e)?Md(e):Rd(n,e)}class om{constructor(){this._=void 0}}function DC(n,e,t){return n instanceof Od?function(o,c){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&d_(c)&&(c=h_(c)),c&&(l.fields.__previous_value__=c),{mapValue:l}}(t,e):n instanceof yu?Pb(n,e):n instanceof bu?Ob(n,e):function(o,c){const l=Mb(o,c),f=AC(l)+AC(o.Ie);return Jp(l)&&Jp(o.Ie)?Md(f):Rd(o.serializer,f)}(n,e)}function TC(n,e,t){return n instanceof yu?Pb(n,e):n instanceof bu?Ob(n,e):t}function Mb(n,e){return n instanceof Eu?Jp(i=e)||(c=i)&&"doubleValue"in c?e:{integerValue:0}:null;var i,c}class Od extends om{}class yu extends om{constructor(e){super(),this.elements=e}}function Pb(n,e){const t=wA(e);for(const i of n.elements)t.some(o=>po(o,i))||t.push(i);return{arrayValue:{values:t}}}class bu extends om{constructor(e){super(),this.elements=e}}function Ob(n,e){let t=wA(e);for(const i of n.elements)t=t.filter(o=>!po(o,i));return{arrayValue:{values:t}}}class Eu extends om{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function AC(n){return Kr(n.integerValue||n.doubleValue)}function wA(n){return m_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class E_{constructor(e,t){this.field=e,this.transform=t}}class CA{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function w_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class kb{}function SC(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new _f(n.key,Ur.none()):new wu(n.key,n.data,Ur.none());{const t=n.data,i=zo.empty();let o=new cr(_r.comparator);for(let c of e.fields)if(!o.has(c)){let l=t.field(c);null===l&&c.length>1&&(c=c.popLast(),l=t.field(c)),null===l?i.delete(c):i.set(c,l),o=o.add(c)}return new Ta(n.key,i,new Hs(o.toArray()),Ur.none())}}function xA(n,e,t){n instanceof wu?function(o,c,l){const f=o.value.clone(),g=gf(o.fieldTransforms,c,l.transformResults);f.setAll(g),c.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ta?function(o,c,l){if(!w_(o.precondition,c))return void c.convertToUnknownDocument(l.version);const f=gf(o.fieldTransforms,c,l.transformResults),g=c.data;g.setAll(Fb(o)),g.setAll(f),c.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function sm(n,e,t,i){return n instanceof wu?function(c,l,f,g){if(!w_(c.precondition,l))return f;const E=c.value.clone(),N=Lb(c.fieldTransforms,g,l);return E.setAll(N),l.convertToFoundDocument(l.version,E).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ta?function(c,l,f,g){if(!w_(c.precondition,l))return f;const E=Lb(c.fieldTransforms,g,l),N=l.data;return N.setAll(Fb(c)),N.setAll(E),l.convertToFoundDocument(l.version,N).setHasLocalMutations(),null===f?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(U=>U.field))}(n,e,t,i):(f=t,w_(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Nb(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),c=Mb(i.transform,o||null);null!=c&&(null===t&&(t=zo.empty()),t.set(i.field,c))}return t||null}function mf(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===o||i&&o&&Ed(i,o,(c,l)=>function IA(n,e){return n.field.isEqual(e.field)&&(o=e.transform,(i=n.transform)instanceof yu&&o instanceof yu||i instanceof bu&&o instanceof bu?Ed(i.elements,o.elements,po):i instanceof Eu&&o instanceof Eu?po(i.Ie,o.Ie):i instanceof Od&&o instanceof Od);var i,o}(c,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,o}class wu extends kb{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ta extends kb{constructor(e,t,i,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function gf(n,e,t){const i=new Map;Yn(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],l=c.transform,f=e.data.field(c.field);i.set(c.field,TC(l,f,t[o]))}return i}function Lb(n,e,t){const i=new Map;for(const o of n){const c=o.transform,l=t.data.field(o.field);i.set(o.field,DC(c,l,e))}return i}class _f extends kb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kd extends kb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vb{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&xA(c,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=sm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=sm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=b_();return this.mutations.forEach(o=>{const c=e.get(o.key),l=c.overlayedDocument;let f=this.applyToLocalView(l,c.mutatedFields);f=t.has(o.key)?null:f;const g=SC(l,f);null!==g&&i.set(o.key,g),l.isValidDocument()||l.convertToNoDocument(kn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ui())}isEqual(e){return this.batchId===e.batchId&&Ed(this.mutations,e.mutations,(t,i)=>mf(t,i))&&Ed(this.baseMutations,e.baseMutations,(t,i)=>mf(t,i))}}class Bb{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Yn(e.mutations.length===i.length);let o=hf;const c=e.mutations;for(let l=0;l<c.length;l++)o=o.insert(c[l].key,i[l].version);return new Bb(e,t,i,o)}}class Ub{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zb{constructor(e,t){this.count=e,this.unchangedNames=t}}var zr,Pi;function TA(n){switch(n){default:return Vn();case Wt.CANCELLED:case Wt.UNKNOWN:case Wt.DEADLINE_EXCEEDED:case Wt.RESOURCE_EXHAUSTED:case Wt.INTERNAL:case Wt.UNAVAILABLE:case Wt.UNAUTHENTICATED:return!1;case Wt.INVALID_ARGUMENT:case Wt.NOT_FOUND:case Wt.ALREADY_EXISTS:case Wt.PERMISSION_DENIED:case Wt.FAILED_PRECONDITION:case Wt.ABORTED:case Wt.OUT_OF_RANGE:case Wt.UNIMPLEMENTED:case Wt.DATA_LOSS:return!0}}function RC(n){if(void 0===n)return Gr("GRPC error has no .code"),Wt.UNKNOWN;switch(n){case zr.OK:return Wt.OK;case zr.CANCELLED:return Wt.CANCELLED;case zr.UNKNOWN:return Wt.UNKNOWN;case zr.DEADLINE_EXCEEDED:return Wt.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return Wt.RESOURCE_EXHAUSTED;case zr.INTERNAL:return Wt.INTERNAL;case zr.UNAVAILABLE:return Wt.UNAVAILABLE;case zr.UNAUTHENTICATED:return Wt.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return Wt.INVALID_ARGUMENT;case zr.NOT_FOUND:return Wt.NOT_FOUND;case zr.ALREADY_EXISTS:return Wt.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return Wt.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return Wt.FAILED_PRECONDITION;case zr.ABORTED:return Wt.ABORTED;case zr.OUT_OF_RANGE:return Wt.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return Wt.UNIMPLEMENTED;case zr.DATA_LOSS:return Wt.DATA_LOSS;default:return Vn()}}(Pi=zr||(zr={}))[Pi.OK=0]="OK",Pi[Pi.CANCELLED=1]="CANCELLED",Pi[Pi.UNKNOWN=2]="UNKNOWN",Pi[Pi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pi[Pi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pi[Pi.NOT_FOUND=5]="NOT_FOUND",Pi[Pi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pi[Pi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pi[Pi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pi[Pi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pi[Pi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pi[Pi.ABORTED=10]="ABORTED",Pi[Pi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pi[Pi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pi[Pi.INTERNAL=13]="INTERNAL",Pi[Pi.UNAVAILABLE=14]="UNAVAILABLE",Pi[Pi.DATA_LOSS=15]="DATA_LOSS";function C_(){return new TextEncoder}const AA=new Kh([4294967295,4294967295],0);function jb(n){const e=C_().encode(n),t=new QI;return t.update(e),new Uint8Array(t.digest())}function MC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Kh([t,i],0),new Kh([o,c],0)]}class Hb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new vf(`Invalid padding: ${t}`);if(i<0)throw new vf(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new vf(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new vf(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Kh.fromNumber(this.Te)}de(e,t,i){let o=e.add(t.multiply(Kh.fromNumber(i)));return 1===o.compare(AA)&&(o=new Kh([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=jb(e),[i,o]=MC(t);for(let c=0;c<this.hashCount;c++){const l=this.de(i,o,c);if(!this.Ae(l))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),l=new Hb(c,o,t);return i.forEach(f=>l.insert(f)),l}insert(e){if(0===this.Te)return;const t=jb(e),[i,o]=MC(t);for(let c=0;c<this.hashCount;c++){const l=this.de(i,o,c);this.Re(l)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class vf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yf{constructor(e,t,i,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,bf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new yf(kn.min(),o,new hr(ni),Ro(),ui())}}class bf{constructor(e,t,i,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bf(i,t,ui(),ui(),ui())}}class x_{constructor(e,t,i,o){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=o}}class PC{constructor(e,t){this.targetId=e,this.fe=t}}class OC{constructor(e,t,i=ao.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class $b{constructor(){this.ge=0,this.pe=kC(),this.ye=ao.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ui(),t=ui(),i=ui();return this.pe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Vn()}}),new bf(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=kC()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Wb{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ro(),this.Qe=D_(),this.Ke=new hr(ni)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Vn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.fe.count,o=this.Ye(t);if(o){const c=o.target;if(cf(c))if(0===i){const l=new xn(c.path);this.We(t,l,vr.newNoDocument(l,kn.min()))}else Yn(1===i);else{const l=this.Ze(t);if(l!==i){const f=this.Xe(e),g=f?this.et(f,e,l):1;0!==g&&(this.He(t),this.Ke=this.Ke.insert(t,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=t;let l,f;try{l=Ic(i).toUint8Array()}catch(g){if(g instanceof hA)return zs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Hb(l,o,c)}catch(g){return zs(g instanceof vf?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return 0===f.Te?null:f}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(c=>{const l=this.Le.nt(),f=`projects/${l.projectId}/databases/${l.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.We(t,c,null),o++)}),o}it(e){const t=new Map;this.ke.forEach((c,l)=>{const f=this.Ye(l);if(f){if(c.current&&cf(f.target)){const g=new xn(f.target.path);null!==this.qe.get(g)||this.st(l,g)||this.We(l,g,vr.newNoDocument(g,e))}c.De&&(t.set(l,c.ve()),c.Fe())}});let i=ui();this.Qe.forEach((c,l)=>{let f=!0;l.forEachWhile(g=>{const E=this.Ye(g);return!E||"TargetPurposeLimboResolution"===E.purpose||(f=!1,!1)}),f&&(i=i.add(c))}),this.qe.forEach((c,l)=>l.setReadTime(e));const o=new yf(e,t,this.Ke,this.qe,i);return this.qe=Ro(),this.Qe=D_(),this.Ke=new hr(ni),o}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.st(e,t)?o.Me(t,1):o.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new $b,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new cr(ni),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||an("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new $b),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function D_(){return new hr(xn.comparator)}function kC(){return new hr(xn.comparator)}const T_={asc:"ASCENDING",desc:"DESCENDING"},A_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gb={and:"AND",or:"OR"};class NC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kb(n,e){return n.useProto3Json||s_(e)?e:{value:e}}function Ef(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function S_(n,e){return Ef(n,e.toTimestamp())}function Sr(n){return Yn(!!n),kn.fromTimestamp(function(t){const i=du(t);return new Br(i.seconds,i.nanos)}(n))}function am(n,e){return(i=n,new Bi(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function Yb(n){const e=Bi.fromString(n);return Yn(lm(e)),e}function cm(n,e){return am(n.databaseId,e.path)}function Tc(n,e){const t=Yb(e);if(t.get(1)!==n.databaseId.projectId)throw new sn(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new sn(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xn(P_(t))}function R_(n,e){return am(n.databaseId,e)}function M_(n){const e=Yb(n);return 4===e.length?Bi.emptyPath():P_(e)}function wf(n){return new Bi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function P_(n){return Yn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function O_(n,e,t){return{name:cm(n,e),fields:t.value.mapValue.fields}}function LC(n,e,t){const i=Tc(n,e.name),o=Sr(e.updateTime),c=e.createTime?Sr(e.createTime):kn.min(),l=new zo({mapValue:{fields:e.fields}}),f=vr.newFoundDocument(i,o,c,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function If(n,e){let t;if(e instanceof wu)t={update:O_(n,e.key,e.value)};else if(e instanceof _f)t={delete:cm(n,e.key)};else if(e instanceof Ta)t={update:O_(n,e.key,e.data),updateMask:HC(e.fieldMask)};else{if(!(e instanceof kd))return Vn();t={verify:cm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,l){const f=l.transform;if(f instanceof Od)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof yu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof bu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Eu)return{fieldPath:l.field.canonicalString(),increment:f.Ie};throw Vn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:S_(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Vn()),t;var c}function k_(n,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Ur.updateTime(Sr(c.updateTime)):void 0!==c.exists?Ur.exists(c.exists):Ur.none():Ur.none(),i=e.updateTransforms?e.updateTransforms.map(o=>function(l,f){let g=null;"setToServerValue"in f?(Yn("REQUEST_TIME"===f.setToServerValue),g=new Od):"appendMissingElements"in f?g=new yu(f.appendMissingElements.values||[]):"removeAllFromArray"in f?g=new bu(f.removeAllFromArray.values||[]):"increment"in f?g=new Eu(l,f.increment):Vn();const E=_r.fromServerFormat(f.fieldPath);return new E_(E,g)}(n,o)):[];var c;if(e.update){const o=Tc(n,e.update.name),c=new zo({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Hs((e.updateMask.fieldPaths||[]).map(N=>_r.fromServerFormat(N)));return new Ta(o,c,l,t,i)}return new wu(o,c,t,i)}if(e.delete){const o=Tc(n,e.delete);return new _f(o,t)}if(e.verify){const o=Tc(n,e.verify);return new kd(o,t)}return Vn()}function qb(n,e){return{documents:[R_(n,e.path)]}}function N_(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=R_(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=R_(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const o=function(g){if(0!==g.length)return Xb(er.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(g){if(0!==g.length)return g.map(E=>{return{field:gl((U=E).field),direction:UC(U.dir)};var U})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const l=Kb(n,e.limit);return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),t;var g}function F_(n){let e=M_(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Yn(1===i);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let c=[];t.where&&(c=function(U){const ee=Qb(U);return ee instanceof er&&v_(ee)?ee.getFilters():[ee]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(ee=>{return new gu(Nd((at=ee).field),function(Ht){switch(Ht){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(at.direction));var at}));let f=null;t.limit&&(f=function(U){let ee;return ee="object"==typeof U?U.value:U,s_(ee)?null:ee}(t.limit));let g=null;var U;t.startAt&&(g=new Ha((U=t.startAt).values||[],!!U.before));let E=null;return t.endAt&&(E=function(U){return new Ha(U.values||[],!U.before)}(t.endAt)),wC(e,o,l,c,f,"F",g,E)}function Qb(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Nd(t.unaryFilter.field);return Mi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Nd(t.unaryFilter.field);return Mi.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Nd(t.unaryFilter.field);return Mi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Nd(t.unaryFilter.field);return Mi.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Vn()}}(n):void 0!==n.fieldFilter?Mi.create(Nd((t=n).fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return er.create(t.compositeFilter.filters.map(i=>Qb(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Vn()}}(t.compositeFilter.op))}(n):Vn();var t}function UC(n){return T_[n]}function zC(n){return A_[n]}function jC(n){return Gb[n]}function gl(n){return{fieldPath:n.canonicalString()}}function Nd(n){return _r.fromServerFormat(n.fieldPath)}function Xb(n){return n instanceof Mi?function(t){if("=="===t.op){if(_b(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NAN"}};if(gb(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_b(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NOT_NAN"}};if(gb(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(t.field),op:zC(t.op),value:t.value}}}(n):n instanceof er?function(t){const i=t.getFilters().map(o=>Xb(o));return 1===i.length?i[0]:{compositeFilter:{op:jC(t.op),filters:i}}}(n):Vn()}function HC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lm(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class is{constructor(e,t,i,o,c=kn.min(),l=kn.min(),f=ao.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $C{constructor(e){this.ut=e}}function L_(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ac(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:cm(c=n.ut,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Ef(c,l.version.toTimestamp()),createTime:Ef(c,l.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:_l(e.version)};else{if(!e.isUnknownDocument())return Vn();i.unknownDocument={path:t.path.toArray(),version:_l(e.version)}}var c,l;return i}function Ac(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function _l(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fd(n){const e=new Br(n.seconds,n.nanoseconds);return kn.fromTimestamp(e)}function vl(n,e){const t=(e.baseMutations||[]).map(c=>k_(n.ut,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const i=e.mutations.map(c=>k_(n.ut,c)),o=Br.fromMillis(e.localWriteTimeMs);return new Vb(e.batchId,o,t,i)}function V_(n){const e=Fd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Fd(n.lastLimboFreeSnapshotVersion):kn.min();let i;return i=void 0!==n.query.documents?(Yn(1===(c=n.query).documents.length),ns(lf(M_(c.documents[0])))):function(c){return ns(F_(c))}(n.query),new is(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ao.fromBase64String(n.resumeToken));var c}function MA(n,e){const t=_l(e.snapshotVersion),i=_l(e.lastLimboFreeSnapshotVersion);let o;o=cf(e.target)?qb(n.ut,e.target):N_(n.ut,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sd(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function Jb(n){const e=F_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ab(e,e.limit,"L"):e}function e0(n,e){return new Ub(e.largestBatchId,k_(n.ut,e.overlayMutation))}function t0(n,e){const t=e.path.lastSegment();return[n,Bo(e.path.popLast()),t]}function WC(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:_l(i.readTime),documentKey:Bo(i.documentKey.path),largestBatchId:i.largestBatchId}}class mo{getBundleMetadata(e,t){return n0(e).get(t).next(i=>{if(i)return{id:(c=i).bundleId,createTime:Fd(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return n0(e).put({bundleId:(o=t).id,createTime:_l(Sr(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return GC(e).get(t).next(i=>{if(i)return{name:(c=i).name,query:Jb(c.bundledQuery),readTime:Fd(c.readTime)};var c})}saveNamedQuery(e,t){return GC(e).put({name:(o=t).name,readTime:_l(Sr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function n0(n){return So(n,"bundles")}function GC(n){return So(n,"namedQueries")}class B_{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new B_(e,t.uid||"")}getOverlay(e,t){return Cf(e).get(t0(this.userId,t)).next(i=>i?e0(this.serializer,i):null)}getOverlays(e,t){const i=eo();return St.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&i.set(o,c)})).next(()=>i)}saveOverlays(e,t,i){const o=[];return i.forEach((c,l)=>{const f=new Ub(t,l);o.push(this.lt(e,f))}),St.waitFor(o)}removeOverlaysForBatchId(e,t,i){const o=new Set;t.forEach(l=>o.add(Bo(l.getCollectionPath())));const c=[];return o.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);c.push(Cf(e).H("collectionPathOverlayIndex",f))}),St.waitFor(c)}getOverlaysForCollection(e,t,i){const o=eo(),c=Bo(t),l=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Cf(e).W("collectionPathOverlayIndex",l).next(f=>{for(const g of f){const E=e0(this.serializer,g);o.set(E.getKey(),E)}return o})}getOverlaysForCollectionGroup(e,t,i,o){const c=eo();let l;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cf(e).Y({index:"collectionGroupOverlayIndex",range:f},(g,E,N)=>{const U=e0(this.serializer,E);c.size()<o||U.largestBatchId===l?(c.set(U.getKey(),U),l=U.largestBatchId):N.done()}).next(()=>c)}lt(e,t){return Cf(e).put(function(o,c,l){const[f,g,E]=t0(c,l.mutation.key);return{userId:c,collectionPath:g,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:If(o.ut,l.mutation)}}(this.serializer,this.userId,t))}}function Cf(n){return So(n,"documentOverlays")}class Ld{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Kr(e.integerValue));else if("doubleValue"in e){const i=Kr(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),a_(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ic(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?g_(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Vn()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const o of Object.keys(i))this.At(o,t),this.Pt(i[o],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const o of i)this.Pt(o,t)}ft(e,t){this.Tt(t,37),xn.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function KC(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function r0(n){const e=64-function(i){let o=0;for(let c=0;c<8;++c){const l=KC(255&i[c]);if(o+=l,8!==l)break}return o}(n);return Math.ceil(e/8)}Ld.St=new Ld;class xf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const o=t.codePointAt(0);this.Dt(240|o>>>18),this.Dt(128|63&o>>>12),this.Dt(128|63&o>>>6),this.Dt(128|63&o)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const o=t.codePointAt(0);this.Ft(240|o>>>18),this.Ft(128|63&o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o)}}this.Mt()}Nt(e){const t=this.Bt(e),i=r0(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=255&t[o]}kt(e){const t=this.Bt(e),i=r0(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(c){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,c,!1),new Uint8Array(l.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let o=1;o<t.length;++o)t[o]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class PA{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class OA{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Df{constructor(){this.Wt=new xf,this.Gt=new PA(this.Wt),this.zt=new OA(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Vd{constructor(e,t,i,o){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=o}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Vd(this.indexId,this.documentKey,this.arrayValue,i)}}function yl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=kA(n.arrayValue,e.arrayValue),0!==t?t:(t=kA(n.directionalValue,e.directionalValue),0!==t?t:xn.comparator(n.documentKey,e.documentKey)))}function kA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class U_{constructor(e){this.Jt=new cr((t,i)=>_r.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Yn(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=i_(e);if(void 0!==t&&!this.tn(t))return!1;const i=Id(e);let o=new Set,c=0,l=0;for(;c<i.length&&this.tn(i[c]);++c)o=o.add(i[c].fieldPath.canonicalString());if(c===i.length)return!0;if(this.Jt.size>0){const f=this.Jt.getIterator().getNext();if(!o.has(f.field.canonicalString())){const g=i[c];if(!this.nn(f,g)||!this.rn(this.Yt[l++],g))return!1}++c}for(;c<i.length;++c)if(l>=this.Yt.length||!this.rn(this.Yt[l++],i[c]))return!1;return!0}sn(){if(this.Xt)return null;let e=new cr(_r.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new cu(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new cu(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new cu(i.field,"asc"===i.dir?0:1)));return new wd(wd.UNKNOWN_ID,this.collectionId,t,qh.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function z_(n){var e,t;if(Yn(n instanceof Mi||n instanceof er),n instanceof Mi){if(n instanceof bC){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Mi.create(n.field,"==",c)))||[];return er.create(o,"or")}return n}const i=n.filters.map(o=>z_(o));return er.create(i,n.op)}function Sc(n){if(0===n.getFilters().length)return[];const e=oa(z_(n));return Yn(Wa(e)),o0(e)||s0(e)?[e]:e.getFilters()}function o0(n){return n instanceof Mi}function s0(n){return n instanceof er&&v_(n)}function Wa(n){return o0(n)||s0(n)||function(t){if(t instanceof er&&bb(t)){for(const i of t.getFilters())if(!o0(i)&&!s0(i))return!1;return!0}return!1}(n)}function oa(n){if(Yn(n instanceof Mi||n instanceof er),n instanceof Mi)return n;if(1===n.filters.length)return oa(n.filters[0]);const e=n.filters.map(i=>oa(i));let t=er.create(e,n.op);return t=um(t),Wa(t)?t:(Yn(t instanceof er),Yn(sf(t)),Yn(t.filters.length>1),t.filters.reduce((i,o)=>sa(i,o)))}function sa(n,e){let t;return Yn(n instanceof Mi||n instanceof er),Yn(e instanceof Mi||e instanceof er),t=n instanceof Mi?e instanceof Mi?er.create([n,e],"and"):a0(n,e):e instanceof Mi?a0(e,n):function(o,c){if(Yn(o.filters.length>0&&c.filters.length>0),sf(o)&&sf(c))return wb(o,c.getFilters());const l=bb(o)?o:c,f=bb(o)?c:o,g=l.filters.map(E=>sa(E,f));return er.create(g,"or")}(n,e),um(t)}function a0(n,e){if(sf(e))return wb(e,n.getFilters());{const t=e.filters.map(i=>sa(n,i));return er.create(t,"or")}}function um(n){if(Yn(n instanceof Mi||n instanceof er),n instanceof Mi)return n;const e=n.getFilters();if(1===e.length)return um(e[0]);if(Eb(n))return n;const t=e.map(o=>um(o)),i=[];return t.forEach(o=>{o instanceof Mi?i.push(o):o instanceof er&&(o.op===n.op?i.push(...o.filters):i.push(o))}),1===i.length?i[0]:er.create(i,n.op)}class NA{constructor(){this.on=new c0}addToCollectionParentIndex(e,t){return this.on.add(t),St.resolve()}getCollectionParents(e,t){return St.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return St.resolve()}deleteFieldIndex(e,t){return St.resolve()}deleteAllFieldIndexes(e){return St.resolve()}createTargetIndexes(e,t){return St.resolve()}getDocumentsMatchingTarget(e,t){return St.resolve(null)}getIndexType(e,t){return St.resolve(0)}getFieldIndexes(e,t){return St.resolve([])}getNextCollectionGroupToUpdate(e){return St.resolve(null)}getMinOffset(e,t){return St.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,t){return St.resolve(Ao.min())}updateCollectionGroup(e,t,i){return St.resolve()}updateIndexEntries(e,t){return St.resolve()}}class c0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new cr(Bi.comparator),c=!o.has(i);return this.index[t]=o.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new cr(Bi.comparator)).toArray()}}const j_=new Uint8Array(0);class FA{constructor(e,t){this.user=e,this.databaseId=t,this._n=new c0,this.an=new ml(i=>Sd(i),(i,o)=>af(i,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const c={collectionId:i,parent:Bo(o)};return H_(e).put(c)}return St.resolve()}getCollectionParents(e,t){const i=[],o=IDBKeyRange.bound([t,""],[tC(t),""],!1,!0);return H_(e).W(o).next(c=>{for(const l of c){if(l.collectionId!==t)break;i.push(ja(l.parent))}return i})}addFieldIndex(e,t){const i=dm(e),o={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var f;delete o.indexId;const c=i.add(o);if(t.indexState){const l=Bd(e);return c.next(f=>{l.put(WC(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const i=dm(e),o=Bd(e),c=Rc(e);return i.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=dm(e),i=Rc(e),o=Bd(e);return t.H().next(()=>i.H()).next(()=>o.H())}createTargetIndexes(e,t){return St.forEach(this.un(t),i=>this.getIndexType(e,i).next(o=>{if(0===o||1===o){const c=new U_(i).sn();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,t){const i=Rc(e);let o=!0;const c=new Map;return St.forEach(this.un(t),l=>this.cn(e,l).next(f=>{o&&(o=!!f),c.set(l,f)})).next(()=>{if(o){let l=ui();const f=[];return St.forEach(c,(g,E)=>{var vn;an("IndexedDbIndexManager",`Using index ${vn=g,`id=${vn.indexId}|cg=${vn.collectionGroup}|f=${vn.fields.map(zn=>`${zn.fieldPath}:${zn.kind}`).join(",")}`} to execute ${Sd(t)}`);const N=function(vn,zn){const pi=i_(zn);if(void 0===pi)return null;for(const wi of y_(vn,pi.fieldPath))switch(wi.op){case"array-contains-any":return wi.value.arrayValue.values||[];case"array-contains":return[wi.value]}return null}(E,g),U=function(vn,zn){const pi=new Map;for(const wi of Id(zn))for(const Wi of y_(vn,wi.fieldPath))switch(Wi.op){case"==":case"in":pi.set(wi.fieldPath.canonicalString(),Wi.value);break;case"not-in":case"!=":return pi.set(wi.fieldPath.canonicalString(),Wi.value),Array.from(pi.values())}return null}(E,g),ee=function(vn,zn){const pi=[];let wi=!0;for(const Wi of Id(zn)){const Po=0===Wi.kind?nm(vn,Wi.fieldPath,vn.startAt):EC(vn,Wi.fieldPath,vn.startAt);pi.push(Po.value),wi&&(wi=Po.inclusive)}return new Ha(pi,wi)}(E,g),Pe=function(vn,zn){const pi=[];let wi=!0;for(const Wi of Id(zn)){const Po=0===Wi.kind?EC(vn,Wi.fieldPath,vn.endAt):nm(vn,Wi.fieldPath,vn.endAt);pi.push(Po.value),wi&&(wi=Po.inclusive)}return new Ha(pi,wi)}(E,g),at=this.ln(g,E,ee),wt=this.ln(g,E,Pe),Ht=this.hn(g,E,U),En=this.Pn(g.indexId,N,at,ee.inclusive,wt,Pe.inclusive,Ht);return St.forEach(En,In=>i.j(In,t.limit).next(vn=>{vn.forEach(zn=>{const pi=xn.fromSegments(zn.documentKey);l.has(pi)||(l=l.add(pi),f.push(pi))})}))}).next(()=>f)}return St.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Sc(er.create(e.filters,"and")).map(i=>Cb(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,o,c,l,f){const g=(null!=t?t.length:1)*Math.max(i.length,c.length),E=g/(null!=t?t.length:1),N=[];for(let U=0;U<g;++U){const ee=t?this.In(t[U/E]):j_,Pe=this.Tn(e,ee,i[U%E],o),at=this.En(e,ee,c[U%E],l),wt=f.map(Ht=>this.Tn(e,ee,Ht,!0));N.push(...this.createRange(Pe,at,wt))}return N}Tn(e,t,i,o){const c=new Vd(e,xn.empty(),t,i);return o?c:c.Ht()}En(e,t,i,o){const c=new Vd(e,xn.empty(),t,i);return o?c.Ht():c}cn(e,t){const i=new U_(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(c=>{let l=null;for(const f of c)i.en(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let i=2;const o=this.un(t);return St.forEach(o,c=>this.cn(e,c).next(l=>{l?0!==i&&l.fields.length<function(g){let E=new cr(_r.comparator),N=!1;for(const U of g.filters)for(const ee of U.getFlattenedFilters())ee.field.isKeyField()||("array-contains"===ee.op||"array-contains-any"===ee.op?N=!0:E=E.add(ee.field));for(const U of g.orderBy)U.field.isKeyField()||(E=E.add(U.field));return E.size+(N?1:0)}(c)&&(i=1):i=0})).next(()=>null!==t.limit&&o.length>1&&2===i?1:i)}dn(e,t){const i=new Df;for(const o of Id(e)){const c=t.data.field(o.fieldPath);if(null==c)return null;const l=i.jt(o.kind);Ld.St.ht(c,l)}return i.Ut()}In(e){const t=new Df;return Ld.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new Df;return Ld.St.ht(Cc(this.databaseId,t),i.jt(function(c){const l=Id(c);return 0===l.length?0:l[l.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let o=[];o.push(new Df);let c=0;for(const l of Id(e)){const f=i[c++];for(const g of o)if(this.Rn(t,l.fieldPath)&&m_(f))o=this.Vn(o,l,f);else{const E=g.jt(l.kind);Ld.St.ht(f,E)}}return this.mn(o)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const o=[...e],c=[];for(const l of i.arrayValue.values||[])for(const f of o){const g=new Df;g.seed(f.Ut()),Ld.St.ht(l,g.jt(t.kind)),c.push(g)}return c}Rn(e,t){return!!e.filters.find(i=>i instanceof Mi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=dm(e),o=Bd(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(c=>{const l=[];return St.forEach(c,f=>o.get([f.indexId,this.uid]).next(g=>{l.push(function(N,U){const ee=U?new qh(U.sequenceNumber,new Ao(Fd(U.readTime),new xn(ja(U.documentKey)),U.largestBatchId)):qh.empty(),Pe=N.fields.map(([at,wt])=>new cu(_r.fromServerFormat(at),wt));return new wd(N.indexId,N.collectionGroup,Pe,ee)}(f,g))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,o)=>{const c=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==c?c:ni(i.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const o=dm(e),c=Bd(e);return this.fn(e).next(l=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>St.forEach(f,g=>c.put(WC(g.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return St.forEach(t,(o,c)=>{const l=i.get(o.collectionGroup);return(l?St.resolve(l):this.getFieldIndexes(e,o.collectionGroup)).next(f=>(i.set(o.collectionGroup,f),St.forEach(f,g=>this.gn(e,o,g).next(E=>{const N=this.pn(c,g);return E.isEqual(N)?St.resolve():this.yn(e,c,g,E,N)}))))})}wn(e,t,i,o){return Rc(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,o){return Rc(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const o=Rc(e);let c=new cr(yl);return o.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(l,f)=>{c=c.add(new Vd(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>c)}pn(e,t){let i=new cr(yl);const o=this.dn(t,e);if(null==o)return i;const c=i_(t);if(null!=c){const l=e.data.field(c.fieldPath);if(m_(l))for(const f of l.arrayValue.values||[])i=i.add(new Vd(t.indexId,e.key,this.In(f),o))}else i=i.add(new Vd(t.indexId,e.key,j_,o));return i}yn(e,t,i,o,c){an("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(g,E,N,U,ee){const Pe=g.getIterator(),at=E.getIterator();let wt=ef(Pe),Ht=ef(at);for(;wt||Ht;){let En=!1,In=!1;if(wt&&Ht){const vn=N(wt,Ht);vn<0?In=!0:vn>0&&(En=!0)}else null!=wt?In=!0:En=!0;En?(U(Ht),Ht=ef(at)):In?(ee(wt),wt=ef(Pe)):(wt=ef(Pe),Ht=ef(at))}}(o,c,yl,f=>{l.push(this.wn(e,t,i,f))},f=>{l.push(this.Sn(e,t,i,f))}),St.waitFor(l)}fn(e){let t=1;return Bd(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,o,c)=>{c.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,f)=>yl(l,f)).filter((l,f,g)=>!f||0!==yl(l,g[f-1]));const o=[];o.push(e);for(const l of i){const f=yl(l,e),g=yl(l,t);if(0===f)o[0]=e.Ht();else if(f>0&&g<0)o.push(l),o.push(l.Ht());else if(g>0)break}o.push(t);const c=[];for(let l=0;l<o.length;l+=2){if(this.bn(o[l],o[l+1]))return[];c.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,j_,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,j_,[]]))}return c}bn(e,t){return yl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(YC)}getMinOffset(e,t){return St.mapArray(this.un(t),i=>this.cn(e,i).next(o=>o||Vn())).next(YC)}}function H_(n){return So(n,"collectionParents")}function Rc(n){return So(n,"indexEntries")}function dm(n){return So(n,"indexConfiguration")}function Bd(n){return So(n,"indexState")}function YC(n){Yn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const o=n[i].indexState.offset;za(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Ao(e.readTime,e.documentKey,t)}const qC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ho{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ho(e,Ho.DEFAULT_COLLECTION_PERCENTILE,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function l0(n,e,t){const i=n.store("mutations"),o=n.store("documentMutations"),c=[],l=IDBKeyRange.only(t.batchId);let f=0;const g=i.Y({range:l},(N,U,ee)=>(f++,ee.delete()));c.push(g.next(()=>{Yn(1===f)}));const E=[];for(const N of t.mutations){const U=ab(e,N.key.path,t.batchId);c.push(o.delete(U)),E.push(N.key)}return St.waitFor(c).next(()=>E)}function Ud(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Vn();e=n.noDocument}return JSON.stringify(e).length}Ho.DEFAULT_COLLECTION_PERCENTILE=10,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ho.DEFAULT=new Ho(41943040,Ho.DEFAULT_COLLECTION_PERCENTILE,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ho.DISABLED=new Ho(-1,0,0);class $_{constructor(e,t,i,o){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=o,this.Dn={}}static ct(e,t,i,o){Yn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new $_(c,t,i,o)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bl(e).Y({index:"userMutationsIndex",range:i},(o,c,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,o){const c=zd(e),l=bl(e);return l.add({}).next(f=>{Yn("number"==typeof f);const g=new Vb(f,t,i,o),E=function(Pe,at,wt){const Ht=wt.baseMutations.map(In=>If(Pe.ut,In)),En=wt.mutations.map(In=>If(Pe.ut,In));return{userId:at,batchId:wt.batchId,localWriteTimeMs:wt.localWriteTime.toMillis(),baseMutations:Ht,mutations:En}}(this.serializer,this.userId,g),N=[];let U=new cr((ee,Pe)=>ni(ee.canonicalString(),Pe.canonicalString()));for(const ee of o){const Pe=ab(this.userId,ee.key.path,f);U=U.add(ee.key.path.popLast()),N.push(l.put(E)),N.push(c.put(Pe,aC))}return U.forEach(ee=>{N.push(this.indexManager.addToCollectionParentIndex(e,ee))}),e.addOnCommittedListener(()=>{this.Dn[f]=g.keys()}),St.waitFor(N).next(()=>g)})}lookupMutationBatch(e,t){return bl(e).get(t).next(i=>i?(Yn(i.userId===this.userId),vl(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?St.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const o=i.keys();return this.Dn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=IDBKeyRange.lowerBound([this.userId,i]);let c=null;return bl(e).Y({index:"userMutationsIndex",range:o},(l,f,g)=>{f.userId===this.userId&&(Yn(f.batchId>=i),c=vl(this.serializer,f)),g.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return bl(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(o,c,l)=>{i=c.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bl(e).W("userMutationsIndex",t).next(i=>i.map(o=>vl(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=c_(this.userId,t.path),o=IDBKeyRange.lowerBound(i),c=[];return zd(e).Y({range:o},(l,f,g)=>{const[E,N,U]=l,ee=ja(N);if(E===this.userId&&t.path.isEqual(ee))return bl(e).get(U).next(Pe=>{if(!Pe)throw Vn();Yn(Pe.userId===this.userId),c.push(vl(this.serializer,Pe))});g.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new cr(ni);const o=[];return t.forEach(c=>{const l=c_(this.userId,c.path),f=IDBKeyRange.lowerBound(l),g=zd(e).Y({range:f},(E,N,U)=>{const[ee,Pe,at]=E,wt=ja(Pe);ee===this.userId&&c.path.isEqual(wt)?i=i.add(at):U.done()});o.push(g)}),St.waitFor(o).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1,c=c_(this.userId,i),l=IDBKeyRange.lowerBound(c);let f=new cr(ni);return zd(e).Y({range:l},(g,E,N)=>{const[U,ee,Pe]=g,at=ja(ee);U===this.userId&&i.isPrefixOf(at)?at.length===o&&(f=f.add(Pe)):N.done()}).next(()=>this.vn(e,f))}vn(e,t){const i=[],o=[];return t.forEach(c=>{o.push(bl(e).get(c).next(l=>{if(null===l)throw Vn();Yn(l.userId===this.userId),i.push(vl(this.serializer,l))}))}),St.waitFor(o).next(()=>i)}removeMutationBatch(e,t){return l0(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),St.forEach(i,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return St.resolve();const i=IDBKeyRange.lowerBound([this.userId]),o=[];return zd(e).Y({range:i},(c,l,f)=>{if(c[0]===this.userId){const g=ja(c[1]);o.push(g)}else f.done()}).next(()=>{Yn(0===o.length)})})}containsKey(e,t){return u0(e,this.userId,t)}Mn(e){return ZC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function u0(n,e,t){const i=c_(e,t.path),o=i[1],c=IDBKeyRange.lowerBound(i);let l=!1;return zd(n).Y({range:c,J:!0},(f,g,E)=>{const[N,U,ee]=f;N===e&&U===o&&(l=!0),E.done()}).next(()=>l)}function bl(n){return So(n,"mutations")}function zd(n){return So(n,"documentMutations")}function ZC(n){return So(n,"mutationQueues")}class jd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new jd(0)}static Nn(){return new jd(-1)}}class d0{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new jd(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>kn.fromTimestamp(new Br(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(o=>(o.highestListenSequenceNumber=t,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Ln(e,o)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>El(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Yn(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let o=0;const c=[];return El(e).Y((l,f)=>{const g=V_(f);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(o++,c.push(this.removeTargetData(e,g)))}).next(()=>St.waitFor(c)).next(()=>o)}forEachTarget(e,t){return El(e).Y((i,o)=>{const c=V_(o);t(c)})}Bn(e){return h0(e).get("targetGlobalKey").next(t=>(Yn(null!==t),t))}Ln(e,t){return h0(e).put("targetGlobalKey",t)}kn(e,t){return El(e).put(MA(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Sd(t),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let c=null;return El(e).Y({range:o,index:"queryTargetsIndex"},(l,f,g)=>{const E=V_(f);af(t,E.target)&&(c=E,g.done())}).next(()=>c)}addMatchingKeys(e,t,i){const o=[],c=wl(e);return t.forEach(l=>{const f=Bo(l.path);o.push(c.put({targetId:i,path:f})),o.push(this.referenceDelegate.addReference(e,i,l))}),St.waitFor(o)}removeMatchingKeys(e,t,i){const o=wl(e);return St.forEach(t,c=>{const l=Bo(c.path);return St.waitFor([o.delete([i,l]),this.referenceDelegate.removeReference(e,i,c)])})}removeMatchingKeysForTargetId(e,t){const i=wl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),o=wl(e);let c=ui();return o.Y({range:i,J:!0},(l,f,g)=>{const E=ja(l[1]),N=new xn(E);c=c.add(N)}).next(()=>c)}containsKey(e,t){const i=Bo(t.path),o=IDBKeyRange.bound([i],[tC(i)],!1,!0);let c=0;return wl(e).Y({index:"documentTargetsIndex",J:!0,range:o},([l,f],g,E)=>{0!==l&&(c++,E.done())}).next(()=>c>0)}_t(e,t){return El(e).get(t).next(i=>i?V_(i):null)}}function El(n){return So(n,"targets")}function h0(n){return So(n,"targetGlobal")}function wl(n){return So(n,"targetDocuments")}function f0([n,e],[t,i]){const o=ni(n,t);return 0===o?ni(e,i):o}class QC{constructor(e){this.Qn=e,this.buffer=new cr(f0),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();f0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class p0{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;an("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Bt.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){hl(i)?an("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield lu(i)}yield t.Gn(3e5)}))}}class XC{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return St.resolve(ra._e);const i=new QC(t);return this.zn.forEachTarget(e,o=>i.Un(o.sequenceNumber)).next(()=>this.zn.Hn(e,o=>i.Un(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(an("LruGarbageCollector","Garbage collection skipped; disabled"),St.resolve(qC)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(an("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qC):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,o,c,l,f,g,E;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(an("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),o=this.params.maximumSequenceNumbersToCollect):o=U,l=Date.now(),this.nthSequenceNumber(e,o))).next(U=>(i=U,f=Date.now(),this.removeTargets(e,i,t))).next(U=>(c=U,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(U=>(E=Date.now(),su()<=Wr.in.DEBUG&&an("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-N}ms\n\tDetermined least recently used ${o} in `+(f-l)+`ms\n\tRemoved ${c} targets in `+(g-f)+`ms\n\tRemoved ${U} documents in `+(E-g)+`ms\nTotal Duration: ${E-N}ms`),St.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:U})))}}class JC{constructor(e,t){this.db=e,this.garbageCollector=function m0(n,e){return new XC(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,o)=>t(o))}addReference(e,t,i){return hm(e,i)}removeReference(e,t,i){return hm(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return hm(e,t)}Xn(e,t){return function(o,c){let l=!1;return ZC(o).Z(f=>u0(o,f,c).next(g=>(g&&(l=!0),St.resolve(!g)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Zn(e,(l,f)=>{if(f<=t){const g=this.Xn(e,l).next(E=>{if(!E)return c++,i.getEntry(e,l).next(()=>(i.removeEntry(l,kn.min()),wl(e).delete([0,Bo(l.path)])))});o.push(g)}}).next(()=>St.waitFor(o)).next(()=>i.apply(e)).next(()=>c)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return hm(e,t)}Zn(e,t){const i=wl(e);let o,c=ra._e;return i.Y({index:"documentTargetsIndex"},([l,f],{path:g,sequenceNumber:E})=>{0===l?(c!==ra._e&&t(new xn(ja(o)),c),c=E,o=g):c=ra._e}).next(()=>{c!==ra._e&&t(new xn(ja(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hm(n,e){return wl(n).put((o=n.currentSequenceNumber,{targetId:0,path:Bo(e.path),sequenceNumber:o}));var o}class ex{constructor(){this.changes=new ml(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?St.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Hd(e).put(i)}removeEntry(e,t,i){return Hd(e).delete(function(c,l){const f=c.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Ac(l),f[f.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=vr.newInvalidDocument(t);return Hd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(fm(t))},(o,c)=>{i=this.tr(t,c)}).next(()=>i)}nr(e,t){let i={size:0,document:vr.newInvalidDocument(t)};return Hd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(fm(t))},(o,c)=>{i={document:this.tr(t,c),size:Ud(c)}}).next(()=>i)}getEntries(e,t){let i=Ro();return this.rr(e,t,(o,c)=>{const l=this.tr(o,c);i=i.insert(o,l)}).next(()=>i)}ir(e,t){let i=Ro(),o=new hr(xn.comparator);return this.rr(e,t,(c,l)=>{const f=this.tr(c,l);i=i.insert(c,f),o=o.insert(c,Ud(l))}).next(()=>({documents:i,sr:o}))}rr(e,t,i){if(t.isEmpty())return St.resolve();let o=new cr(rx);t.forEach(g=>o=o.add(g));const c=IDBKeyRange.bound(fm(o.first()),fm(o.last())),l=o.getIterator();let f=l.getNext();return Hd(e).Y({index:"documentKeyIndex",range:c},(g,E,N)=>{const U=xn.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&rx(f,U)<0;)i(f,null),f=l.getNext();f&&f.isEqual(U)&&(i(f,E),f=l.hasNext()?l.getNext():null),f?N.U(fm(f)):N.done()}).next(()=>{for(;f;)i(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,o,c){const l=t.path,f=[l.popLast().toArray(),l.lastSegment(),Ac(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],g=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hd(e).W(IDBKeyRange.bound(f,g,!0)).next(E=>{c?.incrementDocumentReadCount(E.length);let N=Ro();for(const U of E){const ee=this.tr(xn.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);ee.isFoundDocument()&&(_u(t,ee)||o.has(ee.key))&&(N=N.insert(ee.key,ee))}return N})}getAllFromCollectionGroup(e,t,i,o){let c=Ro();const l=ix(t,i),f=ix(t,Ao.max());return Hd(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(g,E,N)=>{const U=this.tr(xn.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);c=c.insert(U.key,U),c.size===o&&N.done()}).next(()=>c)}newChangeBuffer(e){return new VA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return nx(e).get("remoteDocumentGlobalKey").next(t=>(Yn(!!t),t))}er(e,t){return nx(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function RA(n,e){let t;if(e.document)t=LC(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=xn.fromSegments(e.noDocument.path),o=Fd(e.noDocument.readTime);t=vr.newNoDocument(i,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Vn();{const i=xn.fromSegments(e.unknownDocument.path),o=Fd(e.unknownDocument.version);t=vr.newUnknownDocument(i,o)}}return e.readTime&&t.setReadTime(function(o){const c=new Br(o[0],o[1]);return kn.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(kn.min()))return i}return vr.newInvalidDocument(e)}}function tx(n){return new LA(n)}class VA extends ex{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ml(i=>i.toString(),(i,o)=>i.isEqual(o))}applyChanges(e){const t=[];let i=0,o=new cr((c,l)=>ni(c.canonicalString(),l.canonicalString()));return this.changes.forEach((c,l)=>{const f=this.ar.get(c);if(t.push(this._r.removeEntry(e,c,f.readTime)),l.isValidDocument()){const g=L_(this._r.serializer,l);o=o.add(c.path.popLast());const E=Ud(g);i+=E-f.size,t.push(this._r.addEntry(e,c,g))}else if(i-=f.size,this.trackRemovals){const g=L_(this._r.serializer,l.convertToNoDocument(kn.min()));t.push(this._r.addEntry(e,c,g))}}),o.forEach(c=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,c))}),t.push(this._r.updateMetadata(e,i)),St.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:o})=>(o.forEach((c,l)=>{this.ar.set(c,{size:l,readTime:i.get(c).readTime})}),i))}}function nx(n){return So(n,"remoteDocumentGlobal")}function Hd(n){return So(n,"remoteDocumentsV14")}function fm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ix(n,e){const t=e.documentKey.path.toArray();return[n,Ac(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function rx(n,e){const t=n.path.toArray(),i=e.path.toArray();let o=0;for(let c=0;c<t.length-2&&c<i.length-2;++c)if(o=ni(t[c],i[c]),o)return o;return o=ni(t.length,i.length),o||(o=ni(t[t.length-2],i[i.length-2]),o||ni(t[t.length-1],i[i.length-1]))}class BA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ox{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==i&&sm(i.mutation,o,Hs.empty(),Br.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ui()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ui()){const o=eo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(c=>{let l=$a();return c.forEach((f,g)=>{l=l.insert(f,g.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=eo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ui()))}populateOverlays(e,t,i){const o=[];return i.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,i,o){let c=Ro();const l=Dc(),f=Dc();return t.forEach((g,E)=>{const N=i.get(E.key);o.has(E.key)&&(void 0===N||N.mutation instanceof Ta)?c=c.insert(E.key,E):void 0!==N?(l.set(E.key,N.mutation.getFieldMask()),sm(N.mutation,E,N.mutation.getFieldMask(),Br.now())):l.set(E.key,Hs.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((E,N)=>l.set(E,N)),t.forEach((E,N)=>{var U;return f.set(E,new BA(N,null!==(U=l.get(E))&&void 0!==U?U:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Dc();let o=new hr((l,f)=>l-f),c=ui();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(g=>{const E=t.get(g);if(null===E)return;let N=i.get(g)||Hs.empty();N=f.applyToLocalView(E,N),i.set(g,N);const U=(o.get(f.batchId)||ui()).add(g);o=o.insert(f.batchId,U)})}).next(()=>{const l=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),E=g.key,N=g.value,U=b_();N.forEach(ee=>{if(!c.has(ee)){const Pe=SC(t.get(ee),i.get(ee));null!==Pe&&U.set(ee,Pe),c=c.add(ee)}}),l.push(this.documentOverlayCache.saveOverlays(e,E,U))}return St.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return xn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):xb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o);var l}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(c=>{const l=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-c.size):St.resolve(eo());let f=-1,g=c;return l.next(E=>St.forEach(E,(N,U)=>(f<U.largestBatchId&&(f=U.largestBatchId),c.get(N)?St.resolve():this.remoteDocumentCache.getEntry(e,N).next(ee=>{g=g.insert(N,ee)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,g,E,ui())).next(N=>({batchId:f,changes:rm(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xn(t)).next(i=>{let o=$a();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const c=t.collectionGroup;let l=$a();return this.indexManager.getCollectionParents(e,c).next(f=>St.forEach(f,g=>{const E=(U=t,ee=g.child(c),new pl(ee,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,ee;return this.getDocumentsMatchingCollectionQuery(e,E,i,o).next(N=>{N.forEach((U,ee)=>{l=l.insert(U,ee)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(c=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,o))).next(l=>{c.forEach((g,E)=>{const N=E.getKey();null===l.get(N)&&(l=l.insert(N,vr.newInvalidDocument(N)))});let f=$a();return l.forEach((g,E)=>{const N=c.get(g);void 0!==N&&sm(N.mutation,E,Hs.empty(),Br.now()),_u(t,E)&&(f=f.insert(g,E))}),f})}}class UA{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return St.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(o=t).id,version:o.version,createTime:Sr(o.createTime)}),St.resolve();var o}getNamedQuery(e,t){return St.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(o=t).name,query:Jb(o.bundledQuery),readTime:Sr(o.readTime)}),St.resolve();var o}}class zA{constructor(){this.overlays=new hr(xn.comparator),this.lr=new Map}getOverlay(e,t){return St.resolve(this.overlays.get(t))}getOverlays(e,t){const i=eo();return St.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&i.set(o,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,c)=>{this.lt(e,t,c)}),St.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.lr.get(i);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(i)),St.resolve()}getOverlaysForCollection(e,t,i){const o=eo(),c=t.length+1,l=new xn(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const g=f.getNext().value,E=g.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return St.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let c=new hr((E,N)=>E-N);const l=this.overlays.getIterator();for(;l.hasNext();){const E=l.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>i){let N=c.get(E.largestBatchId);null===N&&(N=eo(),c=c.insert(E.largestBatchId,N)),N.set(E.getKey(),E)}}const f=eo(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((E,N)=>f.set(E,N)),!(f.size()>=o)););return St.resolve(f)}lt(e,t,i){const o=this.overlays.get(i.key);if(null!==o){const l=this.lr.get(o.largestBatchId).delete(i.key);this.lr.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Ub(t,i));let c=this.lr.get(t);void 0===c&&(c=ui(),this.lr.set(t,c)),this.lr.set(t,c.add(i.key))}}class g0{constructor(){this.hr=new cr(Mo.Pr),this.Ir=new cr(Mo.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Mo(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Mo(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new xn(new Bi([])),i=new Mo(t,e),o=new Mo(t,e+1),c=[];return this.Ir.forEachInRange([i,o],l=>{this.dr(l),c.push(l.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new xn(new Bi([])),i=new Mo(t,e),o=new Mo(t,e+1);let c=ui();return this.Ir.forEachInRange([i,o],l=>{c=c.add(l.key)}),c}containsKey(e){const t=new Mo(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Mo{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return xn.comparator(e.key,t.key)||ni(e.gr,t.gr)}static Tr(e,t){return ni(e.gr,t.gr)||xn.comparator(e.key,t.key)}}class jA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new cr(Mo.Pr)}checkEmpty(e){return St.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,o){const c=this.pr;this.pr++;const l=new Vb(c,t,i,o);this.mutationQueue.push(l);for(const f of o)this.yr=this.yr.add(new Mo(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return St.resolve(l)}lookupMutationBatch(e,t){return St.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Sr(t+1),c=o<0?0:o;return St.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return St.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return St.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Mo(t,0),o=new Mo(t,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([i,o],l=>{const f=this.wr(l.gr);c.push(f)}),St.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new cr(ni);return t.forEach(o=>{const c=new Mo(o,0),l=new Mo(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,l],f=>{i=i.add(f.gr)})}),St.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let c=i;xn.isDocumentKey(c)||(c=c.child(""));const l=new Mo(new xn(c),0);let f=new cr(ni);return this.yr.forEachWhile(g=>{const E=g.key.path;return!!i.isPrefixOf(E)&&(E.length===o&&(f=f.add(g.gr)),!0)},l),St.resolve(this.br(f))}br(e){const t=[];return e.forEach(i=>{const o=this.wr(i);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Yn(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return St.forEach(t.mutations,o=>{const c=new Mo(o.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Mo(t,0),o=this.yr.firstAfterOrEqual(i);return St.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return St.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class HA{constructor(e){this.Cr=e,this.docs=new hr(xn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),c=o?o.size:0,l=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return St.resolve(i?i.document.mutableCopy():vr.newInvalidDocument(t))}getEntries(e,t){let i=Ro();return t.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():vr.newInvalidDocument(o))}),St.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let c=Ro();const l=t.path,f=new xn(l.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:E,value:{document:N}}=g.getNext();if(!l.isPrefixOf(E.path))break;E.path.length>l.length+1||za(ib(N),i)<=0||(o.has(N.key)||_u(t,N))&&(c=c.insert(N.key,N.mutableCopy()))}return St.resolve(c)}getAllFromCollectionGroup(e,t,i,o){Vn()}vr(e,t){return St.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new sx(this)}getSize(e){return St.resolve(this.size)}}class sx extends ex{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this._r.addEntry(e,o)):this._r.removeEntry(i)}),St.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class ax{constructor(e){this.persistence=e,this.Fr=new ml(t=>Sd(t),af),this.lastRemoteSnapshotVersion=kn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new g0,this.targetCount=0,this.Nr=jd.On()}forEachTarget(e,t){return this.Fr.forEach((i,o)=>t(o)),St.resolve()}getLastRemoteSnapshotVersion(e){return St.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return St.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),St.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),St.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new jd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,St.resolve()}updateTargetData(e,t){return this.kn(t),St.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,St.resolve()}removeTargets(e,t,i){let o=0;const c=[];return this.Fr.forEach((l,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Fr.delete(l),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),St.waitFor(c).next(()=>o)}getTargetCount(e){return St.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return St.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),St.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(l=>{c.push(o.markPotentiallyOrphaned(e,l))}),St.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),St.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return St.resolve(i)}containsKey(e,t){return St.resolve(this.Or.containsKey(t))}}class W_{constructor(e,t){this.Br={},this.overlays={},this.Lr=new ra(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new ax(this),this.indexManager=new NA,this.remoteDocumentCache=new HA(i=>this.referenceDelegate.Qr(i)),this.serializer=new $C(t),this.Kr=new UA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new jA(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){an("MemoryPersistence","Starting transaction:",e);const o=new cx(this.Lr.next());return this.referenceDelegate.$r(),i(o).next(c=>this.referenceDelegate.Ur(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Wr(e,t){return St.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class cx extends rC{constructor(e){super(),this.currentSequenceNumber=e}}class pm{constructor(e){this.persistence=e,this.Gr=new g0,this.zr=null}static jr(e){return new pm(e)}get Hr(){if(this.zr)return this.zr;throw Vn()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),St.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),St.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),St.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(o=>this.Hr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.Hr.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return St.forEach(this.Hr,i=>{const o=xn.fromPath(i);return this.Jr(e,o).next(c=>{c||t.removeEntry(o,kn.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return St.or([()=>St.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class lx{constructor(e){this.serializer=e}N(e,t,i,o){const c=new Zh("createOrUpgrade",t);var g;i<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sb,{unique:!0}),g.createObjectStore("documentMutations"),_0(e),function(g){g.createObjectStore("remoteDocuments")}(e));let l=St.resolve();return i<3&&o>=3&&(0!==i&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),_0(e)),l=l.next(()=>function(g){const E=g.store("targetGlobal"),N={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kn.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",N)}(c))),i<4&&o>=4&&(0!==i&&(l=l.next(()=>function(g,E){return E.store("mutations").W().next(N=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sb,{unique:!0});const U=E.store("mutations"),ee=N.map(Pe=>U.put(Pe));return St.waitFor(ee)})}(e,c))),l=l.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&o>=5&&(l=l.next(()=>this.Zr(c))),i<6&&o>=6&&(l=l.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(c)))),i<7&&o>=7&&(l=l.next(()=>this.ei(c))),i<8&&o>=8&&(l=l.next(()=>this.ti(e,c))),i<9&&o>=9&&(l=l.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&o>=10&&(l=l.next(()=>this.ni(c))),i<11&&o>=11&&(l=l.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&o>=12&&(l=l.next(()=>{!function(g){const E=g.createObjectStore("documentOverlays",{keyPath:lb});E.createIndex("collectionPathOverlayIndex",ub,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",db,{unique:!1})}(e)})),i<13&&o>=13&&(l=l.next(()=>function(g){const E=g.createObjectStore("remoteDocumentsV14",{keyPath:gi});E.createIndex("documentKeyIndex",cC),E.createIndex("collectionGroupIndex",lC)}(e)).next(()=>this.ri(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&o>=14&&(l=l.next(()=>this.ii(e,c))),i<15&&o>=15&&(l=l.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:Jh}).createIndex("sequenceNumberIndex",cb,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:Zp}).createIndex("documentKeyIndex",dC,{unique:!1})}(e))),l}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,o)=>{t+=Ud(o)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(o=>St.forEach(o,c=>{const l=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",l).next(f=>St.forEach(f,g=>{Yn(g.userId===c.userId);const E=vl(this.serializer,g);return l0(e,c.userId,E).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const c=[];return i.Y((l,f)=>{const g=new Bi(l),E=[0,Bo(g)];c.push(t.get(E).next(N=>N?St.resolve():t.put({targetId:0,path:Bo(g),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>St.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:l_});const i=t.store("collectionParents"),o=new c0,c=l=>{if(o.add(l)){const f=l.lastSegment(),g=l.popLast();return i.put({collectionId:f,parent:Bo(g)})}};return t.store("remoteDocuments").Y({J:!0},(l,f)=>{const g=new Bi(l);return c(g.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([l,f,g],E)=>{const N=ja(f);return c(N.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,o)=>{const c=V_(o),l=MA(this.serializer,c);return t.put(l)})}ri(e,t){const i=t.store("remoteDocuments"),o=[];return i.Y((c,l)=>{const f=t.store("remoteDocumentsV14"),g=(U=l,U.document?new xn(Bi.fromString(U.document.name).popFirst(5)):U.noDocument?xn.fromSegments(U.noDocument.path):U.unknownDocument?xn.fromSegments(U.unknownDocument.path):Vn()).path.toArray(),E={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};var U;o.push(f.put(E))}).next(()=>St.waitFor(o))}ii(e,t){const i=t.store("mutations"),o=tx(this.serializer),c=new W_(pm.jr,this.serializer.ut);return i.W().next(l=>{const f=new Map;return l.forEach(g=>{var E;let N=null!==(E=f.get(g.userId))&&void 0!==E?E:ui();vl(this.serializer,g).keys().forEach(U=>N=N.add(U)),f.set(g.userId,N)}),St.forEach(f,(g,E)=>{const N=new To(E),U=B_.ct(this.serializer,N),ee=c.getIndexManager(N),Pe=$_.ct(N,this.serializer,ee,c.referenceDelegate);return new ox(o,Pe,U,ee).recalculateAndSaveOverlaysForDocumentKeys(new u_(t,ra._e),g).next()})})}}function _0(n){n.createObjectStore("targetDocuments",{keyPath:uC}).createIndex("documentTargetsIndex",uA,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xh,{unique:!0}),n.createObjectStore("targetGlobal")}const G_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gm{constructor(e,t,i,o,c,l,f,g,E,N,U=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=c,this.window=l,this.document=f,this.oi=E,this._i=N,this.ai=U,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=ee=>Promise.resolve(),!gm.D())throw new sn(Wt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JC(this,o),this.Ii=t+"main",this.serializer=new $C(g),this.Ti=new Cs(this.Ii,this.ai,new lx(this.serializer)),this.qr=new d0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tx(this.serializer),this.Kr=new mo,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===N&&Gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sn(Wt.FAILED_PRECONDITION,G_);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ra(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,Bt.Z)(function*(o){if(t.started)return e(o)});return function(o){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,Bt.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Bt.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Mc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(hl(e))return an("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return an("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return $d(e).get("owner").next(t=>St.resolve(this.wi(t)))}Si(e){return Mc(e).delete(this.clientId)}bi(){var e=this;return(0,Bt.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const o=So(i,"clientMetadata");return o.W().next(c=>{const l=e.Ci(c,18e5),f=c.filter(g=>-1===l.indexOf(g));return St.forEach(f,g=>o.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?St.resolve(!0):$d(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new sn(Wt.FAILED_PRECONDITION,G_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mc(e).W().next(i=>void 0===this.Ci(i,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&an("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Bt.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new u_(t,ra._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Mc(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return $_.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FA(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return B_.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){an("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",c=15===(g=this.ai)?dA:14===g?fC:13===g?hC:12===g?fb:11===g?hb:void Vn();var g;let l;return this.Ti.runTransaction(e,o,c,f=>(l=new u_(f,this.Lr?this.Lr.next():ra._e),"readwrite-primary"===t?this.fi(l).next(g=>!!g||this.gi(l)).next(g=>{if(!g)throw Gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new sn(Wt.FAILED_PRECONDITION,Cd);return i(l)}).next(g=>this.yi(l).next(()=>g)):this.Li(l).next(()=>i(l)))).then(f=>(l.raiseOnCommittedEvent(),f))}Li(e){return $d(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new sn(Wt.FAILED_PRECONDITION,G_)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $d(e).put("owner",t)}static D(){return Cs.D()}pi(e){const t=$d(e);return t.get("owner").next(i=>this.wi(i)?(an("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):St.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(Gr(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,gt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return an("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Gr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Gr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $d(n){return So(n,"owner")}function Mc(n){return So(n,"clientMetadata")}function v0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class y0{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=o}static Qi(e,t){let i=ui(),o=ui();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new y0(e,t.fromCache,i,o)}}class Tf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $A{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,o){const c={result:null};return this.zi(e,t).next(l=>{c.result=l}).next(()=>{if(!c.result)return this.ji(e,t,o,i).next(l=>{c.result=l})}).next(()=>{if(c.result)return;const l=new Tf;return this.Hi(e,t,l).next(f=>{if(c.result=f,this.$i)return this.Ji(e,t,l,f.size)})}).next(()=>c.result)}Ji(e,t,i,o){return i.documentReadCount<this.Ui?(su()<=Wr.in.DEBUG&&an("QueryEngine","SDK will not create cache indexes for query:",im(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),St.resolve()):(su()<=Wr.in.DEBUG&&an("QueryEngine","Query:",im(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Wi*o?(su()<=Wr.in.DEBUG&&an("QueryEngine","The SDK decides to create cache indexes for query:",im(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(t))):St.resolve())}zi(e,t){if(IC(t))return St.resolve(null);let i=ns(t);return this.indexManager.getIndexType(e,i).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Ab(t,null,"F"),i=ns(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const l=ui(...c);return this.Gi.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,i).next(g=>{const E=this.Yi(t,f);return this.Zi(t,E,l,g.readTime)?this.zi(e,Ab(t,null,"F")):this.Xi(e,E,t,g)}))})))}ji(e,t,i,o){return IC(t)||o.isEqual(kn.min())?St.resolve(null):this.Gi.getDocuments(e,i).next(c=>{const l=this.Yi(t,c);return this.Zi(t,l,i,o)?St.resolve(null):(su()<=Wr.in.DEBUG&&an("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),im(t)),this.Xi(e,l,t,iC(o,-1)).next(f=>f))})}Yi(e,t){let i=new cr(xC(e));return t.forEach((o,c)=>{_u(e,c)&&(i=i.add(c))}),i}Zi(e,t,i,o){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Hi(e,t,i){return su()<=Wr.in.DEBUG&&an("QueryEngine","Using full collection scan to execute query:",im(t)),this.Gi.getDocumentsMatchingQuery(e,t,Ao.min(),i)}Xi(e,t,i,o){return this.Gi.getDocumentsMatchingQuery(e,i,o).next(c=>(t.forEach(l=>{c=c.insert(l.key,l)}),c))}}class b0{constructor(e,t,i,o){this.persistence=e,this.es=t,this.serializer=o,this.ts=new hr(ni),this.ns=new ml(c=>Sd(c),af),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ox(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function WA(n,e,t,i){return new b0(n,e,t,i)}function E0(n,e){return K_.apply(this,arguments)}function K_(){return K_=(0,Bt.Z)(function*(n,e){const t=Dn(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const l=[],f=[];let g=ui();for(const E of o){l.push(E.batchId);for(const N of E.mutations)g=g.add(N.key)}for(const E of c){f.push(E.batchId);for(const N of E.mutations)g=g.add(N.key)}return t.localDocuments.getDocuments(i,g).next(E=>({_s:E,removedBatchIds:l,addedBatchIds:f}))})})}),K_.apply(this,arguments)}function Wd(n){const e=Dn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function ux(n,e,t){let i=ui(),o=ui();return t.forEach(c=>i=i.add(c)),e.getEntries(n,i).next(c=>{let l=Ro();return t.forEach((f,g)=>{const E=c.get(f);g.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(kn.min())?(e.removeEntry(f,g.readTime),l=l.insert(f,g)):!E.isValidDocument()||g.version.compareTo(E.version)>0||0===g.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(g),l=l.insert(f,g)):an("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",g.version)}),{us:l,cs:o}})}function KA(n,e){const t=Dn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ga(n,e){const t=Dn(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.qr.getTargetData(i,e).next(c=>c?(o=c,St.resolve(o)):t.qr.allocateTargetId(i).next(l=>(o=new is(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.ts.get(i.targetId);return(null===o||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Af(n,e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,Bt.Z)(function*(n,e,t){const i=Dn(n),o=i.ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",c,l=>i.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!hl(l))throw l;an("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ts=i.ts.remove(e),i.ns.delete(o.target)}),Sf.apply(this,arguments)}function Gd(n,e,t){const i=Dn(n);let o=kn.min(),c=ui();return i.persistence.runTransaction("Execute query","readwrite",l=>function(g,E,N){const U=Dn(g),ee=U.ns.get(N);return void 0!==ee?St.resolve(U.ts.get(ee)):U.qr.getTargetData(E,N)}(i,l,ns(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,f.targetId).next(g=>{c=g})}).next(()=>i.es.getDocumentsMatchingQuery(l,e,t?o:kn.min(),t?c:ui())).next(f=>(w0(i,CC(e),f),{documents:f,ls:c})))}function xs(n,e){const t=Dn(n),i=Dn(t.qr),o=t.ts.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>i._t(c,e).next(l=>l?l.target:null))}function YA(n,e){const t=Dn(n),i=t.rs.get(e)||kn.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.ss.getAllFromCollectionGroup(o,e,iC(i,-1),Number.MAX_SAFE_INTEGER)).then(o=>(w0(t,e,o),o))}function w0(n,e,t){let i=n.rs.get(e)||kn.min();t.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.rs.set(e,i)}function I0(){return I0=(0,Bt.Z)(function*(n,e,t,i){const o=Dn(n);let c=ui(),l=Ro();for(const E of t){const N=e.hs(E.metadata.name);E.document&&(c=c.add(N));const U=e.Ps(E);U.setReadTime(e.Is(E.metadata.readTime)),l=l.insert(N,U)}const f=o.ss.newChangeBuffer({trackRemovals:!0}),g=yield Ga(o,(N=i,ns(lf(Bi.fromString(`__bundle__/docs/${N}`)))));var N;return o.persistence.runTransaction("Apply bundle documents","readwrite",E=>ux(E,f,l).next(N=>(f.apply(E),N)).next(N=>o.qr.removeMatchingKeysForTargetId(E,g.targetId).next(()=>o.qr.addMatchingKeys(E,c,g.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(E,N.us,N.cs)).next(()=>N.us)))}),I0.apply(this,arguments)}function hx(n,e){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,Bt.Z)(function*(n,e,t=ui()){const i=yield Ga(n,ns(Jb(e.bundledQuery))),o=Dn(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const l=Sr(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return o.Kr.saveNamedQuery(c,e);const f=i.withResumeToken(ao.EMPTY_BYTE_STRING,l);return o.ts=o.ts.insert(f.targetId,f),o.qr.updateTargetData(c,f).next(()=>o.qr.removeMatchingKeysForTargetId(c,i.targetId)).next(()=>o.qr.addMatchingKeys(c,t,i.targetId)).next(()=>o.Kr.saveNamedQuery(c,e))})}),Y_.apply(this,arguments)}function C0(n,e){return`firestore_clients_${n}_${e}`}function x0(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function D0(n,e){return`firestore_targets_${n}_${e}`}class q_{constructor(e,t,i,o){this.user=e,this.batchId=t,this.state=i,this.error=o}static Ts(e,t,i){const o=JSON.parse(i);let c,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(c=new sn(o.error.code,o.error.message))),l?new q_(e,t,o.state,c):(Gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _m{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let o,c="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(o=new sn(i.error.code,i.error.message))),c?new _m(e,i.state,o):(Gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Iu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let o="object"==typeof i&&i.activeTargetIds instanceof Array,c=vu();for(let l=0;o&&l<i.activeTargetIds.length;++l)o=ob(i.activeTargetIds[l]),c=c.add(i.activeTargetIds[l]);return o?new Iu(e,c):(Gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class T0{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new T0(t.clientId,t.onlineState):(Gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class A0{constructor(){this.activeTargetIds=vu()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S0{constructor(e,t,i,o,c){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new hr(ni),this.started=!1,this.ps=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ys=C0(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new A0),this.Ss=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Bt.Z)(function*(){const t=yield e.syncEngine.Bi();for(const o of t){if(o===e.Rs)continue;const c=e.getItem(C0(e.persistenceKey,o));if(c){const l=Iu.Ts(o,c);l&&(e.gs=e.gs.insert(l.clientId,l))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const o=e.Ms(i);o&&e.xs(o)}for(const o of e.ps)e.fs(o);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(D0(this.persistenceKey,e));if(i){const o=_m.Ts(e,i);o&&(t=o.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(D0(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(o=>{this.Bs(o)}),this.currentUser=e,i.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return an("SharedClientState","READ",e,t),t}setItem(e,t){an("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){an("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(an("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Bt.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const o=t.Ks(i.key);return t.$s(o,null)}{const o=t.Us(i.key,i.newValue);if(o)return t.$s(o.clientId,o)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const o=t.Ws(i.key,i.newValue);if(o)return t.Gs(o)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const o=t.zs(i.key,i.newValue);if(o)return t.js(o)}}else if(i.key===t.Cs){if(null!==i.newValue){const o=t.Ms(i.newValue);if(o)return t.xs(o)}}else if(i.key===t.ws){const o=function(l){let f=ra._e;if(null!=l)try{const g=JSON.parse(l);Yn("number"==typeof g),f=g}catch(g){Gr("SharedClientState","Failed to read sequence number from WebStorage",g)}return f}(i.newValue);o!==ra._e&&t.sequenceNumberHandler(o)}else if(i.key===t.vs){const o=t.Hs(i.newValue);yield Promise.all(o.map(c=>t.syncEngine.Js(c)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const o=new q_(this.currentUser,e,t,i),c=x0(this.persistenceKey,this.currentUser,e);this.setItem(c,o.Es())}Bs(e){const t=x0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const o=D0(this.persistenceKey,e),c=new _m(e,t,i);this.setItem(o,c.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return Iu.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),o=Number(i[1]);return q_.Ts(new To(void 0!==i[2]?i[2]:null),o,t)}zs(e,t){const i=this.Ds.exec(e),o=Number(i[1]);return _m.Ts(o,t)}Ms(e){return T0.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,Bt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);an("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),o=this.Os(this.gs),c=this.Os(i),l=[],f=[];return c.forEach(g=>{o.has(g)||l.push(g)}),o.forEach(g=>{c.has(g)||f.push(g)}),this.syncEngine.Xs(l,f).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=vu();return e.forEach((i,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class vm{constructor(){this.eo=new A0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new A0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fx{ro(e){}shutdown(){}}class R0{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){an("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){an("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ym=null;function M0(){return null===ym?ym=268435456+Math.round(2147483648*Math.random()):ym++,"0x"+ym.toString(16)}const bm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Em{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const rs="WebChannelConnection";class qA extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${o}/databases/${c}`,this.po="(default)"===this.databaseId.database?`project_id=${o}`:`project_id=${o}&database_id=${c}`}get yo(){return!1}wo(t,i,o,c,l){const f=M0(),g=this.So(t,i);an("RestConnection",`Sending RPC '${t}' ${f}:`,g,o);const E={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(E,c,l),this.Do(t,g,E,o).then(N=>(an("RestConnection",`Received RPC '${t}' ${f}: `,N),N),N=>{throw zs("RestConnection",`RPC '${t}' ${f} failed with error: `,N,"url: ",g,"request:",o),N})}Co(t,i,o,c,l,f){return this.wo(t,i,o,c,l)}bo(t,i,o){t["X-Goog-Api-Client"]="gl-js/ fire/"+bd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,l)=>t[l]=c),o&&o.headers.forEach((c,l)=>t[l]=c)}So(t,i){return`${this.mo}/v1/${i}:${bm[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,o){const c=M0();return new Promise((l,f)=>{const g=new rA;g.setWithCredentials(!0),g.listenOnce(iA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case qI.NO_ERROR:const N=g.getResponseJson();an(rs,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(N)),l(N);break;case qI.TIMEOUT:an(rs,`RPC '${e}' ${c} timed out`),f(new sn(Wt.DEADLINE_EXCEEDED,"Request time out"));break;case qI.HTTP_ERROR:const U=g.getStatus();if(an(rs,`RPC '${e}' ${c} failed with status:`,U,"response text:",g.getResponseText()),U>0){let ee=g.getResponseJson();Array.isArray(ee)&&(ee=ee[0]);const Pe=ee?.error;if(Pe&&Pe.status&&Pe.message){const at=function(Ht){const En=Ht.toLowerCase().replace(/_/g,"-");return Object.values(Wt).indexOf(En)>=0?En:Wt.UNKNOWN}(Pe.status);f(new sn(at,Pe.message))}else f(new sn(Wt.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new sn(Wt.UNAVAILABLE,"Connection failed."));break;default:Vn()}}finally{an(rs,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(o);an(rs,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",E,i,15)})}vo(e,t,i){const o=M0(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=nA(),f=YI(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(g.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(g.xmlHttpFactory=new Gh({})),this.bo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const N=c.join("");an(rs,`Creating RPC '${e}' stream ${o}: ${N}`,g);const U=l.createWebChannel(N,g);let ee=!1,Pe=!1;const at=new Em({co:Ht=>{Pe?an(rs,`Not sending because RPC '${e}' stream ${o} is closed:`,Ht):(ee||(an(rs,`Opening RPC '${e}' stream ${o} transport.`),U.open(),ee=!0),an(rs,`RPC '${e}' stream ${o} sending:`,Ht),U.send(Ht))},lo:()=>U.close()}),wt=(Ht,En,In)=>{Ht.listen(En,vn=>{try{In(vn)}catch(zn){setTimeout(()=>{throw zn},0)}})};return wt(U,ou.EventType.OPEN,()=>{Pe||an(rs,`RPC '${e}' stream ${o} transport opened.`)}),wt(U,ou.EventType.CLOSE,()=>{Pe||(Pe=!0,an(rs,`RPC '${e}' stream ${o} transport closed`),at.Ro())}),wt(U,ou.EventType.ERROR,Ht=>{Pe||(Pe=!0,zs(rs,`RPC '${e}' stream ${o} transport errored:`,Ht),at.Ro(new sn(Wt.UNAVAILABLE,"The operation could not be completed")))}),wt(U,ou.EventType.MESSAGE,Ht=>{var En;if(!Pe){const In=Ht.data[0];Yn(!!In);const zn=In.error||(null===(En=In[0])||void 0===En?void 0:En.error);if(zn){an(rs,`RPC '${e}' stream ${o} received error:`,zn);const pi=zn.status;let wi=function(Ml){const Lc=zr[Ml];if(void 0!==Lc)return RC(Lc)}(pi),Wi=zn.message;void 0===wi&&(wi=Wt.INTERNAL,Wi="Unknown error status: "+pi+" with message "+zn.message),Pe=!0,at.Ro(new sn(wi,Wi)),U.close()}else an(rs,`RPC '${e}' stream ${o} received:`,In),at.Vo(In)}}),wt(f,Kp.STAT_EVENT,Ht=>{Ht.stat===ZI.PROXY?an(rs,`RPC '${e}' stream ${o} detected buffering proxy`):Ht.stat===ZI.NOPROXY&&an(rs,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{at.Ao()},0),at}}function px(){return typeof window<"u"?window:null}function wm(){return typeof document<"u"?document:null}function Rf(n){return new NC(n,!0)}class Z_{constructor(e,t,i=1e3,o=1.5,c=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=o,this.xo=c,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),o=Math.max(0,t-i);o>0&&an("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class mx{constructor(e,t,i,o,c,l,f,g){this.si=e,this.Ko=i,this.$o=o,this.connection=c,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Z_(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Bt.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Bt.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,Bt.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===Wt.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===Wt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Uo===t&&this.s_(i,o)},i=>{e(()=>{const o=new sn(Wt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(o)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(o=>{i(()=>this.o_(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Bt.Z)(function*(){e.state=0,e.start()}))}o_(e){return an("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(an("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gx extends mx{constructor(e,t,i,o,c,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,l),this.serializer=c}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function BC(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Vn(),o=e.targetChange.targetIds||[],c=function(E,N){return E.useProto3Json?(Yn(void 0===N||"string"==typeof N),ao.fromBase64String(N||"")):(Yn(void 0===N||N instanceof Uint8Array),ao.fromUint8Array(N||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(E){const N=void 0===E.code?Wt.UNKNOWN:RC(E.code);return new sn(N,E.message||"")}(l);t=new OC(i,o,c,f||null)}else if("documentChange"in e){const i=e.documentChange,o=Tc(n,i.document.name),c=Sr(i.document.updateTime),l=i.document.createTime?Sr(i.document.createTime):kn.min(),f=new zo({mapValue:{fields:i.document.fields}}),g=vr.newFoundDocument(o,c,l,f);t=new x_(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,o=Tc(n,i.document),c=i.readTime?Sr(i.readTime):kn.min(),l=vr.newNoDocument(o,c);t=new x_([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,o=Tc(n,i.document);t=new x_([],i.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Vn();{const i=e.filter,{count:o=0,unchangedNames:c}=i,l=new zb(o,c);t=new PC(i.targetId,l)}}var E;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return kn.min();const l=c.targetChange;return l.targetIds&&l.targetIds.length?kn.min():l.readTime?Sr(l.readTime):kn.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=wf(this.serializer),t.addTarget=function(c,l){let f;const g=l.target;if(f=cf(g)?{documents:qb(c,g)}:{query:N_(c,g)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=FC(c,l.resumeToken);const E=Kb(c,l.expectedCount);null!==E&&(f.expectedCount=E)}else if(l.snapshotVersion.compareTo(kn.min())>0){f.readTime=Ef(c,l.snapshotVersion.toTimestamp());const E=Kb(c,l.expectedCount);null!==E&&(f.expectedCount=E)}return f}(this.serializer,e);const i=function Zb(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=wf(this.serializer),t.removeTarget=e,this.e_(t)}}class ZA extends mx{constructor(e,t,i,o,c,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,l),this.serializer=c,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function SA(n,e){return n&&n.length>0?(Yn(void 0!==e),n.map(t=>function(o,c){let l=Sr(o.updateTime?o.updateTime:c);return l.isEqual(kn.min())&&(l=Sr(c)),new CA(l,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Sr(e.commitTime);return this.listener.I_(i,t)}return Yn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=wf(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>If(this.serializer,i))};this.e_(t)}}class QA extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.d_=!1}A_(){if(this.d_)throw new sn(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.wo(e,t,i,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new sn(Wt.UNKNOWN,o.toString())})}Co(e,t,i,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,l])=>this.connection.Co(e,t,i,c,l,o)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new sn(Wt.UNKNOWN,c.toString())})}terminate(){this.d_=!0}}class lO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Gr(t),this.f_=!1):an("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class uO{constructor(e,t,i,o,c){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=c,this.F_.ro(f=>{i.enqueueAndForget((0,Bt.Z)(function*(){var g;Kd(l)&&(an("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Bt.Z)(function*(N){const U=Dn(N);U.C_.add(4),yield Of(U),U.M_.set("Unknown"),U.C_.delete(4),yield Mf(U)}),function E(N){return g.apply(this,arguments)})(l))}))}),this.M_=new lO(i,o)}}function Mf(n){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,Bt.Z)(function*(n){if(Kd(n))for(const e of n.v_)yield e(!0)}),Pf.apply(this,arguments)}function Of(n){return P0.apply(this,arguments)}function P0(){return P0=(0,Bt.Z)(function*(n){for(const e of n.v_)yield e(!1)}),P0.apply(this,arguments)}function Im(n,e){const t=Dn(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),N0(t)?k0(t):kf(t).Ho()&&O0(t,e))}function Il(n,e){const t=Dn(n),i=kf(t);t.D_.delete(e),i.Ho()&&vx(t,e),0===t.D_.size&&(i.Ho()?i.Zo():Kd(t)&&t.M_.set("Unknown"))}function O0(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kf(n).u_(e)}function vx(n,e){n.x_.Oe(e),kf(n).c_(e)}function k0(n){n.x_=new Wb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),kf(n).start(),n.M_.g_()}function N0(n){return Kd(n)&&!kf(n).jo()&&n.D_.size>0}function Kd(n){return 0===Dn(n).C_.size}function yx(n){n.x_=void 0}function bx(n){return F0.apply(this,arguments)}function F0(){return F0=(0,Bt.Z)(function*(n){n.D_.forEach((e,t)=>{O0(n,e)})}),F0.apply(this,arguments)}function XA(n,e){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,Bt.Z)(function*(n,e){yx(n),N0(n)?(n.M_.w_(e),k0(n)):n.M_.set("Unknown")}),Yd.apply(this,arguments)}function JA(n,e,t){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,Bt.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof OC&&2===e.state&&e.cause)try{yield(i=(0,Bt.Z)(function*(c,l){const f=l.cause;for(const g of l.targetIds)c.D_.has(g)&&(yield c.remoteSyncer.rejectListen(g,f),c.D_.delete(g),c.x_.removeTarget(g))}),function o(c,l){return i.apply(this,arguments)})(n,e)}catch(i){an("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield X_(n,i)}else if(e instanceof x_?n.x_.$e(e):e instanceof PC?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(kn.min()))try{const i=yield Wd(n.localStore);t.compareTo(i)>=0&&(yield function(c,l){const f=c.x_.it(l);return f.targetChanges.forEach((g,E)=>{if(g.resumeToken.approximateByteSize()>0){const N=c.D_.get(E);N&&c.D_.set(E,N.withResumeToken(g.resumeToken,l))}}),f.targetMismatches.forEach((g,E)=>{const N=c.D_.get(g);if(!N)return;c.D_.set(g,N.withResumeToken(ao.EMPTY_BYTE_STRING,N.snapshotVersion)),vx(c,g);const U=new is(N.target,g,E,N.sequenceNumber);O0(c,U)}),c.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(i){an("RemoteStore","Failed to raise snapshot:",i),yield X_(n,i)}var i}),Q_.apply(this,arguments)}function X_(n,e,t){return J_.apply(this,arguments)}function J_(){return J_=(0,Bt.Z)(function*(n,e,t){if(!hl(e))throw e;n.C_.add(1),yield Of(n),n.M_.set("Offline"),t||(t=()=>Wd(n.localStore)),n.asyncQueue.enqueueRetryable((0,Bt.Z)(function*(){an("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Mf(n)}))}),J_.apply(this,arguments)}function Ex(n,e){return e().catch(t=>X_(n,t,e))}function qd(n){return L0.apply(this,arguments)}function L0(){return L0=(0,Bt.Z)(function*(n){const e=Dn(n),t=Cu(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;V0(e);)try{const o=yield KA(e.localStore,i);if(null===o){0===e.b_.length&&t.Zo();break}i=o.batchId,eS(e,o)}catch(o){yield X_(e,o)}B0(e)&&U0(e)}),L0.apply(this,arguments)}function V0(n){return Kd(n)&&n.b_.length<10}function eS(n,e){n.b_.push(e);const t=Cu(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function B0(n){return Kd(n)&&!Cu(n).jo()&&n.b_.length>0}function U0(n){Cu(n).start()}function tS(n){return z0.apply(this,arguments)}function z0(){return z0=(0,Bt.Z)(function*(n){Cu(n).E_()}),z0.apply(this,arguments)}function nS(n){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,Bt.Z)(function*(n){const e=Cu(n);for(const t of n.b_)e.P_(t.mutations)}),Cm.apply(this,arguments)}function iS(n,e,t){return ev.apply(this,arguments)}function ev(){return ev=(0,Bt.Z)(function*(n,e,t){const i=n.b_.shift(),o=Bb.from(i,e,t);yield Ex(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield qd(n)}),ev.apply(this,arguments)}function rS(n,e){return j0.apply(this,arguments)}function j0(){return j0=(0,Bt.Z)(function*(n,e){var t;e&&Cu(n).h_&&(yield(t=(0,Bt.Z)(function*(o,c){if(TA(f=c.code)&&f!==Wt.ABORTED){const l=o.b_.shift();Cu(o).Yo(),yield Ex(o,()=>o.remoteSyncer.rejectFailedWrite(l.batchId,c)),yield qd(o)}var f}),function i(o,c){return t.apply(this,arguments)})(n,e)),B0(n)&&U0(n)}),j0.apply(this,arguments)}function wx(n,e){return H0.apply(this,arguments)}function H0(){return H0=(0,Bt.Z)(function*(n,e){const t=Dn(n);t.asyncQueue.verifyOperationInProgress(),an("RemoteStore","RemoteStore received new credentials");const i=Kd(t);t.C_.add(3),yield Of(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Mf(t)}),H0.apply(this,arguments)}function $0(n,e){return W0.apply(this,arguments)}function W0(){return W0=(0,Bt.Z)(function*(n,e){const t=Dn(n);e?(t.C_.delete(2),yield Mf(t)):e||(t.C_.add(2),yield Of(t),t.M_.set("Unknown"))}),W0.apply(this,arguments)}function kf(n){return n.O_||(n.O_=function(t,i,o){const c=Dn(t);return c.A_(),new gx(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{ho:bx.bind(null,n),Io:XA.bind(null,n),a_:JA.bind(null,n)}),n.v_.push(function(){var e=(0,Bt.Z)(function*(t){t?(n.O_.Yo(),N0(n)?k0(n):n.M_.set("Unknown")):(yield n.O_.stop(),yx(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Cu(n){return n.N_||(n.N_=function(t,i,o){const c=Dn(t);return c.A_(),new ZA(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{ho:tS.bind(null,n),Io:rS.bind(null,n),T_:nS.bind(null,n),I_:iS.bind(null,n)}),n.v_.push(function(){var e=(0,Bt.Z)(function*(t){t?(n.N_.Yo(),yield qd(n)):(yield n.N_.stop(),n.b_.length>0&&(an("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class tv{constructor(e,t,i,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,c){const l=Date.now()+i,f=new tv(e,t,l,o,c);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sn(Wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(n,e){if(Gr("AsyncQueue",`${e}: ${n}`),hl(n))return new sn(Wt.UNAVAILABLE,`${e}: ${n}`);throw n}class Nf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||xn.comparator(t.key,i.key):(t,i)=>xn.comparator(t.key,i.key),this.keyedMap=$a(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new Nf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Nf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Ix{constructor(){this.B_=new hr(xn.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Vn():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Qd{constructor(e,t,i,o,c,l,f,g,E){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=E}static fromInitialDocuments(e,t,i,o,c){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Qd(e,t,Nf.emptySet(t),l,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class oS{constructor(){this.k_=void 0,this.listeners=[]}}class sS{constructor(){this.queries=new ml(e=>Sb(e),df),this.onlineState="Unknown",this.q_=new Set}}function G0(n,e){return K0.apply(this,arguments)}function K0(){return K0=(0,Bt.Z)(function*(n,e){const t=Dn(n),i=e.query;let o=!1,c=t.queries.get(i);if(c||(o=!0,c=new oS),o)try{c.k_=yield t.onListen(i)}catch(l){const f=Zd(l,`Initialization of query '${im(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,c),c.listeners.push(e),e.Q_(t.onlineState),c.k_&&e.K_(c.k_)&&q0(t)}),K0.apply(this,arguments)}function xm(n,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,Bt.Z)(function*(n,e){const t=Dn(n),i=e.query;let o=!1;const c=t.queries.get(i);if(c){const l=c.listeners.indexOf(e);l>=0&&(c.listeners.splice(l,1),o=0===c.listeners.length)}if(o)return t.queries.delete(i),t.onUnlisten(i)}),Dm.apply(this,arguments)}function Cx(n,e){const t=Dn(n);let i=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const f of l.listeners)f.K_(o)&&(i=!0);l.k_=o}}i&&q0(t)}function Y0(n,e,t){const i=Dn(n),o=i.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);i.queries.delete(e)}function q0(n){n.q_.forEach(e=>{e.next()})}class Z0{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)3!==o.type&&i.push(o);e=new Qd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Qd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Q0{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class xx{constructor(e){this.serializer=e}hs(e){return Tc(this.serializer,e)}Ps(e){return e.metadata.exists?LC(this.serializer,e.document,!1):vr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Sr(e)}}class Dx{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xu(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=Bi.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new xx(this.serializer);for(const o of e)if(o.metadata.queries){const c=i.hs(o.metadata.name);for(const l of o.metadata.queries){const f=(t.get(l)||ui()).add(c);t.set(l,f)}}return t}complete(){var e=this;return(0,Bt.Z)(function*(){const t=yield function dx(n,e,t,i){return I0.apply(this,arguments)}(e.localStore,new xx(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const o of e.queries)yield hx(e.localStore,o,i.get(o.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function xu(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class X0{constructor(e){this.key=e}}class Tx{constructor(e){this.key=e}}class aS{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ui(),this.mutatedKeys=ui(),this._a=xC(e),this.aa=new Nf(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new Ix,o=t?t.aa:this.aa;let c=t?t.mutatedKeys:this.mutatedKeys,l=o,f=!1;const g="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,E="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,U)=>{const ee=o.get(N),Pe=_u(this.query,U)?U:null,at=!!ee&&this.mutatedKeys.has(ee.key),wt=!!Pe&&(Pe.hasLocalMutations||this.mutatedKeys.has(Pe.key)&&Pe.hasCommittedMutations);let Ht=!1;ee&&Pe?ee.data.isEqual(Pe.data)?at!==wt&&(i.track({type:3,doc:Pe}),Ht=!0):this.ha(ee,Pe)||(i.track({type:2,doc:Pe}),Ht=!0,(g&&this._a(Pe,g)>0||E&&this._a(Pe,E)<0)&&(f=!0)):!ee&&Pe?(i.track({type:0,doc:Pe}),Ht=!0):ee&&!Pe&&(i.track({type:1,doc:ee}),Ht=!0,(g||E)&&(f=!0)),Ht&&(Pe?(l=l.add(Pe),c=wt?c.add(N):c.delete(N)):(l=l.delete(N),c=c.delete(N)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const N="F"===this.query.limitType?l.last():l.first();l=l.delete(N.key),c=c.delete(N.key),i.track({type:1,doc:N})}return{aa:l,la:i,Zi:f,mutatedKeys:c}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const c=e.la.L_();c.sort((E,N)=>function(ee,Pe){const at=wt=>{switch(wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vn()}};return at(ee)-at(Pe)}(E.type,N.type)||this._a(E.doc,N.doc)),this.Pa(i);const l=t?this.Ia():[],f=0===this.oa.size&&this.current?1:0,g=f!==this.sa;return this.sa=f,0!==c.length||g?{snapshot:new Qd(this.query,e.aa,o,c,e.mutatedKeys,0===f,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Ix,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ui(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new Tx(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new X0(i))}),t}da(e){this.ia=e.ls,this.oa=ui();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Qd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class J0{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class eE{constructor(e){this.key=e,this.Ra=!1}}class cS{constructor(e,t,i,o,c,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new ml(f=>Sb(f),df),this.fa=new Map,this.ga=new Set,this.pa=new hr(xn.comparator),this.ya=new Map,this.wa=new g0,this.Sa={},this.ba=new Map,this.Da=jd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Ax(n,e){return nv.apply(this,arguments)}function nv(){return nv=(0,Bt.Z)(function*(n,e){const t=gE(n);let i,o;const c=t.ma.get(e);if(c)i=c.targetId,t.sharedClientState.addLocalQueryTarget(i),o=c.view.Aa();else{const l=yield Ga(t.localStore,ns(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,o=yield tE(t,e,i,"current"===f,l.resumeToken),t.isPrimaryClient&&Im(t.remoteStore,l)}return o}),nv.apply(this,arguments)}function tE(n,e,t,i,o){return iv.apply(this,arguments)}function iv(){return iv=(0,Bt.Z)(function*(n,e,t,i,o){n.va=(U,ee,Pe)=>{return(at=(0,Bt.Z)(function*(Ht,En,In,vn){let zn=En.view.ca(In);zn.Zi&&(zn=yield Gd(Ht.localStore,En.query,!1).then(({documents:Wi})=>En.view.ca(Wi,zn)));const pi=vn&&vn.targetChanges.get(En.targetId),wi=En.view.applyChanges(zn,Ht.isPrimaryClient,pi);return lE(Ht,En.targetId,wi.Ta),wi.snapshot}),function wt(Ht,En,In,vn){return at.apply(this,arguments)})(n,U,ee,Pe);var at};const c=yield Gd(n.localStore,e,!0),l=new aS(e,c.ls),f=l.ca(c.documents),g=bf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,o),E=l.applyChanges(f,n.isPrimaryClient,g);lE(n,t,E.Ta);const N=new J0(e,t,l);return n.ma.set(e,N),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),E.snapshot}),iv.apply(this,arguments)}function nE(n,e){return rv.apply(this,arguments)}function rv(){return rv=(0,Bt.Z)(function*(n,e){const t=Dn(n),i=t.ma.get(e),o=t.fa.get(i.targetId);if(o.length>1)return t.fa.set(i.targetId,o.filter(c=>!df(c,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Af(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Il(t.remoteStore,i.targetId),Xd(t,i.targetId)}).catch(lu))):(Xd(t,i.targetId),yield Af(t.localStore,i.targetId,!0))}),rv.apply(this,arguments)}function ov(){return ov=(0,Bt.Z)(function*(n,e,t){const i=Ff(n);try{const o=yield function(l,f){const g=Dn(l),E=Br.now(),N=f.reduce((Pe,at)=>Pe.add(at.key),ui());let U,ee;return g.persistence.runTransaction("Locally write mutations","readwrite",Pe=>{let at=Ro(),wt=ui();return g.ss.getEntries(Pe,N).next(Ht=>{at=Ht,at.forEach((En,In)=>{In.isValidDocument()||(wt=wt.add(En))})}).next(()=>g.localDocuments.getOverlayedDocuments(Pe,at)).next(Ht=>{U=Ht;const En=[];for(const In of f){const vn=Nb(In,U.get(In.key).overlayedDocument);null!=vn&&En.push(new Ta(In.key,vn,vb(vn.value.mapValue),Ur.exists(!0)))}return g.mutationQueue.addMutationBatch(Pe,E,En,f)}).next(Ht=>{ee=Ht;const En=Ht.applyToLocalDocumentSet(U,wt);return g.documentOverlayCache.saveOverlays(Pe,Ht.batchId,En)})}).then(()=>({batchId:ee.batchId,changes:rm(U)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(l,f,g){let E=l.Sa[l.currentUser.toKey()];E||(E=new hr(ni)),E=E.insert(f,g),l.Sa[l.currentUser.toKey()]=E}(i,o.batchId,t),yield Cl(i,o.changes),yield qd(i.remoteStore)}catch(o){const c=Zd(o,"Failed to persist write");t.reject(c)}}),ov.apply(this,arguments)}function iE(n,e){return rE.apply(this,arguments)}function rE(){return rE=(0,Bt.Z)(function*(n,e){const t=Dn(n);try{const i=yield function GA(n,e){const t=Dn(n),i=e.snapshotVersion;let o=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const l=t.ss.newChangeBuffer({trackRemovals:!0});o=t.ts;const f=[];e.targetChanges.forEach((N,U)=>{const ee=o.get(U);if(!ee)return;f.push(t.qr.removeMatchingKeys(c,N.removedDocuments,U).next(()=>t.qr.addMatchingKeys(c,N.addedDocuments,U)));let Pe=ee.withSequenceNumber(c.currentSequenceNumber);var wt,Ht,En;null!==e.targetMismatches.get(U)?Pe=Pe.withResumeToken(ao.EMPTY_BYTE_STRING,kn.min()).withLastLimboFreeSnapshotVersion(kn.min()):N.resumeToken.approximateByteSize()>0&&(Pe=Pe.withResumeToken(N.resumeToken,i)),o=o.insert(U,Pe),Ht=Pe,En=N,(0===(wt=ee).resumeToken.approximateByteSize()||Ht.snapshotVersion.toMicroseconds()-wt.snapshotVersion.toMicroseconds()>=3e8||En.addedDocuments.size+En.modifiedDocuments.size+En.removedDocuments.size>0)&&f.push(t.qr.updateTargetData(c,Pe))});let g=Ro(),E=ui();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,N))}),f.push(ux(c,l,e.documentUpdates).next(N=>{g=N.us,E=N.cs})),!i.isEqual(kn.min())){const N=t.qr.getLastRemoteSnapshotVersion(c).next(U=>t.qr.setTargetsMetadata(c,c.currentSequenceNumber,i));f.push(N)}return St.waitFor(f).next(()=>l.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,E)).next(()=>g)}).then(c=>(t.ts=o,c))}(t.localStore,e);e.targetChanges.forEach((o,c)=>{const l=t.ya.get(c);l&&(Yn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.Ra=!0:o.modifiedDocuments.size>0?Yn(l.Ra):o.removedDocuments.size>0&&(Yn(l.Ra),l.Ra=!1))}),yield Cl(t,i,e)}catch(i){yield lu(i)}}),rE.apply(this,arguments)}function Rx(n,e,t){const i=Dn(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const o=[];i.ma.forEach((c,l)=>{const f=l.view.Q_(e);f.snapshot&&o.push(f.snapshot)}),function(l,f){const g=Dn(l);g.onlineState=f;let E=!1;g.queries.forEach((N,U)=>{for(const ee of U.listeners)ee.Q_(f)&&(E=!0)}),E&&q0(g)}(i.eventManager,e),o.length&&i.Va.a_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function lS(n,e,t){return oE.apply(this,arguments)}function oE(){return oE=(0,Bt.Z)(function*(n,e,t){const i=Dn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.ya.get(e),c=o&&o.key;if(c){let l=new hr(xn.comparator);l=l.insert(c,vr.newNoDocument(c,kn.min()));const f=ui().add(c),g=new yf(kn.min(),new Map,new hr(ni),l,f);yield iE(i,g),i.pa=i.pa.remove(c),i.ya.delete(e),uE(i)}else yield Af(i.localStore,e,!1).then(()=>Xd(i,e,t)).catch(lu)}),oE.apply(this,arguments)}function Mx(n,e){return Px.apply(this,arguments)}function Px(){return Px=(0,Bt.Z)(function*(n,e){const t=Dn(n),i=e.batch.batchId;try{const o=yield function aO(n,e){const t=Dn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=t.ss.newChangeBuffer({trackRemovals:!0});return function(f,g,E,N){const U=E.batch,ee=U.keys();let Pe=St.resolve();return ee.forEach(at=>{Pe=Pe.next(()=>N.getEntry(g,at)).next(wt=>{const Ht=E.docVersions.get(at);Yn(null!==Ht),wt.version.compareTo(Ht)<0&&(U.applyToRemoteDocument(wt,E),wt.isValidDocument()&&(wt.setReadTime(E.commitVersion),N.addEntry(wt)))})}),Pe.next(()=>f.mutationQueue.removeMutationBatch(g,U))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let g=ui();for(let E=0;E<f.mutationResults.length;++E)f.mutationResults[E].transformResults.length>0&&(g=g.add(f.batch.mutations[E].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}(t.localStore,e);cE(t,i,null),aE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Cl(t,o)}catch(o){yield lu(o)}}),Px.apply(this,arguments)}function Ox(n,e,t){return sE.apply(this,arguments)}function sE(){return sE=(0,Bt.Z)(function*(n,e,t){const i=Dn(n);try{const o=yield function(l,f){const g=Dn(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let N;return g.mutationQueue.lookupMutationBatch(E,f).next(U=>(Yn(null!==U),N=U.keys(),g.mutationQueue.removeMutationBatch(E,U))).next(()=>g.mutationQueue.performConsistencyCheck(E)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(E,N,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,N)).next(()=>g.localDocuments.getDocuments(E,N))})}(i.localStore,e);cE(i,e,t),aE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Cl(i,o)}catch(o){yield lu(o)}}),sE.apply(this,arguments)}function kx(){return kx=(0,Bt.Z)(function*(n,e){const t=Dn(n);Kd(t.remoteStore)||an("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const f=Dn(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>f.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===i)return void e.resolve();const o=t.ba.get(i)||[];o.push(e),t.ba.set(i,o)}catch(i){const o=Zd(i,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),kx.apply(this,arguments)}function aE(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function cE(n,e,t){const i=Dn(n);let o=i.Sa[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),i.Sa[i.currentUser.toKey()]=o}}function Xd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||Nx(n,i)})}function Nx(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Il(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),uE(n))}function lE(n,e,t){for(const i of t)i instanceof X0?(n.wa.addReference(i.key,e),dS(n,i)):i instanceof Tx?(an("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||Nx(n,i.key)):Vn()}function dS(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(an("SyncEngine","New document in limbo: "+t),n.ga.add(i),uE(n))}function uE(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new xn(Bi.fromString(e)),i=n.Da.next();n.ya.set(i,new eE(t)),n.pa=n.pa.insert(t,i),Im(n.remoteStore,new is(ns(lf(t.path)),i,"TargetPurposeLimboResolution",ra._e))}}function Cl(n,e,t){return dE.apply(this,arguments)}function dE(){return dE=(0,Bt.Z)(function*(n,e,t){const i=Dn(n),o=[],c=[],l=[];var f;i.ma.isEmpty()||(i.ma.forEach((f,g)=>{l.push(i.va(g,e,t).then(E=>{if((E||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,E?.fromCache?"not-current":"current"),E){o.push(E);const N=y0.Qi(g.targetId,E);c.push(N)}}))}),yield Promise.all(l),i.Va.a_(o),yield(f=(0,Bt.Z)(function*(E,N){const U=Dn(E);try{yield U.persistence.runTransaction("notifyLocalViewChanges","readwrite",ee=>St.forEach(N,Pe=>St.forEach(Pe.ki,at=>U.persistence.referenceDelegate.addReference(ee,Pe.targetId,at)).next(()=>St.forEach(Pe.qi,at=>U.persistence.referenceDelegate.removeReference(ee,Pe.targetId,at)))))}catch(ee){if(!hl(ee))throw ee;an("LocalStore","Failed to update sequence numbers: "+ee)}for(const ee of N){const Pe=ee.targetId;if(!ee.fromCache){const at=U.ts.get(Pe),Ht=at.withLastLimboFreeSnapshotVersion(at.snapshotVersion);U.ts=U.ts.insert(Pe,Ht)}}}),function g(E,N){return f.apply(this,arguments)})(i.localStore,c))}),dE.apply(this,arguments)}function hS(n,e){return hE.apply(this,arguments)}function hE(){return hE=(0,Bt.Z)(function*(n,e){const t=Dn(n);if(!t.currentUser.isEqual(e)){an("SyncEngine","User change. New user:",e.toKey());const i=yield E0(t.localStore,e);t.currentUser=e,(c=t).ba.forEach(f=>{f.forEach(g=>{g.reject(new sn(Wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Cl(t,i._s)}var c}),hE.apply(this,arguments)}function fS(n,e){const t=Dn(n),i=t.ya.get(e);if(i&&i.Ra)return ui().add(i.key);{let o=ui();const c=t.fa.get(e);if(!c)return o;for(const l of c){const f=t.ma.get(l);o=o.unionWith(f.view.ua)}return o}}function Tm(n,e){return sv.apply(this,arguments)}function sv(){return sv=(0,Bt.Z)(function*(n,e){const t=Dn(n),i=yield Gd(t.localStore,e.query,!0),o=e.view.da(i);return t.isPrimaryClient&&lE(t,e.targetId,o.Ta),o}),sv.apply(this,arguments)}function Fx(n,e){return av.apply(this,arguments)}function av(){return av=(0,Bt.Z)(function*(n,e){const t=Dn(n);return YA(t.localStore,e).then(i=>Cl(t,i))}),av.apply(this,arguments)}function Lx(n,e,t,i){return cv.apply(this,arguments)}function cv(){return cv=(0,Bt.Z)(function*(n,e,t,i){const o=Dn(n),c=yield function(f,g){const E=Dn(f),N=Dn(E.mutationQueue);return E.persistence.runTransaction("Lookup mutation documents","readonly",U=>N.Cn(U,g).next(ee=>ee?E.localDocuments.getDocuments(U,ee):St.resolve(null)))}(o.localStore,e);var g;null!==c?("pending"===t?yield qd(o.remoteStore):"acknowledged"===t||"rejected"===t?(cE(o,e,i||null),aE(o,e),g=e,Dn(Dn(o.localStore).mutationQueue).Fn(g)):Vn(),yield Cl(o,c)):an("SyncEngine","Cannot apply mutation batch with id: "+e)}),cv.apply(this,arguments)}function fE(){return fE=(0,Bt.Z)(function*(n,e){const t=Dn(n);if(gE(t),Ff(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),o=yield pS(t,i.toArray());t.Ca=!0,yield $0(t.remoteStore,!0);for(const c of o)Im(t.remoteStore,c)}else if(!1===e&&!1!==t.Ca){const i=[];let o=Promise.resolve();t.fa.forEach((c,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):o=o.then(()=>(Xd(t,l),Af(t.localStore,l,!0))),Il(t.remoteStore,l)}),yield o,yield pS(t,i),function(l){const f=Dn(l);f.ya.forEach((g,E)=>{Il(f.remoteStore,E)}),f.wa.Vr(),f.ya=new Map,f.pa=new hr(xn.comparator)}(t),t.Ca=!1,yield $0(t.remoteStore,!1)}}),fE.apply(this,arguments)}function pS(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,Bt.Z)(function*(n,e,t){const i=Dn(n),o=[],c=[];for(const l of e){let f;const g=i.fa.get(l);if(g&&0!==g.length){f=yield Ga(i.localStore,ns(g[0]));for(const E of g){const N=i.ma.get(E),U=yield Tm(i,N);U.snapshot&&c.push(U.snapshot)}}else{const E=yield xs(i.localStore,l);f=yield Ga(i.localStore,E),yield tE(i,pE(E),l,!1,f.resumeToken)}o.push(f)}return i.Va.a_(c),o}),Bx.apply(this,arguments)}function pE(n){return wC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Ux(n){return t=Dn(n).localStore,Dn(Dn(t).persistence).Bi();var t}function mS(n,e,t,i){return mE.apply(this,arguments)}function mE(){return mE=(0,Bt.Z)(function*(n,e,t,i){const o=Dn(n);if(o.Ca)return void an("SyncEngine","Ignoring unexpected query state notification.");const c=o.fa.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const l=yield YA(o.localStore,CC(c[0])),f=yf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ao.EMPTY_BYTE_STRING);yield Cl(o,l,f);break}case"rejected":yield Af(o.localStore,e,!0),Xd(o,e,i);break;default:Vn()}}),mE.apply(this,arguments)}function gS(n,e,t){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,Bt.Z)(function*(n,e,t){const i=gE(n);if(i.Ca){for(const o of e){if(i.fa.has(o)){an("SyncEngine","Adding an already active target "+o);continue}const c=yield xs(i.localStore,o),l=yield Ga(i.localStore,c);yield tE(i,pE(c),l.targetId,!1,l.resumeToken),Im(i.remoteStore,l)}for(const o of t)i.fa.has(o)&&(yield Af(i.localStore,o,!1).then(()=>{Il(i.remoteStore,o),Xd(i,o)}).catch(lu))}}),Jd.apply(this,arguments)}function gE(n){const e=Dn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=iE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lS.bind(null,e),e.Va.a_=Cx.bind(null,e.eventManager),e.Va.Fa=Y0.bind(null,e.eventManager),e}function Ff(n){const e=Dn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ox.bind(null,e),e}class lv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Bt.Z)(function*(){t.serializer=Rf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return WA(this.persistence,new $A,e.initialUser,this.serializer)}createPersistence(e){return new W_(pm.jr,this.serializer)}createSharedClientState(e){return new vm}terminate(){var e=this;return(0,Bt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zx extends lv{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Bt.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield Ff(i.xa.syncEngine),yield qd(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return WA(this.persistence,new $A,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new p0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new rO(t,this.persistence);return new sC(e.asyncQueue,i)}createPersistence(e){const t=v0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ho.withCacheSize(this.cacheSizeBytes):Ho.DEFAULT;return new gm(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,px(),wm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new vm}}class Lf extends zx{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Bt.Z)(function*(){yield t().call(i,e);const o=i.xa.syncEngine;i.sharedClientState instanceof S0&&(i.sharedClientState.syncEngine={Ys:Lx.bind(null,o),Zs:mS.bind(null,o),Xs:gS.bind(null,o),Bi:Ux.bind(null,o),Js:Fx.bind(null,o)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var c=(0,Bt.Z)(function*(l){yield function Vx(n,e){return fE.apply(this,arguments)}(i.xa.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=px();if(!S0.D(t))throw new sn(Wt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=v0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new S0(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Vf{initialize(e,t){var i=this;return(0,Bt.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>Rx(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=hS.bind(null,i.syncEngine),yield $0(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new sS}createDatastore(e){const t=Rf(e.databaseInfo.databaseId),i=new qA(e.databaseInfo);return new QA(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,o=this.datastore,c=e.asyncQueue,l=t=>Rx(this.syncEngine,t,0),f=R0.D()?new R0:new fx,new uO(i,o,c,l,f);var i,o,c,l,f}createSyncEngine(e,t){return function(o,c,l,f,g,E,N){const U=new cS(o,c,l,f,g,E);return N&&(U.Ca=!0),U}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Bt.Z)(function*(i){const o=Dn(i);an("RemoteStore","RemoteStore shutting down."),o.C_.add(5),yield Of(o),o.F_.shutdown(),o.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function jx(n,e=10240){let t=0;return{read:()=>(0,Bt.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Bt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class uv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class dv{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new so,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Bt.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Bt.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Bt.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),o=Number(i);isNaN(o)&&e.Qa(`length string (${i}) is not valid number`);const c=yield e.Ka(o);return new Q0(JSON.parse(c),t.length+o)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Bt.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,Bt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Bt.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Hx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Bt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new sn(Wt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(o=(0,Bt.Z)(function*(l,f){const g=Dn(l),E=wf(g.serializer)+"/documents",N={documents:f.map(at=>cm(g.serializer,at))},U=yield g.Co("BatchGetDocuments",E,N,f.length),ee=new Map;U.forEach(at=>{const wt=function VC(n,e){return"found"in e?function(i,o){Yn(!!o.found);const c=Tc(i,o.found.name),l=Sr(o.found.updateTime),f=o.found.createTime?Sr(o.found.createTime):kn.min(),g=new zo({mapValue:{fields:o.found.fields}});return vr.newFoundDocument(c,l,f,g)}(n,e):"missing"in e?function(i,o){Yn(!!o.missing),Yn(!!o.readTime);const c=Tc(i,o.missing),l=Sr(o.readTime);return vr.newNoDocument(c,l)}(n,e):Vn()}(g.serializer,at);ee.set(wt.key.toString(),wt)});const Pe=[];return f.forEach(at=>{const wt=ee.get(at.toString());Yn(!!wt),Pe.push(wt)}),Pe}),function c(l,f){return o.apply(this,arguments)})(t.datastore,e);var o;return i.forEach(o=>t.recordVersion(o)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new _f(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Bt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,o)=>{const c=xn.fromPath(o);e.mutations.push(new kd(c,e.precondition(c)))}),yield(i=(0,Bt.Z)(function*(c,l){const f=Dn(c),g=wf(f.serializer)+"/documents",E={writes:l.map(N=>If(f.serializer,N))};yield f.wo("Commit",g,E)}),function o(c,l){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Vn();t=kn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new sn(Wt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(kn.min())?Ur.exists(!1):Ur.updateTime(t):Ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kn.min()))throw new sn(Wt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ur.updateTime(t)}return Ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yS{constructor(e,t,i,o,c){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=o,this.deferred=c,this.Wa=i.maxAttempts,this.zo=new Z_(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Bt.Z)(function*(){const t=new Hx(e.datastore),i=e.za(t);i&&i.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.ja(c)}))}).catch(o=>{e.ja(o)})}))}za(e){try{const t=this.updateFunction(e);return!s_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!TA(t)}return!1}}class $x{constructor(e,t,i,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=To.UNAUTHENTICATED,this.clientId=n_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Bt.Z)(function*(f){an("FirestoreClient","Received user=",f.uid),yield c.authCredentialListener(f),c.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(an("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Bt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sn(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Bt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const o=Zd(i,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function eh(n,e){return _E.apply(this,arguments)}function _E(){return _E=(0,Bt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),an("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Bt.Z)(function*(c){i.isEqual(c)||(yield E0(e.localStore,c),i=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),_E.apply(this,arguments)}function vE(n,e){return hv.apply(this,arguments)}function hv(){return hv=(0,Bt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yE(n);an("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(o=>wx(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,c)=>wx(e.remoteStore,c)),n._onlineComponents=e}),hv.apply(this,arguments)}function Wx(n){return"FirebaseError"===n.name?n.code===Wt.FAILED_PRECONDITION||n.code===Wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function yE(n){return fv.apply(this,arguments)}function fv(){return fv=(0,Bt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){an("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Wx(t))throw t;zs("Error using user provided cache. Falling back to memory cache: "+t),yield eh(n,new lv)}}else an("FirestoreClient","Using default OfflineComponentProvider"),yield eh(n,new lv);return n._offlineComponents}),fv.apply(this,arguments)}function th(n){return bE.apply(this,arguments)}function bE(){return bE=(0,Bt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(an("FirestoreClient","Using user provided OnlineComponentProvider"),yield vE(n,n._uninitializedComponentsProvider._online)):(an("FirestoreClient","Using default OnlineComponentProvider"),yield vE(n,new Vf))),n._onlineComponents}),bE.apply(this,arguments)}function Gx(n){return yE(n).then(e=>e.persistence)}function nh(n){return yE(n).then(e=>e.localStore)}function EE(n){return th(n).then(e=>e.remoteStore)}function Am(n){return th(n).then(e=>e.syncEngine)}function Bf(n){return pv.apply(this,arguments)}function pv(){return pv=(0,Bt.Z)(function*(n){const e=yield th(n),t=e.eventManager;return t.onListen=Ax.bind(null,e.syncEngine),t.onUnlisten=nE.bind(null,e.syncEngine),t}),pv.apply(this,arguments)}function mv(n,e,t={}){const i=new so;return n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return function(c,l,f,g,E){const N=new uv({next:ee=>{l.enqueueAndForget(()=>xm(c,U));const Pe=ee.docs.has(f);!Pe&&ee.fromCache?E.reject(new sn(Wt.UNAVAILABLE,"Failed to get document because the client is offline.")):Pe&&ee.fromCache&&g&&"server"===g.source?E.reject(new sn(Wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(ee)},error:ee=>E.reject(ee)}),U=new Z0(lf(f.path),N,{includeMetadataChanges:!0,J_:!0});return G0(c,U)}(yield Bf(n),n.asyncQueue,e,t,i)})),i.promise}function CE(n,e,t={}){const i=new so;return n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return function(c,l,f,g,E){const N=new uv({next:ee=>{l.enqueueAndForget(()=>xm(c,U)),ee.fromCache&&"server"===g.source?E.reject(new sn(Wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(ee)},error:ee=>E.reject(ee)}),U=new Z0(f,N,{includeMetadataChanges:!0,J_:!0});return G0(c,U)}(yield Bf(n),n.asyncQueue,e,t,i)})),i.promise}function TE(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const gv=new Map;function _v(n,e,t){if(!t)throw new sn(Wt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AE(n,e,t,i){if(!0===e&&!0===i)throw new sn(Wt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SE(n){if(!xn.isDocumentKey(n))throw new sn(Wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RE(n){if(xn.isDocumentKey(n))throw new sn(Wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Vn()}function Ai(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new sn(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vv(n);throw new sn(Wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ME(n,e){if(e<=0)throw new sn(Wt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Yx{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new sn(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sn(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=TE(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new sn(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new sn(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new sn(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uf{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sn(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sn(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yx(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Ua;switch(i.type){case"firstParty":return new au(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new sn(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=gv.get(t);i&&(an("ComponentProvider","Removing Datastore"),gv.delete(t),i.terminate())}(this),Promise.resolve()}}function PE(n,e,t,i={}){var o;const c=(n=Ai(n,Uf))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==l&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:l,ssl:!1})),i.mockUserToken){let f,g;if("string"==typeof i.mockUserToken)f=i.mockUserToken,g=To.MOCK_USER;else{f=(0,gt.Sg)(i.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new sn(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new To(E)}n._authCredentials=new eC(new tb(f,g))}}class Zi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class tr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class Pc extends Zi{constructor(e,t,i){super(e,t,lf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new xn(e))}withConverter(e){return new Pc(this.firestore,e,this._path)}}function qx(n,e,...t){if(n=(0,gt.m9)(n),_v("collection","path",e),n instanceof Uf){const i=Bi.fromString(e,...t);return RE(i),new Pc(n,null,i)}{if(!(n instanceof tr||n instanceof Pc))throw new sn(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Bi.fromString(e,...t));return RE(i),new Pc(n.firestore,null,i)}}function OE(n,e,...t){if(n=(0,gt.m9)(n),1===arguments.length&&(e=n_.newId()),_v("doc","path",e),n instanceof Uf){const i=Bi.fromString(e,...t);return SE(i),new tr(n,null,new xn(i))}{if(!(n instanceof tr||n instanceof Pc))throw new sn(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Bi.fromString(e,...t));return SE(i),new tr(n.firestore,n instanceof Pc?n.converter:null,new xn(i))}}function kE(n,e){return n=(0,gt.m9)(n),e=(0,gt.m9)(e),(n instanceof tr||n instanceof Pc)&&(e instanceof tr||e instanceof Pc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Sm(n,e){return n=(0,gt.m9)(n),e=(0,gt.m9)(e),n instanceof Zi&&e instanceof Zi&&n.firestore===e.firestore&&df(n._query,e._query)&&n.converter===e.converter}class hO{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Z_(this,"async_queue_retry"),this.iu=()=>{const t=wm();t&&an("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=wm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=wm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new so;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Bt.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!hl(t))throw t;an("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,Gr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const o=tv.createAndSchedule(this,e,t,i,c=>this.au(c));return this.Xa.push(o),o}su(){this.eu&&Vn()}verifyOperationInProgress(){}uu(){var e=this;return(0,Bt.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function Zx(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const o=t;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(n)}class fO{constructor(){this._progressObserver={},this._taskCompletionResolver=new so,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pr extends Uf{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new hO,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xx(this),this._firestoreClient.terminate()}}function DS(n,e){const t="object"==typeof n?n:(0,yi.getApp)(),i="string"==typeof n?n:e||"(default)",o=(0,yi._getProvider)(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=(0,gt.P0)("firestore");c&&PE(o,...c)}return o}function jr(n){return n._firestoreClient||Xx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Xx(n){var e,t,i;const o=n._freezeSettings(),c=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pA(n._databaseId,g,n._persistenceKey,(N=o).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,TE(N.experimentalLongPollingOptions),N.useFetchStreams));var g,N;n._firestoreClient=new $x(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=o.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=o.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}function yv(n,e,t){const i=new so;return n.asyncQueue.enqueue((0,Bt.Z)(function*(){try{yield eh(n,t),yield vE(n,e),i.resolve()}catch(o){const c=o;if(!Wx(c))throw c;zs("Error enabling indexeddb cache. Falling back to memory cache: "+c),i.reject(c)}})).then(()=>i.promise)}function FE(n){if(n._initialized||n._terminated)throw new sn(Wt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ka(ao.fromBase64String(e))}catch(t){throw new sn(Wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ka(ao.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ya{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new sn(Wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ih{constructor(e){this._methodName=e}}class LE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sn(Wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sn(Wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ni(this._lat,e._lat)||ni(this._long,e._long)}}const PS=/^__.*__$/;class OS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}class tD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vn()}}class Mm{constructor(e,t,i,o,c,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,void 0===c&&this.Pu(),this.fieldTransforms=c||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Tu({path:i,du:!1});return o.Au(e),o}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Tu({path:i,du:!1});return o.Pu(),o}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return zE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(VE(this.Iu)&&PS.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class kS{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Rf(e)}pu(e,t,i,o=!1){return new Mm({Iu:e,methodName:t,gu:i,path:_r.emptyPath(),du:!1,fu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Du(n){const e=n._freezeSettings(),t=Rf(n._databaseId);return new kS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Pm(n,e,t,i,o,c={}){const l=n.pu(c.merge||c.mergeFields?2:0,e,t,o);sD("Data must be an object, but it was:",l,i);const f=FS(i,l);let g,E;if(c.merge)g=new Hs(l.fieldMask),E=l.fieldTransforms;else if(c.mergeFields){const N=[];for(const U of c.mergeFields){const ee=Cv(e,U,t);if(!l.contains(ee))throw new sn(Wt.INVALID_ARGUMENT,`Field '${ee}' is specified in your field mask but missing from your input data.`);LS(N,ee)||N.push(ee)}g=new Hs(N),E=l.fieldTransforms.filter(U=>g.covers(U.field))}else g=null,E=l.fieldTransforms;return new OS(new zo(f),g,E)}class Om extends ih{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Om}}function nD(n,e,t){return new Mm({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ev extends ih{_toFieldTransform(e){return new E_(e.path,new Od)}isEqual(e){return e instanceof Ev}}class NS extends ih{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=nD(this,e,!0),i=this.yu.map(c=>rh(c,t)),o=new yu(i);return new E_(e.path,o)}isEqual(e){return this===e}}class iD extends ih{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=nD(this,e,!0),i=this.yu.map(c=>rh(c,t)),o=new bu(i);return new E_(e.path,o)}isEqual(e){return this===e}}class rD extends ih{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Eu(e.serializer,Pd(e.serializer,this.wu));return new E_(e.path,t)}isEqual(e){return this===e}}function wv(n,e,t,i){const o=n.pu(1,e,t);sD("Data must be an object, but it was:",o,i);const c=[],l=zo.empty();uu(i,(g,E)=>{const N=UE(e,g,t);E=(0,gt.m9)(E);const U=o.Ru(N);if(E instanceof Om)c.push(N);else{const ee=rh(E,U);null!=ee&&(c.push(N),l.set(N,ee))}});const f=new Hs(c);return new tD(l,f,o.fieldTransforms)}function Iv(n,e,t,i,o,c){const l=n.pu(1,e,t),f=[Cv(e,i,t)],g=[o];if(c.length%2!=0)throw new sn(Wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ee=0;ee<c.length;ee+=2)f.push(Cv(e,c[ee])),g.push(c[ee+1]);const E=[],N=zo.empty();for(let ee=f.length-1;ee>=0;--ee)if(!LS(E,f[ee])){const Pe=f[ee];let at=g[ee];at=(0,gt.m9)(at);const wt=l.Ru(Pe);if(at instanceof Om)E.push(Pe);else{const Ht=rh(at,wt);null!=Ht&&(E.push(Pe),N.set(Pe,Ht))}}const U=new Hs(E);return new tD(N,U,l.fieldTransforms)}function oD(n,e,t,i=!1){return rh(t,n.pu(i?4:3,e))}function rh(n,e){if(BE(n=(0,gt.m9)(n)))return sD("Unsupported field value:",e,n),FS(n,e);if(n instanceof ih)return function(i,o){if(!VE(o.Iu))throw o.mu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.mu(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,o){const c=[];let l=0;for(const f of i){let g=rh(f,o.Vu(l));null==g&&(g={nullValue:"NULL_VALUE"}),c.push(g),l++}return{arrayValue:{values:c}}}(n,e)}return function(i,o){if(null===(i=(0,gt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Pd(o.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=Br.fromDate(i);return{timestampValue:Ef(o.serializer,c)}}if(i instanceof Br){const c=new Br(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ef(o.serializer,c)}}if(i instanceof LE)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ka)return{bytesValue:FC(o.serializer,i._byteString)};if(i instanceof tr){const c=o.databaseId,l=i.firestore._databaseId;if(!l.isEqual(c))throw o.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:am(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.mu(`Unsupported field value: ${vv(i)}`)}(n,e)}function FS(n,e){const t={};return mC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uu(n,(i,o)=>{const c=rh(o,e.Eu(i));null!=c&&(t[i]=c)}),{mapValue:{fields:t}}}function BE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Br||n instanceof LE||n instanceof Ka||n instanceof tr||n instanceof ih)}function sD(n,e,t){if(!BE(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const i=vv(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var o}function Cv(n,e,t){if((e=(0,gt.m9)(e))instanceof Ya)return e._internalPath;if("string"==typeof e)return UE(n,e);throw zE("Field path arguments must be of type string or ",n,!1,void 0,t)}const pO=new RegExp("[~\\*/\\[\\]]");function UE(n,e,t){if(e.search(pO)>=0)throw zE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ya(...e.split("."))._internalPath}catch{throw zE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zE(n,e,t,i,o){const c=i&&!i.isEmpty(),l=void 0!==o;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(c||l)&&(g+=" (found",c&&(g+=` in field ${i}`),l&&(g+=` in document ${o}`),g+=")"),new sn(Wt.INVALID_ARGUMENT,f+n+g)}function LS(n,e){return n.some(t=>t.isEqual(e))}class xv{constructor(e,t,i,o,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mO extends xv{data(){return super.data()}}function jE(n,e){return"string"==typeof e?UE(n,e):e instanceof Ya?e._internalPath:e._delegate._internalPath}function HE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new sn(Wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class km{}class zf extends km{}function Tu(n,e,...t){let i=[];e instanceof km&&i.push(e),i=i.concat(t),function(c){const l=c.filter(g=>g instanceof Nm).length,f=c.filter(g=>g instanceof Au).length;if(l>1||l>0&&f>0)throw new sn(Wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Au extends zf{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Au(e,t,i)}_apply(e){const t=this._parse(e);return Mv(e._query,t),new Zi(e.firestore,e.converter,Tb(e._query,t))}_parse(e){const t=Du(e.firestore);return function(c,l,f,g,E,N,U){let ee;if(E.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new sn(Wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if("in"===N||"not-in"===N){lD(U,N);const Pe=[];for(const at of U)Pe.push(cD(g,c,at));ee={arrayValue:{values:Pe}}}else ee=cD(g,c,U)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||lD(U,N),ee=oD(f,"where",U,"in"===N||"not-in"===N);return Mi.create(E,N,ee)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Nm extends km{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Nm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,c){let l=o;const f=c.getFlattenedFilters();for(const g of f)Mv(l,g),l=Tb(l,g)}(e._query,t),new Zi(e.firestore,e.converter,Tb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dv extends zf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dv(e,t)}_apply(e){const t=function(o,c,l){if(null!==o.startAt)throw new sn(Wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new sn(Wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(c,l)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(o,c){const l=o.explicitOrderBy.concat([c]);return new pl(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Tv extends zf{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Tv(e,t,i)}_apply(e){return new Zi(e.firestore,e.converter,Ab(e._query,this._limit,this._limitType))}}class Av extends zf{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Av(e,t,i)}_apply(e){const t=aD(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(c=t,new pl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}class Rv extends zf{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Rv(e,t,i)}_apply(e){const t=aD(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(c=t,new pl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function aD(n,e,t,i){if(t[0]=(0,gt.m9)(t[0]),t[0]instanceof xv)return function(c,l,f,g,E){if(!g)throw new sn(Wt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const N=[];for(const U of uf(c))if(U.field.isKeyField())N.push(Cc(l,g.key));else{const ee=g.data.field(U.field);if(d_(ee))throw new sn(Wt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+U.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ee){const Pe=U.field.canonicalString();throw new sn(Wt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Pe}' (used as the orderBy) does not exist.`)}N.push(ee)}return new Ha(N,E)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=Du(n.firestore);return function(l,f,g,E,N,U){const ee=l.explicitOrderBy;if(N.length>ee.length)throw new sn(Wt.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Pe=[];for(let at=0;at<N.length;at++){const wt=N[at];if(ee[at].field.isKeyField()){if("string"!=typeof wt)throw new sn(Wt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof wt}`);if(!xb(l)&&-1!==wt.indexOf("/"))throw new sn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${wt}' contains a slash.`);const Ht=l.path.child(Bi.fromString(wt));if(!xn.isDocumentKey(Ht))throw new sn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Ht}' is not because it contains an odd number of segments.`);const En=new xn(Ht);Pe.push(Cc(f,En))}else{const Ht=oD(g,E,wt);Pe.push(Ht)}}return new Ha(Pe,U)}(n._query,n.firestore._databaseId,o,e,t,i)}}function cD(n,e,t){if("string"==typeof(t=(0,gt.m9)(t))){if(""===t)throw new sn(Wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xb(e)&&-1!==t.indexOf("/"))throw new sn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Bi.fromString(t));if(!xn.isDocumentKey(i))throw new sn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cc(n,new xn(i))}if(t instanceof tr)return Cc(n,t._key);throw new sn(Wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vv(t)}.`)}function lD(n,e){if(!Array.isArray(n)||0===n.length)throw new sn(Wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mv(n,e){const t=function(o,c){for(const l of o)for(const f of l.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new sn(Wt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $E{convertValue(e,t="none"){switch(pu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ic(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Vn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return uu(e,(o,c)=>{i[o]=this.convertValue(c,t)}),i}convertGeoPoint(e){return new LE(Kr(e.latitude),Kr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=h_(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Dd(e));default:return null}}convertTimestamp(e){const t=du(e);return new Br(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Bi.fromString(e);Yn(lm(i));const o=new hu(i.get(1),i.get(3)),c=new xn(i.popFirst(5));return o.isEqual(t)||Gr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Pv(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class HS extends $E{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}class oh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xl extends xv{constructor(e,t,i,o,c,l){super(e,t,i,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class jf extends xl{data(e={}){return super.data(e)}}class kc{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new oh(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new jf(this._firestore,this._userDataWriter,i.key,i,new oh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new sn(Wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new jf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new oh(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>c||3!==f.type).map(f=>{const g=new jf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new oh(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let E=-1,N=-1;return 0!==f.type&&(E=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),N=l.indexOf(f.doc.key)),{type:WS(f.type),doc:g,oldIndex:E,newIndex:N}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vn()}}function dD(n,e){return n instanceof xl&&e instanceof xl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kc&&e instanceof kc&&n._firestore===e._firestore&&Sm(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Dl extends $E{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function WE(n,e,t){n=Ai(n,tr);const i=Ai(n.firestore,pr),o=Pv(n.converter,e,t);return Ru(i,[Pm(Du(i),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Ur.none())])}function mD(n,e,t,...i){n=Ai(n,tr);const o=Ai(n.firestore,pr),c=Du(o);let l;return l="string"==typeof(e=(0,gt.m9)(e))||e instanceof Ya?Iv(c,"updateDoc",n._key,e,t,i):wv(c,"updateDoc",n._key,e),Ru(o,[l.toMutation(n._key,Ur.exists(!0))])}function KE(n,...e){var t,i,o;n=(0,gt.m9)(n);let c={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Zx(e[l])||(c=e[l],l++);const f={includeMetadataChanges:c.includeMetadataChanges};if(Zx(e[l])){const U=e[l];e[l]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[l+1]=null===(i=U.error)||void 0===i?void 0:i.bind(U),e[l+2]=null===(o=U.complete)||void 0===o?void 0:o.bind(U)}let g,E,N;if(n instanceof tr)E=Ai(n.firestore,pr),N=lf(n._key.path),g={next:U=>{e[l]&&e[l](qE(E,n,U))},error:e[l+1],complete:e[l+2]};else{const U=Ai(n,Zi);E=Ai(U.firestore,pr),N=U._query;const ee=new Dl(E);g={next:Pe=>{e[l]&&e[l](new kc(E,ee,U,Pe))},error:e[l+1],complete:e[l+2]},HE(n._query)}return function(ee,Pe,at,wt){const Ht=new uv(wt),En=new Z0(Pe,Ht,at);return ee.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return G0(yield Bf(ee),En)})),()=>{Ht.Na(),ee.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return xm(yield Bf(ee),En)}))}}(jr(E),N,f,g)}function Ru(n,e){return function(i,o){const c=new so;return i.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return function Sx(n,e,t){return ov.apply(this,arguments)}(yield Am(i),o,c)})),c.promise}(jr(n),e)}function qE(n,e,t){const i=t.docs.get(e._key),o=new Dl(n);return new xl(n,o,e._key,i,new oh(t.hasPendingWrites,t.fromCache),e.converter)}const vD={maxAttempts:5};class yD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Du(e)}set(e,t,i){this._verifyNotCommitted();const o=Tl(e,this._firestore),c=Pv(o.converter,t,i),l=Pm(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,i);return this._mutations.push(l.toMutation(o._key,Ur.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const c=Tl(e,this._firestore);let l;return l="string"==typeof(t=(0,gt.m9)(t))||t instanceof Ya?Iv(this._dataReader,"WriteBatch.update",c._key,t,i,o):wv(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(l.toMutation(c._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Tl(e,this._firestore);return this._mutations=this._mutations.concat(new _f(t._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sn(Wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tl(n,e){if((n=(0,gt.m9)(n)).firestore!==e)throw new sn(Wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class bD extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Du(t)}get(t){const i=Tl(t,this._firestore),o=new HS(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return Vn();const l=c[0];if(l.isFoundDocument())return new xv(this._firestore,o,l.key,l,i.converter);if(l.isNoDocument())return new xv(this._firestore,o,i._key,null,i.converter);throw Vn()})}set(t,i,o){const c=Tl(t,this._firestore),l=Pv(c.converter,i,o),f=Pm(this._dataReader,"Transaction.set",c._key,l,null!==c.converter,o);return this._transaction.set(c._key,f),this}update(t,i,o,...c){const l=Tl(t,this._firestore);let f;return f="string"==typeof(i=(0,gt.m9)(i))||i instanceof Ya?Iv(this._dataReader,"Transaction.update",l._key,i,o,c):wv(this._dataReader,"Transaction.update",l._key,i),this._transaction.update(l._key,f),this}delete(t){const i=Tl(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Tl(e,this._firestore),i=new Dl(this._firestore);return super.get(e).then(o=>new xl(this._firestore,i,t._key,o._document,new oh(!1,!1),t.converter))}}!function(e,t=!0){bd=yi.SDK_VERSION,(0,yi._registerComponent)(new Ql.wA("firestore",(i,{instanceIdentifier:o,options:c})=>{const l=i.getProvider("app").getImmediate(),f=new pr(new nO(i.getProvider("auth-internal")),new oA(i.getProvider("app-check-internal")),function(E,N){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new sn(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(E.options.projectId,N)}(l,o),l);return c=Object.assign({useFetchStreams:t},c),f._setSettings(c),f},"PUBLIC").setMultipleInstances(!0)),(0,yi.registerVersion)(XI,"4.3.2",e),(0,yi.registerVersion)(XI,"4.3.2","esm2017")}();class TD{constructor(e){return e}}const oR="firestore",$f=new v.OlP("angularfire2.firestore-instances");function aR(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new TD(i)}}const AD={provide:class DO{constructor(){return wa(oR)}},deps:[[new v.FiY,$f]]},sh={provide:TD,useFactory:function sR(n,e){const t=fp(oR,n,e);return t&&new TD(t)},deps:[[new v.FiY,$f],Ca]};let XE=(()=>{class n{constructor(){(0,yi.registerVersion)("angularfire",ta.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=v.oAB({type:n});static \u0275inj=v.cJS({providers:[sh,AD]})}return n})();function JE(n,...e){return{ngModule:XE,providers:[{provide:$f,useFactory:aR(n),multi:!0,deps:[v.R0b,v.zs3,pc,xa,[new v.FiY,gg],[new v.FiY,Zu],...e]}]}}const bR=gc(DS,!0);var De=b(7398);function ft(n,e,t,i){return(0,Ze.e)((o,c)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:i}=e):l=e;const f=new Map,g=at=>{f.forEach(at),at(c)},E=at=>g(wt=>wt.error(at));let N=0,U=!1;const ee=new Oe.Q(c,at=>{try{const wt=n(at);let Ht=f.get(wt);if(!Ht){f.set(wt,Ht=i?i():new Me.x);const En=function Pe(at,wt){const Ht=new ts.y(En=>{N++;const In=wt.subscribe(En);return()=>{In.unsubscribe(),0==--N&&U&&ee.unsubscribe()}});return Ht.key=at,Ht}(wt,Ht);if(c.next(En),t){const In=(0,Oe.x)(Ht,()=>{Ht.complete(),In?.unsubscribe()},void 0,void 0,()=>f.delete(wt));ee.add((0,jt.Xf)(t(En)).subscribe(In))}}Ht.next(l?l(at):at)}catch(wt){E(wt)}},()=>g(at=>at.complete()),E,()=>f.clear(),()=>(U=!0,0===N));o.subscribe(ee)})}var Ct=b(3997);function Zt(){return(0,Ze.e)((n,e)=>{let t,i=!1;n.subscribe((0,Oe.x)(e,o=>{const c=t;t=o,i&&e.next([c,o]),i=!0}))})}const fn=(n,e)=>e.some(t=>n instanceof t);let Mn,qn;const bi=new WeakMap,Qi=new WeakMap,Ds=new WeakMap,qa=new WeakMap,Mu=new WeakMap;let iw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Qi.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Ds.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wf(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function oL(n){return"function"==typeof n?function rL(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function di(){return qn||(qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(CR(this),e),Wf(bi.get(this))}:function(...e){return Wf(n.apply(CR(this),e))}:function(e,...t){const i=n.call(CR(this),e,...t);return Ds.set(i,e.sort?e.sort():[e]),Wf(i)}}(n):(n instanceof IDBTransaction&&function IR(n){if(Qi.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",l),n.removeEventListener("abort",l)},c=()=>{t(),o()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",l),n.addEventListener("abort",l)});Qi.set(n,e)}(n),fn(n,function on(){return Mn||(Mn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,iw):n)}function Wf(n){if(n instanceof IDBRequest)return function nw(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",l)},c=()=>{t(Wf(n.result)),o()},l=()=>{i(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&bi.set(t,n)}).catch(()=>{}),Mu.set(e,n),e}(n);if(qa.has(n))return qa.get(n);const e=oL(n);return e!==n&&(qa.set(n,e),Mu.set(e,n)),e}const CR=n=>Mu.get(n),aL=["get","getKey","getAll","getAllKeys","count"],cL=["put","add","delete","clear"],xR=new Map;function QO(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(xR.get(e))return xR.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=cL.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!o&&!aL.includes(t))return;const c=function(){var l=(0,Bt.Z)(function*(f,...g){const E=this.transaction(f,o?"readwrite":"readonly");let N=E.store;return i&&(N=N.index(g.shift())),(yield Promise.all([N[t](...g),o&&E.done]))[0]});return function(g){return l.apply(this,arguments)}}();return xR.set(e,c),c}!function iL(n){iw=n(iw)}(n=>({...n,get:(e,t,i)=>QO(e,t)||n.get(e,t,i),has:(e,t)=>!!QO(e,t)||n.has(e,t)}));const XO="@firebase/installations",DR="0.6.4",JO=1e4,ek=`w:${DR}`,tk="FIS_v2",lL="https://firebaseinstallations.googleapis.com/v1",uL=36e5,ah=new gt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nk(n){return n instanceof gt.ZR&&n.code.includes("request-failed")}function TR({projectId:n}){return`${lL}/projects/${n}/installations`}function ik(n){return{token:n.token,requestStatus:2,expiresIn:pL(n.expiresIn),creationTime:Date.now()}}function AR(n,e){return SR.apply(this,arguments)}function SR(){return SR=(0,Bt.Z)(function*(n,e){const i=(yield e.json()).error;return ah.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}),SR.apply(this,arguments)}function rk({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function RR(n){return MR.apply(this,arguments)}function MR(){return MR=(0,Bt.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),MR.apply(this,arguments)}function pL(n){return Number(n.replace("s","000"))}function PR(){return PR=(0,Bt.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=TR(n),o=rk(n),c=e.getImmediate({optional:!0});if(c){const E=yield c.getHeartbeatsHeader();E&&o.append("x-firebase-client",E)}const f={method:"POST",headers:o,body:JSON.stringify({fid:t,authVersion:tk,appId:n.appId,sdkVersion:ek})},g=yield RR(()=>fetch(i,f));if(g.ok){const E=yield g.json();return{fid:E.fid||t,registrationStatus:2,refreshToken:E.refreshToken,authToken:ik(E.authToken)}}throw yield AR("Create Installation",g)}),PR.apply(this,arguments)}function sk(n){return new Promise(e=>{setTimeout(e,n)})}const vL=/^[cdef][\w-]{21}$/,OR="";function yL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function bL(n){return function _L(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return vL.test(t)?t:OR}catch{return OR}}function kv(n){return`${n.appName}!${n.appId}`}const Nv=new Map;function ak(n,e){const t=kv(n);ck(t,e),function IL(n,e){const t=function lk(){return!Lm&&"BroadcastChannel"in self&&(Lm=new BroadcastChannel("[Firebase] FID Change"),Lm.onmessage=n=>{ck(n.data.key,n.data.fid)}),Lm}();t&&t.postMessage({key:n,fid:e}),function uk(){0===Nv.size&&Lm&&(Lm.close(),Lm=null)}()}(t,e)}function ck(n,e){const t=Nv.get(n);if(t)for(const i of t)i(e)}let Lm=null;const CL="firebase-installations-database",xL=1,Vm="firebase-installations-store";let kR=null;function NR(){return kR||(kR=function sL(n,e,{blocked:t,upgrade:i,blocking:o,terminated:c}={}){const l=indexedDB.open(n,e),f=Wf(l);return i&&l.addEventListener("upgradeneeded",g=>{i(Wf(l.result),g.oldVersion,g.newVersion,Wf(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",()=>o())}).catch(()=>{}),f}(CL,xL,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Vm)}})),kR}function ND(n,e){return FR.apply(this,arguments)}function FR(){return FR=(0,Bt.Z)(function*(n,e){const t=kv(n),o=(yield NR()).transaction(Vm,"readwrite"),c=o.objectStore(Vm),l=yield c.get(t);return yield c.put(e,t),yield o.done,(!l||l.fid!==e.fid)&&ak(n,e.fid),e}),FR.apply(this,arguments)}function LR(n){return VR.apply(this,arguments)}function VR(){return VR=(0,Bt.Z)(function*(n){const e=kv(n),i=(yield NR()).transaction(Vm,"readwrite");yield i.objectStore(Vm).delete(e),yield i.done}),VR.apply(this,arguments)}function rw(n,e){return BR.apply(this,arguments)}function BR(){return BR=(0,Bt.Z)(function*(n,e){const t=kv(n),o=(yield NR()).transaction(Vm,"readwrite"),c=o.objectStore(Vm),l=yield c.get(t),f=e(l);return void 0===f?yield c.delete(t):yield c.put(f,t),yield o.done,f&&(!l||l.fid!==f.fid)&&ak(n,f.fid),f}),BR.apply(this,arguments)}function UR(n){return zR.apply(this,arguments)}function zR(){return zR=(0,Bt.Z)(function*(n){let e;const t=yield rw(n.appConfig,i=>{const o=function DL(n){return hk(n||{fid:yL(),registrationStatus:0})}(i),c=function TL(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ah.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function AL(n,e){return jR.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:SL(n)}:{installationEntry:e}}(n,o);return e=c.registrationPromise,c.installationEntry});return t.fid===OR?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),zR.apply(this,arguments)}function jR(){return jR=(0,Bt.Z)(function*(n,e){try{const t=yield function gL(n,e){return PR.apply(this,arguments)}(n,e);return ND(n.appConfig,t)}catch(t){throw nk(t)&&409===t.customData.serverCode?yield LR(n.appConfig):yield ND(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),jR.apply(this,arguments)}function SL(n){return HR.apply(this,arguments)}function HR(){return HR=(0,Bt.Z)(function*(n){let e=yield dk(n.appConfig);for(;1===e.registrationStatus;)yield sk(100),e=yield dk(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield UR(n);return i||t}return e}),HR.apply(this,arguments)}function dk(n){return rw(n,e=>{if(!e)throw ah.create("installation-not-found");return hk(e)})}function hk(n){return function RL(n){return 1===n.registrationStatus&&n.registrationTime+JO<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function $R(){return $R=(0,Bt.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function PL(n,{fid:e}){return`${TR(n)}/${e}/authTokens:generate`}(n,t),o=function ok(n,{refreshToken:e}){const t=rk(n);return t.append("Authorization",function mL(n){return`${tk} ${n}`}(e)),t}(n,t),c=e.getImmediate({optional:!0});if(c){const E=yield c.getHeartbeatsHeader();E&&o.append("x-firebase-client",E)}const f={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:ek,appId:n.appId}})},g=yield RR(()=>fetch(i,f));if(g.ok)return ik(yield g.json());throw yield AR("Generate Auth Token",g)}),$R.apply(this,arguments)}function WR(n){return GR.apply(this,arguments)}function GR(){return GR=(0,Bt.Z)(function*(n,e=!1){let t;const i=yield rw(n.appConfig,c=>{if(!pk(c))throw ah.create("not-registered");const l=c.authToken;if(!e&&function NL(n){return 2===n.requestStatus&&!function FL(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+uL}(n)}(l))return c;if(1===l.requestStatus)return t=function OL(n,e){return KR.apply(this,arguments)}(n,e),c;{if(!navigator.onLine)throw ah.create("app-offline");const f=function LL(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(c);return t=function kL(n,e){return YR.apply(this,arguments)}(n,f),f}});return t?yield t:i.authToken}),GR.apply(this,arguments)}function KR(){return KR=(0,Bt.Z)(function*(n,e){let t=yield fk(n.appConfig);for(;1===t.authToken.requestStatus;)yield sk(100),t=yield fk(n.appConfig);const i=t.authToken;return 0===i.requestStatus?WR(n,e):i}),KR.apply(this,arguments)}function fk(n){return rw(n,e=>{if(!pk(e))throw ah.create("not-registered");return function VL(n){return 1===n.requestStatus&&n.requestTime+JO<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function YR(){return YR=(0,Bt.Z)(function*(n,e){try{const t=yield function ML(n,e){return $R.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield ND(n.appConfig,i),t}catch(t){if(!nk(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ND(n.appConfig,i)}else yield LR(n.appConfig);throw t}}),YR.apply(this,arguments)}function pk(n){return void 0!==n&&2===n.registrationStatus}function qR(){return qR=(0,Bt.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield UR(e);return i?i.catch(console.error):WR(e).catch(console.error),t.fid}),qR.apply(this,arguments)}function ZR(){return ZR=(0,Bt.Z)(function*(n,e=!1){const t=n;return yield function zL(n){return QR.apply(this,arguments)}(t),(yield WR(t,e)).token}),ZR.apply(this,arguments)}function QR(){return QR=(0,Bt.Z)(function*(n){const{registrationPromise:e}=yield UR(n);e&&(yield e)}),QR.apply(this,arguments)}function eM(n){return ah.create("missing-app-config-values",{valueName:n})}const mk="installations",GL=n=>{const e=n.getProvider("app").getImmediate(),t=function $L(n){if(!n||!n.options)throw eM("App Configuration");if(!n.name)throw eM("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw eM(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,yi._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},KL=n=>{const e=n.getProvider("app").getImmediate(),t=(0,yi._getProvider)(e,mk).getImmediate();return{getId:()=>function BL(n){return qR.apply(this,arguments)}(t),getToken:o=>function UL(n){return ZR.apply(this,arguments)}(t,o)}};(function YL(){(0,yi._registerComponent)(new Ql.wA(mk,GL,"PUBLIC")),(0,yi._registerComponent)(new Ql.wA("installations-internal",KL,"PRIVATE"))})(),(0,yi.registerVersion)(XO,DR),(0,yi.registerVersion)(XO,DR,"esm2017");const FD="analytics",qL="firebase_id",ZL="origin",QL=6e4,XL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tM="https://www.googletagmanager.com/gtag/js",os=new Wr.Yd("@firebase/analytics"),aa=new gt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function e2(n){if(!n.startsWith(tM)){const e=aa.create("invalid-gtag-resource",{gtagURL:n});return os.warn(e.message),""}return n}function gk(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function nM(){return nM=(0,Bt.Z)(function*(n,e,t,i,o,c){const l=i[o];try{if(l)yield e[l];else{const g=(yield gk(t)).find(E=>E.measurementId===o);g&&(yield e[g.appId])}}catch(f){os.error(f)}n("config",o,c)}),nM.apply(this,arguments)}function iM(){return iM=(0,Bt.Z)(function*(n,e,t,i,o){try{let c=[];if(o&&o.send_to){let l=o.send_to;Array.isArray(l)||(l=[l]);const f=yield gk(t);for(const g of l){const E=f.find(U=>U.measurementId===g),N=E&&e[E.appId];if(!N){c=[];break}c.push(N)}}0===c.length&&(c=Object.values(e)),yield Promise.all(c),n("event",i,o||{})}catch(c){os.error(c)}}),iM.apply(this,arguments)}const u2=30,_k=new class h2{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function f2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function rM(){return rM=(0,Bt.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:f2(i)},c=XL.replace("{app-id}",t),l=yield fetch(c,o);if(200!==l.status&&304!==l.status){let f="";try{const g=yield l.json();null!==(e=g.error)&&void 0!==e&&e.message&&(f=g.error.message)}catch{}throw aa.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()}),rM.apply(this,arguments)}function oM(){return oM=(0,Bt.Z)(function*(n,e=_k,t){const{appId:i,apiKey:o,measurementId:c}=n.options;if(!i)throw aa.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:i};throw aa.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new v2;return setTimeout((0,Bt.Z)(function*(){f.abort()}),void 0!==t?t:QL),vk({appId:i,apiKey:o,measurementId:c},l,f,e)}),oM.apply(this,arguments)}function vk(n,e,t){return sM.apply(this,arguments)}function sM(){return sM=(0,Bt.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=_k){var c;const{appId:l,measurementId:f}=n;try{yield function g2(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(c),i(aa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(g){if(f)return os.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:f};throw g}try{const g=yield function p2(n){return rM.apply(this,arguments)}(n);return o.deleteThrottleMetadata(l),g}catch(g){const E=g;if(!function _2(n){if(!(n instanceof gt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(E)){if(o.deleteThrottleMetadata(l),f)return os.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${E?.message}]`),{appId:l,measurementId:f};throw g}const N=503===Number(null===(c=E?.customData)||void 0===c?void 0:c.httpStatus)?(0,gt.$s)(t,o.intervalMillis,u2):(0,gt.$s)(t,o.intervalMillis),U={throttleEndTimeMillis:Date.now()+N,backoffCount:t+1};return o.setThrottleMetadata(l,U),os.debug(`Calling attemptFetch again in ${N} millis`),vk(n,U,i,o)}}),sM.apply(this,arguments)}class v2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let aM,pM;function cM(){return cM=(0,Bt.Z)(function*(n,e,t,i,o){if(o&&o.global)n("event",t,i);else{const c=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:c}))}}),cM.apply(this,arguments)}function uM(){return uM=(0,Bt.Z)(function*(n,e,t,i){if(i&&i.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})}),uM.apply(this,arguments)}function mM(){return mM=(0,Bt.Z)(function*(){if(!(0,gt.hl)())return os.warn(aa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,gt.eu)()}catch(n){return os.warn(aa.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0}),mM.apply(this,arguments)}function gM(){return gM=(0,Bt.Z)(function*(n,e,t,i,o,c,l){var f;const g=function m2(n){return oM.apply(this,arguments)}(n);g.then(Pe=>{t[Pe.measurementId]=Pe.appId,n.options.measurementId&&Pe.measurementId!==n.options.measurementId&&os.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${Pe.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Pe=>os.error(Pe)),e.push(g);const E=function x2(){return mM.apply(this,arguments)}().then(Pe=>{if(Pe)return i.getId()}),[N,U]=yield Promise.all([g,E]);(function l2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(tM)&&t.src.includes(n))return t;return null})(c)||function n2(n,e){const t=function t2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:e2}),i=document.createElement("script"),o=`${tM}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}(c,N.measurementId),pM&&(o("consent","default",pM),function yk(n){pM=n}(void 0)),o("js",new Date);const ee=null!==(f=l?.config)&&void 0!==f?f:{};return ee[ZL]="firebase",ee.update=!0,null!=U&&(ee[qL]=U),o("config",N.measurementId,ee),aM&&(o("set",aM),function bk(n){aM=n}(void 0)),N.measurementId}),gM.apply(this,arguments)}class T2{constructor(e){this.app=e}_delete(){return delete Pu[this.app.options.appId],Promise.resolve()}}let Pu={},Ek=[];const wk={};let Ck,Ou,LD="dataLayer",_M=!1;function S2(n,e,t){!function A2(){const n=[];if((0,gt.ru)()&&n.push("This is a browser extension environment."),(0,gt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=aa.create("invalid-analytics-context",{errorInfo:e});os.warn(t.message)}}();const i=n.options.appId;if(!i)throw aa.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw aa.create("no-api-key");os.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pu[i])throw aa.create("already-exists",{id:i});if(!_M){!function r2(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(LD);const{wrappedGtag:c,gtagCore:l}=function c2(n,e,t,i,o){let c=function(...l){window[i].push(arguments)};return window[o]&&"function"==typeof window[o]&&(c=window[o]),window[o]=function a2(n,e,t,i){function c(){return c=(0,Bt.Z)(function*(l,...f){try{if("event"===l){const[g,E]=f;yield function s2(n,e,t,i,o){return iM.apply(this,arguments)}(n,e,t,g,E)}else if("config"===l){const[g,E]=f;yield function o2(n,e,t,i,o,c){return nM.apply(this,arguments)}(n,e,t,i,g,E)}else if("consent"===l){const[g]=f;n("consent","update",g)}else if("get"===l){const[g,E,N]=f;n("get",g,E,N)}else if("set"===l){const[g]=f;n("set",g)}else n(l,...f)}catch(g){os.error(g)}}),c.apply(this,arguments)}return function o(l){return c.apply(this,arguments)}}(c,n,e,t),{gtagCore:c,wrappedGtag:window[o]}}(Pu,Ek,wk,LD,"gtag");Ou=c,Ck=l,_M=!0}return Pu[i]=function D2(n,e,t,i,o,c,l){return gM.apply(this,arguments)}(n,Ek,wk,e,Ck,LD,t),new T2(n)}function P2(){return vM.apply(this,arguments)}function vM(){return(vM=(0,Bt.Z)(function*(){if((0,gt.ru)()||!(0,gt.zI)()||!(0,gt.hl)())return!1;try{return yield(0,gt.eu)()}catch{return!1}})).apply(this,arguments)}function O2(n,e,t){n=(0,gt.m9)(n),function E2(n,e,t,i){return uM.apply(this,arguments)}(Ou,Pu[n.app.options.appId],e,t).catch(i=>os.error(i))}function xk(n,e,t,i){n=(0,gt.m9)(n),function y2(n,e,t,i,o){return cM.apply(this,arguments)}(Ou,Pu[n.app.options.appId],e,t,i).catch(o=>os.error(o))}const Dk="@firebase/analytics";!function k2(){(0,yi._registerComponent)(new Ql.wA(FD,(e,{options:t})=>S2(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,yi._registerComponent)(new Ql.wA("analytics-internal",function n(e){try{const t=e.getProvider(FD).getImmediate();return{logEvent:(i,o,c)=>xk(t,i,o,c)}}catch(t){throw aa.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,yi.registerVersion)(Dk,"0.10.0"),(0,yi.registerVersion)(Dk,"0.10.0","esm2017")}();class ow{constructor(e){return e}}const Ak="analytics",bM="__angularfire_symbol__analyticsIsSupportedValue",Sk="__angularfire_symbol__analyticsIsSupported";globalThis[Sk]||=P2().then(n=>globalThis[bM]=n).catch(()=>globalThis[bM]=!1);const VD={async:()=>globalThis[Sk],sync:()=>{const n=globalThis[bM];if(void 0===n)throw new Error((n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`)("Analytics"));return n}},Rk=VD.async,F2=gc(xk,!0),L2=gc(O2,!0);let Mk=(()=>{class n{initialized;disposables=[];constructor(t,i,o){let c;(0,yi.registerVersion)("angularfire",ta.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(l=>{c=l})),Rk().then(()=>{const l=o.get(ow);l?this.disposables=[Fs(t).subscribe(f=>{L2(l,f?.uid),c()})]:c()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}static \u0275fac=function(i){return new(i||n)(v.LFG(vp),v.LFG(v.R0b),v.LFG(v.zs3))};static \u0275prov=v.Yz7({token:n,factory:n.\u0275fac})}return n})();const Pk="firebase_screen_id",EM="outlet",sw="screen_class",Ok="screen_name";let q2=Math.floor(Math.random()*(2**32-1))-2**31;const wM={},Z2=n=>{const e=[n[sw],n[EM]].join("#");if(wM.hasOwnProperty(e))return wM[e];{const t=q2++;return wM[e]=t,t}};let kk=(()=>{class n{disposable;constructor(t,i,o,c,l,f){(0,yi.registerVersion)("angularfire",ta.full,"screen-tracking"),Rk().then(()=>{const g=f.get(ow);!t||!g||c.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe((0,Te.h)(o=>o instanceof A.jw)).pipe((0,lt.w)(o=>{const l=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,ee=>ee.replace("://",":///"))).root.children[o.snapshot.outlet]?.toString()||"",f=n.routerState.root.children.map(ee=>ee).find(ee=>ee.outlet===o.snapshot.outlet);if(!f)return(0,xe.of)(null);let g=f;for(;g.firstChild;)g=g.firstChild;const E=g.pathFromRoot.map(ee=>ee.routeConfig?.path).filter(ee=>ee).join("/")||"/",N={[Ok]:E,page_path:`/${l}`,firebase_event_origin:"auto",firebase_screen:E,[EM]:o.snapshot.outlet};e&&(N.page_title=e.getTitle());let U=f.component;if(U){if(U===A.fw){let ee=o.snapshot;for(;ee.firstChild;)ee=ee.firstChild;U=ee.component}}else U=o.snapshot.component;if("string"==typeof U)return(0,xe.of)({...N,[sw]:U});if(U){const ee=t.resolveComponentFactory(U);return(0,xe.of)({...N,[sw]:ee.selector})}return(0,xe.of)(null)}),(0,Te.h)(o=>!!o),(0,De.U)(o=>({firebase_screen_class:o[sw],[Pk]:Z2(o),...o})),ft(o=>o[EM]),(0,cn.z)(o=>o.pipe((0,Ct.x)((c,l)=>JSON.stringify(c)===JSON.stringify(l)),(0,ye.O)(void 0),Zt(),(0,De.U)(([c,l])=>c?{firebase_previous_class:c[sw],firebase_previous_screen:c[Ok],firebase_previous_id:c[Pk],...l}:l)))))(t,i,o).pipe((0,lt.w)(function(){var E=(0,Bt.Z)(function*(N){return l&&(yield l.initialized),F2(g,"screen_view",N)});return function(N){return E.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(i){return new(i||n)(v.LFG(A.F0,8),v.LFG(u.Dx,8),v.LFG(v._Vd),v.LFG(v.R0b),v.LFG(Mk,8),v.LFG(v.zs3))};static \u0275prov=v.Yz7({token:n,factory:n.\u0275fac})}return n})();const IM=new v.OlP("angularfire2.analytics-instances");function J2(n){return(e,t)=>{if(!VD.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new ow(i)}}const eV={provide:class N2{constructor(){return wa(Ak)}},deps:[[new v.FiY,IM]]},tV={provide:ow,useFactory:function X2(n,e){if(!VD.sync())return null;const t=fp(Ak,n,e);return t&&new ow(t)},deps:[[new v.FiY,IM],Ca]};let nV=(()=>{class n{constructor(t,i){(0,yi.registerVersion)("angularfire",ta.full,"analytics")}static \u0275fac=function(i){return new(i||n)(v.LFG(kk,8),v.LFG(Mk,8))};static \u0275mod=v.oAB({type:n});static \u0275inj=v.cJS({providers:[tV,eV,{provide:v.ip1,useValue:VD.async,multi:!0}]})}return n})();function iV(n,...e){return{ngModule:nV,providers:[{provide:IM,useFactory:J2(n),multi:!0,deps:[v.R0b,v.zs3,pc,xa,...e]}]}}var BD=b(3106);BD.Z.registerVersion("firebase","10.6.0","app-compat");const sV=["ngOnDestroy"];class Nk{constructor(e){return e}}const UD=new v.OlP("angularfire2.app.options"),CM=new v.OlP("angularfire2.app.name");function xM(n,e,t){const o="object"==typeof t&&t||{};o.name=o.name||"string"==typeof t&&t||"[DEFAULT]";const l=BD.Z.apps.filter(f=>f&&f.name===o.name)[0]||e.runOutsideAngular(()=>BD.Z.initializeApp(n,o));try{if(JSON.stringify(n)!==JSON.stringify(l.options)){const f=!!module.hot;lV("error",`${l.name} Firebase App already initialized with different options${f?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Nk(l)}const lV=(n,...e)=>{(0,v.X6Q)()&&typeof console<"u"&&console[n](...e)};function Fk(n,e,t,i,o){const[,c,l]=globalThis.\u0275AngularfireInstanceCache.find(f=>f[0]===n)||[];if(c)return function uV(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(o,l)||(Lk("error",`${e} was already initialized on the ${t} Firebase App with different settings.${dV?" You may need to reload as Firebase is not HMR aware.":""}`),Lk("warn",{is:o,was:l})),c;{const f=i();return globalThis.\u0275AngularfireInstanceCache.push([n,f,o]),f}}const dV=typeof module<"u"&&!!module.hot,Lk=(n,...e)=>{(0,v.X6Q)()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var hV=b(9862),fV=b(7632),$o=b(4221),pV=b(6232),Vk=b(8504),Bk=b(4674);class ch{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){return Uk(this,e)}do(e,t,i){const{kind:o,value:c,error:l}=this;return"N"===o?e?.(c):"E"===o?t?.(l):i?.()}accept(e,t,i){var o;return(0,Bk.m)(null===(o=e)||void 0===o?void 0:o.next)?this.observe(e):this.do(e,t,i)}toObservable(){const{kind:e,value:t,error:i}=this,o="N"===e?(0,xe.of)(t):"E"===e?(0,Vk._)(()=>i):"C"===e?pV.E:0;if(!o)throw new TypeError(`Unexpected notification kind ${e}`);return o}static createNext(e){return new ch("N",e)}static createError(e){return new ch("E",void 0,e)}static createComplete(){return ch.completeNotification}}function Uk(n,e){var t,i,o;const{kind:c,value:l,error:f}=n;if("string"!=typeof c)throw new TypeError('Invalid notification, missing "kind"');"N"===c?null===(t=e.next)||void 0===t||t.call(e,l):"E"===c?null===(i=e.error)||void 0===i||i.call(e,f):null===(o=e.complete)||void 0===o||o.call(e)}ch.completeNotification=new ch("C");var aw=b(6306);function zk(n,e){return e?t=>t.pipe(zk((i,o)=>(0,jt.Xf)(n(i,o)).pipe((0,De.U)((c,l)=>e(i,c,o,l))))):(0,Ze.e)((t,i)=>{let o=0,c=null,l=!1;t.subscribe((0,Oe.x)(i,f=>{c||(c=(0,Oe.x)(i,void 0,()=>{c=null,l&&i.complete()}),(0,jt.Xf)(n(f,o++)).subscribe(c))},()=>{l=!0,!c&&i.complete()}))})}const vV={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},zD="__@ngrx/effects_create__";function DM(n,e={}){const t=e.functional?n:n(),i={...vV,...e};return Object.defineProperty(t,zD,{value:i}),t}function Hk(n){return Object.getPrototypeOf(n)}function TM(n){return"function"==typeof n}function AM(n){return n.filter(TM)}function wV(n,e,t){const i=Hk(n),c=i&&"Object"!==i.constructor.name?i.constructor.name:null,l=function jk(n){return function yV(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(zD))&&n[i][zD].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][zD]}))}(n)}(n).map(({propertyName:f,dispatch:g,useEffectsErrorHandler:E})=>{const N="function"==typeof n[f]?n[f]():n[f],U=E?t(N,e):N;return!1===g?U.pipe(Qt()):U.pipe(function gV(){return(0,Ze.e)((n,e)=>{n.subscribe((0,Oe.x)(e,t=>{e.next(ch.createNext(t))},()=>{e.next(ch.createComplete()),e.complete()},t=>{e.next(ch.createError(t)),e.complete()}))})}()).pipe((0,De.U)(Pe=>({effect:n[f],notification:Pe,propertyName:f,sourceName:c,sourceInstance:n})))});return(0,Ie.T)(...l)}function $k(n,e,t=10){return n.pipe((0,aw.K)(i=>(e&&e.handleError(i),t<=1?n:$k(n,e,t-1))))}let CV=(()=>{class n extends ts.y{constructor(t){super(),t&&(this.source=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}static#e=this.\u0275fac=function(i){return new(i||n)(v.LFG($o.Y$))};static#t=this.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SM(...n){return(0,Te.h)(e=>n.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}const Wk=new v.OlP("@ngrx/effects Internal Root Guard"),jD=new v.OlP("@ngrx/effects User Provided Effects"),RM=new v.OlP("@ngrx/effects Internal Root Effects"),Gk=new v.OlP("@ngrx/effects Internal Root Effects Instances"),Kk=new v.OlP("@ngrx/effects Internal Feature Effects"),Yk=new v.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),xV=new v.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>$k}),qk="@ngrx/effects/init";(0,$o.PH)(qk);function FV(n){return MM(n,"ngrxOnInitEffects")}function MM(n,e){return n&&e in n&&"function"==typeof n[e]}let PM=(()=>{class n extends Me.x{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(ft(t=>function bV(n){return!!n.constructor&&"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(t)?Hk(t):t),(0,cn.z)(t=>t.pipe(ft(LV))),(0,cn.z)(t=>{const i=t.pipe(zk(c=>function VV(n,e){return t=>{const i=wV(t,n,e);return function kV(n){return MM(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(c)),(0,De.U)(c=>(function TV(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function AV(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function SV({propertyName:n,sourceInstance:e,sourceName:t}){const i="function"==typeof e[n];return t?`"${t}.${String(n)}${i?"()":""}"`:`"${String(n)}()"`}(n)} dispatched an invalid action: ${function RV(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(c,this.errorHandler),c.notification)),(0,Te.h)(c=>"N"===c.kind&&null!=c.value),function _V(){return(0,Ze.e)((n,e)=>{n.subscribe((0,Oe.x)(e,t=>Uk(t,e)))})}()),o=t.pipe((0,st.q)(1),(0,Te.h)(FV),(0,De.U)(c=>c.ngrxOnInitEffects()));return(0,Ie.T)(i,o)}))}static#e=this.\u0275fac=function(i){return new(i||n)(v.LFG(v.qLn),v.LFG(xV))};static#t=this.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LV(n){return function PV(n){return MM(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let OM=(()=>{class n{get isStarted(){return!!this.effectsSubscription}constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(v.LFG(PM),v.LFG($o.yh))};static#t=this.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zk=(()=>{class n{constructor(t,i,o,c,l,f,g){this.sources=t,i.start();for(const E of c)t.addEffects(E);o.dispatch({type:qk})}addEffects(t){this.sources.addEffects(t)}static#e=this.\u0275fac=function(i){return new(i||n)(v.LFG(PM),v.LFG(OM),v.LFG($o.yh),v.LFG(Gk),v.LFG($o.cr,8),v.LFG($o.CK,8),v.LFG(Wk,8))};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({})}return n})(),BV=(()=>{class n{constructor(t,i,o,c){const l=i.flat();for(const f of l)t.addEffects(f)}static#e=this.\u0275fac=function(i){return new(i||n)(v.LFG(Zk),v.LFG(Yk),v.LFG($o.cr,8),v.LFG($o.CK,8))};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({})}return n})(),UV=(()=>{class n{static forFeature(...t){const i=t.flat(),o=AM(i);return{ngModule:BV,providers:[o,{provide:Kk,multi:!0,useValue:i},{provide:jD,multi:!0,useValue:[]},{provide:Yk,multi:!0,useFactory:Qk,deps:[Kk,jD]}]}}static forRoot(...t){const i=t.flat(),o=AM(i);return{ngModule:Zk,providers:[o,{provide:RM,useValue:[i]},{provide:Wk,useFactory:zV},{provide:jD,multi:!0,useValue:[]},{provide:Gk,useFactory:Qk,deps:[RM,jD]}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n});static#n=this.\u0275inj=v.cJS({})}return n})();function Qk(n,e){const t=[];for(const i of n)t.push(...i);for(const i of e)t.push(...i);return t.map(i=>function EV(n){return n instanceof v.OlP||TM(n)}(i)?(0,v.f3M)(i):i)}function zV(){const n=(0,v.f3M)(OM,{optional:!0,skipSelf:!0}),e=(0,v.f3M)(RM,{self:!0});if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}const Xk="@firebase/database";let kM="";class jV{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,gt.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,gt.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class HV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,gt.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const t1=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jV(e)}}catch{}return new HV},Bm=t1("localStorage"),NM=t1("sessionStorage"),Fv=new Wr.Yd("@firebase/database"),n1=function(){let n=1;return function(){return n++}}(),r1=function(n){const e=(0,gt.dS)(n),t=new gt.gQ;t.update(e);const i=t.digest();return gt.US.encodeByteArray(i)},cw=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=cw.apply(null,i):e+="object"==typeof i?(0,gt.Wl)(i):i,e+=" "}return e};let Um=null,o1=!0;const ss=function(...n){if(!0===o1&&(o1=!1,null===Um&&!0===NM.get("logging_enabled")&&function(n,e){(0,gt.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Fv.logLevel=Wr.in.VERBOSE,Um=Fv.log.bind(Fv),e&&NM.set("logging_enabled",!0)):"function"==typeof n?Um=n:(Um=null,NM.remove("logging_enabled"))}(!0)),Um){const e=cw.apply(null,n);Um(e)}},lw=function(n){return function(...e){ss(n,...e)}},FM=function(...n){const e="FIREBASE INTERNAL ERROR: "+cw(...n);Fv.error(e)},ku=function(...n){const e=`FIREBASE FATAL ERROR: ${cw(...n)}`;throw Fv.error(e),new Error(e)},Ws=function(...n){const e="FIREBASE WARNING: "+cw(...n);Fv.warn(e)},HD=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Gf="[MIN_NAME]",lh="[MAX_NAME]",zm=function(n,e){if(n===e)return 0;if(n===Gf||e===lh)return-1;if(e===Gf||n===lh)return 1;{const t=l1(n),i=l1(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},GV=function(n,e){return n===e?0:n<e?-1:1},uw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,gt.Wl)(e))},LM=function(n){if("object"!=typeof n||null===n)return(0,gt.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,gt.Wl)(e[i]),t+=":",t+=LM(n[e[i]]);return t+="}",t},a1=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let o=0;o<t;o+=e)i.push(n.substring(o,o+e>t?t:o+e));return i};function as(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const c1=function(n){(0,gt.hu)(!HD(n),"Invalid JSON number");const i=1023;let o,c,l,f,g;0===n?(c=0,l=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),c=f+i,l=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(c=0,l=Math.round(n/Math.pow(2,-1074))));const E=[];for(g=52;g;g-=1)E.push(l%2?1:0),l=Math.floor(l/2);for(g=11;g;g-=1)E.push(c%2?1:0),c=Math.floor(c/2);E.push(o?1:0),E.reverse();const N=E.join("");let U="";for(g=0;g<64;g+=8){let ee=parseInt(N.substr(g,8),2).toString(16);1===ee.length&&(ee="0"+ee),U+=ee}return U.toLowerCase()},ZV=new RegExp("^-?(0*)\\d{1,10}$"),l1=function(n){if(ZV.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Lv=function(n){try{n()}catch(e){setTimeout(()=>{throw Ws("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},dw=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class eB{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ws(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class tB{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(ss("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ws(e)}}let hw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const p1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_1="websocket",v1="long_polling";class BM{constructor(e,t,i,o,c=!1,l="",f=!1,g=!1){this.secure=t,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=l,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=g,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function y1(n,e,t){let i;if((0,gt.hu)("string"==typeof e,"typeof type must == string"),(0,gt.hu)("object"==typeof t,"typeof params must == object"),e===_1)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==v1)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function nB(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const o=[];return as(t,(c,l)=>{o.push(c+"="+l)}),i+o.join("&")}class iB{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,gt.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,gt.p$)(this.counters_)}}const UM={},zM={};function jM(n){const e=n.toString();return UM[e]||(UM[e]=new iB),UM[e]}class oB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&Lv(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Kf{constructor(e,t,i,o,c,l,f){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=o,this.authToken=c,this.transportSessionId=l,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lw(e),this.stats_=jM(t),this.urlFn=g=>(this.appCheckToken&&(g.ac=this.appCheckToken),y1(t,v1,g))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new oB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,gt.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new HM((...c)=>{const[l,f,g,E,N]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=f,this.password=g;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[l,f]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(l,f)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&p1.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kf.forceAllow_=!0}static forceDisallow(){Kf.forceDisallow_=!0}static isAvailable(){return!((0,gt.Yr)()||!Kf.forceAllow_&&(Kf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,gt.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,gt.h$)(t),o=a1(i,1840);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,gt.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,gt.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class HM{constructor(e,t,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,gt.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=n1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=HM.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(f){ss("frame writing exception"),f.stack&&ss(f.stack),ss(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ss("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+o+"="+l.seg+"&ts"+o+"="+l.ts+"&d"+o+"="+l.d,o++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(o),i()})}addTag(e,t){(0,gt.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{ss("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let WD=null;typeof MozWebSocket<"u"?WD=MozWebSocket:typeof WebSocket<"u"&&(WD=WebSocket);let Vv=(()=>{class n{constructor(t,i,o,c,l,f,g){this.connId=t,this.applicationId=o,this.appCheckToken=c,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lw(this.connId),this.stats_=jM(i),this.connURL=n.connectionURL_(i,f,g,c,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,o,c,l){const f={v:"5"};return!(0,gt.Yr)()&&typeof location<"u"&&location.hostname&&p1.test(location.hostname)&&(f.r="f"),i&&(f.s=i),o&&(f.ls=o),c&&(f.ac=c),l&&(f.p=l),y1(t,_1,f)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bm.set("previous_websocket_failure",!0);try{let o;if((0,gt.Yr)()){o={headers:{"User-Agent":`Firebase/5/${kM}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,f=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;f&&(o.proxy={origin:f})}this.mySock=new WD(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const c=o.message||o.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&null!==WD&&!n.forceDisallow_}static previouslyFailed(){return Bm.isInMemoryStorage||!0===Bm.get("previous_websocket_failure")}markConnectionHealthy(){Bm.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,gt.cI)(i);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,gt.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const i=(0,gt.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=a1(i,16384);o.length>1&&this.sendString_(String(o.length));for(let c=0;c<o.length;c++)this.sendString_(o[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),D1=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Kf,Vv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Vv&&Vv.isAvailable();let o=i&&!Vv.previouslyFailed();if(t.webSocketOnly&&(i||Ws("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Vv];else{const c=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&c.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class O1{constructor(e,t,i,o,c,l,f,g,E,N){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=l,this.onReady_=f,this.onDisconnect_=g,this.onKill_=E,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lw("c:"+this.id+":"),this.transportManager_=new D1(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=dw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=uw("t",e),i=uw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=uw("t",e),i=uw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=uw("t",e);if("d"in e){const i=e.d;if("h"===t){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?FM("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):FM("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Ws("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),dw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class k1{put(e,t,i,o){}merge(e,t,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class N1{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,gt.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const o=this.getInitialEvent(e);o&&t.apply(i,o)}off(e,t,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===t&&(!i||i===o[c].context))return void o.splice(c,1)}validateEventType_(e){(0,gt.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class GD extends N1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,gt.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new GD}getInitialEvent(e){return(0,gt.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class lr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function nr(){return new lr("")}function Oi(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Yf(n){return n.pieces_.length-n.pieceNum_}function yr(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new lr(n.pieces_,e)}function WM(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function fw(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function V1(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new lr(e,0)}function Yr(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof lr)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&t.push(i[o])}return new lr(t,0)}function ki(n){return n.pieceNum_>=n.pieces_.length}function ca(n,e){const t=Oi(n),i=Oi(e);if(null===t)return e;if(t===i)return ca(yr(n),yr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function GM(n,e){if(Yf(n)!==Yf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Nc(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Yf(n)>Yf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class AB{constructor(e,t){this.errorPrefix_=t,this.parts_=fw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,gt.ug)(this.parts_[i]);B1(this)}}function B1(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jm(n))}function jm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class KM extends N1{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new KM}getInitialEvent(e){return(0,gt.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const pw=1e3;let YD,Hm=(()=>{class n extends k1{constructor(t,i,o,c,l,f,g,E){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=c,this.onServerInfoUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=E,this.id=n.nextPersistentConnectionId_++,this.log_=lw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E&&!(0,gt.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");KM.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&GD.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,o){const c=++this.requestNumber_,l={r:c,a:t,b:i};this.log_((0,gt.Wl)(l)),(0,gt.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),o&&(this.requestCBHash_[c]=o)}get(t){this.initConnection_();const i=new gt.BH,c={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const g=f.d;"ok"===f.s?i.resolve(g):i.reject(g)}};return this.outstandingGets_.push(c),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,o,c){this.initConnection_();const l=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+l),this.listens.has(f)||this.listens.set(f,new Map),(0,gt.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,gt.hu)(!this.listens.get(f).has(l),"listen() called twice for same path/queryId.");const g={onComplete:c,hashFn:i,query:t,tag:o};this.listens.get(f).set(l,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(t){const i=t.query,o=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+o+" for "+c);const l={p:o};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,g=>{const E=g.d,N=g.s;n.warnOnListenWarnings_(E,i),(this.listens.get(o)&&this.listens.get(o).get(c))===t&&(this.log_("listen response",g),"ok"!==N&&this.removeListen_(o,c),t.onComplete&&t.onComplete(N,E))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,gt.r3)(t,"w")){const o=(0,gt.DV)(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Ws(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,gt.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,gt.w9)(t)?"auth":"gauth",o={cred:t};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,c=>{const l=c.s,f=c.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,o=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(t,i){const o=t._path.toString(),c=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+c),(0,gt.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,c)&&this.connected_&&this.sendUnlisten_(o,c,t._queryObject,i)}sendUnlisten_(t,i,o,c){this.log_("Unlisten on "+t+" for "+i);const l={p:t};c&&(l.q=o,l.t=c),this.sendRequest("n",l)}onDisconnectPut(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:o})}onDisconnectMerge(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:o})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,o,c){const l={p:i,d:o};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,f=>{c&&setTimeout(()=>{c(f.s,f.d)},Math.floor(0))})}put(t,i,o,c){this.putInternal("p",t,i,o,c)}merge(t,i,o,c){this.putInternal("m",t,i,o,c)}putInternal(t,i,o,c,l){this.initConnection_();const f={p:i,d:o};void 0!==l&&(f.h=l),this.outstandingPuts_.push({action:t,request:f,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,c=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,o,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,gt.Wl)(t));const i=t.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):FM("Unrecognized action received from server: "+(0,gt.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,gt.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=pw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=pw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Bt.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),o=t.onReady_.bind(t),c=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,f=t.lastSessionId;let g=!1,E=null;const N=function(){E?E.close():(g=!0,c())};t.realtime_={close:N,sendRequest:function(Pe){(0,gt.hu)(E,"sendRequest call when we're not connected not allowed."),E.sendRequest(Pe)}};const ee=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[Pe,at]=yield Promise.all([t.authTokenProvider_.getToken(ee),t.appCheckTokenProvider_.getToken(ee)]);g?ss("getToken() completed but was canceled"):(ss("getToken() completed. Creating connection."),t.authToken_=Pe&&Pe.accessToken,t.appCheckToken_=at&&at.token,E=new O1(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,o,c,wt=>{Ws(wt+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},f))}catch(Pe){t.log_("Failed to get token: "+Pe),g||(t.repoInfo_.nodeAdmin&&Ws(Pe),N())}}})()}interrupt(t){ss("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ss("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,gt.xb)(this.interruptReasons_)&&(this.reconnectDelay_=pw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let o;o=i?i.map(l=>LM(l)).join("$"):"default";const c=this.removeListen_(t,o);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(t,i){const o=new lr(t).toString();let c;if(this.listens.has(o)){const l=this.listens.get(o);c=l.get(i),l.delete(i),0===l.size&&this.listens.delete(o)}else c=void 0;return c}onAuthRevoked_(t,i){ss("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ss("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,gt.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+kM.replace(/\./g,"-")]=1,(0,gt.uI)()?t["framework.cordova"]=1:(0,gt.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=GD.getInstance().currentlyOnline();return(0,gt.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ui{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ui(e,t)}}class KD{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Ui(Gf,e),o=new Ui(Gf,t);return 0!==this.compare(i,o)}minPost(){return Ui.MIN}}class j1 extends KD{static get __EMPTY_NODE(){return YD}static set __EMPTY_NODE(e){YD=e}compare(e,t){return zm(e.name,t.name)}isDefinedOn(e){throw(0,gt.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ui.MIN}maxPost(){return new Ui(lh,YD)}makePost(e,t){return(0,gt.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ui(e,YD)}toString(){return".key"}}const Nu=new j1;class qD{constructor(e,t,i,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,o&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let qM,Al=(()=>{class n{constructor(t,i,o,c,l){this.key=t,this.value=i,this.color=o??n.RED,this.left=c??Aa.EMPTY_NODE,this.right=l??Aa.EMPTY_NODE}copy(t,i,o,c,l){return new n(t??this.key,i??this.value,o??this.color,c??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,o){let c=this;const l=o(t,c.key);return c=l<0?c.copy(null,null,null,c.left.insert(t,i,o),null):0===l?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(t,i,o)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Aa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let o,c;if(o=this,i(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(t,o.key)){if(o.right.isEmpty())return Aa.EMPTY_NODE;c=o.right.min_(),o=o.copy(c.key,c.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Aa{constructor(e,t=Aa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Aa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Al.BLACK,null,null))}remove(e){return new Aa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Al.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,o=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qD(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new qD(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new qD(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new qD(this.root_,null,this.comparator_,!0,e)}}function FB(n,e){return zm(n.name,e.name)}function YM(n,e){return zm(n,e)}Aa.EMPTY_NODE=new class NB{copy(e,t,i,o,c){return this}insert(e,t,i){return new Al(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const H1=function(n){return"number"==typeof n?"number:"+c1(n):"string:"+n},$1=function(n){if(n.isLeafNode()){const e=n.val();(0,gt.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,gt.r3)(e,".sv"),"Priority must be a string or number.")}else(0,gt.hu)(n===qM||n.isEmpty(),"priority of unexpected type.");(0,gt.hu)(n===qM||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let W1,G1,K1,Bv=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,gt.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$1(this.priorityNode_)}static set __childrenNodeConstructor(t){W1=t}static get __childrenNodeConstructor(){return W1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ki(t)?this:".priority"===Oi(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const o=Oi(t);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,gt.hu)(".priority"!==o||1===Yf(t),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(yr(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+H1(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?c1(this.value_):this.value_,this.lazyHash_=r1(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,gt.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,o=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(o);return(0,gt.hu)(c>=0,"Unknown leaf type: "+i),(0,gt.hu)(l>=0,"Unknown leaf type: "+o),c===l?"object"===o?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-c}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Rr=new class UB extends KD{compare(e,t){const i=e.node.getPriority(),o=t.node.getPriority(),c=i.compareTo(o);return 0===c?zm(e.name,t.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ui.MIN}maxPost(){return new Ui(lh,new Bv("[PRIORITY-POST]",K1))}makePost(e,t){const i=G1(e);return new Ui(t,new Bv("[PRIORITY-POST]",i))}toString(){return".priority"}},zB=Math.log(2);class jB{constructor(e){this.count=parseInt(Math.log(e+1)/zB,10),this.current_=this.count-1;const o=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ZD=function(n,e,t,i){n.sort(e);const o=function(g,E){const N=E-g;let U,ee;if(0===N)return null;if(1===N)return U=n[g],ee=t?t(U):U,new Al(ee,U.node,Al.BLACK,null,null);{const Pe=parseInt(N/2,10)+g,at=o(g,Pe),wt=o(Pe+1,E);return U=n[Pe],ee=t?t(U):U,new Al(ee,U.node,Al.BLACK,at,wt)}},f=function(g){let E=null,N=null,U=n.length;const ee=function(at,wt){const Ht=U-at,En=U;U-=at;const In=o(Ht+1,En),vn=n[Ht],zn=t?t(vn):vn;Pe(new Al(zn,vn.node,wt,null,In))},Pe=function(at){E?(E.left=at,E=at):(N=at,E=at)};for(let at=0;at<g.count;++at){const wt=g.nextBitIsOne(),Ht=Math.pow(2,g.count-(at+1));wt?ee(Ht,Al.BLACK):(ee(Ht,Al.BLACK),ee(Ht,Al.RED))}return N}(new jB(n.length));return new Aa(i||e,f)};let ZM;const Uv={};class uh{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,gt.hu)(Uv&&Rr,"ChildrenNode.ts has not been loaded"),ZM=ZM||new uh({".priority":Uv},{".priority":Rr}),ZM}get(e){const t=(0,gt.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Aa?t:null}hasIndex(e){return(0,gt.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,gt.hu)(e!==Nu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const c=t.getIterator(Ui.Wrap);let f,l=c.getNext();for(;l;)o=o||e.isDefinedOn(l.node),i.push(l),l=c.getNext();f=o?ZD(i,e.getCompare()):Uv;const g=e.toString(),E=Object.assign({},this.indexSet_);E[g]=e;const N=Object.assign({},this.indexes_);return N[g]=f,new uh(N,E)}addToIndexes(e,t){const i=(0,gt.UI)(this.indexes_,(o,c)=>{const l=(0,gt.DV)(this.indexSet_,c);if((0,gt.hu)(l,"Missing index implementation for "+c),o===Uv){if(l.isDefinedOn(e.node)){const f=[],g=t.getIterator(Ui.Wrap);let E=g.getNext();for(;E;)E.name!==e.name&&f.push(E),E=g.getNext();return f.push(e),ZD(f,l.getCompare())}return Uv}{const f=t.get(e.name);let g=o;return f&&(g=g.remove(new Ui(e.name,f))),g.insert(e,e.node)}});return new uh(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,gt.UI)(this.indexes_,o=>{if(o===Uv)return o;{const c=t.get(e.name);return c?o.remove(new Ui(e.name,c)):o}});return new uh(i,this.indexSet_)}}let mw,Ei=(()=>{class n{constructor(t,i,o){this.children_=t,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&$1(this.priorityNode_),this.children_.isEmpty()&&(0,gt.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mw||(mw=new n(new Aa(YM),null,uh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?mw:i}}getChild(t){const i=Oi(t);return null===i?this:this.getImmediateChild(i).getChild(yr(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,gt.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const o=new Ui(t,i);let c,l;i.isEmpty()?(c=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(o,this.children_)):(c=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(o,this.children_));const f=c.isEmpty()?mw:this.priorityNode_;return new n(c,f,l)}}updateChild(t,i){const o=Oi(t);if(null===o)return i;{(0,gt.hu)(".priority"!==Oi(t)||1===Yf(t),".priority must be the last token in a path");const c=this.getImmediateChild(o).updateChild(yr(t),i);return this.updateImmediateChild(o,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let o=0,c=0,l=!0;if(this.forEachChild(Rr,(f,g)=>{i[f]=g.val(t),o++,l&&n.INTEGER_REGEXP_.test(f)?c=Math.max(c,Number(f)):l=!1}),!t&&l&&c<2*o){const f=[];for(const g in i)f[g]=i[g];return f}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+H1(this.getPriority().val())+":"),this.forEachChild(Rr,(i,o)=>{const c=o.hash();""!==c&&(t+=":"+i+":"+c)}),this.lazyHash_=""===t?"":r1(t)}return this.lazyHash_}getPredecessorChildName(t,i,o){const c=this.resolveIndex_(o);if(c){const l=c.getPredecessorKey(new Ui(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Ui(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Ui(i,this.children_.get(i)):null}forEachChild(t,i){const o=this.resolveIndex_(t);return o?o.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(t,c=>c);{const c=this.children_.getIteratorFrom(t.name,Ui.Wrap);let l=c.peek();for(;null!=l&&i.compare(l,t)<0;)c.getNext(),l=c.peek();return c}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(t,c=>c);{const c=this.children_.getReverseIteratorFrom(t.name,Ui.Wrap);let l=c.peek();for(;null!=l&&i.compare(l,t)>0;)c.getNext(),l=c.peek();return c}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===gw?-1:0}withIndex(t){if(t===Nu||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Nu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(Rr),c=i.getIterator(Rr);let l=o.getNext(),f=c.getNext();for(;l&&f;){if(l.name!==f.name||!l.node.equals(f.node))return!1;l=o.getNext(),f=c.getNext()}return null===l&&null===f}return!1}return!1}}resolveIndex_(t){return t===Nu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const gw=new class HB extends Ei{constructor(){super(new Aa(YM),Ei.EMPTY_NODE,uh.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ei.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ui,{MIN:{value:new Ui(Gf,Ei.EMPTY_NODE)},MAX:{value:new Ui(lh,gw)}}),j1.__EMPTY_NODE=Ei.EMPTY_NODE,Bv.__childrenNodeConstructor=Ei,function LB(n){qM=n}(gw),function BB(n){K1=n}(gw);const $B=!0;function to(n,e=null){if(null===n)return Ei.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,gt.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Bv(n,to(e));if(n instanceof Array||!$B){let t=Ei.EMPTY_NODE;return as(n,(i,o)=>{if((0,gt.r3)(n,i)&&"."!==i.substring(0,1)){const c=to(o);(c.isLeafNode()||!c.isEmpty())&&(t=t.updateImmediateChild(i,c))}}),t.updatePriority(to(e))}{const t=[];let i=!1;if(as(n,(l,f)=>{if("."!==l.substring(0,1)){const g=to(f);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),t.push(new Ui(l,g)))}}),0===t.length)return Ei.EMPTY_NODE;const c=ZD(t,FB,l=>l.name,YM);if(i){const l=ZD(t,Rr.getCompare());return new Ei(c,to(e),new uh({".priority":l},{".priority":Rr}))}return new Ei(c,to(e),uh.Default)}}!function VB(n){G1=n}(to);class QM extends KD{constructor(e){super(),this.indexPath_=e,(0,gt.hu)(!ki(e)&&".priority"!==Oi(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),o=this.extractChild(t.node),c=i.compareTo(o);return 0===c?zm(e.name,t.name):c}makePost(e,t){const i=to(e),o=Ei.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ui(t,o)}maxPost(){const e=Ei.EMPTY_NODE.updateChild(this.indexPath_,gw);return new Ui(lh,e)}toString(){return fw(this.indexPath_,0).join("/")}}const XM=new class WB extends KD{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?zm(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ui.MIN}maxPost(){return Ui.MAX}makePost(e,t){const i=to(e);return new Ui(t,i)}toString(){return".value"}};function vw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class eP{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,gt.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,gt.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,gt.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,gt.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:lh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,gt.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rr}copy(){const e=new eP;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function q1(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Rr?t="$priority":n.index_===XM?t="$value":n.index_===Nu?t="$key":((0,gt.hu)(n.index_ instanceof QM,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,gt.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,gt.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,gt.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,gt.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,gt.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Z1(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Rr&&(e.i=n.index_.toString()),e}class XD extends k1{constructor(e,t,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=lw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,gt.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const l=XD.getListenId_(e,i),f={};this.listens_[l]=f;const g=q1(e._queryParams);this.restRequest_(c+".json",g,(E,N)=>{let U=N;if(404===E&&(U=null,E=null),null===E&&this.onDataUpdate_(c,U,!1,i),(0,gt.DV)(this.listens_,l)===f){let ee;ee=E?401===E?"permission_denied":"rest_error:"+E:"ok",o(ee,null)}})}unlisten(e,t){const i=XD.getListenId_(e,t);delete this.listens_[i]}get(e){const t=q1(e._queryParams),i=e._path.toString(),o=new gt.BH;return this.restRequest_(i+".json",t,(c,l)=>{let f=l;404===c&&(f=null,c=null),null===c?(this.onDataUpdate_(i,f,!1,null),o.resolve(f)):o.reject(new Error(f))}),o.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(t.auth=o.accessToken),c&&c.token&&(t.ac=c.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,gt.xO)(t);this.log_("Sending REST request for "+l);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&4===f.readyState){this.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);let g=null;if(f.status>=200&&f.status<300){try{g=(0,gt.cI)(f.responseText)}catch{Ws("Failed to parse JSON response for "+l+": "+f.responseText)}i(null,g)}else 401!==f.status&&404!==f.status&&Ws("Got unsuccessful REST response for "+l+" Status: "+f.status),i(f.status);i=null}},f.open("GET",l,!0),f.send()})}}class JB{constructor(){this.rootNode_=Ei.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function JD(){return{value:null,children:new Map}}function jv(n,e,t){if(ki(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Oi(e);n.children.has(i)||n.children.set(i,JD()),jv(n.children.get(i),e=yr(e),t)}}function rP(n,e,t){null!==n.value?t(e,n.value):function eU(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,o)=>{rP(o,new lr(e.toString()+"/"+i),t)})}class tU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&as(this.last_,(i,o)=>{t[i]=t[i]-o}),this.last_=e,t}}class rU{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new tU(e);const i=1e4+2e4*Math.random();dw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;as(e,(o,c)=>{c>0&&(0,gt.r3)(this.statsToReport_,o)&&(t[o]=c,i=!0)}),i&&this.server_.reportStats(t),dw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fu=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Fu||{});function aP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class eT{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Fu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ki(this.path)){if(null!=this.affectedTree.value)return(0,gt.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new lr(e));return new eT(nr(),t,this.revert)}}return(0,gt.hu)(Oi(this.path)===e,"operationForChild called for unrelated child."),new eT(yr(this.path),this.affectedTree,this.revert)}}class $m{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Fu.OVERWRITE}operationForChild(e){return ki(this.path)?new $m(this.source,nr(),this.snap.getImmediateChild(e)):new $m(this.source,yr(this.path),this.snap)}}class Hv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Fu.MERGE}operationForChild(e){if(ki(this.path)){const t=this.children.subtree(new lr(e));return t.isEmpty()?null:t.value?new $m(this.source,nr(),t.value):new Hv(this.source,nr(),t)}return(0,gt.hu)(Oi(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hv(this.source,yr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class qf{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ki(e))return this.isFullyInitialized()&&!this.filtered_;const t=Oi(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Ew(n,e,t,i,o,c){const l=i.filter(f=>f.type===t);l.sort((f,g)=>function cU(n,e,t){if(null==e.childName||null==t.childName)throw(0,gt.g5)("Should only compare child_ events.");const i=new Ui(e.childName,e.snapshotNode),o=new Ui(t.childName,t.snapshotNode);return n.index_.compare(i,o)}(n,f,g)),l.forEach(f=>{const g=function aU(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,f,c);o.forEach(E=>{E.respondsTo(f.type)&&e.push(E.createEvent(g,n.query_))})})}function tT(n,e){return{eventCache:n,serverCache:e}}function ww(n,e,t,i){return tT(new qf(e,t,i),n.serverCache)}function X1(n,e,t,i){return tT(n.eventCache,new qf(e,t,i))}function nT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Wm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let cP;class Mr{constructor(e,t=(()=>(cP||(cP=new Aa(GV)),cP))()){this.value=e,this.children=t}static fromObject(e){let t=new Mr(null);return as(e,(i,o)=>{t=t.set(new lr(i),o)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:nr(),value:this.value};if(ki(e))return null;{const i=Oi(e),o=this.children.get(i);if(null!==o){const c=o.findRootMostMatchingPathAndValue(yr(e),t);return null!=c?{path:Yr(new lr(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ki(e))return this;{const t=Oi(e),i=this.children.get(t);return null!==i?i.subtree(yr(e)):new Mr(null)}}set(e,t){if(ki(e))return new Mr(t,this.children);{const i=Oi(e),c=(this.children.get(i)||new Mr(null)).set(yr(e),t),l=this.children.insert(i,c);return new Mr(this.value,l)}}remove(e){if(ki(e))return this.children.isEmpty()?new Mr(null):new Mr(null,this.children);{const t=Oi(e),i=this.children.get(t);if(i){const o=i.remove(yr(e));let c;return c=o.isEmpty()?this.children.remove(t):this.children.insert(t,o),null===this.value&&c.isEmpty()?new Mr(null):new Mr(this.value,c)}return this}}get(e){if(ki(e))return this.value;{const t=Oi(e),i=this.children.get(t);return i?i.get(yr(e)):null}}setTree(e,t){if(ki(e))return t;{const i=Oi(e),c=(this.children.get(i)||new Mr(null)).setTree(yr(e),t);let l;return l=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new Mr(this.value,l)}}fold(e){return this.fold_(nr(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((o,c)=>{i[o]=c.fold_(Yr(e,o),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,nr(),t)}findOnPath_(e,t,i){const o=!!this.value&&i(t,this.value);if(o)return o;if(ki(e))return null;{const c=Oi(e),l=this.children.get(c);return l?l.findOnPath_(yr(e),Yr(t,c),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,nr(),t)}foreachOnPath_(e,t,i){if(ki(e))return this;{this.value&&i(t,this.value);const o=Oi(e),c=this.children.get(o);return c?c.foreachOnPath_(yr(e),Yr(t,o),i):new Mr(null)}}foreach(e){this.foreach_(nr(),e)}foreach_(e,t){this.children.inorderTraversal((i,o)=>{o.foreach_(Yr(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Sl{constructor(e){this.writeTree_=e}static empty(){return new Sl(new Mr(null))}}function Iw(n,e,t){if(ki(e))return new Sl(new Mr(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const o=i.path;let c=i.value;const l=ca(o,e);return c=c.updateChild(l,t),new Sl(n.writeTree_.set(o,c))}{const o=new Mr(t),c=n.writeTree_.setTree(e,o);return new Sl(c)}}}function lP(n,e,t){let i=n;return as(t,(o,c)=>{i=Iw(i,Yr(e,o),c)}),i}function J1(n,e){if(ki(e))return Sl.empty();{const t=n.writeTree_.setTree(e,new Mr(null));return new Sl(t)}}function uP(n,e){return null!=Gm(n,e)}function Gm(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ca(t.path,e)):null}function eN(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Rr,(i,o)=>{e.push(new Ui(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&e.push(new Ui(i,o.value))}),e}function Zf(n,e){if(ki(e))return n;{const t=Gm(n,e);return new Sl(null!=t?new Mr(t):n.writeTree_.subtree(e))}}function dP(n){return n.writeTree_.isEmpty()}function $v(n,e){return tN(nr(),n.writeTree_,e)}function tN(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((o,c)=>{".priority"===o?((0,gt.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):t=tN(Yr(n,o),c,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Yr(n,".priority"),i)),t}}function iT(n,e){return sN(e,n)}function pU(n,e){if(n.snap)return Nc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Nc(Yr(n.path,t),e))return!0;return!1}function gU(n){return n.visible}function nN(n,e,t){let i=Sl.empty();for(let o=0;o<n.length;++o){const c=n[o];if(e(c)){const l=c.path;let f;if(c.snap)Nc(t,l)?(f=ca(t,l),i=Iw(i,f,c.snap)):Nc(l,t)&&(f=ca(l,t),i=Iw(i,nr(),c.snap.getChild(f)));else{if(!c.children)throw(0,gt.g5)("WriteRecord should have .snap or .children");if(Nc(t,l))f=ca(t,l),i=lP(i,f,c.children);else if(Nc(l,t))if(f=ca(l,t),ki(f))i=lP(i,nr(),c.children);else{const g=(0,gt.DV)(c.children,Oi(f));if(g){const E=g.getChild(yr(f));i=Iw(i,nr(),E)}}}}}return i}function iN(n,e,t,i,o){if(i||o){const c=Zf(n.visibleWrites,e);return!o&&dP(c)?t:o||null!=t||uP(c,nr())?$v(nN(n.allWrites,function(E){return(E.visible||o)&&(!i||!~i.indexOf(E.writeId))&&(Nc(E.path,e)||Nc(e,E.path))},e),t||Ei.EMPTY_NODE):null}{const c=Gm(n.visibleWrites,e);if(null!=c)return c;{const l=Zf(n.visibleWrites,e);return dP(l)?t:null!=t||uP(l,nr())?$v(l,t||Ei.EMPTY_NODE):null}}}function rT(n,e,t,i){return iN(n.writeTree,n.treePath,e,t,i)}function hP(n,e){return function _U(n,e,t){let i=Ei.EMPTY_NODE;const o=Gm(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Rr,(c,l)=>{i=i.updateImmediateChild(c,l)}),i;if(t){const c=Zf(n.visibleWrites,e);return t.forEachChild(Rr,(l,f)=>{const g=$v(Zf(c,new lr(l)),f);i=i.updateImmediateChild(l,g)}),eN(c).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return eN(Zf(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function rN(n,e,t,i){return function vU(n,e,t,i,o){(0,gt.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const c=Yr(e,t);if(uP(n.visibleWrites,c))return null;{const l=Zf(n.visibleWrites,c);return dP(l)?o.getChild(t):$v(l,o.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function oT(n,e){return function bU(n,e){return Gm(n.visibleWrites,e)}(n.writeTree,Yr(n.treePath,e))}function fP(n,e,t){return function yU(n,e,t,i){const o=Yr(e,t),c=Gm(n.visibleWrites,o);return null!=c?c:i.isCompleteForChild(t)?$v(Zf(n.visibleWrites,o),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function oN(n,e){return sN(Yr(n.treePath,e),n.writeTree)}function sN(n,e){return{treePath:n,writeTree:e}}class CU{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,gt.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,gt.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const c=o.type;if("child_added"===t&&"child_removed"===c)this.changeMap.set(i,vw(i,e.snapshotNode,o.snapshotNode));else if("child_removed"===t&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===c)this.changeMap.set(i,function _w(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,o.oldSnap));else if("child_changed"===t&&"child_added"===c)this.changeMap.set(i,function zv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==c)throw(0,gt.g5)("Illegal combination of changes: "+e+" occurred after "+o);this.changeMap.set(i,vw(i,e.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const aN=new class xU{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class pP{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new qf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fP(this.writes_,e,i)}}getChildAfterChild(e,t,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wm(this.viewCache_),c=function IU(n,e,t,i,o,c){return function EU(n,e,t,i,o,c,l){let f;const g=Zf(n.visibleWrites,e),E=Gm(g,nr());if(null!=E)f=E;else{if(null==t)return[];f=$v(g,t)}if(f=f.withIndex(l),f.isEmpty()||f.isLeafNode())return[];{const N=[],U=l.getCompare(),ee=c?f.getReverseIteratorFrom(i,l):f.getIteratorFrom(i,l);let Pe=ee.getNext();for(;Pe&&N.length<o;)0!==U(Pe,i)&&N.push(Pe),Pe=ee.getNext();return N}}(n.writeTree,n.treePath,e,t,i,o,c)}(this.writes_,o,t,1,i,e);return 0===c.length?null:c[0]}}function cN(n,e,t,i,o,c){const l=e.eventCache;if(null!=oT(i,t))return e;{let f,g;if(ki(t))if((0,gt.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const E=Wm(e),U=hP(i,E instanceof Ei?E:Ei.EMPTY_NODE);f=n.filter.updateFullNode(e.eventCache.getNode(),U,c)}else{const E=rT(i,Wm(e));f=n.filter.updateFullNode(e.eventCache.getNode(),E,c)}else{const E=Oi(t);if(".priority"===E){(0,gt.hu)(1===Yf(t),"Can't have a priority with additional path components");const N=l.getNode();g=e.serverCache.getNode();const U=rN(i,t,N,g);f=null!=U?n.filter.updatePriority(N,U):l.getNode()}else{const N=yr(t);let U;if(l.isCompleteForChild(E)){g=e.serverCache.getNode();const ee=rN(i,t,l.getNode(),g);U=null!=ee?l.getNode().getImmediateChild(E).updateChild(N,ee):l.getNode().getImmediateChild(E)}else U=fP(i,E,e.serverCache);f=null!=U?n.filter.updateChild(l.getNode(),E,U,N,o,c):l.getNode()}}return ww(e,f,l.isFullyInitialized()||ki(t),n.filter.filtersNodes())}}function sT(n,e,t,i,o,c,l,f){const g=e.serverCache;let E;const N=l?n.filter:n.filter.getIndexedFilter();if(ki(t))E=N.updateFullNode(g.getNode(),i,null);else if(N.filtersNodes()&&!g.isFiltered()){const Pe=g.getNode().updateChild(t,i);E=N.updateFullNode(g.getNode(),Pe,null)}else{const Pe=Oi(t);if(!g.isCompleteForPath(t)&&Yf(t)>1)return e;const at=yr(t),Ht=g.getNode().getImmediateChild(Pe).updateChild(at,i);E=".priority"===Pe?N.updatePriority(g.getNode(),Ht):N.updateChild(g.getNode(),Pe,Ht,at,aN,null)}const U=X1(e,E,g.isFullyInitialized()||ki(t),N.filtersNodes());return cN(n,U,t,o,new pP(o,U,c),f)}function mP(n,e,t,i,o,c,l){const f=e.eventCache;let g,E;const N=new pP(o,e,c);if(ki(t))E=n.filter.updateFullNode(e.eventCache.getNode(),i,l),g=ww(e,E,!0,n.filter.filtersNodes());else{const U=Oi(t);if(".priority"===U)E=n.filter.updatePriority(e.eventCache.getNode(),i),g=ww(e,E,f.isFullyInitialized(),f.isFiltered());else{const ee=yr(t),Pe=f.getNode().getImmediateChild(U);let at;if(ki(ee))at=i;else{const wt=N.getCompleteChild(U);at=null!=wt?".priority"===WM(ee)&&wt.getChild(V1(ee)).isEmpty()?wt:wt.updateChild(ee,i):Ei.EMPTY_NODE}g=Pe.equals(at)?e:ww(e,n.filter.updateChild(f.getNode(),U,at,ee,N,l),f.isFullyInitialized(),n.filter.filtersNodes())}}return g}function lN(n,e){return n.eventCache.isCompleteForChild(e)}function uN(n,e,t){return t.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function gP(n,e,t,i,o,c,l,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let E,g=e;E=ki(t)?i:new Mr(null).setTree(t,i);const N=e.serverCache.getNode();return E.children.inorderTraversal((U,ee)=>{if(N.hasChild(U)){const at=uN(0,e.serverCache.getNode().getImmediateChild(U),ee);g=sT(n,g,new lr(U),at,o,c,l,f)}}),E.children.inorderTraversal((U,ee)=>{const Pe=!e.serverCache.isCompleteForChild(U)&&null===ee.value;if(!N.hasChild(U)&&!Pe){const wt=uN(0,e.serverCache.getNode().getImmediateChild(U),ee);g=sT(n,g,new lr(U),wt,o,c,l,f)}}),g}function LU(n,e){const t=Wm(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ki(e)&&!t.getImmediateChild(Oi(e)).isEmpty())?t.getChild(e):null}function fN(n,e,t,i){e.type===Fu.MERGE&&null!==e.source.queryId&&((0,gt.hu)(Wm(n.viewCache_),"We should always have a full cache before handling merges"),(0,gt.hu)(nT(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,c=function AU(n,e,t,i,o){const c=new CU;let l,f;if(t.type===Fu.OVERWRITE){const E=t;E.source.fromUser?l=mP(n,e,E.path,E.snap,i,o,c):((0,gt.hu)(E.source.fromServer,"Unknown source."),f=E.source.tagged||e.serverCache.isFiltered()&&!ki(E.path),l=sT(n,e,E.path,E.snap,i,o,f,c))}else if(t.type===Fu.MERGE){const E=t;E.source.fromUser?l=function RU(n,e,t,i,o,c,l){let f=e;return i.foreach((g,E)=>{const N=Yr(t,g);lN(e,Oi(N))&&(f=mP(n,f,N,E,o,c,l))}),i.foreach((g,E)=>{const N=Yr(t,g);lN(e,Oi(N))||(f=mP(n,f,N,E,o,c,l))}),f}(n,e,E.path,E.children,i,o,c):((0,gt.hu)(E.source.fromServer,"Unknown source."),f=E.source.tagged||e.serverCache.isFiltered(),l=gP(n,e,E.path,E.children,i,o,f,c))}else if(t.type===Fu.ACK_USER_WRITE){const E=t;l=E.revert?function OU(n,e,t,i,o,c){let l;if(null!=oT(i,t))return e;{const f=new pP(i,e,o),g=e.eventCache.getNode();let E;if(ki(t)||".priority"===Oi(t)){let N;if(e.serverCache.isFullyInitialized())N=rT(i,Wm(e));else{const U=e.serverCache.getNode();(0,gt.hu)(U instanceof Ei,"serverChildren would be complete if leaf node"),N=hP(i,U)}E=n.filter.updateFullNode(g,N,c)}else{const N=Oi(t);let U=fP(i,N,e.serverCache);null==U&&e.serverCache.isCompleteForChild(N)&&(U=g.getImmediateChild(N)),E=null!=U?n.filter.updateChild(g,N,U,yr(t),f,c):e.eventCache.getNode().hasChild(N)?n.filter.updateChild(g,N,Ei.EMPTY_NODE,yr(t),f,c):g,E.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=rT(i,Wm(e)),l.isLeafNode()&&(E=n.filter.updateFullNode(E,l,c)))}return l=e.serverCache.isFullyInitialized()||null!=oT(i,nr()),ww(e,E,l,n.filter.filtersNodes())}}(n,e,E.path,i,o,c):function MU(n,e,t,i,o,c,l){if(null!=oT(o,t))return e;const f=e.serverCache.isFiltered(),g=e.serverCache;if(null!=i.value){if(ki(t)&&g.isFullyInitialized()||g.isCompleteForPath(t))return sT(n,e,t,g.getNode().getChild(t),o,c,f,l);if(ki(t)){let E=new Mr(null);return g.getNode().forEachChild(Nu,(N,U)=>{E=E.set(new lr(N),U)}),gP(n,e,t,E,o,c,f,l)}return e}{let E=new Mr(null);return i.foreach((N,U)=>{const ee=Yr(t,N);g.isCompleteForPath(ee)&&(E=E.set(N,g.getNode().getChild(ee)))}),gP(n,e,t,E,o,c,f,l)}}(n,e,E.path,E.affectedTree,i,o,c)}else{if(t.type!==Fu.LISTEN_COMPLETE)throw(0,gt.g5)("Unknown operation type: "+t.type);l=function PU(n,e,t,i,o){const c=e.serverCache;return cN(n,X1(e,c.getNode(),c.isFullyInitialized()||ki(t),c.isFiltered()),t,i,aN,o)}(n,e,t.path,i,c)}const g=c.getChanges();return function SU(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=nT(n);(t.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&t.push(function Y1(n){return{type:"value",snapshotNode:n}}(nT(e)))}}(e,l,g),{viewCache:l,changes:g}}(n.processor_,o,e,t,i);return function TU(n,e){(0,gt.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,gt.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,gt.hu)(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,function pN(n,e,t,i){return function sU(n,e,t,i){const o=[],c=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&c.push(function GB(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),Ew(n,o,"child_removed",e,i,t),Ew(n,o,"child_added",e,i,t),Ew(n,o,"child_moved",c,i,t),Ew(n,o,"child_changed",e,i,t),Ew(n,o,"value",e,i,t),o}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,c.changes,c.viewCache.eventCache.getNode(),null)}let aT,lT;function _P(n,e,t,i){const o=e.source.queryId;if(null!==o){const c=n.views.get(o);return(0,gt.hu)(null!=c,"SyncTree gave us an op for an invalid query."),fN(c,e,t,i)}{let c=[];for(const l of n.views.values())c=c.concat(fN(l,e,t,i));return c}}function Qf(n,e){let t=null;for(const i of n.views.values())t=t||LU(i,e);return t}class bN{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mr(null),this.pendingWriteTree_=function wU(){return{visibleWrites:Sl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vP(n,e,t,i,o){return function uU(n,e,t,i,o){(0,gt.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:o}),o&&(n.visibleWrites=Iw(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,o),o?Wv(n,new $m({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Jf(n,e,t=!1){const i=function hU(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function fU(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);(0,gt.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let o=i.visible,c=!1,l=n.allWrites.length-1;for(;o&&l>=0;){const f=n.allWrites[l];f.visible&&(l>=t&&pU(f,i.path)?o=!1:Nc(i.path,f.path)&&(c=!0)),l--}return!!o&&(c?(function mU(n){n.visibleWrites=nN(n.allWrites,gU,nr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=J1(n.visibleWrites,i.path):as(i.children,g=>{n.visibleWrites=J1(n.visibleWrites,Yr(i.path,g))}),!0))}(n.pendingWriteTree_,e)){let c=new Mr(null);return null!=i.snap?c=c.set(nr(),!0):as(i.children,l=>{c=c.set(new lr(l),!0)}),Wv(n,new eT(i.path,c,t))}return[]}function Cw(n,e,t){return Wv(n,new $m({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function dT(n,e,t){const o=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(e,(l,f)=>{const E=Qf(f,ca(l,e));if(E)return E});return iN(o,e,c,t,!0)}function Wv(n,e){return wN(e,n.syncPointTree_,null,iT(n.pendingWriteTree_,nr()))}function wN(n,e,t,i){if(ki(n.path))return IN(n,e,t,i);{const o=e.get(nr());null==t&&null!=o&&(t=Qf(o,nr()));let c=[];const l=Oi(n.path),f=n.operationForChild(l),g=e.children.get(l);if(g&&f){const E=t?t.getImmediateChild(l):null,N=oN(i,l);c=c.concat(wN(f,g,E,N))}return o&&(c=c.concat(_P(o,n,i,t))),c}}function IN(n,e,t,i){const o=e.get(nr());null==t&&null!=o&&(t=Qf(o,nr()));let c=[];return e.children.inorderTraversal((l,f)=>{const g=t?t.getImmediateChild(l):null,E=oN(i,l),N=n.operationForChild(l);N&&(c=c.concat(IN(N,f,g,E)))}),o&&(c=c.concat(_P(o,n,i,t))),c}function bP(n,e){return n.tagToQueryMap.get(e)}function EP(n){const e=n.indexOf("$");return(0,gt.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new lr(n.substr(0,e))}}function wP(n,e,t){const i=n.syncPointTree_.get(e);return(0,gt.hu)(i,"Missing sync point for query tag that we're tracking"),_P(i,t,iT(n.pendingWriteTree_,e),null)}class IP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new IP(t)}node(){return this.node_}}class CP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Yr(this.path_,e);return new CP(this.syncTree_,t)}node(){return dT(this.syncTree_,this.path_)}}const rz=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},xN=function(n,e,t){return n&&"object"==typeof n?((0,gt.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?oz(n[".sv"],e,t):"object"==typeof n[".sv"]?sz(n[".sv"],e):void(0,gt.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},oz=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,gt.hu)(!1,"Unexpected server value: "+n)},sz=function(n,e,t){n.hasOwnProperty("increment")||(0,gt.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,gt.hu)(!1,"Unexpected increment value: "+i);const o=e.node();if((0,gt.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const l=o.getValue();return"number"!=typeof l?i:l+i},DN=function(n,e,t,i){return DP(e,new CP(t,n),i)},xP=function(n,e,t){return DP(n,new IP(e),t)};function DP(n,e,t){const i=n.getPriority().val(),o=xN(i,e.getImmediateChild(".priority"),t);let c;if(n.isLeafNode()){const l=n,f=xN(l.getValue(),e,t);return f!==l.getValue()||o!==l.getPriority().val()?new Bv(f,to(o)):n}{const l=n;return c=l,o!==l.getPriority().val()&&(c=c.updatePriority(new Bv(o))),l.forEachChild(Rr,(f,g)=>{const E=DP(g,e.getImmediateChild(f),t);E!==g&&(c=c.updateImmediateChild(f,E))}),c}}class TP{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function fT(n,e){let t=e instanceof lr?e:new lr(e),i=n,o=Oi(t);for(;null!==o;){const c=(0,gt.DV)(i.node.children,o)||{children:{},childCount:0};i=new TP(o,i,c),t=yr(t),o=Oi(t)}return i}function Km(n){return n.node.value}function AP(n,e){n.node.value=e,SP(n)}function TN(n){return n.node.childCount>0}function pT(n,e){as(n.node.children,(t,i)=>{e(new TP(t,n,i))})}function AN(n,e,t,i){t&&!i&&e(n),pT(n,o=>{AN(o,e,!0,i)}),t&&i&&e(n)}function Tw(n){return new lr(null===n.parent?n.name:Tw(n.parent)+"/"+n.name)}function SP(n){null!==n.parent&&function lz(n,e,t){const i=function az(n){return void 0===Km(n)&&!TN(n)}(t),o=(0,gt.r3)(n.node.children,e);i&&o?(delete n.node.children[e],n.node.childCount--,SP(n)):!i&&!o&&(n.node.children[e]=t.node,n.node.childCount++,SP(n))}(n.parent,n.name,n)}const uz=/[\[\].#$\/\u0000-\u001F\u007F]/,dz=/[\[\].#$\u0000-\u001F\u007F]/,RP=10485760,mT=function(n){return"string"==typeof n&&0!==n.length&&!uz.test(n)},Sw=function(n,e,t){const i=t instanceof lr?new AB(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+jm(i));if("function"==typeof e)throw new Error(n+"contains a function "+jm(i)+" with contents = "+e.toString());if(HD(e))throw new Error(n+"contains "+e.toString()+" "+jm(i));if("string"==typeof e&&e.length>RP/3&&(0,gt.ug)(e)>RP)throw new Error(n+"contains a string greater than "+RP+" utf8 bytes "+jm(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let o=!1,c=!1;if(as(e,(l,f)=>{if(".value"===l)o=!0;else if(".priority"!==l&&".sv"!==l&&(c=!0,!mT(l)))throw new Error(n+" contains an invalid key ("+l+") "+jm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function SB(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,gt.ug)(e),B1(n)})(i,l),Sw(n,f,i),function RB(n){const e=n.parts_.pop();n.byteLength_-=(0,gt.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),o&&c)throw new Error(n+' contains ".value" child '+jm(i)+" in addition to actual children.")}},MN=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!mT(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!dz.test(n)}(n)}(t))throw new Error((0,gt.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class mz{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Za(n,e,t){(function gT(n,e){let t=null;for(let i=0;i<e.length;i++){const o=e[i],c=o.getPath();null!==t&&!GM(c,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:c}),t.events.push(o)}t&&n.eventLists_.push(t)})(n,t),function ON(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];o&&(e(o.path)?(gz(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Nc(i,e)||Nc(e,i))}function gz(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Um&&ss("event: "+t.toString()),Lv(i)}}}const _z=25;class vz{constructor(e,t,i,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=JD(),this.transactionQueueTree_=new TP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NN(n){const t=n.infoData_.getNode(new lr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Mw(n){return rz({timestamp:NN(n)})}function FN(n,e,t,i,o){n.dataUpdateCount++;const c=new lr(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(o)if(i){const g=(0,gt.UI)(t,E=>to(E));l=function XU(n,e,t,i){const o=bP(n,i);if(o){const c=EP(o),l=c.path,f=c.queryId,g=ca(l,e),E=Mr.fromObject(t);return wP(n,l,new Hv(aP(f),g,E))}return[]}(n.serverSyncTree_,c,g,o)}else{const g=to(t);l=function EN(n,e,t,i){const o=bP(n,i);if(null!=o){const c=EP(o),l=c.path,f=c.queryId,g=ca(l,e);return wP(n,l,new $m(aP(f),g,t))}return[]}(n.serverSyncTree_,c,g,o)}else if(i){const g=(0,gt.UI)(t,E=>to(E));l=function qU(n,e,t){const i=Mr.fromObject(t);return Wv(n,new Hv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,c,g)}else{const g=to(t);l=Cw(n.serverSyncTree_,c,g)}let f=c;l.length>0&&(f=Kv(n,c)),Za(n.eventQueue_,f,l)}function LN(n,e){OP(n,"connected",e),!1===e&&function Iz(n){Gv(n,"onDisconnectEvents");const e=Mw(n),t=JD();rP(n.onDisconnect_,nr(),(o,c)=>{const l=DN(o,c,n.serverSyncTree_,e);jv(t,o,l)});let i=[];rP(t,nr(),(o,c)=>{i=i.concat(Cw(n.serverSyncTree_,o,c));const l=function LP(n,e){const t=Tw(UN(n,e)),i=fT(n.transactionQueueTree_,e);return function cz(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,o=>{VP(n,o)}),VP(n,i),AN(i,o=>{VP(n,o)}),t}(n,o);Kv(n,l)}),n.onDisconnect_=JD(),Za(n.eventQueue_,nr(),i)}(n)}function OP(n,e,t){const i=new lr("/.info/"+e),o=to(t);n.infoData_.updateSnapshot(i,o);const c=Cw(n.infoSyncTree_,i,o);Za(n.eventQueue_,i,c)}function _T(n){return n.nextWriteId_++}function Gv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ss(t,...e)}function FP(n,e,t){return dT(n.serverSyncTree_,e,t)||Ei.EMPTY_NODE}function vT(n,e=n.transactionQueueTree_){if(e||yT(n,e),Km(e)){const t=zN(n,e);(0,gt.hu)(t.length>0,"Sending zero length transaction queue"),t.every(o=>0===o.status)&&function Rz(n,e,t){const i=t.map(E=>E.currentWriteId),o=FP(n,e,i);let c=o;const l=o.hash();for(let E=0;E<t.length;E++){const N=t[E];(0,gt.hu)(0===N.status,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const U=ca(e,N.path);c=c.updateChild(U,N.currentOutputSnapshotRaw)}const f=c.val(!0),g=e;n.server_.put(g.toString(),f,E=>{Gv(n,"transaction put response",{path:g.toString(),status:E});let N=[];if("ok"===E){const U=[];for(let ee=0;ee<t.length;ee++)t[ee].status=2,N=N.concat(Jf(n.serverSyncTree_,t[ee].currentWriteId)),t[ee].onComplete&&U.push(()=>t[ee].onComplete(null,!0,t[ee].currentOutputSnapshotResolved)),t[ee].unwatcher();yT(n,fT(n.transactionQueueTree_,e)),vT(n,n.transactionQueueTree_),Za(n.eventQueue_,e,N);for(let ee=0;ee<U.length;ee++)Lv(U[ee])}else{if("datastale"===E)for(let U=0;U<t.length;U++)t[U].status=3===t[U].status?4:0;else{Ws("transaction at "+g.toString()+" failed: "+E);for(let U=0;U<t.length;U++)t[U].status=4,t[U].abortReason=E}Kv(n,e)}},l)}(n,Tw(e),t)}else TN(e)&&pT(e,t=>{vT(n,t)})}function Kv(n,e){const t=UN(n,e),i=Tw(t);return function Mz(n,e,t){if(0===e.length)return;const i=[];let o=[];const l=e.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const g=e[f],E=ca(t,g.path);let U,N=!1;if((0,gt.hu)(null!==E,"rerunTransactionsUnderNode_: relativePath should not be null."),4===g.status)N=!0,U=g.abortReason,o=o.concat(Jf(n.serverSyncTree_,g.currentWriteId,!0));else if(0===g.status)if(g.retryCount>=_z)N=!0,U="maxretry",o=o.concat(Jf(n.serverSyncTree_,g.currentWriteId,!0));else{const ee=FP(n,g.path,l);g.currentInputSnapshot=ee;const Pe=e[f].update(ee.val());if(void 0!==Pe){Sw("transaction failed: Data returned ",Pe,g.path);let at=to(Pe);"object"==typeof Pe&&null!=Pe&&(0,gt.r3)(Pe,".priority")||(at=at.updatePriority(ee.getPriority()));const Ht=g.currentWriteId,En=Mw(n),In=xP(at,ee,En);g.currentOutputSnapshotRaw=at,g.currentOutputSnapshotResolved=In,g.currentWriteId=_T(n),l.splice(l.indexOf(Ht),1),o=o.concat(vP(n.serverSyncTree_,g.path,In,g.currentWriteId,g.applyLocally)),o=o.concat(Jf(n.serverSyncTree_,Ht,!0))}else N=!0,U="nodata",o=o.concat(Jf(n.serverSyncTree_,g.currentWriteId,!0))}Za(n.eventQueue_,t,o),o=[],N&&(e[f].status=2,setTimeout(e[f].unwatcher,Math.floor(0)),e[f].onComplete&&i.push("nodata"===U?()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot):()=>e[f].onComplete(new Error(U),!1,null)))}yT(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)Lv(i[f]);vT(n,n.transactionQueueTree_)}(n,zN(n,t),i),i}function UN(n,e){let t,i=n.transactionQueueTree_;for(t=Oi(e);null!==t&&void 0===Km(i);)i=fT(i,t),t=Oi(e=yr(e));return i}function zN(n,e){const t=[];return jN(n,e,t),t.sort((i,o)=>i.order-o.order),t}function jN(n,e,t){const i=Km(e);if(i)for(let o=0;o<i.length;o++)t.push(i[o]);pT(e,o=>{jN(n,o,t)})}function yT(n,e){const t=Km(e);if(t){let i=0;for(let o=0;o<t.length;o++)2!==t[o].status&&(t[i]=t[o],i++);t.length=i,AP(e,t.length>0?t:void 0)}pT(e,i=>{yT(n,i)})}function VP(n,e){const t=Km(e);if(t){const i=[];let o=[],c=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,gt.hu)(c===l-1,"All SENT items should be at beginning of queue."),c=l,t[l].status=3,t[l].abortReason="set"):((0,gt.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),o=o.concat(Jf(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===c?AP(e,void 0):t.length=c+1,Za(n.eventQueue_,Tw(e),o);for(let l=0;l<i.length;l++)Lv(i[l])}}const BP=function(n,e){const t=kz(n),i=t.namespace;return"firebase.com"===t.domain&&ku(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&ku("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ws("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new BM(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new lr(t.pathString)}},kz=function(n){let e="",t="",i="",o="",c="",l=!0,f="https",g=443;if("string"==typeof n){let E=n.indexOf("//");E>=0&&(f=n.substring(0,E-1),n=n.substring(E+2));let N=n.indexOf("/");-1===N&&(N=n.length);let U=n.indexOf("?");-1===U&&(U=n.length),e=n.substring(0,Math.min(N,U)),N<U&&(o=function Pz(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let o=t[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}(n.substring(N,U)));const ee=function Oz(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ws(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,U)));E=e.indexOf(":"),E>=0?(l="https"===f||"wss"===f,g=parseInt(e.substring(E+1),10)):E=e.length;const Pe=e.slice(0,E);if("localhost"===Pe.toLowerCase())t="localhost";else if(Pe.split(".").length<=2)t=Pe;else{const at=e.indexOf(".");i=e.substring(0,at).toLowerCase(),t=e.substring(at+1),c=i}"ns"in ee&&(c=ee.ns)}return{host:e,port:g,domain:t,subdomain:i,secure:l,scheme:f,pathString:o,namespace:c}};class Qa{constructor(e,t,i,o){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=o}get key(){return ki(this._path)?null:WM(this._path)}get ref(){return new Rl(this._repo,this._path)}get _queryIdentifier(){const e=Z1(this._queryParams),t=LM(e);return"{}"===t?"default":t}get _queryObject(){return Z1(this._queryParams)}isEqual(e){if(!((e=(0,gt.m9)(e))instanceof Qa))return!1;const t=this._repo===e._repo,i=GM(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function DB(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Rl extends Qa{constructor(e,t){super(e,t,new eP,!1)}get parent(){const e=V1(this._path);return null===e?null:new Rl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function UU(n){(0,gt.hu)(!aT,"__referenceConstructor has already been defined"),aT=n})(Rl),function WU(n){(0,gt.hu)(!lT,"__referenceConstructor has already been defined"),lT=n}(Rl);const zP={};class Jz{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function yz(n,e,t){if(n.stats_=jM(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new XD(n.repoInfo_,(i,o,c,l)=>{FN(n,i,o,c,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>LN(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,gt.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Hm(n.repoInfo_,e,(i,o,c,l)=>{FN(n,i,o,c,l)},i=>{LN(n,i)},i=>{!function bz(n,e){as(e,(t,i)=>{OP(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function rB(n,e){const t=n.toString();return zM[t]||(zM[t]=e()),zM[t]}(n.repoInfo_,()=>new rU(n.stats_,n.server_)),n.infoData_=new JB,n.infoSyncTree_=new bN({startListening:(i,o,c,l)=>{let f=[];const g=n.infoData_.getNode(i._path);return g.isEmpty()||(f=Cw(n.infoSyncTree_,i._path,g),setTimeout(()=>{l("ok")},0)),f},stopListening:()=>{}}),OP(n,"connected",!1),n.serverSyncTree_=new bN({startListening:(i,o,c,l)=>(n.server_.listen(i,c,o,(f,g)=>{const E=l(f,g);Za(n.eventQueue_,i._path,E)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rl(this._repo,nr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Zz(n,e){const t=zP[e];(!t||t[n.key]!==n)&&ku(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function BN(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ku("Cannot call "+e+" on a deleted database.")}}function e3(n=(0,yi.getApp)(),e){const t=(0,yi._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=(0,gt.P0)("database");i&&function t3(n,e,t,i={}){(n=(0,gt.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ku("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&ku('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new hw(hw.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,gt.Sg)(i.mockUserToken,n.app.options.projectId);c=new hw(l)}!function qz(n,e,t,i){n.repoInfo_=new BM(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(o,e,t,c)}(t,...i)}return t}Hm.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Hm.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function n3(n){(function e1(n){kM=n})(yi.SDK_VERSION),(0,yi._registerComponent)(new Ql.wA("database",(e,{instanceIdentifier:t})=>function ZN(n,e,t,i,o){let c=i||n.options.databaseURL;void 0===c&&(n.options.projectId||ku("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ss("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let g,E,l=BP(c,o),f=l.repoInfo;typeof process<"u"&&process.env&&(E=process.env.FIREBASE_DATABASE_EMULATOR_HOST),E?(g=!0,c=`http://${E}?ns=${f.namespace}`,l=BP(c,o),f=l.repoInfo):g=!l.repoInfo.secure;const N=o&&g?new hw(hw.OWNER):new tB(n.name,n.options,e);MN("Invalid Firebase Database URL",l),ki(l.path)||ku("Database URL must point to the root of a Firebase Database (not including a child path).");const U=function Qz(n,e,t,i){let o=zP[e.name];o||(o={},zP[e.name]=o);let c=o[n.toURLString()];return c&&ku("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new vz(n,!1,t,i),o[n.toURLString()]=c,c}(f,n,N,new eB(n.name,t));return new Jz(U,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,yi.registerVersion)(Xk,"1.0.1",n),(0,yi.registerVersion)(Xk,"1.0.1","esm2017")}();class jP{constructor(e){return e}}const XN="database",HP=new v.OlP("angularfire2.database-instances");function a3(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new jP(i)}}const c3={provide:class o3{constructor(){return wa(XN)}},deps:[[new v.FiY,HP]]},l3={provide:jP,useFactory:function s3(n,e){const t=fp(XN,n,e);return t&&new jP(t)},deps:[[new v.FiY,HP],Ca]};let u3=(()=>{class n{constructor(){(0,yi.registerVersion)("angularfire",ta.full,"rtdb")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=v.oAB({type:n});static \u0275inj=v.cJS({providers:[l3,c3]})}return n})();function d3(n,...e){return{ngModule:u3,providers:[{provide:HP,useFactory:a3(n),multi:!0,deps:[v.R0b,v.zs3,pc,xa,[new v.FiY,gg],[new v.FiY,Zu],...e]}]}}const h3=gc(e3,!0),$P={apiKey:"AIzaSyAXWTYmLGrFHqSeSfJmnOryyLtAXMfRTCw",authDomain:"message-table-56e67.firebaseapp.com",projectId:"message-table-56e67",storageBucket:"message-table-56e67.appspot.com",messagingSenderId:"103850090635",appId:"1:103850090635:web:daa28e9dc5093db268f48e",measurementId:"G-04VN7TSPXH"},p3=function R2(n=(0,yi.getApp)()){n=(0,gt.m9)(n);const e=(0,yi._getProvider)(n,FD);return e.isInitialized()?e.getImmediate():function M2(n,e={}){const t=(0,yi._getProvider)(n,FD);if(t.isInitialized()){const o=t.getImmediate();if((0,gt.vZ)(e,t.getOptions()))return o;throw aa.create("already-initialized")}return t.initialize({options:e})}(n)}((0,yi.initializeApp)($P));var cs=b(3338),qv=(b(6365),b(2459)),JN=b(7081),m3=b(1374);function eF(n,e){return(0,Bk.m)(e)?(0,lt.w)(()=>n,e):(0,lt.w)(()=>n)}const tF=new v.OlP("angularfire2.auth.use-emulator"),nF=new v.OlP("angularfire2.auth.settings"),iF=new v.OlP("angularfire2.auth.tenant-id"),rF=new v.OlP("angularfire2.auth.langugage-code"),oF=new v.OlP("angularfire2.auth.use-device-language"),sF=new v.OlP("angularfire.auth.persistence"),aF=(n,e,t,i,o,c,l,f)=>Fk(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=o,c&&g.useDeviceLanguage(),l)for(const[E,N]of Object.entries(l))g.settings[E]=N;return f&&g.setPersistence(f),g},[t,i,o,c,l,f]);let cF=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,o,c,l,f,g,E,N,U,ee,Pe){const at=new Me.x,wt=(0,xe.of)(void 0).pipe((0,Ea.Q)(l.outsideAngular),(0,lt.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(b.bind(b,6365)))),(0,De.U)(()=>xM(t,c,i)),(0,De.U)(Ht=>aF(Ht,c,f,E,N,U,g,ee)),(0,JN.d)({bufferSize:1,refCount:!1}));if((0,Se.PM)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xe.of)(null);else{wt.pipe((0,m3.P)()).subscribe();const Ht=wt.pipe((0,lt.w)(vn=>vn.getRedirectResult().then(zn=>zn,()=>null)),wo,(0,JN.d)({bufferSize:1,refCount:!1})),En=wt.pipe((0,lt.w)(vn=>new ts.y(zn=>({unsubscribe:c.runOutsideAngular(()=>vn.onAuthStateChanged(pi=>zn.next(pi),pi=>zn.error(pi),()=>zn.complete()))})))),In=wt.pipe((0,lt.w)(vn=>new ts.y(zn=>({unsubscribe:c.runOutsideAngular(()=>vn.onIdTokenChanged(pi=>zn.next(pi),pi=>zn.error(pi),()=>zn.complete()))}))));this.authState=Ht.pipe(eF(En),(0,el.R)(l.outsideAngular),(0,Ea.Q)(l.insideAngular)),this.user=Ht.pipe(eF(In),(0,el.R)(l.outsideAngular),(0,Ea.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,lt.w)(vn=>vn?(0,qv.D)(vn.getIdToken()):(0,xe.of)(null))),this.idTokenResult=this.user.pipe((0,lt.w)(vn=>vn?(0,qv.D)(vn.getIdTokenResult()):(0,xe.of)(null))),this.credential=(0,Ie.T)(Ht,at,this.authState.pipe((0,Te.h)(vn=>!vn))).pipe((0,De.U)(vn=>vn?.user?vn:null),(0,el.R)(l.outsideAngular),(0,Ea.Q)(l.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(o,c)=>t.runOutsideAngular(()=>{if(n[c])return i?.spy?.get&&i.spy.get(c,n[c]),n[c];if(sV.indexOf(c)>-1)return()=>{};const l=e.toPromise().then(f=>{const g=f?.[c];return"function"==typeof g?g.bind(f):g?.then?g.then(E=>t.run(()=>E)):t.run(()=>g)});return new Proxy(()=>{},{get:(f,g)=>l[g],apply:(f,g,E)=>l.then(N=>{const U=N?.(...E);return i?.spy?.apply&&i.spy.apply(c,E,U),U})})})}))(this,wt,c,{spy:{apply:(Ht,En,In)=>{(Ht.startsWith("signIn")||Ht.startsWith("createUser"))&&In.then(vn=>at.next(vn))}}})}static \u0275fac=function(i){return new(i||n)(v.LFG(UD),v.LFG(CM,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(pc),v.LFG(tF,8),v.LFG(nF,8),v.LFG(iF,8),v.LFG(rF,8),v.LFG(oF,8),v.LFG(sF,8),v.LFG(Zu,8))};static \u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var WP=b(6699);function GP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new sn("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function lF(){if(typeof Uint8Array>"u")throw new sn("unimplemented","Uint8Arrays are not available in this environment.")}function uF(){if(!function pb(){return typeof atob<"u"}())throw new sn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class kw{constructor(e){this._delegate=e}static fromBase64String(e){return uF(),new kw(Ka.fromBase64String(e))}static fromUint8Array(e){return lF(),new kw(Ka.fromUint8Array(e))}toBase64(){return uF(),this._delegate.toBase64()}toUint8Array(){return lF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KP(n){return function y3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class b3{enableIndexedDbPersistence(e,t){return function TS(n,e){FE(n=Ai(n,pr));const t=jr(n);if(t._uninitializedComponentsProvider)throw new sn(Wt.FAILED_PRECONDITION,"SDK cache is already specified.");zs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),o=new Vf;return yv(t,o,new zx(o,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function AS(n){FE(n=Ai(n,pr));const e=jr(n);if(e._uninitializedComponentsProvider)throw new sn(Wt.FAILED_PRECONDITION,"SDK cache is already specified.");zs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Vf;return yv(e,i,new Lf(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Jx(n){if(n._initialized&&!n._terminated)throw new sn(Wt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new so;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Bt.Z)(function*(){try{yield(t=(0,Bt.Z)(function*(o){if(!Cs.D())return Promise.resolve();const c=o+"main";yield Cs.delete(c)}),function i(o){return t.apply(this,arguments)})(v0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class dF{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof hu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){PE(this._delegate,e,t,i)}enableNetwork(){return function bv(n){return function Kx(n){return n.asyncQueue.enqueue((0,Bt.Z)(function*(){const e=yield Gx(n),t=yield EE(n);return e.setNetworkEnabled(!0),function(o){const c=Dn(o);return c.C_.delete(0),Mf(c)}(t)}))}(jr(n=Ai(n,pr)))}(this._delegate)}disableNetwork(){return function NE(n){return function bS(n){return n.asyncQueue.enqueue((0,Bt.Z)(function*(){const e=yield Gx(n),t=yield EE(n);return e.setNetworkEnabled(!1),(i=(0,Bt.Z)(function*(c){const l=Dn(c);l.C_.add(0),yield Of(l),l.M_.set("Offline")}),function o(c){return i.apply(this,arguments)})(t);var i}))}(jr(n=Ai(n,pr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,AE("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function SS(n){return function(t){const i=new so;return t.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return function uS(n,e){return kx.apply(this,arguments)}(yield Am(t),i)})),i.promise}(jr(n=Ai(n,pr)))}(this._delegate)}onSnapshotsInSync(e){return function YE(n,e){return function xE(n,e){const t=new uv(e);return n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return o=yield Bf(n),c=t,Dn(o).q_.add(c),void c.next();var o,c})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return o=yield Bf(n),c=t,void Dn(o).q_.delete(c);var o,c}))}}(jr(n=Ai(n,pr)),Zx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new sn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zv(this,qx(this._delegate,e))}catch(t){throw la(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fc(this,OE(this._delegate,e))}catch(t){throw la(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ua(this,function dO(n,e){if(n=Ai(n,Uf),_v("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new sn(Wt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zi(n,null,(i=e,new pl(Bi.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw la(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Hf(n,e,t){n=Ai(n,pr);const i=Object.assign(Object.assign({},vD),t);return function(c){if(c.maxAttempts<1)throw new sn(Wt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(c,l,f){const g=new so;return c.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){const E=yield function wE(n){return th(n).then(e=>e.datastore)}(c);new yS(c.asyncQueue,E,f,l,g).run()})),g.promise}(jr(n),o=>e(new bD(n,o)),i)}(this._delegate,t=>e(new hF(this,t)))}batch(){return jr(this._delegate),new fF(new yD(this._delegate,e=>Ru(this._delegate,e)))}loadBundle(e){return function eD(n,e){const t=jr(n=Ai(n,pr)),i=new fO;return function DE(n,e,t,i){const o=function(l,f){let g;return g="string"==typeof l?C_().encode(l):l,N=function(N,U){if(N instanceof Uint8Array)return jx(N,U);if(N instanceof ArrayBuffer)return jx(new Uint8Array(N),U);if(N instanceof ReadableStream)return N.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new dv(N,f);var N}(t,Rf(e));n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){!function _S(n,e,t){const i=Dn(n);var o;(o=(0,Bt.Z)(function*(l,f,g){try{const E=yield f.getMetadata();if(yield function(at,wt){const Ht=Dn(at),En=Sr(wt.createTime);return Ht.persistence.runTransaction("hasNewerBundle","readonly",In=>Ht.Kr.getBundleMetadata(In,wt.id)).then(In=>!!In&&In.createTime.compareTo(En)>=0)}(l.localStore,E))return yield f.close(),g._completeWith({taskState:"Success",documentsLoaded:(at=E).totalDocuments,bytesLoaded:at.totalBytes,totalDocuments:at.totalDocuments,totalBytes:at.totalBytes}),Promise.resolve(new Set);g._updateProgress(xu(E));const N=new Dx(E,l.localStore,f.serializer);let U=yield f.Ma();for(;U;){const Pe=yield N.ea(U);Pe&&g._updateProgress(Pe),U=yield f.Ma()}const ee=yield N.complete();return yield Cl(l,ee.ra,void 0),yield function(at,wt){const Ht=Dn(at);return Ht.persistence.runTransaction("Save bundle","readwrite",En=>Ht.Kr.saveBundleMetadata(En,wt))}(l.localStore,E),g._completeWith(ee.progress),Promise.resolve(ee.na)}catch(E){return zs("SyncEngine",`Loading bundle failed with ${E}`),g._failWith(E),Promise.resolve(new Set)}var at}),function c(l,f,g){return o.apply(this,arguments)})(i,e,t).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}(yield Am(n),o,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function RS(n,e){return function wS(n,e){return n.asyncQueue.enqueue((0,Bt.Z)(function*(){return function(i,o){const c=Dn(i);return c.persistence.runTransaction("Get named query","readonly",l=>c.Kr.getNamedQuery(l,o))}(yield nh(n),e)}))}(jr(n=Ai(n,pr)),e).then(t=>t?new Zi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ua(this,t):null)}}class IT extends $E{constructor(e){super(),this.firestore=e}convertBytes(e){return new kw(new Ka(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fc.forKey(t,this.firestore,null)}}class hF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new IT(e)}get(e){const t=Zm(e);return this._delegate.get(t).then(i=>new Nw(this._firestore,new xl(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const o=Zm(e);return i?(GP("Transaction.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const c=Zm(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...o),this}delete(e){const t=Zm(e);return this._delegate.delete(t),this}}class fF{constructor(e){this._delegate=e}set(e,t,i){const o=Zm(e);return i?(GP("WriteBatch.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const c=Zm(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...o),this}delete(e){const t=Zm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new jf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Fw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=qm.INSTANCES;let o=i.get(e);o||(o=new WeakMap,i.set(e,o));let c=o.get(t);return c||(c=new qm(e,new IT(e),t),o.set(t,c)),c}}qm.INSTANCES=new WeakMap;class Fc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IT(e)}static forPath(e,t,i){if(e.length%2!=0)throw new sn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fc(t,new tr(t._delegate,i,new xn(e)))}static forKey(e,t,i){return new Fc(t,new tr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Zv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zv(this.firestore,qx(this._delegate,e))}catch(t){throw la(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,gt.m9)(e))instanceof tr&&kE(this._delegate,e)}set(e,t){t=GP("DocumentReference.set",t);try{return t?WE(this._delegate,e,t):WE(this._delegate,e)}catch(i){throw la(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?mD(this._delegate,e):mD(this._delegate,e,t,...i)}catch(o){throw la(o,"updateDoc()","DocumentReference.update()")}}delete(){return function GE(n){return Ru(Ai(n.firestore,pr),[new _f(n._key,Ur.none())])}(this._delegate)}onSnapshot(...e){const t=pF(e),i=mF(e,o=>new Nw(this.firestore,new xl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return KE(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function wO(n){n=Ai(n,tr);const e=Ai(n.firestore,pr),t=jr(e),i=new Dl(e);return function ES(n,e){const t=new so;return n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return(i=(0,Bt.Z)(function*(c,l,f){try{const g=yield function(N,U){const ee=Dn(N);return ee.persistence.runTransaction("read document","readonly",Pe=>ee.localDocuments.getDocument(Pe,U))}(c,l);g.isFoundDocument()?f.resolve(g):g.isNoDocument()?f.resolve(null):f.reject(new sn(Wt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const E=Zd(g,`Failed to get document '${l} from cache`);f.reject(E)}}),function o(c,l,f){return i.apply(this,arguments)})(yield nh(n),e,t);var i})),t.promise}(t,n._key).then(o=>new xl(e,i,n._key,o,new oh(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function $s(n){n=Ai(n,tr);const e=Ai(n.firestore,pr);return mv(jr(e),n._key,{source:"server"}).then(t=>qE(e,n,t))}(this._delegate):function hD(n){n=Ai(n,tr);const e=Ai(n.firestore,pr);return mv(jr(e),n._key).then(t=>qE(e,n,t))}(this._delegate),t.then(i=>new Nw(this.firestore,new xl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Fc(this.firestore,this._delegate.withConverter(e?qm.getInstance(this.firestore,e):null))}}function la(n,e,t){return n.message=n.message.replace(e,t),n}function pF(n){for(const e of n)if("object"==typeof e&&!KP(e))return e;return{}}function mF(n,e){var t,i;let o;return o=KP(n[0])?n[0]:KP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}class Nw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dD(this._delegate,e._delegate)}}class Fw extends Nw{data(e){const t=this._delegate.data(e);return this._delegate._converter||function JI(n,e){n||Vn()}(void 0!==t),t}}class ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IT(e)}where(e,t,i){try{return new ua(this.firestore,Tu(this._delegate,function VS(n,e,t){const i=e,o=jE("where",n);return Au._create(o,i,t)}(e,t,i)))}catch(o){throw la(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ua(this.firestore,Tu(this._delegate,function BS(n,e="asc"){const t=e,i=jE("orderBy",n);return Dv._create(i,t)}(e,t)))}catch(i){throw la(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ua(this.firestore,Tu(this._delegate,function US(n){return ME("limit",n),Tv._create("limit",n,"F")}(e)))}catch(t){throw la(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ua(this.firestore,Tu(this._delegate,function _O(n){return ME("limitToLast",n),Tv._create("limitToLast",n,"L")}(e)))}catch(t){throw la(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ua(this.firestore,Tu(this._delegate,function Fm(...n){return Av._create("startAt",n,!0)}(...e)))}catch(t){throw la(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ua(this.firestore,Tu(this._delegate,function Sv(...n){return Av._create("startAfter",n,!1)}(...e)))}catch(t){throw la(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ua(this.firestore,Tu(this._delegate,function zS(...n){return Rv._create("endBefore",n,!1)}(...e)))}catch(t){throw la(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ua(this.firestore,Tu(this._delegate,function jS(...n){return Rv._create("endAt",n,!0)}(...e)))}catch(t){throw la(t,"endAt()","Query.endAt()")}}isEqual(e){return Sm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function pD(n){n=Ai(n,Zi);const e=Ai(n.firestore,pr),t=jr(e),i=new Dl(e);return function IE(n,e){const t=new so;return n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return(i=(0,Bt.Z)(function*(c,l,f){try{const g=yield Gd(c,l,!0),E=new aS(l,g.ls),N=E.ca(g.documents),U=E.applyChanges(N,!1);f.resolve(U.snapshot)}catch(g){const E=Zd(g,`Failed to execute query '${l} against cache`);f.reject(E)}}),function o(c,l,f){return i.apply(this,arguments)})(yield nh(n),e,t);var i})),t.promise}(t,n._query).then(o=>new kc(e,i,n,o))}(this._delegate):"server"===e?.source?function GS(n){n=Ai(n,Zi);const e=Ai(n.firestore,pr),t=jr(e),i=new Dl(e);return CE(t,n._query,{source:"server"}).then(o=>new kc(e,i,n,o))}(this._delegate):function fD(n){n=Ai(n,Zi);const e=Ai(n.firestore,pr),t=jr(e),i=new Dl(e);return HE(n._query),CE(t,n._query).then(o=>new kc(e,i,n,o))}(this._delegate),t.then(i=>new YP(this.firestore,new kc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=pF(e),i=mF(e,o=>new YP(this.firestore,new kc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return KE(this._delegate,t,i)}withConverter(e){return new ua(this.firestore,this._delegate.withConverter(e?qm.getInstance(this.firestore,e):null))}}class w3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Fw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ua(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Fw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new w3(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Fw(this._firestore,i))})}isEqual(e){return dD(this._delegate,e._delegate)}}class Zv extends ua{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fc(this.firestore,e):null}doc(e){try{return new Fc(this.firestore,void 0===e?OE(this._delegate):OE(this._delegate,e))}catch(t){throw la(t,"doc()","CollectionReference.doc()")}}add(e){return function Su(n,e){const t=Ai(n.firestore,pr),i=OE(n),o=Pv(n.converter,e);return Ru(t,[Pm(Du(n.firestore),"addDoc",i._key,o,null!==n.converter,{}).toMutation(i._key,Ur.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Fc(this.firestore,t))}isEqual(e){return kE(this._delegate,e._delegate)}withConverter(e){return new Zv(this.firestore,this._delegate.withConverter(e?qm.getInstance(this.firestore,e):null))}}function Zm(n){return Ai(n,tr)}class qP{constructor(...e){this._delegate=new Ya(...e)}static documentId(){return new qP(_r.keyField().canonicalString())}isEqual(e){return(e=(0,gt.m9)(e))instanceof Ya&&this._delegate._internalPath.isEqual(e._internalPath)}}class Qm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ED(){return new Ev("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Qm(e)}static delete(){const e=function Ov(){return new Om("deleteField")}();return e._methodName="FieldValue.delete",new Qm(e)}static arrayUnion(...e){const t=function wD(...n){return new NS("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Qm(t)}static arrayRemove(...e){const t=function eR(...n){return new iD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Qm(t)}static increment(e){const t=function tR(n){return new rD("increment",n)}(e);return t._methodName="FieldValue.increment",new Qm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const I3={Firestore:dF,GeoPoint:LE,Timestamp:Br,Blob:kw,Transaction:hF,WriteBatch:fF,DocumentReference:Fc,DocumentSnapshot:Nw,Query:ua,QueryDocumentSnapshot:Fw,QuerySnapshot:YP,CollectionReference:Zv,FieldPath:qP,FieldValue:Qm,setLogLevel:function E3(n){!function tO(n){dl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function gF(n,e){return function D3(n,e=Ce.z){return new ts.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function ZP(n,e){return gF(n,e).pipe((0,De.U)(t=>({payload:t,type:"query"})))}!function x3(n){(function C3(n,e){n.INTERNAL.registerComponent(new Ql.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(i,o)},"PUBLIC").setServiceProps(Object.assign({},I3)))})(n,(e,t)=>new dF(e,t,new b3)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(BD.Z);class _F{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:o,query:c}=EF(i,t);return new bF(o,c,this.afs)}snapshotChanges(){return function T3(n,e){return gF(n,e).pipe((0,ye.O)(void 0),Zt(),(0,De.U)(t=>{const[i,o]=t;return o.exists?i?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wo)}valueChanges(e={}){return this.snapshotChanges().pipe((0,De.U)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,qv.D)(this.ref.get(e)).pipe(wo)}}function CT(n,e){return ZP(n,e).pipe((0,ye.O)(void 0),Zt(),(0,De.U)(t=>{const[i,o]=t,c=o.payload.docChanges(),l=c.map(f=>({type:f.type,payload:f}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((f,g)=>{const E=c.find(U=>U.doc.ref.isEqual(f.ref)),N=i?.payload.docs.find(U=>U.ref.isEqual(f.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(f.metadata)||!E&&N&&JSON.stringify(N.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:f}})}),l}))}function vF(n,e,t){return CT(n,t).pipe((0,WP.R)((i,o)=>function A3(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function S3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return QP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return QP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return QP(n,e.oldIndex,1)}return n}(n,i))}),n}(i,o.map(c=>c.payload),e),[]),(0,Ct.x)(),(0,De.U)(i=>i.map(o=>({type:o.type,payload:o}))))}function QP(n,e,t,...i){const o=n.slice();return o.splice(e,t,...i),o}function yF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class bF{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=CT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,De.U)(i=>i.filter(o=>e.indexOf(o.type)>-1)))),t.pipe((0,ye.O)(void 0),Zt(),(0,Te.h)(([i,o])=>o.length>0||!i),(0,De.U)(([,i])=>i),wo)}auditTrail(e){return this.stateChanges(e).pipe((0,WP.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=yF(e);return vF(this.query,t,this.afs.schedulers.outsideAngular).pipe(wo)}valueChanges(e={}){return ZP(this.query,this.afs.schedulers.outsideAngular).pipe((0,De.U)(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),wo)}get(e){return(0,qv.D)(this.query.get(e)).pipe(wo)}add(e){return this.ref.add(e)}doc(e){return new _F(this.ref.doc(e),this.afs)}}class R3{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CT(this.query,this.afs.schedulers.outsideAngular).pipe((0,De.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Te.h)(t=>t.length>0),wo):CT(this.query,this.afs.schedulers.outsideAngular).pipe(wo)}auditTrail(e){return this.stateChanges(e).pipe((0,WP.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=yF(e);return vF(this.query,t,this.afs.schedulers.outsideAngular).pipe(wo)}valueChanges(e={}){return ZP(this.query,this.afs.schedulers.outsideAngular).pipe((0,De.U)(i=>i.payload.docs.map(o=>e.idField?{[e.idField]:o.id,...o.data()}:o.data())),wo)}get(e){return(0,qv.D)(this.query.get(e)).pipe(wo)}}const M3=new v.OlP("angularfire2.enableFirestorePersistence"),P3=new v.OlP("angularfire2.firestore.persistenceSettings"),O3=new v.OlP("angularfire2.firestore.settings"),k3=new v.OlP("angularfire2.firestore.use-emulator");function EF(n,e=(t=>t)){return{query:e(n),ref:n}}let N3=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,o,c,l,f,g,E,N,U,ee,Pe,at,wt,Ht,En,In){this.schedulers=g;const vn=xM(t,f,i),zn=N;U&&aF(vn,f,ee,at,wt,Ht,Pe,En),[this.firestore,this.persistenceEnabled$]=Fk(`${vn.name}.firestore`,"AngularFirestore",vn.name,()=>{const pi=f.runOutsideAngular(()=>vn.firestore());if(c&&pi.settings(c),zn&&pi.useEmulator(...zn),o&&!(0,Se.PM)(l)){const wi=()=>{try{return(0,qv.D)(pi.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Wi){return typeof console<"u"&&console.warn(Wi),(0,xe.of)(!1)}};return[pi,f.runOutsideAngular(wi)]}return[pi,(0,xe.of)(!1)]},[c,zn,o])}collection(t,i){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:l}=EF(o,i),f=this.schedulers.ngZone.run(()=>c);return new bF(f,l,this)}collectionGroup(t,i){const o=i||(l=>l),c=this.firestore.collectionGroup(t);return new R3(o(c),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>i);return new _F(o,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(v.LFG(UD),v.LFG(CM,8),v.LFG(M3,8),v.LFG(O3,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(pc),v.LFG(P3,8),v.LFG(k3,8),v.LFG(cF,8),v.LFG(tF,8),v.LFG(nF,8),v.LFG(iF,8),v.LFG(rF,8),v.LFG(oF,8),v.LFG(sF,8),v.LFG(Zu,8))};static \u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),F3=(()=>{class n{constructor(t,i){this.fbs=t,this.loaderService=i}getMessages(){return this.loaderService.showLoader(),this.fbs.collection("messages").snapshotChanges().pipe((0,De.U)(t=>t.map(i=>{const o=i.payload.doc.data();return o.id=i.payload.doc.id,{...o}},this.loaderService.hideLoader())),(0,aw.K)(t=>(console.error("An error occurred:",t),(0,Vk._)("Something went wrong"))))}createMessage(t){return this.loaderService.showLoader(),new ts.y(i=>{this.loaderService.showLoader(),this.fbs.collection("messages").add({name:t.name,text:t.text,date:(new Date).toString()}).then(()=>{i.next(!0),i.complete()}).catch(o=>{console.error("Error adding document: ",o),i.next(!1),i.complete()})})}deleteMessage(t){return this.loaderService.showLoader(),new ts.y(i=>{this.loaderService.showLoader(),this.fbs.collection("messages").doc(t).delete().then(()=>{i.next(!0),i.complete(),this.loaderService.hideLoader()}).catch(o=>{console.error("Error deleting document: ",o),i.next(!1),i.complete(),this.loaderService.hideLoader()})})}static#e=this.\u0275fac=function(i){return new(i||n)(v.LFG(N3),v.LFG(he))};static#t=this.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),L3=(()=>{class n{constructor(t,i){this.actions$=t,this.firebaseService=i,this.getMessages$=DM(()=>this.actions$.pipe(SM(cs._U),(0,cn.z)(()=>this.firebaseService.getMessages().pipe((0,De.U)(o=>cs.wf({messagesResponse:o})),(0,aw.K)(()=>(0,xe.of)(cs.xh({error:"Messages loading failed"}))))))),this.createMessage$=DM(()=>this.actions$.pipe(SM(cs.tn),(0,cn.z)(({message:o})=>this.firebaseService.createMessage(o).pipe((0,De.U)(c=>cs.o2({resultText:"Message was sent!"})),(0,aw.K)(()=>(0,xe.of)(cs.kb({error:"Message was not sent, try again"}))))))),this.deleteMessage$=DM(()=>this.actions$.pipe(SM(cs.$Z),(0,cn.z)(({messageId:o})=>this.firebaseService.deleteMessage(o).pipe((0,De.U)(c=>cs.iL({resultText:"Message was removed"})),(0,aw.K)(()=>(0,xe.of)(cs.cc({error:"Delete failed"})))))))}static#e=this.\u0275fac=function(i){return new(i||n)(v.LFG(CV),v.LFG(F3))};static#t=this.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac})}return n})();const B3=(0,$o.Lq)({messages:[],resultText:null,error:null},(0,$o.on)(cs._U,n=>({...n})),(0,$o.on)(cs.wf,(n,{messagesResponse:e})=>({...n,messages:e})),(0,$o.on)(cs.xh,(n,{error:e})=>({...n,messages:[],error:e})),(0,$o.on)(cs.tn,(n,{message:e})=>({...n,messages:[...n.messages,e]})),(0,$o.on)(cs.o2,(n,{resultText:e})=>({...n,resultText:e})),(0,$o.on)(cs.kb,(n,{error:e})=>({...n,error:e,resultText:null})),(0,$o.on)(cs.$Z,(n,{messageId:e})=>{const t=[...n.messages],i=t.findIndex(c=>c.id===e);return t.splice(i,1),{...n,messages:t}}),(0,$o.on)(cs.iL,(n,{resultText:e})=>({...n,resultText:e})),(0,$o.on)(cs.cc,(n,{error:e})=>({...n,error:e,resultText:null})));let U3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=v.oAB({type:n,bootstrap:[ot]});static#n=this.\u0275inj=v.cJS({providers:[kk,{provide:UD,useValue:$P},{provide:Es,useValue:{color:"accent"}},{provide:O.o2,useValue:{appearance:"outline"}}],imports:[u.b2,ge,lc,uc.UX,$o.Aw.forRoot({messages:B3}),UV.forRoot([L3]),fV.FT.instrument({}),Z.ot,oe.Ps,Wn,Ee,O.lN,k,uc.u5,og,Zc.c,pn,sg.JX,Jv.p0,ag.LD,vh.TU,j.Is,I.ZX,Uw,XE,hV.JF,fg(()=>_p($P)),iV(()=>p3),JE(()=>bR()),d3(()=>h3())]})}return n})();u.q6().bootstrapModule(U3).catch(n=>console.error(n))},5619:(Qe,ue,b)=>{b.d(ue,{X:()=>A});var u=b(8645);class A extends u.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const te=super._subscribe(v);return!te.closed&&v.next(this._value),te}getValue(){const{hasError:v,thrownError:te,_value:fe}=this;if(v)throw te;return this._throwIfClosed(),fe}next(v){super.next(this._value=v)}}},5592:(Qe,ue,b)=>{b.d(ue,{y:()=>Z});var u=b(305),A=b(7394),S=b(4850),v=b(8407),te=b(2653),fe=b(4674),ge=b(1441);let Z=(()=>{class pe{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Ne=new pe;return Ne.source=this,Ne.operator=Ie,Ne}subscribe(Ie,Ne,xe){const me=function ne(pe){return pe&&pe instanceof u.Lv||function q(pe){return pe&&(0,fe.m)(pe.next)&&(0,fe.m)(pe.error)&&(0,fe.m)(pe.complete)}(pe)&&(0,A.Nn)(pe)}(Ie)?Ie:new u.Hp(Ie,Ne,xe);return(0,ge.x)(()=>{const{operator:ye,source:lt}=this;me.add(ye?ye.call(me,lt):lt?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Ne){Ie.error(Ne)}}forEach(Ie,Ne){return new(Ne=oe(Ne))((xe,me)=>{const ye=new u.Hp({next:lt=>{try{Ie(lt)}catch(st){me(st),ye.unsubscribe()}},error:me,complete:xe});this.subscribe(ye)})}_subscribe(Ie){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(Ie)}[S.L](){return this}pipe(...Ie){return(0,v.U)(Ie)(this)}toPromise(Ie){return new(Ie=oe(Ie))((Ne,xe)=>{let me;this.subscribe(ye=>me=ye,ye=>xe(ye),()=>Ne(me))})}}return pe.create=Me=>new pe(Me),pe})();function oe(pe){var Me;return null!==(Me=pe??te.config.Promise)&&void 0!==Me?Me:Promise}},7328:(Qe,ue,b)=>{b.d(ue,{t:()=>S});var u=b(8645),A=b(4552);class S extends u.x{constructor(te=1/0,fe=1/0,ge=A.l){super(),this._bufferSize=te,this._windowTime=fe,this._timestampProvider=ge,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=fe===1/0,this._bufferSize=Math.max(1,te),this._windowTime=Math.max(1,fe)}next(te){const{isStopped:fe,_buffer:ge,_infiniteTimeWindow:Z,_timestampProvider:oe,_windowTime:q}=this;fe||(ge.push(te),!Z&&ge.push(oe.now()+q)),this._trimBuffer(),super.next(te)}_subscribe(te){this._throwIfClosed(),this._trimBuffer();const fe=this._innerSubscribe(te),{_infiniteTimeWindow:ge,_buffer:Z}=this,oe=Z.slice();for(let q=0;q<oe.length&&!te.closed;q+=ge?1:2)te.next(oe[q]);return this._checkFinalizedStatuses(te),fe}_trimBuffer(){const{_bufferSize:te,_timestampProvider:fe,_buffer:ge,_infiniteTimeWindow:Z}=this,oe=(Z?1:2)*te;if(te<1/0&&oe<ge.length&&ge.splice(0,ge.length-oe),!Z){const q=fe.now();let ne=0;for(let pe=1;pe<ge.length&&ge[pe]<=q;pe+=2)ne=pe;ne&&ge.splice(0,ne+1)}}}},8645:(Qe,ue,b)=>{b.d(ue,{x:()=>ge});var u=b(5592),A=b(7394);const v=(0,b(2306).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=b(9039),fe=b(1441);let ge=(()=>{class oe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const pe=new Z(this,this);return pe.operator=ne,pe}_throwIfClosed(){if(this.closed)throw new v}next(ne){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(ne)}})}error(ne){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:pe}=this;for(;pe.length;)pe.shift().error(ne)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:pe,isStopped:Me,observers:Ie}=this;return pe||Me?A.Lc:(this.currentObservers=null,Ie.push(ne),new A.w0(()=>{this.currentObservers=null,(0,te.P)(Ie,ne)}))}_checkFinalizedStatuses(ne){const{hasError:pe,thrownError:Me,isStopped:Ie}=this;pe?ne.error(Me):Ie&&ne.complete()}asObservable(){const ne=new u.y;return ne.source=this,ne}}return oe.create=(q,ne)=>new Z(q,ne),oe})();class Z extends ge{constructor(q,ne){super(),this.destination=q,this.source=ne}next(q){var ne,pe;null===(pe=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===pe||pe.call(ne,q)}error(q){var ne,pe;null===(pe=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===pe||pe.call(ne,q)}complete(){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===ne||ne.call(q)}_subscribe(q){var ne,pe;return null!==(pe=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(q))&&void 0!==pe?pe:A.Lc}}},305:(Qe,ue,b)=>{b.d(ue,{Hp:()=>xe,Lv:()=>pe});var u=b(4674),A=b(7394),S=b(2653),v=b(3894),te=b(2420);const fe=oe("C",void 0,void 0);function oe(se,Te,Ce){return{kind:se,value:Te,error:Ce}}var q=b(7599),ne=b(1441);class pe extends A.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,A.Nn)(Te)&&Te.add(this)):this.destination=st}static create(Te,Ce,qe){return new xe(Te,Ce,qe)}next(Te){this.isStopped?lt(function Z(se){return oe("N",se,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?lt(function ge(se){return oe("E",void 0,se)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?lt(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function Ie(se,Te){return Me.call(se,Te)}class Ne{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Te)}catch(qe){me(qe)}}error(Te){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Te)}catch(qe){me(qe)}else me(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Ce){me(Ce)}}}class xe extends pe{constructor(Te,Ce,qe){let Ze;if(super(),(0,u.m)(Te)||!Te)Ze={next:Te??void 0,error:Ce??void 0,complete:qe??void 0};else{let Oe;this&&S.config.useDeprecatedNextContext?(Oe=Object.create(Te),Oe.unsubscribe=()=>this.unsubscribe(),Ze={next:Te.next&&Ie(Te.next,Oe),error:Te.error&&Ie(Te.error,Oe),complete:Te.complete&&Ie(Te.complete,Oe)}):Ze=Te}this.destination=new Ne(Ze)}}function me(se){S.config.useDeprecatedSynchronousErrorHandling?(0,ne.O)(se):(0,v.h)(se)}function lt(se,Te){const{onStoppedNotification:Ce}=S.config;Ce&&q.z.setTimeout(()=>Ce(se,Te))}const st={closed:!0,next:te.Z,error:function ye(se){throw se},complete:te.Z}},7394:(Qe,ue,b)=>{b.d(ue,{Lc:()=>fe,w0:()=>te,Nn:()=>ge});var u=b(4674);const S=(0,b(2306).d)(oe=>function(ne){oe(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((pe,Me)=>`${Me+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var v=b(9039);class te{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ie of ne)Ie.remove(this);else ne.remove(this);const{initialTeardown:pe}=this;if((0,u.m)(pe))try{pe()}catch(Ie){q=Ie instanceof S?Ie.errors:[Ie]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const Ie of Me)try{Z(Ie)}catch(Ne){q=q??[],Ne instanceof S?q=[...q,...Ne.errors]:q.push(Ne)}}if(q)throw new S(q)}}add(q){var ne;if(q&&q!==this)if(this.closed)Z(q);else{if(q instanceof te){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(q)}}_hasParent(q){const{_parentage:ne}=this;return ne===q||Array.isArray(ne)&&ne.includes(q)}_addParent(q){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(q),ne):ne?[ne,q]:q}_removeParent(q){const{_parentage:ne}=this;ne===q?this._parentage=null:Array.isArray(ne)&&(0,v.P)(ne,q)}remove(q){const{_finalizers:ne}=this;ne&&(0,v.P)(ne,q),q instanceof te&&q._removeParent(this)}}te.EMPTY=(()=>{const oe=new te;return oe.closed=!0,oe})();const fe=te.EMPTY;function ge(oe){return oe instanceof te||oe&&"closed"in oe&&(0,u.m)(oe.remove)&&(0,u.m)(oe.add)&&(0,u.m)(oe.unsubscribe)}function Z(oe){(0,u.m)(oe)?oe():oe.unsubscribe()}},2653:(Qe,ue,b)=>{b.d(ue,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Qe,ue,b)=>{b.d(ue,{c:()=>fe});var u=b(5592),A=b(7394),S=b(6196),v=b(8251),te=b(9360);class fe extends u.y{constructor(Z,oe){super(),this.source=Z,this.subjectFactory=oe,this._subject=null,this._refCount=0,this._connection=null,(0,te.A)(Z)&&(this.lift=Z.lift)}_subscribe(Z){return this.getSubject().subscribe(Z)}getSubject(){const Z=this._subject;return(!Z||Z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Z}=this;this._subject=this._connection=null,Z?.unsubscribe()}connect(){let Z=this._connection;if(!Z){Z=this._connection=new A.w0;const oe=this.getSubject();Z.add(this.source.subscribe((0,v.x)(oe,void 0,()=>{this._teardown(),oe.complete()},q=>{this._teardown(),oe.error(q)},()=>this._teardown()))),Z.closed&&(this._connection=null,Z=A.w0.EMPTY)}return Z}refCount(){return(0,S.x)()(this)}}},2572:(Qe,ue,b)=>{b.d(ue,{a:()=>q});var u=b(5592),A=b(7453),S=b(2459),v=b(2737),te=b(7400),fe=b(9940),ge=b(2714),Z=b(8251),oe=b(7103);function q(...Me){const Ie=(0,fe.yG)(Me),Ne=(0,fe.jO)(Me),{args:xe,keys:me}=(0,A.D)(Me);if(0===xe.length)return(0,S.D)([],Ie);const ye=new u.y(function ne(Me,Ie,Ne=v.y){return xe=>{pe(Ie,()=>{const{length:me}=Me,ye=new Array(me);let lt=me,st=me;for(let se=0;se<me;se++)pe(Ie,()=>{const Te=(0,S.D)(Me[se],Ie);let Ce=!1;Te.subscribe((0,Z.x)(xe,qe=>{ye[se]=qe,Ce||(Ce=!0,st--),st||xe.next(Ne(ye.slice()))},()=>{--lt||xe.complete()}))},xe)},xe)}}(xe,Ie,me?lt=>(0,ge.n)(me,lt):v.y));return Ne?ye.pipe((0,te.Z)(Ne)):ye}function pe(Me,Ie,Ne){Me?(0,oe.f)(Ne,Me,Ie):Ie()}},5211:(Qe,ue,b)=>{b.d(ue,{z:()=>te});var u=b(7537),S=b(9940),v=b(2459);function te(...fe){return function A(){return(0,u.J)(1)}()((0,v.D)(fe,(0,S.yG)(fe)))}},4911:(Qe,ue,b)=>{b.d(ue,{P:()=>S});var u=b(5592),A=b(4829);function S(v){return new u.y(te=>{(0,A.Xf)(v()).subscribe(te)})}},6232:(Qe,ue,b)=>{b.d(ue,{E:()=>A});const A=new(b(5592).y)(te=>te.complete())},9315:(Qe,ue,b)=>{b.d(ue,{D:()=>Z});var u=b(5592),A=b(7453),S=b(4829),v=b(9940),te=b(8251),fe=b(7400),ge=b(2714);function Z(...oe){const q=(0,v.jO)(oe),{args:ne,keys:pe}=(0,A.D)(oe),Me=new u.y(Ie=>{const{length:Ne}=ne;if(!Ne)return void Ie.complete();const xe=new Array(Ne);let me=Ne,ye=Ne;for(let lt=0;lt<Ne;lt++){let st=!1;(0,S.Xf)(ne[lt]).subscribe((0,te.x)(Ie,se=>{st||(st=!0,ye--),xe[lt]=se},()=>me--,void 0,()=>{(!me||!st)&&(ye||Ie.next(pe?(0,ge.n)(pe,xe):xe),Ie.complete())}))}});return q?Me.pipe((0,fe.Z)(q)):Me}},2459:(Qe,ue,b)=>{b.d(ue,{D:()=>Te});var u=b(4829),A=b(3093),S=b(5137),fe=b(5592),Z=b(4971),oe=b(4674),q=b(7103);function pe(Ce,qe){if(!Ce)throw new Error("Iterable cannot be null");return new fe.y(Ze=>{(0,q.f)(Ze,qe,()=>{const Oe=Ce[Symbol.asyncIterator]();(0,q.f)(Ze,qe,()=>{Oe.next().then(zt=>{zt.done?Ze.complete():Ze.next(zt.value)})},0,!0)})})}var Me=b(8382),Ie=b(4026),Ne=b(4266),xe=b(3664),me=b(5726),ye=b(9853),lt=b(541);function Te(Ce,qe){return qe?function se(Ce,qe){if(null!=Ce){if((0,Me.c)(Ce))return function v(Ce,qe){return(0,u.Xf)(Ce).pipe((0,S.R)(qe),(0,A.Q)(qe))}(Ce,qe);if((0,Ne.z)(Ce))return function ge(Ce,qe){return new fe.y(Ze=>{let Oe=0;return qe.schedule(function(){Oe===Ce.length?Ze.complete():(Ze.next(Ce[Oe++]),Ze.closed||this.schedule())})})}(Ce,qe);if((0,Ie.t)(Ce))return function te(Ce,qe){return(0,u.Xf)(Ce).pipe((0,S.R)(qe),(0,A.Q)(qe))}(Ce,qe);if((0,me.D)(Ce))return pe(Ce,qe);if((0,xe.T)(Ce))return function ne(Ce,qe){return new fe.y(Ze=>{let Oe;return(0,q.f)(Ze,qe,()=>{Oe=Ce[Z.h](),(0,q.f)(Ze,qe,()=>{let zt,Qt;try{({value:zt,done:Qt}=Oe.next())}catch(Vt){return void Ze.error(Vt)}Qt?Ze.complete():Ze.next(zt)},0,!0)}),()=>(0,oe.m)(Oe?.return)&&Oe.return()})}(Ce,qe);if((0,lt.L)(Ce))return function st(Ce,qe){return pe((0,lt.Q)(Ce),qe)}(Ce,qe)}throw(0,ye.z)(Ce)}(Ce,qe):(0,u.Xf)(Ce)}},2438:(Qe,ue,b)=>{b.d(ue,{R:()=>q});var u=b(4829),A=b(5592),S=b(1631),v=b(4266),te=b(4674),fe=b(7400);const ge=["addListener","removeListener"],Z=["addEventListener","removeEventListener"],oe=["on","off"];function q(Ne,xe,me,ye){if((0,te.m)(me)&&(ye=me,me=void 0),ye)return q(Ne,xe,me).pipe((0,fe.Z)(ye));const[lt,st]=function Ie(Ne){return(0,te.m)(Ne.addEventListener)&&(0,te.m)(Ne.removeEventListener)}(Ne)?Z.map(se=>Te=>Ne[se](xe,Te,me)):function pe(Ne){return(0,te.m)(Ne.addListener)&&(0,te.m)(Ne.removeListener)}(Ne)?ge.map(ne(Ne,xe)):function Me(Ne){return(0,te.m)(Ne.on)&&(0,te.m)(Ne.off)}(Ne)?oe.map(ne(Ne,xe)):[];if(!lt&&(0,v.z)(Ne))return(0,S.z)(se=>q(se,xe,me))((0,u.Xf)(Ne));if(!lt)throw new TypeError("Invalid event target");return new A.y(se=>{const Te=(...Ce)=>se.next(1<Ce.length?Ce:Ce[0]);return lt(Te),()=>st(Te)})}function ne(Ne,xe){return me=>ye=>Ne[me](xe,ye)}},4829:(Qe,ue,b)=>{b.d(ue,{Xf:()=>Me});var u=b(7582),A=b(4266),S=b(4026),v=b(5592),te=b(8382),fe=b(5726),ge=b(9853),Z=b(3664),oe=b(541),q=b(4674),ne=b(3894),pe=b(4850);function Me(se){if(se instanceof v.y)return se;if(null!=se){if((0,te.c)(se))return function Ie(se){return new v.y(Te=>{const Ce=se[pe.L]();if((0,q.m)(Ce.subscribe))return Ce.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,A.z)(se))return function Ne(se){return new v.y(Te=>{for(let Ce=0;Ce<se.length&&!Te.closed;Ce++)Te.next(se[Ce]);Te.complete()})}(se);if((0,S.t)(se))return function xe(se){return new v.y(Te=>{se.then(Ce=>{Te.closed||(Te.next(Ce),Te.complete())},Ce=>Te.error(Ce)).then(null,ne.h)})}(se);if((0,fe.D)(se))return ye(se);if((0,Z.T)(se))return function me(se){return new v.y(Te=>{for(const Ce of se)if(Te.next(Ce),Te.closed)return;Te.complete()})}(se);if((0,oe.L)(se))return function lt(se){return ye((0,oe.Q)(se))}(se)}throw(0,ge.z)(se)}function ye(se){return new v.y(Te=>{(function st(se,Te){var Ce,qe,Ze,Oe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,u.KL)(se);!(qe=yield Ce.next()).done;)if(Te.next(qe.value),Te.closed)return}catch(zt){Ze={error:zt}}finally{try{qe&&!qe.done&&(Oe=Ce.return)&&(yield Oe.call(Ce))}finally{if(Ze)throw Ze.error}}Te.complete()})})(se,Te).catch(Ce=>Te.error(Ce))})}},3019:(Qe,ue,b)=>{b.d(ue,{T:()=>fe});var u=b(7537),A=b(4829),S=b(6232),v=b(9940),te=b(2459);function fe(...ge){const Z=(0,v.yG)(ge),oe=(0,v._6)(ge,1/0),q=ge;return q.length?1===q.length?(0,A.Xf)(q[0]):(0,u.J)(oe)((0,te.D)(q,Z)):S.E}},2096:(Qe,ue,b)=>{b.d(ue,{of:()=>S});var u=b(9940),A=b(2459);function S(...v){const te=(0,u.yG)(v);return(0,A.D)(v,te)}},8504:(Qe,ue,b)=>{b.d(ue,{_:()=>S});var u=b(5592),A=b(4674);function S(v,te){const fe=(0,A.m)(v)?v:()=>v,ge=Z=>Z.error(fe());return new u.y(te?Z=>te.schedule(ge,0,Z):ge)}},9080:(Qe,ue,b)=>{b.d(ue,{H:()=>te});var u=b(5592),A=b(6321),S=b(671),v=b(93);function te(fe=0,ge,Z=A.P){let oe=-1;return null!=ge&&((0,S.K)(ge)?Z=ge:oe=ge),new u.y(q=>{let ne=(0,v.q)(fe)?+fe-Z.now():fe;ne<0&&(ne=0);let pe=0;return Z.schedule(function(){q.closed||(q.next(pe++),0<=oe?this.schedule(void 0,oe):q.complete())},ne)})}},8251:(Qe,ue,b)=>{b.d(ue,{Q:()=>S,x:()=>A});var u=b(305);function A(v,te,fe,ge,Z){return new S(v,te,fe,ge,Z)}class S extends u.Lv{constructor(te,fe,ge,Z,oe,q){super(te),this.onFinalize=oe,this.shouldUnsubscribe=q,this._next=fe?function(ne){try{fe(ne)}catch(pe){te.error(pe)}}:super._next,this._error=Z?function(ne){try{Z(ne)}catch(pe){te.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(ne){te.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},9028:(Qe,ue,b)=>{b.d(ue,{e:()=>ge});var u=b(6321),A=b(9360),S=b(4829),v=b(8251),fe=b(9080);function ge(Z,oe=u.z){return function te(Z){return(0,A.e)((oe,q)=>{let ne=!1,pe=null,Me=null,Ie=!1;const Ne=()=>{if(Me?.unsubscribe(),Me=null,ne){ne=!1;const me=pe;pe=null,q.next(me)}Ie&&q.complete()},xe=()=>{Me=null,Ie&&q.complete()};oe.subscribe((0,v.x)(q,me=>{ne=!0,pe=me,Me||(0,S.Xf)(Z(me)).subscribe(Me=(0,v.x)(q,Ne,xe))},()=>{Ie=!0,(!ne||!Me||Me.closed)&&q.complete()}))})}(()=>(0,fe.H)(Z,oe))}},6306:(Qe,ue,b)=>{b.d(ue,{K:()=>v});var u=b(4829),A=b(8251),S=b(9360);function v(te){return(0,S.e)((fe,ge)=>{let q,Z=null,oe=!1;Z=fe.subscribe((0,A.x)(ge,void 0,void 0,ne=>{q=(0,u.Xf)(te(ne,v(te)(fe))),Z?(Z.unsubscribe(),Z=null,q.subscribe(ge)):oe=!0})),oe&&(Z.unsubscribe(),Z=null,q.subscribe(ge))})}},6328:(Qe,ue,b)=>{b.d(ue,{b:()=>S});var u=b(1631),A=b(4674);function S(v,te){return(0,A.m)(te)?(0,u.z)(v,te,1):(0,u.z)(v,1)}},3620:(Qe,ue,b)=>{b.d(ue,{b:()=>v});var u=b(6321),A=b(9360),S=b(8251);function v(te,fe=u.z){return(0,A.e)((ge,Z)=>{let oe=null,q=null,ne=null;const pe=()=>{if(oe){oe.unsubscribe(),oe=null;const Ie=q;q=null,Z.next(Ie)}};function Me(){const Ie=ne+te,Ne=fe.now();if(Ne<Ie)return oe=this.schedule(void 0,Ie-Ne),void Z.add(oe);pe()}ge.subscribe((0,S.x)(Z,Ie=>{q=Ie,ne=fe.now(),oe||(oe=fe.schedule(Me,te),Z.add(oe))},()=>{pe(),Z.complete()},void 0,()=>{q=oe=null}))})}},3572:(Qe,ue,b)=>{b.d(ue,{d:()=>S});var u=b(9360),A=b(8251);function S(v){return(0,u.e)((te,fe)=>{let ge=!1;te.subscribe((0,A.x)(fe,Z=>{ge=!0,fe.next(Z)},()=>{ge||fe.next(v),fe.complete()}))})}},3997:(Qe,ue,b)=>{b.d(ue,{x:()=>v});var u=b(2737),A=b(9360),S=b(8251);function v(fe,ge=u.y){return fe=fe??te,(0,A.e)((Z,oe)=>{let q,ne=!0;Z.subscribe((0,S.x)(oe,pe=>{const Me=ge(pe);(ne||!fe(q,Me))&&(ne=!1,q=Me,oe.next(pe))}))})}function te(fe,ge){return fe===ge}},2181:(Qe,ue,b)=>{b.d(ue,{h:()=>S});var u=b(9360),A=b(8251);function S(v,te){return(0,u.e)((fe,ge)=>{let Z=0;fe.subscribe((0,A.x)(ge,oe=>v.call(te,oe,Z++)&&ge.next(oe)))})}},4716:(Qe,ue,b)=>{b.d(ue,{x:()=>A});var u=b(9360);function A(S){return(0,u.e)((v,te)=>{try{v.subscribe(te)}finally{te.add(S)}})}},1374:(Qe,ue,b)=>{b.d(ue,{P:()=>ge});var u=b(6973),A=b(2181),S=b(8180),v=b(3572),te=b(3026),fe=b(2737);function ge(Z,oe){const q=arguments.length>=2;return ne=>ne.pipe(Z?(0,A.h)((pe,Me)=>Z(pe,Me,ne)):fe.y,(0,S.q)(1),q?(0,v.d)(oe):(0,te.T)(()=>new u.K))}},7398:(Qe,ue,b)=>{b.d(ue,{U:()=>S});var u=b(9360),A=b(8251);function S(v,te){return(0,u.e)((fe,ge)=>{let Z=0;fe.subscribe((0,A.x)(ge,oe=>{ge.next(v.call(te,oe,Z++))}))})}},975:(Qe,ue,b)=>{b.d(ue,{h:()=>A});var u=b(7398);function A(S){return(0,u.U)(()=>S)}},7537:(Qe,ue,b)=>{b.d(ue,{J:()=>S});var u=b(1631),A=b(2737);function S(v=1/0){return(0,u.z)(A.y,v)}},1631:(Qe,ue,b)=>{b.d(ue,{z:()=>Z});var u=b(7398),A=b(4829),S=b(9360),v=b(7103),te=b(8251),ge=b(4674);function Z(oe,q,ne=1/0){return(0,ge.m)(q)?Z((pe,Me)=>(0,u.U)((Ie,Ne)=>q(pe,Ie,Me,Ne))((0,A.Xf)(oe(pe,Me))),ne):("number"==typeof q&&(ne=q),(0,S.e)((pe,Me)=>function fe(oe,q,ne,pe,Me,Ie,Ne,xe){const me=[];let ye=0,lt=0,st=!1;const se=()=>{st&&!me.length&&!ye&&q.complete()},Te=qe=>ye<pe?Ce(qe):me.push(qe),Ce=qe=>{Ie&&q.next(qe),ye++;let Ze=!1;(0,A.Xf)(ne(qe,lt++)).subscribe((0,te.x)(q,Oe=>{Me?.(Oe),Ie?Te(Oe):q.next(Oe)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(ye--;me.length&&ye<pe;){const Oe=me.shift();Ne?(0,v.f)(q,Ne,()=>Ce(Oe)):Ce(Oe)}se()}catch(Oe){q.error(Oe)}}))};return oe.subscribe((0,te.x)(q,Te,()=>{st=!0,se()})),()=>{xe?.()}}(pe,Me,oe,ne)))}},3093:(Qe,ue,b)=>{b.d(ue,{Q:()=>v});var u=b(7103),A=b(9360),S=b(8251);function v(te,fe=0){return(0,A.e)((ge,Z)=>{ge.subscribe((0,S.x)(Z,oe=>(0,u.f)(Z,te,()=>Z.next(oe),fe),()=>(0,u.f)(Z,te,()=>Z.complete(),fe),oe=>(0,u.f)(Z,te,()=>Z.error(oe),fe)))})}},6196:(Qe,ue,b)=>{b.d(ue,{x:()=>S});var u=b(9360),A=b(8251);function S(){return(0,u.e)((v,te)=>{let fe=null;v._refCount++;const ge=(0,A.x)(te,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(fe=null);const Z=v._connection,oe=fe;fe=null,Z&&(!oe||Z===oe)&&Z.unsubscribe(),te.unsubscribe()});v.subscribe(ge),ge.closed||(fe=v.connect())})}},6699:(Qe,ue,b)=>{b.d(ue,{R:()=>v});var u=b(9360),A=b(8251);function v(te,fe){return(0,u.e)(function S(te,fe,ge,Z,oe){return(q,ne)=>{let pe=ge,Me=fe,Ie=0;q.subscribe((0,A.x)(ne,Ne=>{const xe=Ie++;Me=pe?te(Me,Ne,xe):(pe=!0,Ne),Z&&ne.next(Me)},oe&&(()=>{pe&&ne.next(Me),ne.complete()})))}}(te,fe,arguments.length>=2,!0))}},3020:(Qe,ue,b)=>{b.d(ue,{B:()=>te});var u=b(4829),A=b(8645),S=b(305),v=b(9360);function te(ge={}){const{connector:Z=(()=>new A.x),resetOnError:oe=!0,resetOnComplete:q=!0,resetOnRefCountZero:ne=!0}=ge;return pe=>{let Me,Ie,Ne,xe=0,me=!1,ye=!1;const lt=()=>{Ie?.unsubscribe(),Ie=void 0},st=()=>{lt(),Me=Ne=void 0,me=ye=!1},se=()=>{const Te=Me;st(),Te?.unsubscribe()};return(0,v.e)((Te,Ce)=>{xe++,!ye&&!me&&lt();const qe=Ne=Ne??Z();Ce.add(()=>{xe--,0===xe&&!ye&&!me&&(Ie=fe(se,ne))}),qe.subscribe(Ce),!Me&&xe>0&&(Me=new S.Hp({next:Ze=>qe.next(Ze),error:Ze=>{ye=!0,lt(),Ie=fe(st,oe,Ze),qe.error(Ze)},complete:()=>{me=!0,lt(),Ie=fe(st,q),qe.complete()}}),(0,u.Xf)(Te).subscribe(Me))})(pe)}}function fe(ge,Z,...oe){if(!0===Z)return void ge();if(!1===Z)return;const q=new S.Hp({next:()=>{q.unsubscribe(),ge()}});return(0,u.Xf)(Z(...oe)).subscribe(q)}},7081:(Qe,ue,b)=>{b.d(ue,{d:()=>S});var u=b(7328),A=b(3020);function S(v,te,fe){let ge,Z=!1;return v&&"object"==typeof v?({bufferSize:ge=1/0,windowTime:te=1/0,refCount:Z=!1,scheduler:fe}=v):ge=v??1/0,(0,A.B)({connector:()=>new u.t(ge,te,fe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Z})}},836:(Qe,ue,b)=>{b.d(ue,{T:()=>A});var u=b(2181);function A(S){return(0,u.h)((v,te)=>S<=te)}},7921:(Qe,ue,b)=>{b.d(ue,{O:()=>v});var u=b(5211),A=b(9940),S=b(9360);function v(...te){const fe=(0,A.yG)(te);return(0,S.e)((ge,Z)=>{(fe?(0,u.z)(te,ge,fe):(0,u.z)(te,ge)).subscribe(Z)})}},5137:(Qe,ue,b)=>{b.d(ue,{R:()=>A});var u=b(9360);function A(S,v=0){return(0,u.e)((te,fe)=>{fe.add(S.schedule(()=>te.subscribe(fe),v))})}},4664:(Qe,ue,b)=>{b.d(ue,{w:()=>v});var u=b(4829),A=b(9360),S=b(8251);function v(te,fe){return(0,A.e)((ge,Z)=>{let oe=null,q=0,ne=!1;const pe=()=>ne&&!oe&&Z.complete();ge.subscribe((0,S.x)(Z,Me=>{oe?.unsubscribe();let Ie=0;const Ne=q++;(0,u.Xf)(te(Me,Ne)).subscribe(oe=(0,S.x)(Z,xe=>Z.next(fe?fe(Me,xe,Ne,Ie++):xe),()=>{oe=null,pe()}))},()=>{ne=!0,pe()}))})}},8180:(Qe,ue,b)=>{b.d(ue,{q:()=>v});var u=b(6232),A=b(9360),S=b(8251);function v(te){return te<=0?()=>u.E:(0,A.e)((fe,ge)=>{let Z=0;fe.subscribe((0,S.x)(ge,oe=>{++Z<=te&&(ge.next(oe),te<=Z&&ge.complete())}))})}},9773:(Qe,ue,b)=>{b.d(ue,{R:()=>te});var u=b(9360),A=b(8251),S=b(4829),v=b(2420);function te(fe){return(0,u.e)((ge,Z)=>{(0,S.Xf)(fe).subscribe((0,A.x)(Z,()=>Z.complete(),v.Z)),!Z.closed&&ge.subscribe(Z)})}},9397:(Qe,ue,b)=>{b.d(ue,{b:()=>te});var u=b(4674),A=b(9360),S=b(8251),v=b(2737);function te(fe,ge,Z){const oe=(0,u.m)(fe)||ge||Z?{next:fe,error:ge,complete:Z}:fe;return oe?(0,A.e)((q,ne)=>{var pe;null===(pe=oe.subscribe)||void 0===pe||pe.call(oe);let Me=!0;q.subscribe((0,S.x)(ne,Ie=>{var Ne;null===(Ne=oe.next)||void 0===Ne||Ne.call(oe,Ie),ne.next(Ie)},()=>{var Ie;Me=!1,null===(Ie=oe.complete)||void 0===Ie||Ie.call(oe),ne.complete()},Ie=>{var Ne;Me=!1,null===(Ne=oe.error)||void 0===Ne||Ne.call(oe,Ie),ne.error(Ie)},()=>{var Ie,Ne;Me&&(null===(Ie=oe.unsubscribe)||void 0===Ie||Ie.call(oe)),null===(Ne=oe.finalize)||void 0===Ne||Ne.call(oe)}))}):v.y}},3026:(Qe,ue,b)=>{b.d(ue,{T:()=>v});var u=b(6973),A=b(9360),S=b(8251);function v(fe=te){return(0,A.e)((ge,Z)=>{let oe=!1;ge.subscribe((0,S.x)(Z,q=>{oe=!0,Z.next(q)},()=>oe?Z.complete():Z.error(fe())))})}function te(){return new u.K}},5178:(Qe,ue,b)=>{b.d(ue,{V:()=>oe});var u=b(6321),A=b(93),S=b(9360),v=b(4829),te=b(2306),fe=b(8251),ge=b(7103);const Z=(0,te.d)(ne=>function(Me=null){ne(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Me});function oe(ne,pe){const{first:Me,each:Ie,with:Ne=q,scheduler:xe=pe??u.z,meta:me=null}=(0,A.q)(ne)?{first:ne}:"number"==typeof ne?{each:ne}:ne;if(null==Me&&null==Ie)throw new TypeError("No timeout provided.");return(0,S.e)((ye,lt)=>{let st,se,Te=null,Ce=0;const qe=Ze=>{se=(0,ge.f)(lt,xe,()=>{try{st.unsubscribe(),(0,v.Xf)(Ne({meta:me,lastValue:Te,seen:Ce})).subscribe(lt)}catch(Oe){lt.error(Oe)}},Ze)};st=ye.subscribe((0,fe.x)(lt,Ze=>{se?.unsubscribe(),Ce++,lt.next(Te=Ze),Ie>0&&qe(Ie)},void 0,void 0,()=>{se?.closed||se?.unsubscribe(),Te=null})),!Ce&&qe(null!=Me?"number"==typeof Me?Me:+Me-xe.now():Ie)})}function q(ne){throw new Z(ne)}},2460:(Qe,ue,b)=>{b.d(ue,{M:()=>ge});var u=b(9360),A=b(8251),S=b(4829),v=b(2737),te=b(2420),fe=b(9940);function ge(...Z){const oe=(0,fe.jO)(Z);return(0,u.e)((q,ne)=>{const pe=Z.length,Me=new Array(pe);let Ie=Z.map(()=>!1),Ne=!1;for(let xe=0;xe<pe;xe++)(0,S.Xf)(Z[xe]).subscribe((0,A.x)(ne,me=>{Me[xe]=me,!Ne&&!Ie[xe]&&(Ie[xe]=!0,(Ne=Ie.every(v.y))&&(Ie=null))},te.Z));q.subscribe((0,A.x)(ne,xe=>{if(Ne){const me=[xe,...Me];ne.next(oe?oe(...me):me)}}))})}},1954:(Qe,ue,b)=>{b.d(ue,{o:()=>te});var u=b(7394);class A extends u.w0{constructor(ge,Z){super()}schedule(ge,Z=0){return this}}const S={setInterval(fe,ge,...Z){const{delegate:oe}=S;return oe?.setInterval?oe.setInterval(fe,ge,...Z):setInterval(fe,ge,...Z)},clearInterval(fe){const{delegate:ge}=S;return(ge?.clearInterval||clearInterval)(fe)},delegate:void 0};var v=b(9039);class te extends A{constructor(ge,Z){super(ge,Z),this.scheduler=ge,this.work=Z,this.pending=!1}schedule(ge,Z=0){var oe;if(this.closed)return this;this.state=ge;const q=this.id,ne=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(ne,q,Z)),this.pending=!0,this.delay=Z,this.id=null!==(oe=this.id)&&void 0!==oe?oe:this.requestAsyncId(ne,this.id,Z),this}requestAsyncId(ge,Z,oe=0){return S.setInterval(ge.flush.bind(ge,this),oe)}recycleAsyncId(ge,Z,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return Z;null!=Z&&S.clearInterval(Z)}execute(ge,Z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ge,Z);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Z){let q,oe=!1;try{this.work(ge)}catch(ne){oe=!0,q=ne||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ge,scheduler:Z}=this,{actions:oe}=Z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,v.P)(oe,this),null!=ge&&(this.id=this.recycleAsyncId(Z,ge,null)),this.delay=null,super.unsubscribe()}}}},2631:(Qe,ue,b)=>{b.d(ue,{v:()=>S});var u=b(4552);class A{constructor(te,fe=A.now){this.schedulerActionCtor=te,this.now=fe}schedule(te,fe=0,ge){return new this.schedulerActionCtor(this,te).schedule(ge,fe)}}A.now=u.l.now;class S extends A{constructor(te,fe=A.now){super(te,fe),this.actions=[],this._active=!1}flush(te){const{actions:fe}=this;if(this._active)return void fe.push(te);let ge;this._active=!0;do{if(ge=te.execute(te.state,te.delay))break}while(te=fe.shift());if(this._active=!1,ge){for(;te=fe.shift();)te.unsubscribe();throw ge}}}},6410:(Qe,ue,b)=>{b.d(ue,{E:()=>Ie});var u=b(1954);let S,A=1;const v={};function te(xe){return xe in v&&(delete v[xe],!0)}const fe={setImmediate(xe){const me=A++;return v[me]=!0,S||(S=Promise.resolve()),S.then(()=>te(me)&&xe()),me},clearImmediate(xe){te(xe)}},{setImmediate:Z,clearImmediate:oe}=fe,q={setImmediate(...xe){const{delegate:me}=q;return(me?.setImmediate||Z)(...xe)},clearImmediate(xe){const{delegate:me}=q;return(me?.clearImmediate||oe)(xe)},delegate:void 0};var pe=b(2631);const Ie=new class Me extends pe.v{flush(me){this._active=!0;const ye=this._scheduled;this._scheduled=void 0;const{actions:lt}=this;let st;me=me||lt.shift();do{if(st=me.execute(me.state,me.delay))break}while((me=lt[0])&&me.id===ye&&lt.shift());if(this._active=!1,st){for(;(me=lt[0])&&me.id===ye&&lt.shift();)me.unsubscribe();throw st}}}(class ne extends u.o{constructor(me,ye){super(me,ye),this.scheduler=me,this.work=ye}requestAsyncId(me,ye,lt=0){return null!==lt&&lt>0?super.requestAsyncId(me,ye,lt):(me.actions.push(this),me._scheduled||(me._scheduled=q.setImmediate(me.flush.bind(me,void 0))))}recycleAsyncId(me,ye,lt=0){var st;if(null!=lt?lt>0:this.delay>0)return super.recycleAsyncId(me,ye,lt);const{actions:se}=me;null!=ye&&(null===(st=se[se.length-1])||void 0===st?void 0:st.id)!==ye&&(q.clearImmediate(ye),me._scheduled===ye&&(me._scheduled=void 0))}})},6321:(Qe,ue,b)=>{b.d(ue,{P:()=>v,z:()=>S});var u=b(1954);const S=new(b(2631).v)(u.o),v=S},4552:(Qe,ue,b)=>{b.d(ue,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},2381:(Qe,ue,b)=>{b.d(ue,{N:()=>te});var u=b(1954),S=b(2631);const te=new class v extends S.v{}(class A extends u.o{constructor(Z,oe){super(Z,oe),this.scheduler=Z,this.work=oe}schedule(Z,oe=0){return oe>0?super.schedule(Z,oe):(this.delay=oe,this.state=Z,this.scheduler.flush(this),this)}execute(Z,oe){return oe>0||this.closed?super.execute(Z,oe):this._execute(Z,oe)}requestAsyncId(Z,oe,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(Z,oe,q):(Z.flush(this),0)}})},7599:(Qe,ue,b)=>{b.d(ue,{z:()=>u});const u={setTimeout(A,S,...v){const{delegate:te}=u;return te?.setTimeout?te.setTimeout(A,S,...v):setTimeout(A,S,...v)},clearTimeout(A){const{delegate:S}=u;return(S?.clearTimeout||clearTimeout)(A)},delegate:void 0}},4971:(Qe,ue,b)=>{b.d(ue,{h:()=>A});const A=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Qe,ue,b)=>{b.d(ue,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Qe,ue,b)=>{b.d(ue,{K:()=>A});const A=(0,b(2306).d)(S=>function(){S(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Qe,ue,b)=>{b.d(ue,{_6:()=>fe,jO:()=>v,yG:()=>te});var u=b(4674),A=b(671);function S(ge){return ge[ge.length-1]}function v(ge){return(0,u.m)(S(ge))?ge.pop():void 0}function te(ge){return(0,A.K)(S(ge))?ge.pop():void 0}function fe(ge,Z){return"number"==typeof S(ge)?ge.pop():Z}},7453:(Qe,ue,b)=>{b.d(ue,{D:()=>te});const{isArray:u}=Array,{getPrototypeOf:A,prototype:S,keys:v}=Object;function te(ge){if(1===ge.length){const Z=ge[0];if(u(Z))return{args:Z,keys:null};if(function fe(ge){return ge&&"object"==typeof ge&&A(ge)===S}(Z)){const oe=v(Z);return{args:oe.map(q=>Z[q]),keys:oe}}}return{args:ge,keys:null}}},9039:(Qe,ue,b)=>{function u(A,S){if(A){const v=A.indexOf(S);0<=v&&A.splice(v,1)}}b.d(ue,{P:()=>u})},2306:(Qe,ue,b)=>{function u(A){const v=A(te=>{Error.call(te),te.stack=(new Error).stack});return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}b.d(ue,{d:()=>u})},2714:(Qe,ue,b)=>{function u(A,S){return A.reduce((v,te,fe)=>(v[te]=S[fe],v),{})}b.d(ue,{n:()=>u})},1441:(Qe,ue,b)=>{b.d(ue,{O:()=>v,x:()=>S});var u=b(2653);let A=null;function S(te){if(u.config.useDeprecatedSynchronousErrorHandling){const fe=!A;if(fe&&(A={errorThrown:!1,error:null}),te(),fe){const{errorThrown:ge,error:Z}=A;if(A=null,ge)throw Z}}else te()}function v(te){u.config.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=te)}},7103:(Qe,ue,b)=>{function u(A,S,v,te=0,fe=!1){const ge=S.schedule(function(){v(),fe?A.add(this.schedule(null,te)):this.unsubscribe()},te);if(A.add(ge),!fe)return ge}b.d(ue,{f:()=>u})},2737:(Qe,ue,b)=>{function u(A){return A}b.d(ue,{y:()=>u})},4266:(Qe,ue,b)=>{b.d(ue,{z:()=>u});const u=A=>A&&"number"==typeof A.length&&"function"!=typeof A},5726:(Qe,ue,b)=>{b.d(ue,{D:()=>A});var u=b(4674);function A(S){return Symbol.asyncIterator&&(0,u.m)(S?.[Symbol.asyncIterator])}},93:(Qe,ue,b)=>{function u(A){return A instanceof Date&&!isNaN(A)}b.d(ue,{q:()=>u})},4674:(Qe,ue,b)=>{function u(A){return"function"==typeof A}b.d(ue,{m:()=>u})},8382:(Qe,ue,b)=>{b.d(ue,{c:()=>S});var u=b(4850),A=b(4674);function S(v){return(0,A.m)(v[u.L])}},3664:(Qe,ue,b)=>{b.d(ue,{T:()=>S});var u=b(4971),A=b(4674);function S(v){return(0,A.m)(v?.[u.h])}},2664:(Qe,ue,b)=>{b.d(ue,{b:()=>S});var u=b(5592),A=b(4674);function S(v){return!!v&&(v instanceof u.y||(0,A.m)(v.lift)&&(0,A.m)(v.subscribe))}},4026:(Qe,ue,b)=>{b.d(ue,{t:()=>A});var u=b(4674);function A(S){return(0,u.m)(S?.then)}},541:(Qe,ue,b)=>{b.d(ue,{L:()=>v,Q:()=>S});var u=b(7582),A=b(4674);function S(te){return(0,u.FC)(this,arguments,function*(){const ge=te.getReader();try{for(;;){const{value:Z,done:oe}=yield(0,u.qq)(ge.read());if(oe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Z)}}finally{ge.releaseLock()}})}function v(te){return(0,A.m)(te?.getReader)}},671:(Qe,ue,b)=>{b.d(ue,{K:()=>A});var u=b(4674);function A(S){return S&&(0,u.m)(S.schedule)}},9360:(Qe,ue,b)=>{b.d(ue,{A:()=>A,e:()=>S});var u=b(4674);function A(v){return(0,u.m)(v?.lift)}function S(v){return te=>{if(A(te))return te.lift(function(fe){try{return v(fe,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Qe,ue,b)=>{b.d(ue,{Z:()=>v});var u=b(7398);const{isArray:A}=Array;function v(te){return(0,u.U)(fe=>function S(te,fe){return A(fe)?te(...fe):te(fe)}(te,fe))}},2420:(Qe,ue,b)=>{function u(){}b.d(ue,{Z:()=>u})},8407:(Qe,ue,b)=>{b.d(ue,{U:()=>S,z:()=>A});var u=b(2737);function A(...v){return S(v)}function S(v){return 0===v.length?u.y:1===v.length?v[0]:function(fe){return v.reduce((ge,Z)=>Z(ge),fe)}}},3894:(Qe,ue,b)=>{b.d(ue,{h:()=>S});var u=b(2653),A=b(7599);function S(v){A.z.setTimeout(()=>{const{onUnhandledError:te}=u.config;if(!te)throw v;te(v)})}},9853:(Qe,ue,b)=>{function u(A){return new TypeError(`You provided ${null!==A&&"object"==typeof A?"an invalid object":`'${A}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}b.d(ue,{z:()=>u})},6825:(Qe,ue,b)=>{b.d(ue,{F4:()=>q,IO:()=>Ne,LC:()=>A,SB:()=>oe,X$:()=>v,ZE:()=>ye,ZN:()=>me,_j:()=>u,eR:()=>ne,jt:()=>te,k1:()=>lt,l3:()=>S,oB:()=>Z,pV:()=>Me,ru:()=>fe,vP:()=>ge});class u{}class A{}const S="*";function v(st,se){return{type:7,name:st,definitions:se,options:{}}}function te(st,se=null){return{type:4,styles:se,timings:st}}function fe(st,se=null){return{type:3,steps:st,options:se}}function ge(st,se=null){return{type:2,steps:st,options:se}}function Z(st){return{type:6,styles:st,offset:null}}function oe(st,se,Te){return{type:0,name:st,styles:se,options:Te}}function q(st){return{type:5,steps:st}}function ne(st,se,Te=null){return{type:1,expr:st,animation:se,options:Te}}function Me(st=null){return{type:9,options:st}}function Ne(st,se,Te=null){return{type:11,selector:st,animation:se,options:Te}}class me{constructor(se=0,Te=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=se+Te}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(se=>se()),this._onDoneFns=[])}onStart(se){this._originalOnStartFns.push(se),this._onStartFns.push(se)}onDone(se){this._originalOnDoneFns.push(se),this._onDoneFns.push(se)}onDestroy(se){this._onDestroyFns.push(se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(se=>se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(se=>se()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(se){this._position=this.totalTime?se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(se){const Te="start"==se?this._onStartFns:this._onDoneFns;Te.forEach(Ce=>Ce()),Te.length=0}}class ye{constructor(se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=se;let Te=0,Ce=0,qe=0;const Ze=this.players.length;0==Ze?queueMicrotask(()=>this._onFinish()):this.players.forEach(Oe=>{Oe.onDone(()=>{++Te==Ze&&this._onFinish()}),Oe.onDestroy(()=>{++Ce==Ze&&this._onDestroy()}),Oe.onStart(()=>{++qe==Ze&&this._onStart()})}),this.totalTime=this.players.reduce((Oe,zt)=>Math.max(Oe,zt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(se=>se()),this._onDoneFns=[])}init(){this.players.forEach(se=>se.init())}onStart(se){this._onStartFns.push(se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(se=>se()),this._onStartFns=[])}onDone(se){this._onDoneFns.push(se)}onDestroy(se){this._onDestroyFns.push(se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(se=>se.play())}pause(){this.players.forEach(se=>se.pause())}restart(){this.players.forEach(se=>se.restart())}finish(){this._onFinish(),this.players.forEach(se=>se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(se=>se.destroy()),this._onDestroyFns.forEach(se=>se()),this._onDestroyFns=[])}reset(){this.players.forEach(se=>se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(se){const Te=se*this.totalTime;this.players.forEach(Ce=>{const qe=Ce.totalTime?Math.min(1,Te/Ce.totalTime):1;Ce.setPosition(qe)})}getPosition(){const se=this.players.reduce((Te,Ce)=>null===Te||Ce.totalTime>Te.totalTime?Ce:Te,null);return null!=se?se.getPosition():0}beforeDestroy(){this.players.forEach(se=>{se.beforeDestroy&&se.beforeDestroy()})}triggerCallback(se){const Te="start"==se?this._onStartFns:this._onDoneFns;Te.forEach(Ce=>Ce()),Te.length=0}}const lt="!"},4300:(Qe,ue,b)=>{b.d(ue,{$s:()=>Qt,Em:()=>mn,Kd:()=>ht,X6:()=>dt,Zf:()=>se,iD:()=>Te,ic:()=>bn,qV:()=>Kt,qm:()=>An,rt:()=>At,s1:()=>gn,tE:()=>hn,yG:()=>Gt});var u=b(6814),A=b(5879),S=b(2831),v=b(8645),te=b(7394),fe=b(5619),ge=b(2096),Z=b(6028),oe=b(9397),q=b(3620),ne=b(2181),pe=b(7398),Me=b(8180),Ie=b(836),Ne=b(3997),xe=b(9773),me=b(2495),ye=b(7131),lt=b(1088);const st=" ";function se(nt,Fe,Ee){const We=Ce(nt,Fe);We.some(yt=>yt.trim()==Ee.trim())||(We.push(Ee.trim()),nt.setAttribute(Fe,We.join(st)))}function Te(nt,Fe,Ee){const yt=Ce(nt,Fe).filter(he=>he!=Ee.trim());yt.length?nt.setAttribute(Fe,yt.join(st)):nt.removeAttribute(Fe)}function Ce(nt,Fe){return(nt.getAttribute(Fe)||"").match(/\S+/g)||[]}const Ze="cdk-describedby-message",Oe="cdk-describedby-host";let zt=0,Qt=(()=>{class nt{constructor(Ee,We){this._platform=We,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+zt++,this._document=Ee,this._id=(0,A.f3M)(A.AFp)+"-"+zt++}describe(Ee,We,yt){if(!this._canBeDescribed(Ee,We))return;const he=Vt(We,yt);"string"!=typeof We?(cn(We,this._id),this._messageRegistry.set(he,{messageElement:We,referenceCount:0})):this._messageRegistry.has(he)||this._createMessageElement(We,yt),this._isElementDescribedByMessage(Ee,he)||this._addMessageReference(Ee,he)}removeDescription(Ee,We,yt){if(!We||!this._isElementNode(Ee))return;const he=Vt(We,yt);if(this._isElementDescribedByMessage(Ee,he)&&this._removeMessageReference(Ee,he),"string"==typeof We){const Q=this._messageRegistry.get(he);Q&&0===Q.referenceCount&&this._deleteMessageElement(he)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Ee=this._document.querySelectorAll(`[${Oe}="${this._id}"]`);for(let We=0;We<Ee.length;We++)this._removeCdkDescribedByReferenceIds(Ee[We]),Ee[We].removeAttribute(Oe);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Ee,We){const yt=this._document.createElement("div");cn(yt,this._id),yt.textContent=Ee,We&&yt.setAttribute("role",We),this._createMessagesContainer(),this._messagesContainer.appendChild(yt),this._messageRegistry.set(Vt(Ee,We),{messageElement:yt,referenceCount:0})}_deleteMessageElement(Ee){this._messageRegistry.get(Ee)?.messageElement?.remove(),this._messageRegistry.delete(Ee)}_createMessagesContainer(){if(this._messagesContainer)return;const Ee="cdk-describedby-message-container",We=this._document.querySelectorAll(`.${Ee}[platform="server"]`);for(let he=0;he<We.length;he++)We[he].remove();const yt=this._document.createElement("div");yt.style.visibility="hidden",yt.classList.add(Ee),yt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&yt.setAttribute("platform","server"),this._document.body.appendChild(yt),this._messagesContainer=yt}_removeCdkDescribedByReferenceIds(Ee){const We=Ce(Ee,"aria-describedby").filter(yt=>0!=yt.indexOf(Ze));Ee.setAttribute("aria-describedby",We.join(" "))}_addMessageReference(Ee,We){const yt=this._messageRegistry.get(We);se(Ee,"aria-describedby",yt.messageElement.id),Ee.setAttribute(Oe,this._id),yt.referenceCount++}_removeMessageReference(Ee,We){const yt=this._messageRegistry.get(We);yt.referenceCount--,Te(Ee,"aria-describedby",yt.messageElement.id),Ee.removeAttribute(Oe)}_isElementDescribedByMessage(Ee,We){const yt=Ce(Ee,"aria-describedby"),he=this._messageRegistry.get(We),Q=he&&he.messageElement.id;return!!Q&&-1!=yt.indexOf(Q)}_canBeDescribed(Ee,We){if(!this._isElementNode(Ee))return!1;if(We&&"object"==typeof We)return!0;const yt=null==We?"":`${We}`.trim(),he=Ee.getAttribute("aria-label");return!(!yt||he&&he.trim()===yt)}_isElementNode(Ee){return Ee.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(We){return new(We||nt)(A.LFG(u.K0),A.LFG(S.t4))};static#t=this.\u0275prov=A.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function Vt(nt,Fe){return"string"==typeof nt?`${Fe||""}/${nt}`:nt}function cn(nt,Fe){nt.id||(nt.id=`${Ze}-${Fe}-${zt++}`)}class jt{constructor(Fe){this._items=Fe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new v.x,this._typeaheadSubscription=te.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Ee=>Ee.disabled,this._pressedLetters=[],this.tabOut=new v.x,this.change=new v.x,Fe instanceof A.n_E&&(this._itemChangesSubscription=Fe.changes.subscribe(Ee=>{if(this._activeItem){const yt=Ee.toArray().indexOf(this._activeItem);yt>-1&&yt!==this._activeItemIndex&&(this._activeItemIndex=yt)}}))}skipPredicate(Fe){return this._skipPredicateFn=Fe,this}withWrap(Fe=!0){return this._wrap=Fe,this}withVerticalOrientation(Fe=!0){return this._vertical=Fe,this}withHorizontalOrientation(Fe){return this._horizontal=Fe,this}withAllowedModifierKeys(Fe){return this._allowedModifierKeys=Fe,this}withTypeAhead(Fe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,oe.b)(Ee=>this._pressedLetters.push(Ee)),(0,q.b)(Fe),(0,ne.h)(()=>this._pressedLetters.length>0),(0,pe.U)(()=>this._pressedLetters.join(""))).subscribe(Ee=>{const We=this._getItemsArray();for(let yt=1;yt<We.length+1;yt++){const he=(this._activeItemIndex+yt)%We.length,Q=We[he];if(!this._skipPredicateFn(Q)&&0===Q.getLabel().toUpperCase().trim().indexOf(Ee)){this.setActiveItem(he);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Fe=!0){return this._homeAndEnd=Fe,this}withPageUpDown(Fe=!0,Ee=10){return this._pageUpAndDown={enabled:Fe,delta:Ee},this}setActiveItem(Fe){const Ee=this._activeItem;this.updateActiveItem(Fe),this._activeItem!==Ee&&this.change.next(this._activeItemIndex)}onKeydown(Fe){const Ee=Fe.keyCode,yt=["altKey","ctrlKey","metaKey","shiftKey"].every(he=>!Fe[he]||this._allowedModifierKeys.indexOf(he)>-1);switch(Ee){case Z.Mf:return void this.tabOut.next();case Z.JH:if(this._vertical&&yt){this.setNextItemActive();break}return;case Z.LH:if(this._vertical&&yt){this.setPreviousItemActive();break}return;case Z.SV:if(this._horizontal&&yt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Z.oh:if(this._horizontal&&yt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Z.Sd:if(this._homeAndEnd&&yt){this.setFirstItemActive();break}return;case Z.uR:if(this._homeAndEnd&&yt){this.setLastItemActive();break}return;case Z.Ku:if(this._pageUpAndDown.enabled&&yt){const he=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(he>0?he:0,1);break}return;case Z.VM:if(this._pageUpAndDown.enabled&&yt){const he=this._activeItemIndex+this._pageUpAndDown.delta,Q=this._getItemsArray().length;this._setActiveItemByIndex(he<Q?he:Q-1,-1);break}return;default:return void((yt||(0,Z.Vb)(Fe,"shiftKey"))&&(Fe.key&&1===Fe.key.length?this._letterKeyStream.next(Fe.key.toLocaleUpperCase()):(Ee>=Z.A&&Ee<=Z.Z||Ee>=Z.xE&&Ee<=Z.aO)&&this._letterKeyStream.next(String.fromCharCode(Ee))))}this._pressedLetters=[],Fe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Fe){const Ee=this._getItemsArray(),We="number"==typeof Fe?Fe:Ee.indexOf(Fe);this._activeItem=Ee[We]??null,this._activeItemIndex=We}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Fe){this._wrap?this._setActiveInWrapMode(Fe):this._setActiveInDefaultMode(Fe)}_setActiveInWrapMode(Fe){const Ee=this._getItemsArray();for(let We=1;We<=Ee.length;We++){const yt=(this._activeItemIndex+Fe*We+Ee.length)%Ee.length;if(!this._skipPredicateFn(Ee[yt]))return void this.setActiveItem(yt)}}_setActiveInDefaultMode(Fe){this._setActiveItemByIndex(this._activeItemIndex+Fe,Fe)}_setActiveItemByIndex(Fe,Ee){const We=this._getItemsArray();if(We[Fe]){for(;this._skipPredicateFn(We[Fe]);)if(!We[Fe+=Ee])return;this.setActiveItem(Fe)}}_getItemsArray(){return this._items instanceof A.n_E?this._items.toArray():this._items}}class gn extends jt{setActiveItem(Fe){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Fe),this.activeItem&&this.activeItem.setActiveStyles()}}class mn extends jt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Fe){return this._origin=Fe,this}setActiveItem(Fe){super.setActiveItem(Fe),this.activeItem&&this.activeItem.focus(this._origin)}}let bn=(()=>{class nt{constructor(Ee){this._platform=Ee}isDisabled(Ee){return Ee.hasAttribute("disabled")}isVisible(Ee){return function Le(nt){return!!(nt.offsetWidth||nt.offsetHeight||"function"==typeof nt.getClientRects&&nt.getClientRects().length)}(Ee)&&"visible"===getComputedStyle(Ee).visibility}isTabbable(Ee){if(!this._platform.isBrowser)return!1;const We=function Se(nt){try{return nt.frameElement}catch{return null}}(function _t(nt){return nt.ownerDocument&&nt.ownerDocument.defaultView||window}(Ee));if(We&&(-1===Be(We)||!this.isVisible(We)))return!1;let yt=Ee.nodeName.toLowerCase(),he=Be(Ee);return Ee.hasAttribute("contenteditable")?-1!==he:!("iframe"===yt||"object"===yt||this._platform.WEBKIT&&this._platform.IOS&&!function ve(nt){let Fe=nt.nodeName.toLowerCase(),Ee="input"===Fe&&nt.type;return"text"===Ee||"password"===Ee||"select"===Fe||"textarea"===Fe}(Ee))&&("audio"===yt?!!Ee.hasAttribute("controls")&&-1!==he:"video"===yt?-1!==he&&(null!==he||this._platform.FIREFOX||Ee.hasAttribute("controls")):Ee.tabIndex>=0)}isFocusable(Ee,We){return function it(nt){return!function tt(nt){return function Ae(nt){return"input"==nt.nodeName.toLowerCase()}(nt)&&"hidden"==nt.type}(nt)&&(function Re(nt){let Fe=nt.nodeName.toLowerCase();return"input"===Fe||"select"===Fe||"button"===Fe||"textarea"===Fe}(nt)||function et(nt){return function Dt(nt){return"a"==nt.nodeName.toLowerCase()}(nt)&&nt.hasAttribute("href")}(nt)||nt.hasAttribute("contenteditable")||be(nt))}(Ee)&&!this.isDisabled(Ee)&&(We?.ignoreVisibility||this.isVisible(Ee))}static#e=this.\u0275fac=function(We){return new(We||nt)(A.LFG(S.t4))};static#t=this.\u0275prov=A.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function be(nt){if(!nt.hasAttribute("tabindex")||void 0===nt.tabIndex)return!1;let Fe=nt.getAttribute("tabindex");return!(!Fe||isNaN(parseInt(Fe,10)))}function Be(nt){if(!be(nt))return null;const Fe=parseInt(nt.getAttribute("tabindex")||"",10);return isNaN(Fe)?-1:Fe}class Nt{get enabled(){return this._enabled}set enabled(Fe){this._enabled=Fe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Fe,this._startAnchor),this._toggleAnchorTabIndex(Fe,this._endAnchor))}constructor(Fe,Ee,We,yt,he=!1){this._element=Fe,this._checker=Ee,this._ngZone=We,this._document=yt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,he||this.attachAnchors()}destroy(){const Fe=this._startAnchor,Ee=this._endAnchor;Fe&&(Fe.removeEventListener("focus",this.startAnchorListener),Fe.remove()),Ee&&(Ee.removeEventListener("focus",this.endAnchorListener),Ee.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Fe){return new Promise(Ee=>{this._executeOnStable(()=>Ee(this.focusInitialElement(Fe)))})}focusFirstTabbableElementWhenReady(Fe){return new Promise(Ee=>{this._executeOnStable(()=>Ee(this.focusFirstTabbableElement(Fe)))})}focusLastTabbableElementWhenReady(Fe){return new Promise(Ee=>{this._executeOnStable(()=>Ee(this.focusLastTabbableElement(Fe)))})}_getRegionBoundary(Fe){const Ee=this._element.querySelectorAll(`[cdk-focus-region-${Fe}], [cdkFocusRegion${Fe}], [cdk-focus-${Fe}]`);return"start"==Fe?Ee.length?Ee[0]:this._getFirstTabbableElement(this._element):Ee.length?Ee[Ee.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Fe){const Ee=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ee){if(!this._checker.isFocusable(Ee)){const We=this._getFirstTabbableElement(Ee);return We?.focus(Fe),!!We}return Ee.focus(Fe),!0}return this.focusFirstTabbableElement(Fe)}focusFirstTabbableElement(Fe){const Ee=this._getRegionBoundary("start");return Ee&&Ee.focus(Fe),!!Ee}focusLastTabbableElement(Fe){const Ee=this._getRegionBoundary("end");return Ee&&Ee.focus(Fe),!!Ee}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Fe){if(this._checker.isFocusable(Fe)&&this._checker.isTabbable(Fe))return Fe;const Ee=Fe.children;for(let We=0;We<Ee.length;We++){const yt=Ee[We].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ee[We]):null;if(yt)return yt}return null}_getLastTabbableElement(Fe){if(this._checker.isFocusable(Fe)&&this._checker.isTabbable(Fe))return Fe;const Ee=Fe.children;for(let We=Ee.length-1;We>=0;We--){const yt=Ee[We].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ee[We]):null;if(yt)return yt}return null}_createAnchor(){const Fe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Fe),Fe.classList.add("cdk-visually-hidden"),Fe.classList.add("cdk-focus-trap-anchor"),Fe.setAttribute("aria-hidden","true"),Fe}_toggleAnchorTabIndex(Fe,Ee){Fe?Ee.setAttribute("tabindex","0"):Ee.removeAttribute("tabindex")}toggleAnchors(Fe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Fe,this._startAnchor),this._toggleAnchorTabIndex(Fe,this._endAnchor))}_executeOnStable(Fe){this._ngZone.isStable?Fe():this._ngZone.onStable.pipe((0,Me.q)(1)).subscribe(Fe)}}let Kt=(()=>{class nt{constructor(Ee,We,yt){this._checker=Ee,this._ngZone=We,this._document=yt}create(Ee,We=!1){return new Nt(Ee,this._checker,this._ngZone,this._document,We)}static#e=this.\u0275fac=function(We){return new(We||nt)(A.LFG(bn),A.LFG(A.R0b),A.LFG(u.K0))};static#t=this.\u0275prov=A.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function dt(nt){return 0===nt.buttons||0===nt.detail}function Gt(nt){const Fe=nt.touches&&nt.touches[0]||nt.changedTouches&&nt.changedTouches[0];return!(!Fe||-1!==Fe.identifier||null!=Fe.radiusX&&1!==Fe.radiusX||null!=Fe.radiusY&&1!==Fe.radiusY)}const It=new A.OlP("cdk-input-modality-detector-options"),Ke={ignoreKeys:[Z.zL,Z.jx,Z.b2,Z.MW,Z.JU]},H=(0,S.i$)({passive:!0,capture:!0});let re=(()=>{class nt{get mostRecentModality(){return this._modality.value}constructor(Ee,We,yt,he){this._platform=Ee,this._mostRecentTarget=null,this._modality=new fe.X(null),this._lastTouchMs=0,this._onKeydown=Q=>{this._options?.ignoreKeys?.some(F=>F===Q.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,S.sA)(Q))},this._onMousedown=Q=>{Date.now()-this._lastTouchMs<650||(this._modality.next(dt(Q)?"keyboard":"mouse"),this._mostRecentTarget=(0,S.sA)(Q))},this._onTouchstart=Q=>{Gt(Q)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,S.sA)(Q))},this._options={...Ke,...he},this.modalityDetected=this._modality.pipe((0,Ie.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ne.x)()),Ee.isBrowser&&We.runOutsideAngular(()=>{yt.addEventListener("keydown",this._onKeydown,H),yt.addEventListener("mousedown",this._onMousedown,H),yt.addEventListener("touchstart",this._onTouchstart,H)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,H),document.removeEventListener("mousedown",this._onMousedown,H),document.removeEventListener("touchstart",this._onTouchstart,H))}static#e=this.\u0275fac=function(We){return new(We||nt)(A.LFG(S.t4),A.LFG(A.R0b),A.LFG(u.K0),A.LFG(It,8))};static#t=this.\u0275prov=A.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();const ut=new A.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ve(){return null}}),pt=new A.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ke=0,ht=(()=>{class nt{constructor(Ee,We,yt,he){this._ngZone=We,this._defaultOptions=he,this._document=yt,this._liveElement=Ee||this._createLiveElement()}announce(Ee,...We){const yt=this._defaultOptions;let he,Q;return 1===We.length&&"number"==typeof We[0]?Q=We[0]:[he,Q]=We,this.clear(),clearTimeout(this._previousTimeout),he||(he=yt&&yt.politeness?yt.politeness:"polite"),null==Q&&yt&&(Q=yt.duration),this._liveElement.setAttribute("aria-live",he),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(F=>this._currentResolve=F)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ee,"number"==typeof Q&&(this._previousTimeout=setTimeout(()=>this.clear(),Q)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Ee="cdk-live-announcer-element",We=this._document.getElementsByClassName(Ee),yt=this._document.createElement("div");for(let he=0;he<We.length;he++)We[he].remove();return yt.classList.add(Ee),yt.classList.add("cdk-visually-hidden"),yt.setAttribute("aria-atomic","true"),yt.setAttribute("aria-live","polite"),yt.id="cdk-live-announcer-"+ke++,this._document.body.appendChild(yt),yt}_exposeAnnouncerToModals(Ee){const We=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let yt=0;yt<We.length;yt++){const he=We[yt],Q=he.getAttribute("aria-owns");Q?-1===Q.indexOf(Ee)&&he.setAttribute("aria-owns",Q+" "+Ee):he.setAttribute("aria-owns",Ee)}}static#e=this.\u0275fac=function(We){return new(We||nt)(A.LFG(ut,8),A.LFG(A.R0b),A.LFG(u.K0),A.LFG(pt,8))};static#t=this.\u0275prov=A.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();const qt=new A.OlP("cdk-focus-monitor-default-options"),Lt=(0,S.i$)({passive:!0,capture:!0});let hn=(()=>{class nt{constructor(Ee,We,yt,he,Q){this._ngZone=Ee,this._platform=We,this._inputModalityDetector=yt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new v.x,this._rootNodeFocusAndBlurListener=F=>{for(let x=(0,S.sA)(F);x;x=x.parentElement)"focus"===F.type?this._onFocus(F,x):this._onBlur(F,x)},this._document=he,this._detectionMode=Q?.detectionMode||0}monitor(Ee,We=!1){const yt=(0,me.fI)(Ee);if(!this._platform.isBrowser||1!==yt.nodeType)return(0,ge.of)();const he=(0,S.kV)(yt)||this._getDocument(),Q=this._elementInfo.get(yt);if(Q)return We&&(Q.checkChildren=!0),Q.subject;const F={checkChildren:We,subject:new v.x,rootNode:he};return this._elementInfo.set(yt,F),this._registerGlobalListeners(F),F.subject}stopMonitoring(Ee){const We=(0,me.fI)(Ee),yt=this._elementInfo.get(We);yt&&(yt.subject.complete(),this._setClasses(We),this._elementInfo.delete(We),this._removeGlobalListeners(yt))}focusVia(Ee,We,yt){const he=(0,me.fI)(Ee);he===this._getDocument().activeElement?this._getClosestElementsInfo(he).forEach(([F,M])=>this._originChanged(F,We,M)):(this._setOrigin(We),"function"==typeof he.focus&&he.focus(yt))}ngOnDestroy(){this._elementInfo.forEach((Ee,We)=>this.stopMonitoring(We))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ee){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ee)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ee&&this._isLastInteractionFromInputLabel(Ee)?"mouse":"program"}_shouldBeAttributedToTouch(Ee){return 1===this._detectionMode||!!Ee?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ee,We){Ee.classList.toggle("cdk-focused",!!We),Ee.classList.toggle("cdk-touch-focused","touch"===We),Ee.classList.toggle("cdk-keyboard-focused","keyboard"===We),Ee.classList.toggle("cdk-mouse-focused","mouse"===We),Ee.classList.toggle("cdk-program-focused","program"===We)}_setOrigin(Ee,We=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ee,this._originFromTouchInteraction="touch"===Ee&&We,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ee,We){const yt=this._elementInfo.get(We),he=(0,S.sA)(Ee);!yt||!yt.checkChildren&&We!==he||this._originChanged(We,this._getFocusOrigin(he),yt)}_onBlur(Ee,We){const yt=this._elementInfo.get(We);!yt||yt.checkChildren&&Ee.relatedTarget instanceof Node&&We.contains(Ee.relatedTarget)||(this._setClasses(We),this._emitOrigin(yt,null))}_emitOrigin(Ee,We){Ee.subject.observers.length&&this._ngZone.run(()=>Ee.subject.next(We))}_registerGlobalListeners(Ee){if(!this._platform.isBrowser)return;const We=Ee.rootNode,yt=this._rootNodeFocusListenerCount.get(We)||0;yt||this._ngZone.runOutsideAngular(()=>{We.addEventListener("focus",this._rootNodeFocusAndBlurListener,Lt),We.addEventListener("blur",this._rootNodeFocusAndBlurListener,Lt)}),this._rootNodeFocusListenerCount.set(We,yt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,xe.R)(this._stopInputModalityDetector)).subscribe(he=>{this._setOrigin(he,!0)}))}_removeGlobalListeners(Ee){const We=Ee.rootNode;if(this._rootNodeFocusListenerCount.has(We)){const yt=this._rootNodeFocusListenerCount.get(We);yt>1?this._rootNodeFocusListenerCount.set(We,yt-1):(We.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Lt),We.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Lt),this._rootNodeFocusListenerCount.delete(We))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ee,We,yt){this._setClasses(Ee,We),this._emitOrigin(yt,We),this._lastFocusOrigin=We}_getClosestElementsInfo(Ee){const We=[];return this._elementInfo.forEach((yt,he)=>{(he===Ee||yt.checkChildren&&he.contains(Ee))&&We.push([he,yt])}),We}_isLastInteractionFromInputLabel(Ee){const{_mostRecentTarget:We,mostRecentModality:yt}=this._inputModalityDetector;if("mouse"!==yt||!We||We===Ee||"INPUT"!==Ee.nodeName&&"TEXTAREA"!==Ee.nodeName||Ee.disabled)return!1;const he=Ee.labels;if(he)for(let Q=0;Q<he.length;Q++)if(he[Q].contains(We))return!0;return!1}static#e=this.\u0275fac=function(We){return new(We||nt)(A.LFG(A.R0b),A.LFG(S.t4),A.LFG(re),A.LFG(u.K0,8),A.LFG(qt,8))};static#t=this.\u0275prov=A.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();const Wn="cdk-high-contrast-black-on-white",Kn="cdk-high-contrast-white-on-black",Tt="cdk-high-contrast-active";let An=(()=>{class nt{constructor(Ee,We){this._platform=Ee,this._document=We,this._breakpointSubscription=(0,A.f3M)(lt.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ee=this._document.createElement("div");Ee.style.backgroundColor="rgb(1,2,3)",Ee.style.position="absolute",this._document.body.appendChild(Ee);const We=this._document.defaultView||window,yt=We&&We.getComputedStyle?We.getComputedStyle(Ee):null,he=(yt&&yt.backgroundColor||"").replace(/ /g,"");switch(Ee.remove(),he){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ee=this._document.body.classList;Ee.remove(Tt,Wn,Kn),this._hasCheckedHighContrastMode=!0;const We=this.getHighContrastMode();1===We?Ee.add(Tt,Wn):2===We&&Ee.add(Tt,Kn)}}static#e=this.\u0275fac=function(We){return new(We||nt)(A.LFG(S.t4),A.LFG(u.K0))};static#t=this.\u0275prov=A.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),At=(()=>{class nt{constructor(Ee){Ee._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(We){return new(We||nt)(A.LFG(An))};static#t=this.\u0275mod=A.oAB({type:nt});static#n=this.\u0275inj=A.cJS({imports:[ye.Q8]})}return nt})()},9388:(Qe,ue,b)=>{b.d(ue,{Is:()=>ge,vT:()=>oe});var u=b(5879),A=b(6814);const S=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function v(){return(0,u.f3M)(A.K0)}}),te=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ge=(()=>{class q{constructor(pe){this.value="ltr",this.change=new u.vpe,pe&&(this.value=function fe(q){const ne=q?.toLowerCase()||"";return"auto"===ne&&typeof navigator<"u"&&navigator?.language?te.test(navigator.language)?"rtl":"ltr":"rtl"===ne?"rtl":"ltr"}((pe.body?pe.body.dir:null)||(pe.documentElement?pe.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(Me){return new(Me||q)(u.LFG(S,8))};static#t=this.\u0275prov=u.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),oe=(()=>{class q{static#e=this.\u0275fac=function(Me){return new(Me||q)};static#t=this.\u0275mod=u.oAB({type:q});static#n=this.\u0275inj=u.cJS({})}return q})()},2495:(Qe,ue,b)=>{b.d(ue,{Eq:()=>te,HM:()=>fe,Ig:()=>A,fI:()=>ge,su:()=>S,t6:()=>v});var u=b(5879);function A(oe){return null!=oe&&"false"!=`${oe}`}function S(oe,q=0){return v(oe)?Number(oe):q}function v(oe){return!isNaN(parseFloat(oe))&&!isNaN(Number(oe))}function te(oe){return Array.isArray(oe)?oe:[oe]}function fe(oe){return null==oe?"":"string"==typeof oe?oe:`${oe}px`}function ge(oe){return oe instanceof u.SBq?oe.nativeElement:oe}},8337:(Qe,ue,b)=>{b.d(ue,{A8:()=>ne,Ov:()=>oe,Z9:()=>te,eX:()=>Z,k:()=>pe,o2:()=>v,yy:()=>ge});var u=b(3168),A=b(8645),S=b(5879);class v{}function te(Me){return Me&&"function"==typeof Me.connect&&!(Me instanceof u.c)}class ge{applyChanges(Ie,Ne,xe,me,ye){Ie.forEachOperation((lt,st,se)=>{let Te,Ce;if(null==lt.previousIndex){const qe=xe(lt,st,se);Te=Ne.createEmbeddedView(qe.templateRef,qe.context,qe.index),Ce=1}else null==se?(Ne.remove(st),Ce=3):(Te=Ne.get(st),Ne.move(Te,se),Ce=2);ye&&ye({context:Te?.context,operation:Ce,record:lt})})}detach(){}}class Z{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Ie,Ne,xe,me,ye){Ie.forEachOperation((lt,st,se)=>{let Te,Ce;null==lt.previousIndex?(Te=this._insertView(()=>xe(lt,st,se),se,Ne,me(lt)),Ce=Te?1:0):null==se?(this._detachAndCacheView(st,Ne),Ce=3):(Te=this._moveView(st,se,Ne,me(lt)),Ce=2),ye&&ye({context:Te?.context,operation:Ce,record:lt})})}detach(){for(const Ie of this._viewCache)Ie.destroy();this._viewCache=[]}_insertView(Ie,Ne,xe,me){const ye=this._insertViewFromCache(Ne,xe);if(ye)return void(ye.context.$implicit=me);const lt=Ie();return xe.createEmbeddedView(lt.templateRef,lt.context,lt.index)}_detachAndCacheView(Ie,Ne){const xe=Ne.detach(Ie);this._maybeCacheView(xe,Ne)}_moveView(Ie,Ne,xe,me){const ye=xe.get(Ie);return xe.move(ye,Ne),ye.context.$implicit=me,ye}_maybeCacheView(Ie,Ne){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Ie);else{const xe=Ne.indexOf(Ie);-1===xe?Ie.destroy():Ne.remove(xe)}}_insertViewFromCache(Ie,Ne){const xe=this._viewCache.pop();return xe&&Ne.insert(xe,Ie),xe||null}}class oe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(Ie=!1,Ne,xe=!0,me){this._multiple=Ie,this._emitChanges=xe,this.compareWith=me,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new A.x,Ne&&Ne.length&&(Ie?Ne.forEach(ye=>this._markSelected(ye)):this._markSelected(Ne[0]),this._selectedToEmit.length=0)}select(...Ie){this._verifyValueAssignment(Ie),Ie.forEach(xe=>this._markSelected(xe));const Ne=this._hasQueuedChanges();return this._emitChangeEvent(),Ne}deselect(...Ie){this._verifyValueAssignment(Ie),Ie.forEach(xe=>this._unmarkSelected(xe));const Ne=this._hasQueuedChanges();return this._emitChangeEvent(),Ne}setSelection(...Ie){this._verifyValueAssignment(Ie);const Ne=this.selected,xe=new Set(Ie);Ie.forEach(ye=>this._markSelected(ye)),Ne.filter(ye=>!xe.has(ye)).forEach(ye=>this._unmarkSelected(ye));const me=this._hasQueuedChanges();return this._emitChangeEvent(),me}toggle(Ie){return this.isSelected(Ie)?this.deselect(Ie):this.select(Ie)}clear(Ie=!0){this._unmarkAll();const Ne=this._hasQueuedChanges();return Ie&&this._emitChangeEvent(),Ne}isSelected(Ie){return this._selection.has(this._getConcreteValue(Ie))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Ie){this._multiple&&this.selected&&this._selected.sort(Ie)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Ie){Ie=this._getConcreteValue(Ie),this.isSelected(Ie)||(this._multiple||this._unmarkAll(),this.isSelected(Ie)||this._selection.add(Ie),this._emitChanges&&this._selectedToEmit.push(Ie))}_unmarkSelected(Ie){Ie=this._getConcreteValue(Ie),this.isSelected(Ie)&&(this._selection.delete(Ie),this._emitChanges&&this._deselectedToEmit.push(Ie))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Ie=>this._unmarkSelected(Ie))}_verifyValueAssignment(Ie){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(Ie){if(this.compareWith){for(let Ne of this._selection)if(this.compareWith(Ie,Ne))return Ne;return Ie}return Ie}}let ne=(()=>{class Me{constructor(){this._listeners=[]}notify(Ne,xe){for(let me of this._listeners)me(Ne,xe)}listen(Ne){return this._listeners.push(Ne),()=>{this._listeners=this._listeners.filter(xe=>Ne!==xe)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(xe){return new(xe||Me)};static#t=this.\u0275prov=S.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();const pe=new S.OlP("_ViewRepeater")},6028:(Qe,ue,b)=>{b.d(ue,{A:()=>tt,JH:()=>st,JU:()=>fe,K5:()=>te,Ku:()=>Me,LH:()=>ye,L_:()=>pe,MW:()=>pt,Mf:()=>S,SV:()=>lt,Sd:()=>xe,VM:()=>Ie,Vb:()=>Pr,Z:()=>Ve,aO:()=>tn,b2:()=>Hi,hY:()=>ne,jx:()=>ge,oh:()=>me,uR:()=>Ne,xE:()=>Ze,zL:()=>Z});const S=9,te=13,fe=16,ge=17,Z=18,ne=27,pe=32,Me=33,Ie=34,Ne=35,xe=36,me=37,ye=38,lt=39,st=40,Ze=48,tn=57,tt=65,Ve=90,pt=91,Hi=224;function Pr(go,...Wo){return Wo.length?Wo.some(ar=>go[ar]):go.altKey||go.shiftKey||go.ctrlKey||go.metaKey}},1088:(Qe,ue,b)=>{b.d(ue,{Yg:()=>st,u3:()=>Te});var u=b(5879),A=b(2495),S=b(8645),v=b(2572),te=b(5211),fe=b(5592),ge=b(8180),Z=b(836),oe=b(3620),q=b(7398),ne=b(7921),pe=b(9773),Me=b(2831);const Ne=new Set;let xe,me=(()=>{class Ce{constructor(Ze,Oe){this._platform=Ze,this._nonce=Oe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):lt}matchMedia(Ze){return(this._platform.WEBKIT||this._platform.BLINK)&&function ye(Ce,qe){if(!Ne.has(Ce))try{xe||(xe=document.createElement("style"),qe&&(xe.nonce=qe),xe.setAttribute("type","text/css"),document.head.appendChild(xe)),xe.sheet&&(xe.sheet.insertRule(`@media ${Ce} {body{ }}`,0),Ne.add(Ce))}catch(Ze){console.error(Ze)}}(Ze,this._nonce),this._matchMedia(Ze)}static#e=this.\u0275fac=function(Oe){return new(Oe||Ce)(u.LFG(Me.t4),u.LFG(u.Ojb,8))};static#t=this.\u0275prov=u.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();function lt(Ce){return{matches:"all"===Ce||""===Ce,media:Ce,addListener:()=>{},removeListener:()=>{}}}let st=(()=>{class Ce{constructor(Ze,Oe){this._mediaMatcher=Ze,this._zone=Oe,this._queries=new Map,this._destroySubject=new S.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ze){return se((0,A.Eq)(Ze)).some(zt=>this._registerQuery(zt).mql.matches)}observe(Ze){const zt=se((0,A.Eq)(Ze)).map(Vt=>this._registerQuery(Vt).observable);let Qt=(0,v.a)(zt);return Qt=(0,te.z)(Qt.pipe((0,ge.q)(1)),Qt.pipe((0,Z.T)(1),(0,oe.b)(0))),Qt.pipe((0,q.U)(Vt=>{const cn={matches:!1,breakpoints:{}};return Vt.forEach(({matches:jt,query:gn})=>{cn.matches=cn.matches||jt,cn.breakpoints[gn]=jt}),cn}))}_registerQuery(Ze){if(this._queries.has(Ze))return this._queries.get(Ze);const Oe=this._mediaMatcher.matchMedia(Ze),Qt={observable:new fe.y(Vt=>{const cn=jt=>this._zone.run(()=>Vt.next(jt));return Oe.addListener(cn),()=>{Oe.removeListener(cn)}}).pipe((0,ne.O)(Oe),(0,q.U)(({matches:Vt})=>({query:Ze,matches:Vt})),(0,pe.R)(this._destroySubject)),mql:Oe};return this._queries.set(Ze,Qt),Qt}static#e=this.\u0275fac=function(Oe){return new(Oe||Ce)(u.LFG(me),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();function se(Ce){return Ce.map(qe=>qe.split(",")).reduce((qe,Ze)=>qe.concat(Ze)).map(qe=>qe.trim())}const Te={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(Qe,ue,b)=>{b.d(ue,{Q8:()=>te});var u=b(5879);let A=(()=>{class fe{create(Z){return typeof MutationObserver>"u"?null:new MutationObserver(Z)}static#e=this.\u0275fac=function(oe){return new(oe||fe)};static#t=this.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})(),te=(()=>{class fe{static#e=this.\u0275fac=function(oe){return new(oe||fe)};static#t=this.\u0275mod=u.oAB({type:fe});static#n=this.\u0275inj=u.cJS({providers:[A]})}return fe})()},3651:(Qe,ue,b)=>{b.d(ue,{pI:()=>Tn,xu:()=>Xt,aV:()=>yn,X_:()=>zt,Xj:()=>Se,U8:()=>Gt,Iu:()=>Le});var u=b(5407),A=b(6814),S=b(5879),v=b(2495),te=b(2831),fe=b(2181),ge=b(8180),Z=b(9773),oe=b(9360),q=b(8251),pe=b(9388),Me=b(8484),Ie=b(8645),Ne=b(7394),xe=b(3019),me=b(6028);const ye=(0,te.Mq)();class lt{constructor(V,H){this._viewportRuler=V,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=H}attach(){}enable(){if(this._canBeEnabled()){const V=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=V.style.left||"",this._previousHTMLStyles.top=V.style.top||"",V.style.left=(0,v.HM)(-this._previousScrollPosition.left),V.style.top=(0,v.HM)(-this._previousScrollPosition.top),V.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const V=this._document.documentElement,re=V.style,ut=this._document.body.style,Ve=re.scrollBehavior||"",pt=ut.scrollBehavior||"";this._isEnabled=!1,re.left=this._previousHTMLStyles.left,re.top=this._previousHTMLStyles.top,V.classList.remove("cdk-global-scrollblock"),ye&&(re.scrollBehavior=ut.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ye&&(re.scrollBehavior=Ve,ut.scrollBehavior=pt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const H=this._document.body,re=this._viewportRuler.getViewportSize();return H.scrollHeight>re.height||H.scrollWidth>re.width}}class se{constructor(V,H,re,ut){this._scrollDispatcher=V,this._ngZone=H,this._viewportRuler=re,this._config=ut,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(V){this._overlayRef=V}enable(){if(this._scrollSubscription)return;const V=this._scrollDispatcher.scrolled(0).pipe((0,fe.h)(H=>!H||!this._overlayRef.overlayElement.contains(H.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=V.subscribe(()=>{const H=this._viewportRuler.getViewportScrollPosition().top;Math.abs(H-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=V.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Te{enable(){}disable(){}attach(){}}function Ce(Ke,V){return V.some(H=>Ke.bottom<H.top||Ke.top>H.bottom||Ke.right<H.left||Ke.left>H.right)}function qe(Ke,V){return V.some(H=>Ke.top<H.top||Ke.bottom>H.bottom||Ke.left<H.left||Ke.right>H.right)}class Ze{constructor(V,H,re,ut){this._scrollDispatcher=V,this._viewportRuler=H,this._ngZone=re,this._config=ut,this._scrollSubscription=null}attach(V){this._overlayRef=V}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const H=this._overlayRef.overlayElement.getBoundingClientRect(),{width:re,height:ut}=this._viewportRuler.getViewportSize();Ce(H,[{width:re,height:ut,bottom:ut,right:re,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Oe=(()=>{class Ke{constructor(H,re,ut,Ve){this._scrollDispatcher=H,this._viewportRuler=re,this._ngZone=ut,this.noop=()=>new Te,this.close=pt=>new se(this._scrollDispatcher,this._ngZone,this._viewportRuler,pt),this.block=()=>new lt(this._viewportRuler,this._document),this.reposition=pt=>new Ze(this._scrollDispatcher,this._viewportRuler,this._ngZone,pt),this._document=Ve}static#e=this.\u0275fac=function(re){return new(re||Ke)(S.LFG(u.mF),S.LFG(u.rL),S.LFG(S.R0b),S.LFG(A.K0))};static#t=this.\u0275prov=S.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();class zt{constructor(V){if(this.scrollStrategy=new Te,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,V){const H=Object.keys(V);for(const re of H)void 0!==V[re]&&(this[re]=V[re])}}}class cn{constructor(V,H){this.connectionPair=V,this.scrollableViewProperties=H}}let mn=(()=>{class Ke{constructor(H){this._attachedOverlays=[],this._document=H}ngOnDestroy(){this.detach()}add(H){this.remove(H),this._attachedOverlays.push(H)}remove(H){const re=this._attachedOverlays.indexOf(H);re>-1&&this._attachedOverlays.splice(re,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(re){return new(re||Ke)(S.LFG(A.K0))};static#t=this.\u0275prov=S.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),tn=(()=>{class Ke extends mn{constructor(H,re){super(H),this._ngZone=re,this._keydownListener=ut=>{const Ve=this._attachedOverlays;for(let pt=Ve.length-1;pt>-1;pt--)if(Ve[pt]._keydownEvents.observers.length>0){const ke=Ve[pt]._keydownEvents;this._ngZone?this._ngZone.run(()=>ke.next(ut)):ke.next(ut);break}}}add(H){super.add(H),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(re){return new(re||Ke)(S.LFG(A.K0),S.LFG(S.R0b,8))};static#t=this.\u0275prov=S.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),bn=(()=>{class Ke extends mn{constructor(H,re,ut){super(H),this._platform=re,this._ngZone=ut,this._cursorStyleIsSet=!1,this._pointerDownListener=Ve=>{this._pointerDownEventTarget=(0,te.sA)(Ve)},this._clickListener=Ve=>{const pt=(0,te.sA)(Ve),ke="click"===Ve.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:pt;this._pointerDownEventTarget=null;const ht=this._attachedOverlays.slice();for(let rt=ht.length-1;rt>-1;rt--){const qt=ht[rt];if(qt._outsidePointerEvents.observers.length<1||!qt.hasAttached())continue;if(qt.overlayElement.contains(pt)||qt.overlayElement.contains(ke))break;const Lt=qt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Lt.next(Ve)):Lt.next(Ve)}}}add(H){if(super.add(H),!this._isAttached){const re=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(re)):this._addEventListeners(re),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=re.style.cursor,re.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const H=this._document.body;H.removeEventListener("pointerdown",this._pointerDownListener,!0),H.removeEventListener("click",this._clickListener,!0),H.removeEventListener("auxclick",this._clickListener,!0),H.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(H.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(H){H.addEventListener("pointerdown",this._pointerDownListener,!0),H.addEventListener("click",this._clickListener,!0),H.addEventListener("auxclick",this._clickListener,!0),H.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(re){return new(re||Ke)(S.LFG(A.K0),S.LFG(te.t4),S.LFG(S.R0b,8))};static#t=this.\u0275prov=S.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),Se=(()=>{class Ke{constructor(H,re){this._platform=re,this._document=H}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const H="cdk-overlay-container";if(this._platform.isBrowser||(0,te.Oy)()){const ut=this._document.querySelectorAll(`.${H}[platform="server"], .${H}[platform="test"]`);for(let Ve=0;Ve<ut.length;Ve++)ut[Ve].remove()}const re=this._document.createElement("div");re.classList.add(H),(0,te.Oy)()?re.setAttribute("platform","test"):this._platform.isBrowser||re.setAttribute("platform","server"),this._document.body.appendChild(re),this._containerElement=re}static#e=this.\u0275fac=function(re){return new(re||Ke)(S.LFG(A.K0),S.LFG(te.t4))};static#t=this.\u0275prov=S.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();class Le{constructor(V,H,re,ut,Ve,pt,ke,ht,rt,qt=!1){this._portalOutlet=V,this._host=H,this._pane=re,this._config=ut,this._ngZone=Ve,this._keyboardDispatcher=pt,this._document=ke,this._location=ht,this._outsideClickDispatcher=rt,this._animationsDisabled=qt,this._backdropElement=null,this._backdropClick=new Ie.x,this._attachments=new Ie.x,this._detachments=new Ie.x,this._locationChanges=Ne.w0.EMPTY,this._backdropClickHandler=Lt=>this._backdropClick.next(Lt),this._backdropTransitionendHandler=Lt=>{this._disposeBackdrop(Lt.target)},this._keydownEvents=new Ie.x,this._outsidePointerEvents=new Ie.x,ut.scrollStrategy&&(this._scrollStrategy=ut.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ut.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(V){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const H=this._portalOutlet.attach(V);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ge.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof H?.onDestroy&&H.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),H}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const V=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),V}dispose(){const V=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,V&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(V){V!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=V,this.hasAttached()&&(V.attach(this),this.updatePosition()))}updateSize(V){this._config={...this._config,...V},this._updateElementSize()}setDirection(V){this._config={...this._config,direction:V},this._updateElementDirection()}addPanelClass(V){this._pane&&this._toggleClasses(this._pane,V,!0)}removePanelClass(V){this._pane&&this._toggleClasses(this._pane,V,!1)}getDirection(){const V=this._config.direction;return V?"string"==typeof V?V:V.value:"ltr"}updateScrollStrategy(V){V!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=V,this.hasAttached()&&(V.attach(this),V.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const V=this._pane.style;V.width=(0,v.HM)(this._config.width),V.height=(0,v.HM)(this._config.height),V.minWidth=(0,v.HM)(this._config.minWidth),V.minHeight=(0,v.HM)(this._config.minHeight),V.maxWidth=(0,v.HM)(this._config.maxWidth),V.maxHeight=(0,v.HM)(this._config.maxHeight)}_togglePointerEvents(V){this._pane.style.pointerEvents=V?"":"none"}_attachBackdrop(){const V="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(V)})}):this._backdropElement.classList.add(V)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const V=this._backdropElement;if(V){if(this._animationsDisabled)return void this._disposeBackdrop(V);V.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{V.addEventListener("transitionend",this._backdropTransitionendHandler)}),V.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(V)},500))}}_toggleClasses(V,H,re){const ut=(0,v.Eq)(H||[]).filter(Ve=>!!Ve);ut.length&&(re?V.classList.add(...ut):V.classList.remove(...ut))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const V=this._ngZone.onStable.pipe((0,Z.R)((0,xe.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),V.unsubscribe())})})}_disposeScrollStrategy(){const V=this._scrollStrategy;V&&(V.disable(),V.detach&&V.detach())}_disposeBackdrop(V){V&&(V.removeEventListener("click",this._backdropClickHandler),V.removeEventListener("transitionend",this._backdropTransitionendHandler),V.remove(),this._backdropElement===V&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Re="cdk-overlay-connected-position-bounding-box",tt=/([A-Za-z%]+)$/;class et{get positions(){return this._preferredPositions}constructor(V,H,re,ut,Ve){this._viewportRuler=H,this._document=re,this._platform=ut,this._overlayContainer=Ve,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ie.x,this._resizeSubscription=Ne.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(V)}attach(V){this._validatePositions(),V.hostElement.classList.add(Re),this._overlayRef=V,this._boundingBox=V.hostElement,this._pane=V.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const V=this._originRect,H=this._overlayRect,re=this._viewportRect,ut=this._containerRect,Ve=[];let pt;for(let ke of this._preferredPositions){let ht=this._getOriginPoint(V,ut,ke),rt=this._getOverlayPoint(ht,H,ke),qt=this._getOverlayFit(rt,H,re,ke);if(qt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ke,ht);this._canFitWithFlexibleDimensions(qt,rt,re)?Ve.push({position:ke,origin:ht,overlayRect:H,boundingBoxRect:this._calculateBoundingBoxRect(ht,ke)}):(!pt||pt.overlayFit.visibleArea<qt.visibleArea)&&(pt={overlayFit:qt,overlayPoint:rt,originPoint:ht,position:ke,overlayRect:H})}if(Ve.length){let ke=null,ht=-1;for(const rt of Ve){const qt=rt.boundingBoxRect.width*rt.boundingBoxRect.height*(rt.position.weight||1);qt>ht&&(ht=qt,ke=rt)}return this._isPushed=!1,void this._applyPosition(ke.position,ke.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(pt.position,pt.originPoint);this._applyPosition(pt.position,pt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ae(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Re),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const V=this._lastPosition;if(V){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const H=this._getOriginPoint(this._originRect,this._containerRect,V);this._applyPosition(V,H)}else this.apply()}withScrollableContainers(V){return this._scrollables=V,this}withPositions(V){return this._preferredPositions=V,-1===V.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(V){return this._viewportMargin=V,this}withFlexibleDimensions(V=!0){return this._hasFlexibleDimensions=V,this}withGrowAfterOpen(V=!0){return this._growAfterOpen=V,this}withPush(V=!0){return this._canPush=V,this}withLockedPosition(V=!0){return this._positionLocked=V,this}setOrigin(V){return this._origin=V,this}withDefaultOffsetX(V){return this._offsetX=V,this}withDefaultOffsetY(V){return this._offsetY=V,this}withTransformOriginOn(V){return this._transformOriginSelector=V,this}_getOriginPoint(V,H,re){let ut,Ve;if("center"==re.originX)ut=V.left+V.width/2;else{const pt=this._isRtl()?V.right:V.left,ke=this._isRtl()?V.left:V.right;ut="start"==re.originX?pt:ke}return H.left<0&&(ut-=H.left),Ve="center"==re.originY?V.top+V.height/2:"top"==re.originY?V.top:V.bottom,H.top<0&&(Ve-=H.top),{x:ut,y:Ve}}_getOverlayPoint(V,H,re){let ut,Ve;return ut="center"==re.overlayX?-H.width/2:"start"===re.overlayX?this._isRtl()?-H.width:0:this._isRtl()?0:-H.width,Ve="center"==re.overlayY?-H.height/2:"top"==re.overlayY?0:-H.height,{x:V.x+ut,y:V.y+Ve}}_getOverlayFit(V,H,re,ut){const Ve=be(H);let{x:pt,y:ke}=V,ht=this._getOffset(ut,"x"),rt=this._getOffset(ut,"y");ht&&(pt+=ht),rt&&(ke+=rt);let hn=0-ke,Pn=ke+Ve.height-re.height,Wn=this._subtractOverflows(Ve.width,0-pt,pt+Ve.width-re.width),Kn=this._subtractOverflows(Ve.height,hn,Pn),Tt=Wn*Kn;return{visibleArea:Tt,isCompletelyWithinViewport:Ve.width*Ve.height===Tt,fitsInViewportVertically:Kn===Ve.height,fitsInViewportHorizontally:Wn==Ve.width}}_canFitWithFlexibleDimensions(V,H,re){if(this._hasFlexibleDimensions){const ut=re.bottom-H.y,Ve=re.right-H.x,pt=Dt(this._overlayRef.getConfig().minHeight),ke=Dt(this._overlayRef.getConfig().minWidth);return(V.fitsInViewportVertically||null!=pt&&pt<=ut)&&(V.fitsInViewportHorizontally||null!=ke&&ke<=Ve)}return!1}_pushOverlayOnScreen(V,H,re){if(this._previousPushAmount&&this._positionLocked)return{x:V.x+this._previousPushAmount.x,y:V.y+this._previousPushAmount.y};const ut=be(H),Ve=this._viewportRect,pt=Math.max(V.x+ut.width-Ve.width,0),ke=Math.max(V.y+ut.height-Ve.height,0),ht=Math.max(Ve.top-re.top-V.y,0),rt=Math.max(Ve.left-re.left-V.x,0);let qt=0,Lt=0;return qt=ut.width<=Ve.width?rt||-pt:V.x<this._viewportMargin?Ve.left-re.left-V.x:0,Lt=ut.height<=Ve.height?ht||-ke:V.y<this._viewportMargin?Ve.top-re.top-V.y:0,this._previousPushAmount={x:qt,y:Lt},{x:V.x+qt,y:V.y+Lt}}_applyPosition(V,H){if(this._setTransformOrigin(V),this._setOverlayElementStyles(H,V),this._setBoundingBoxStyles(H,V),V.panelClass&&this._addPanelClasses(V.panelClass),this._lastPosition=V,this._positionChanges.observers.length){const re=this._getScrollVisibility(),ut=new cn(V,re);this._positionChanges.next(ut)}this._isInitialRender=!1}_setTransformOrigin(V){if(!this._transformOriginSelector)return;const H=this._boundingBox.querySelectorAll(this._transformOriginSelector);let re,ut=V.overlayY;re="center"===V.overlayX?"center":this._isRtl()?"start"===V.overlayX?"right":"left":"start"===V.overlayX?"left":"right";for(let Ve=0;Ve<H.length;Ve++)H[Ve].style.transformOrigin=`${re} ${ut}`}_calculateBoundingBoxRect(V,H){const re=this._viewportRect,ut=this._isRtl();let Ve,pt,ke,qt,Lt,hn;if("top"===H.overlayY)pt=V.y,Ve=re.height-pt+this._viewportMargin;else if("bottom"===H.overlayY)ke=re.height-V.y+2*this._viewportMargin,Ve=re.height-ke+this._viewportMargin;else{const Pn=Math.min(re.bottom-V.y+re.top,V.y),Wn=this._lastBoundingBoxSize.height;Ve=2*Pn,pt=V.y-Pn,Ve>Wn&&!this._isInitialRender&&!this._growAfterOpen&&(pt=V.y-Wn/2)}if("end"===H.overlayX&&!ut||"start"===H.overlayX&&ut)hn=re.width-V.x+this._viewportMargin,qt=V.x-this._viewportMargin;else if("start"===H.overlayX&&!ut||"end"===H.overlayX&&ut)Lt=V.x,qt=re.right-V.x;else{const Pn=Math.min(re.right-V.x+re.left,V.x),Wn=this._lastBoundingBoxSize.width;qt=2*Pn,Lt=V.x-Pn,qt>Wn&&!this._isInitialRender&&!this._growAfterOpen&&(Lt=V.x-Wn/2)}return{top:pt,left:Lt,bottom:ke,right:hn,width:qt,height:Ve}}_setBoundingBoxStyles(V,H){const re=this._calculateBoundingBoxRect(V,H);!this._isInitialRender&&!this._growAfterOpen&&(re.height=Math.min(re.height,this._lastBoundingBoxSize.height),re.width=Math.min(re.width,this._lastBoundingBoxSize.width));const ut={};if(this._hasExactPosition())ut.top=ut.left="0",ut.bottom=ut.right=ut.maxHeight=ut.maxWidth="",ut.width=ut.height="100%";else{const Ve=this._overlayRef.getConfig().maxHeight,pt=this._overlayRef.getConfig().maxWidth;ut.height=(0,v.HM)(re.height),ut.top=(0,v.HM)(re.top),ut.bottom=(0,v.HM)(re.bottom),ut.width=(0,v.HM)(re.width),ut.left=(0,v.HM)(re.left),ut.right=(0,v.HM)(re.right),ut.alignItems="center"===H.overlayX?"center":"end"===H.overlayX?"flex-end":"flex-start",ut.justifyContent="center"===H.overlayY?"center":"bottom"===H.overlayY?"flex-end":"flex-start",Ve&&(ut.maxHeight=(0,v.HM)(Ve)),pt&&(ut.maxWidth=(0,v.HM)(pt))}this._lastBoundingBoxSize=re,Ae(this._boundingBox.style,ut)}_resetBoundingBoxStyles(){Ae(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ae(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(V,H){const re={},ut=this._hasExactPosition(),Ve=this._hasFlexibleDimensions,pt=this._overlayRef.getConfig();if(ut){const qt=this._viewportRuler.getViewportScrollPosition();Ae(re,this._getExactOverlayY(H,V,qt)),Ae(re,this._getExactOverlayX(H,V,qt))}else re.position="static";let ke="",ht=this._getOffset(H,"x"),rt=this._getOffset(H,"y");ht&&(ke+=`translateX(${ht}px) `),rt&&(ke+=`translateY(${rt}px)`),re.transform=ke.trim(),pt.maxHeight&&(ut?re.maxHeight=(0,v.HM)(pt.maxHeight):Ve&&(re.maxHeight="")),pt.maxWidth&&(ut?re.maxWidth=(0,v.HM)(pt.maxWidth):Ve&&(re.maxWidth="")),Ae(this._pane.style,re)}_getExactOverlayY(V,H,re){let ut={top:"",bottom:""},Ve=this._getOverlayPoint(H,this._overlayRect,V);return this._isPushed&&(Ve=this._pushOverlayOnScreen(Ve,this._overlayRect,re)),"bottom"===V.overlayY?ut.bottom=this._document.documentElement.clientHeight-(Ve.y+this._overlayRect.height)+"px":ut.top=(0,v.HM)(Ve.y),ut}_getExactOverlayX(V,H,re){let pt,ut={left:"",right:""},Ve=this._getOverlayPoint(H,this._overlayRect,V);return this._isPushed&&(Ve=this._pushOverlayOnScreen(Ve,this._overlayRect,re)),pt=this._isRtl()?"end"===V.overlayX?"left":"right":"end"===V.overlayX?"right":"left","right"===pt?ut.right=this._document.documentElement.clientWidth-(Ve.x+this._overlayRect.width)+"px":ut.left=(0,v.HM)(Ve.x),ut}_getScrollVisibility(){const V=this._getOriginRect(),H=this._pane.getBoundingClientRect(),re=this._scrollables.map(ut=>ut.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qe(V,re),isOriginOutsideView:Ce(V,re),isOverlayClipped:qe(H,re),isOverlayOutsideView:Ce(H,re)}}_subtractOverflows(V,...H){return H.reduce((re,ut)=>re-Math.max(ut,0),V)}_getNarrowedViewportRect(){const V=this._document.documentElement.clientWidth,H=this._document.documentElement.clientHeight,re=this._viewportRuler.getViewportScrollPosition();return{top:re.top+this._viewportMargin,left:re.left+this._viewportMargin,right:re.left+V-this._viewportMargin,bottom:re.top+H-this._viewportMargin,width:V-2*this._viewportMargin,height:H-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(V,H){return"x"===H?null==V.offsetX?this._offsetX:V.offsetX:null==V.offsetY?this._offsetY:V.offsetY}_validatePositions(){}_addPanelClasses(V){this._pane&&(0,v.Eq)(V).forEach(H=>{""!==H&&-1===this._appliedPanelClasses.indexOf(H)&&(this._appliedPanelClasses.push(H),this._pane.classList.add(H))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(V=>{this._pane.classList.remove(V)}),this._appliedPanelClasses=[])}_getOriginRect(){const V=this._origin;if(V instanceof S.SBq)return V.nativeElement.getBoundingClientRect();if(V instanceof Element)return V.getBoundingClientRect();const H=V.width||0,re=V.height||0;return{top:V.y,bottom:V.y+re,left:V.x,right:V.x+H,height:re,width:H}}}function Ae(Ke,V){for(let H in V)V.hasOwnProperty(H)&&(Ke[H]=V[H]);return Ke}function Dt(Ke){if("number"!=typeof Ke&&null!=Ke){const[V,H]=Ke.split(tt);return H&&"px"!==H?null:parseFloat(V)}return Ke||null}function be(Ke){return{top:Math.floor(Ke.top),right:Math.floor(Ke.right),bottom:Math.floor(Ke.bottom),left:Math.floor(Ke.left),width:Math.floor(Ke.width),height:Math.floor(Ke.height)}}const it="cdk-global-overlay-wrapper";class _t{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(V){const H=V.getConfig();this._overlayRef=V,this._width&&!H.width&&V.updateSize({width:this._width}),this._height&&!H.height&&V.updateSize({height:this._height}),V.hostElement.classList.add(it),this._isDisposed=!1}top(V=""){return this._bottomOffset="",this._topOffset=V,this._alignItems="flex-start",this}left(V=""){return this._xOffset=V,this._xPosition="left",this}bottom(V=""){return this._topOffset="",this._bottomOffset=V,this._alignItems="flex-end",this}right(V=""){return this._xOffset=V,this._xPosition="right",this}start(V=""){return this._xOffset=V,this._xPosition="start",this}end(V=""){return this._xOffset=V,this._xPosition="end",this}width(V=""){return this._overlayRef?this._overlayRef.updateSize({width:V}):this._width=V,this}height(V=""){return this._overlayRef?this._overlayRef.updateSize({height:V}):this._height=V,this}centerHorizontally(V=""){return this.left(V),this._xPosition="center",this}centerVertically(V=""){return this.top(V),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const V=this._overlayRef.overlayElement.style,H=this._overlayRef.hostElement.style,re=this._overlayRef.getConfig(),{width:ut,height:Ve,maxWidth:pt,maxHeight:ke}=re,ht=!("100%"!==ut&&"100vw"!==ut||pt&&"100%"!==pt&&"100vw"!==pt),rt=!("100%"!==Ve&&"100vh"!==Ve||ke&&"100%"!==ke&&"100vh"!==ke),qt=this._xPosition,Lt=this._xOffset,hn="rtl"===this._overlayRef.getConfig().direction;let Pn="",Wn="",Kn="";ht?Kn="flex-start":"center"===qt?(Kn="center",hn?Wn=Lt:Pn=Lt):hn?"left"===qt||"end"===qt?(Kn="flex-end",Pn=Lt):("right"===qt||"start"===qt)&&(Kn="flex-start",Wn=Lt):"left"===qt||"start"===qt?(Kn="flex-start",Pn=Lt):("right"===qt||"end"===qt)&&(Kn="flex-end",Wn=Lt),V.position=this._cssPosition,V.marginLeft=ht?"0":Pn,V.marginTop=rt?"0":this._topOffset,V.marginBottom=this._bottomOffset,V.marginRight=ht?"0":Wn,H.justifyContent=Kn,H.alignItems=rt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const V=this._overlayRef.overlayElement.style,H=this._overlayRef.hostElement,re=H.style;H.classList.remove(it),re.justifyContent=re.alignItems=V.marginTop=V.marginBottom=V.marginLeft=V.marginRight=V.position="",this._overlayRef=null,this._isDisposed=!0}}let Nt=(()=>{class Ke{constructor(H,re,ut,Ve){this._viewportRuler=H,this._document=re,this._platform=ut,this._overlayContainer=Ve}global(){return new _t}flexibleConnectedTo(H){return new et(H,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(re){return new(re||Ke)(S.LFG(u.rL),S.LFG(A.K0),S.LFG(te.t4),S.LFG(Se))};static#t=this.\u0275prov=S.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),Kt=0,yn=(()=>{class Ke{constructor(H,re,ut,Ve,pt,ke,ht,rt,qt,Lt,hn,Pn){this.scrollStrategies=H,this._overlayContainer=re,this._componentFactoryResolver=ut,this._positionBuilder=Ve,this._keyboardDispatcher=pt,this._injector=ke,this._ngZone=ht,this._document=rt,this._directionality=qt,this._location=Lt,this._outsideClickDispatcher=hn,this._animationsModuleType=Pn}create(H){const re=this._createHostElement(),ut=this._createPaneElement(re),Ve=this._createPortalOutlet(ut),pt=new zt(H);return pt.direction=pt.direction||this._directionality.value,new Le(Ve,re,ut,pt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(H){const re=this._document.createElement("div");return re.id="cdk-overlay-"+Kt++,re.classList.add("cdk-overlay-pane"),H.appendChild(re),re}_createHostElement(){const H=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(H),H}_createPortalOutlet(H){return this._appRef||(this._appRef=this._injector.get(S.z2F)),new Me.u0(H,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(re){return new(re||Ke)(S.LFG(Oe),S.LFG(Se),S.LFG(S._Vd),S.LFG(Nt),S.LFG(tn),S.LFG(S.zs3),S.LFG(S.R0b),S.LFG(A.K0),S.LFG(pe.Is),S.LFG(A.Ye),S.LFG(bn),S.LFG(S.QbO,8))};static#t=this.\u0275prov=S.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();const Je=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Ot=new S.OlP("cdk-connected-overlay-scroll-strategy");let Xt=(()=>{class Ke{constructor(H){this.elementRef=H}static#e=this.\u0275fac=function(re){return new(re||Ke)(S.Y36(S.SBq))};static#t=this.\u0275dir=S.lG2({type:Ke,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Ke})(),Tn=(()=>{class Ke{get offsetX(){return this._offsetX}set offsetX(H){this._offsetX=H,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(H){this._offsetY=H,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(H){this._hasBackdrop=(0,v.Ig)(H)}get lockPosition(){return this._lockPosition}set lockPosition(H){this._lockPosition=(0,v.Ig)(H)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(H){this._flexibleDimensions=(0,v.Ig)(H)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(H){this._growAfterOpen=(0,v.Ig)(H)}get push(){return this._push}set push(H){this._push=(0,v.Ig)(H)}constructor(H,re,ut,Ve,pt){this._overlay=H,this._dir=pt,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ne.w0.EMPTY,this._attachSubscription=Ne.w0.EMPTY,this._detachSubscription=Ne.w0.EMPTY,this._positionSubscription=Ne.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new S.vpe,this.positionChange=new S.vpe,this.attach=new S.vpe,this.detach=new S.vpe,this.overlayKeydown=new S.vpe,this.overlayOutsideClick=new S.vpe,this._templatePortal=new Me.UE(re,ut),this._scrollStrategyFactory=Ve,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(H){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),H.origin&&this.open&&this._position.apply()),H.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Je);const H=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=H.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=H.detachments().subscribe(()=>this.detach.emit()),H.keydownEvents().subscribe(re=>{this.overlayKeydown.next(re),re.keyCode===me.hY&&!this.disableClose&&!(0,me.Vb)(re)&&(re.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(re=>{this.overlayOutsideClick.next(re)})}_buildConfig(){const H=this._position=this.positionStrategy||this._createPositionStrategy(),re=new zt({direction:this._dir,positionStrategy:H,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(re.width=this.width),(this.height||0===this.height)&&(re.height=this.height),(this.minWidth||0===this.minWidth)&&(re.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(re.minHeight=this.minHeight),this.backdropClass&&(re.backdropClass=this.backdropClass),this.panelClass&&(re.panelClass=this.panelClass),re}_updatePositionStrategy(H){const re=this.positions.map(ut=>({originX:ut.originX,originY:ut.originY,overlayX:ut.overlayX,overlayY:ut.overlayY,offsetX:ut.offsetX||this.offsetX,offsetY:ut.offsetY||this.offsetY,panelClass:ut.panelClass||void 0}));return H.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(re).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const H=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(H),H}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Xt?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(H=>{this.backdropClick.emit(H)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function ne(Ke,V=!1){return(0,oe.e)((H,re)=>{let ut=0;H.subscribe((0,q.x)(re,Ve=>{const pt=Ke(Ve,ut++);(pt||V)&&re.next(Ve),!pt&&re.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(H=>{this.positionChange.emit(H),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(re){return new(re||Ke)(S.Y36(yn),S.Y36(S.Rgc),S.Y36(S.s_b),S.Y36(Ot),S.Y36(pe.Is,8))};static#t=this.\u0275dir=S.lG2({type:Ke,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[S.TTD]})}return Ke})();const dt={provide:Ot,deps:[yn],useFactory:function Hn(Ke){return()=>Ke.scrollStrategies.reposition()}};let Gt=(()=>{class Ke{static#e=this.\u0275fac=function(re){return new(re||Ke)};static#t=this.\u0275mod=S.oAB({type:Ke});static#n=this.\u0275inj=S.cJS({providers:[yn,dt],imports:[pe.vT,Me.eL,u.Cl,u.Cl]})}return Ke})()},2831:(Qe,ue,b)=>{b.d(ue,{Mq:()=>Ie,Oy:()=>se,ht:()=>lt,i$:()=>ne,kV:()=>ye,qK:()=>Z,sA:()=>st,t4:()=>v});var u=b(5879),A=b(6814);let S;try{S=typeof Intl<"u"&&Intl.v8BreakIterator}catch{S=!1}let fe,v=(()=>{class Te{constructor(qe){this._platformId=qe,this.isBrowser=this._platformId?(0,A.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Ze){return new(Ze||Te)(u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();const ge=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Z(){if(fe)return fe;if("object"!=typeof document||!document)return fe=new Set(ge),fe;let Te=document.createElement("input");return fe=new Set(ge.filter(Ce=>(Te.setAttribute("type",Ce),Te.type===Ce))),fe}let oe,Me,xe;function ne(Te){return function q(){if(null==oe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oe=!0}))}finally{oe=oe||!1}return oe}()?Te:!!Te.capture}function Ie(){if(null==Me){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Me=!1,Me;if("scrollBehavior"in document.documentElement.style)Me=!0;else{const Te=Element.prototype.scrollTo;Me=!!Te&&!/\{\s*\[native code\]\s*\}/.test(Te.toString())}}return Me}function ye(Te){if(function me(){if(null==xe){const Te=typeof document<"u"?document.head:null;xe=!(!Te||!Te.createShadowRoot&&!Te.attachShadow)}return xe}()){const Ce=Te.getRootNode?Te.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Ce instanceof ShadowRoot)return Ce}return null}function lt(){let Te=typeof document<"u"&&document?document.activeElement:null;for(;Te&&Te.shadowRoot;){const Ce=Te.shadowRoot.activeElement;if(Ce===Te)break;Te=Ce}return Te}function st(Te){return Te.composedPath?Te.composedPath()[0]:Te.target}function se(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(Qe,ue,b)=>{b.d(ue,{C5:()=>q,Pl:()=>lt,UE:()=>ne,eL:()=>se,en:()=>Me,u0:()=>Ne});var u=b(5879),A=b(6814);class oe{attach(qe){return this._attachedHost=qe,qe.attach(this)}detach(){let qe=this._attachedHost;null!=qe&&(this._attachedHost=null,qe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(qe){this._attachedHost=qe}}class q extends oe{constructor(qe,Ze,Oe,zt,Qt){super(),this.component=qe,this.viewContainerRef=Ze,this.injector=Oe,this.componentFactoryResolver=zt,this.projectableNodes=Qt}}class ne extends oe{constructor(qe,Ze,Oe,zt){super(),this.templateRef=qe,this.viewContainerRef=Ze,this.context=Oe,this.injector=zt}get origin(){return this.templateRef.elementRef}attach(qe,Ze=this.context){return this.context=Ze,super.attach(qe)}detach(){return this.context=void 0,super.detach()}}class pe extends oe{constructor(qe){super(),this.element=qe instanceof u.SBq?qe.nativeElement:qe}}class Me{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(qe){return qe instanceof q?(this._attachedPortal=qe,this.attachComponentPortal(qe)):qe instanceof ne?(this._attachedPortal=qe,this.attachTemplatePortal(qe)):this.attachDomPortal&&qe instanceof pe?(this._attachedPortal=qe,this.attachDomPortal(qe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(qe){this._disposeFn=qe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ne extends Me{constructor(qe,Ze,Oe,zt,Qt){super(),this.outletElement=qe,this._componentFactoryResolver=Ze,this._appRef=Oe,this._defaultInjector=zt,this.attachDomPortal=Vt=>{const cn=Vt.element,jt=this._document.createComment("dom-portal");cn.parentNode.insertBefore(jt,cn),this.outletElement.appendChild(cn),this._attachedPortal=Vt,super.setDisposeFn(()=>{jt.parentNode&&jt.parentNode.replaceChild(cn,jt)})},this._document=Qt}attachComponentPortal(qe){const Oe=(qe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(qe.component);let zt;return qe.viewContainerRef?(zt=qe.viewContainerRef.createComponent(Oe,qe.viewContainerRef.length,qe.injector||qe.viewContainerRef.injector,qe.projectableNodes||void 0),this.setDisposeFn(()=>zt.destroy())):(zt=Oe.create(qe.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(zt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(zt.hostView),zt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(zt)),this._attachedPortal=qe,zt}attachTemplatePortal(qe){let Ze=qe.viewContainerRef,Oe=Ze.createEmbeddedView(qe.templateRef,qe.context,{injector:qe.injector});return Oe.rootNodes.forEach(zt=>this.outletElement.appendChild(zt)),Oe.detectChanges(),this.setDisposeFn(()=>{let zt=Ze.indexOf(Oe);-1!==zt&&Ze.remove(zt)}),this._attachedPortal=qe,Oe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(qe){return qe.hostView.rootNodes[0]}}let lt=(()=>{class Ce extends Me{constructor(Ze,Oe,zt){super(),this._componentFactoryResolver=Ze,this._viewContainerRef=Oe,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=Qt=>{const Vt=Qt.element,cn=this._document.createComment("dom-portal");Qt.setAttachedHost(this),Vt.parentNode.insertBefore(cn,Vt),this._getRootNode().appendChild(Vt),this._attachedPortal=Qt,super.setDisposeFn(()=>{cn.parentNode&&cn.parentNode.replaceChild(Vt,cn)})},this._document=zt}get portal(){return this._attachedPortal}set portal(Ze){this.hasAttached()&&!Ze&&!this._isInitialized||(this.hasAttached()&&super.detach(),Ze&&super.attach(Ze),this._attachedPortal=Ze||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Ze){Ze.setAttachedHost(this);const Oe=null!=Ze.viewContainerRef?Ze.viewContainerRef:this._viewContainerRef,Qt=(Ze.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ze.component),Vt=Oe.createComponent(Qt,Oe.length,Ze.injector||Oe.injector,Ze.projectableNodes||void 0);return Oe!==this._viewContainerRef&&this._getRootNode().appendChild(Vt.hostView.rootNodes[0]),super.setDisposeFn(()=>Vt.destroy()),this._attachedPortal=Ze,this._attachedRef=Vt,this.attached.emit(Vt),Vt}attachTemplatePortal(Ze){Ze.setAttachedHost(this);const Oe=this._viewContainerRef.createEmbeddedView(Ze.templateRef,Ze.context,{injector:Ze.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Ze,this._attachedRef=Oe,this.attached.emit(Oe),Oe}_getRootNode(){const Ze=this._viewContainerRef.element.nativeElement;return Ze.nodeType===Ze.ELEMENT_NODE?Ze:Ze.parentNode}static#e=this.\u0275fac=function(Oe){return new(Oe||Ce)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(A.K0))};static#t=this.\u0275dir=u.lG2({type:Ce,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]})}return Ce})(),se=(()=>{class Ce{static#e=this.\u0275fac=function(Oe){return new(Oe||Ce)};static#t=this.\u0275mod=u.oAB({type:Ce});static#n=this.\u0275inj=u.cJS({})}return Ce})()},5407:(Qe,ue,b)=>{b.d(ue,{ZD:()=>Ae,mF:()=>Qt,Cl:()=>Dt,rL:()=>jt});var u=b(2495),A=b(5879),S=b(8645),v=b(2096),te=b(5592),fe=b(2438),ge=b(1954),Z=b(7394);const oe={schedule(be){let Be=requestAnimationFrame,ve=cancelAnimationFrame;const{delegate:it}=oe;it&&(Be=it.requestAnimationFrame,ve=it.cancelAnimationFrame);const _t=Be(Nt=>{ve=void 0,be(Nt)});return new Z.w0(()=>ve?.(_t))},requestAnimationFrame(...be){const{delegate:Be}=oe;return(Be?.requestAnimationFrame||requestAnimationFrame)(...be)},cancelAnimationFrame(...be){const{delegate:Be}=oe;return(Be?.cancelAnimationFrame||cancelAnimationFrame)(...be)},delegate:void 0};var ne=b(2631);new class pe extends ne.v{flush(Be){this._active=!0;const ve=this._scheduled;this._scheduled=void 0;const{actions:it}=this;let _t;Be=Be||it.shift();do{if(_t=Be.execute(Be.state,Be.delay))break}while((Be=it[0])&&Be.id===ve&&it.shift());if(this._active=!1,_t){for(;(Be=it[0])&&Be.id===ve&&it.shift();)Be.unsubscribe();throw _t}}}(class q extends ge.o{constructor(Be,ve){super(Be,ve),this.scheduler=Be,this.work=ve}requestAsyncId(Be,ve,it=0){return null!==it&&it>0?super.requestAsyncId(Be,ve,it):(Be.actions.push(this),Be._scheduled||(Be._scheduled=oe.requestAnimationFrame(()=>Be.flush(void 0))))}recycleAsyncId(Be,ve,it=0){var _t;if(null!=it?it>0:this.delay>0)return super.recycleAsyncId(Be,ve,it);const{actions:Nt}=Be;null!=ve&&(null===(_t=Nt[Nt.length-1])||void 0===_t?void 0:_t.id)!==ve&&(oe.cancelAnimationFrame(ve),Be._scheduled=void 0)}});b(6410);var xe=b(9028),me=b(2181),ye=b(2831),lt=b(6814),st=b(9388);let Qt=(()=>{class be{constructor(ve,it,_t){this._ngZone=ve,this._platform=it,this._scrolled=new S.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=_t}register(ve){this.scrollContainers.has(ve)||this.scrollContainers.set(ve,ve.elementScrolled().subscribe(()=>this._scrolled.next(ve)))}deregister(ve){const it=this.scrollContainers.get(ve);it&&(it.unsubscribe(),this.scrollContainers.delete(ve))}scrolled(ve=20){return this._platform.isBrowser?new te.y(it=>{this._globalSubscription||this._addGlobalListener();const _t=ve>0?this._scrolled.pipe((0,xe.e)(ve)).subscribe(it):this._scrolled.subscribe(it);return this._scrolledCount++,()=>{_t.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,v.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ve,it)=>this.deregister(it)),this._scrolled.complete()}ancestorScrolled(ve,it){const _t=this.getAncestorScrollContainers(ve);return this.scrolled(it).pipe((0,me.h)(Nt=>!Nt||_t.indexOf(Nt)>-1))}getAncestorScrollContainers(ve){const it=[];return this.scrollContainers.forEach((_t,Nt)=>{this._scrollableContainsElement(Nt,ve)&&it.push(Nt)}),it}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ve,it){let _t=(0,u.fI)(it),Nt=ve.getElementRef().nativeElement;do{if(_t==Nt)return!0}while(_t=_t.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ve=this._getWindow();return(0,fe.R)(ve.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(it){return new(it||be)(A.LFG(A.R0b),A.LFG(ye.t4),A.LFG(lt.K0,8))};static#t=this.\u0275prov=A.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),jt=(()=>{class be{constructor(ve,it,_t){this._platform=ve,this._change=new S.x,this._changeListener=Nt=>{this._change.next(Nt)},this._document=_t,it.runOutsideAngular(()=>{if(ve.isBrowser){const Nt=this._getWindow();Nt.addEventListener("resize",this._changeListener),Nt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ve=this._getWindow();ve.removeEventListener("resize",this._changeListener),ve.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ve={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ve}getViewportRect(){const ve=this.getViewportScrollPosition(),{width:it,height:_t}=this.getViewportSize();return{top:ve.top,left:ve.left,bottom:ve.top+_t,right:ve.left+it,height:_t,width:it}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ve=this._document,it=this._getWindow(),_t=ve.documentElement,Nt=_t.getBoundingClientRect();return{top:-Nt.top||ve.body.scrollTop||it.scrollY||_t.scrollTop||0,left:-Nt.left||ve.body.scrollLeft||it.scrollX||_t.scrollLeft||0}}change(ve=20){return ve>0?this._change.pipe((0,xe.e)(ve)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ve=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ve.innerWidth,height:ve.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(it){return new(it||be)(A.LFG(ye.t4),A.LFG(A.R0b),A.LFG(lt.K0,8))};static#t=this.\u0275prov=A.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),Ae=(()=>{class be{static#e=this.\u0275fac=function(it){return new(it||be)};static#t=this.\u0275mod=A.oAB({type:be});static#n=this.\u0275inj=A.cJS({})}return be})(),Dt=(()=>{class be{static#e=this.\u0275fac=function(it){return new(it||be)};static#t=this.\u0275mod=A.oAB({type:be});static#n=this.\u0275inj=A.cJS({imports:[st.vT,Ae,st.vT,Ae]})}return be})()},6263:(Qe,ue,b)=>{b.d(ue,{IC:()=>Me,Ky:()=>Ie,Lq:()=>ne});var u=b(2831),A=b(5879),S=b(2495),v=b(6232),te=b(8645),fe=b(2438),ge=b(9028),Z=b(9773),oe=b(6814);const q=(0,u.i$)({passive:!0});let ne=(()=>{class Ne{constructor(me,ye){this._platform=me,this._ngZone=ye,this._monitoredElements=new Map}monitor(me){if(!this._platform.isBrowser)return v.E;const ye=(0,S.fI)(me),lt=this._monitoredElements.get(ye);if(lt)return lt.subject;const st=new te.x,se="cdk-text-field-autofilled",Te=Ce=>{"cdk-text-field-autofill-start"!==Ce.animationName||ye.classList.contains(se)?"cdk-text-field-autofill-end"===Ce.animationName&&ye.classList.contains(se)&&(ye.classList.remove(se),this._ngZone.run(()=>st.next({target:Ce.target,isAutofilled:!1}))):(ye.classList.add(se),this._ngZone.run(()=>st.next({target:Ce.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ye.addEventListener("animationstart",Te,q),ye.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ye,{subject:st,unlisten:()=>{ye.removeEventListener("animationstart",Te,q)}}),st}stopMonitoring(me){const ye=(0,S.fI)(me),lt=this._monitoredElements.get(ye);lt&&(lt.unlisten(),lt.subject.complete(),ye.classList.remove("cdk-text-field-autofill-monitored"),ye.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ye))}ngOnDestroy(){this._monitoredElements.forEach((me,ye)=>this.stopMonitoring(ye))}static#e=this.\u0275fac=function(ye){return new(ye||Ne)(A.LFG(u.t4),A.LFG(A.R0b))};static#t=this.\u0275prov=A.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})(),Me=(()=>{class Ne{get minRows(){return this._minRows}set minRows(me){this._minRows=(0,S.su)(me),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(me){this._maxRows=(0,S.su)(me),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(me){me=(0,S.Ig)(me),this._enabled!==me&&((this._enabled=me)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(me){this._cachedPlaceholderHeight=void 0,me?this._textareaElement.setAttribute("placeholder",me):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(me,ye,lt,st){this._elementRef=me,this._platform=ye,this._ngZone=lt,this._destroyed=new te.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=se=>{this._hasFocus="focus"===se.type},this._document=st,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){const me=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;me&&(this._textareaElement.style.minHeight=me)}_setMaxHeight(){const me=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;me&&(this._textareaElement.style.maxHeight=me)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{const me=this._getWindow();(0,fe.R)(me,"resize").pipe((0,ge.e)(16),(0,Z.R)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let me=this._textareaElement.cloneNode(!1);me.rows=1,me.style.position="absolute",me.style.visibility="hidden",me.style.border="none",me.style.padding="0",me.style.height="",me.style.minHeight="",me.style.maxHeight="",me.style.overflow="hidden",this._textareaElement.parentNode.appendChild(me),this._cachedLineHeight=me.clientHeight,me.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const me=this._textareaElement,ye=me.style.marginBottom||"",lt=this._platform.FIREFOX,st=lt&&this._hasFocus,se=lt?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";st&&(me.style.marginBottom=`${me.clientHeight}px`),me.classList.add(se);const Te=me.scrollHeight-4;return me.classList.remove(se),st&&(me.style.marginBottom=ye),Te}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const me=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=me}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(me=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const ye=this._elementRef.nativeElement,lt=ye.value;if(!me&&this._minRows===this._previousMinRows&&lt===this._previousValue)return;const st=this._measureScrollHeight(),se=Math.max(st,this._cachedPlaceholderHeight||0);ye.style.height=`${se}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(ye)):setTimeout(()=>this._scrollToCaretPosition(ye))}),this._previousValue=lt,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(me){const{selectionStart:ye,selectionEnd:lt}=me;!this._destroyed.isStopped&&this._hasFocus&&me.setSelectionRange(ye,lt)}static#e=this.\u0275fac=function(ye){return new(ye||Ne)(A.Y36(A.SBq),A.Y36(u.t4),A.Y36(A.R0b),A.Y36(oe.K0,8))};static#t=this.\u0275dir=A.lG2({type:Ne,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(ye,lt){1&ye&&A.NdJ("input",function(){return lt._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]})}return Ne})(),Ie=(()=>{class Ne{static#e=this.\u0275fac=function(ye){return new(ye||Ne)};static#t=this.\u0275mod=A.oAB({type:Ne});static#n=this.\u0275inj=A.cJS({})}return Ne})()},6814:(Qe,ue,b)=>{b.d(ue,{Do:()=>xe,ED:()=>Ts,EM:()=>Yo,HT:()=>v,JF:()=>qr,K0:()=>fe,Mx:()=>nn,NF:()=>ms,O5:()=>Hi,Ov:()=>dn,PM:()=>Ir,RF:()=>ar,S$:()=>Me,V_:()=>Z,Ye:()=>me,b0:()=>Ne,bD:()=>Ni,ez:()=>Oo,mk:()=>ei,n9:()=>Sa,q:()=>S,sg:()=>vi,tP:()=>Ss,uU:()=>Ci,w_:()=>te});var u=b(5879);let A=null;function S(){return A}function v(R){A||(A=R)}class te{}const fe=new u.OlP("DocumentToken");let ge=(()=>{class R{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(G){return new(G||R)};static#t=this.\u0275prov=u.Yz7({token:R,factory:function(){return(0,u.f3M)(oe)},providedIn:"platform"})}return R})();const Z=new u.OlP("Location Initialized");let oe=(()=>{class R extends ge{constructor(){super(),this._doc=(0,u.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(B){const G=S().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",B,!1),()=>G.removeEventListener("popstate",B)}onHashChange(B){const G=S().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",B,!1),()=>G.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,G,He){this._history.pushState(B,G,He)}replaceState(B,G,He){this._history.replaceState(B,G,He)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static#e=this.\u0275fac=function(G){return new(G||R)};static#t=this.\u0275prov=u.Yz7({token:R,factory:function(){return new R},providedIn:"platform"})}return R})();function q(R,J){if(0==R.length)return J;if(0==J.length)return R;let B=0;return R.endsWith("/")&&B++,J.startsWith("/")&&B++,2==B?R+J.substring(1):1==B?R+J:R+"/"+J}function ne(R){const J=R.match(/#|\?|$/),B=J&&J.index||R.length;return R.slice(0,B-("/"===R[B-1]?1:0))+R.slice(B)}function pe(R){return R&&"?"!==R[0]?"?"+R:R}let Me=(()=>{class R{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(G){return new(G||R)};static#t=this.\u0275prov=u.Yz7({token:R,factory:function(){return(0,u.f3M)(Ne)},providedIn:"root"})}return R})();const Ie=new u.OlP("appBaseHref");let Ne=(()=>{class R extends Me{constructor(B,G){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=G??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return q(this._baseHref,B)}path(B=!1){const G=this._platformLocation.pathname+pe(this._platformLocation.search),He=this._platformLocation.hash;return He&&B?`${G}${He}`:G}pushState(B,G,He,Pt){const en=this.prepareExternalUrl(He+pe(Pt));this._platformLocation.pushState(B,G,en)}replaceState(B,G,He,Pt){const en=this.prepareExternalUrl(He+pe(Pt));this._platformLocation.replaceState(B,G,en)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(G){return new(G||R)(u.LFG(ge),u.LFG(Ie,8))};static#t=this.\u0275prov=u.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})(),xe=(()=>{class R extends Me{constructor(B,G){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(B){const G=q(this._baseHref,B);return G.length>0?"#"+G:G}pushState(B,G,He,Pt){let en=this.prepareExternalUrl(He+pe(Pt));0==en.length&&(en=this._platformLocation.pathname),this._platformLocation.pushState(B,G,en)}replaceState(B,G,He,Pt){let en=this.prepareExternalUrl(He+pe(Pt));0==en.length&&(en=this._platformLocation.pathname),this._platformLocation.replaceState(B,G,en)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(G){return new(G||R)(u.LFG(ge),u.LFG(Ie,8))};static#t=this.\u0275prov=u.Yz7({token:R,factory:R.\u0275fac})}return R})(),me=(()=>{class R{constructor(B){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const G=this._locationStrategy.getBaseHref();this._basePath=function se(R){if(new RegExp("^(https?:)?//").test(R)){const[,B]=R.split(/\/\/[^\/]+/);return B}return R}(ne(st(G))),this._locationStrategy.onPopState(He=>{this._subject.emit({url:this.path(!0),pop:!0,state:He.state,type:He.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,G=""){return this.path()==this.normalize(B+pe(G))}normalize(B){return R.stripTrailingSlash(function lt(R,J){if(!R||!J.startsWith(R))return J;const B=J.substring(R.length);return""===B||["/",";","?","#"].includes(B[0])?B:J}(this._basePath,st(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,G="",He=null){this._locationStrategy.pushState(He,"",B,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+pe(G)),He)}replaceState(B,G="",He=null){this._locationStrategy.replaceState(He,"",B,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+pe(G)),He)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",G){this._urlChangeListeners.forEach(He=>He(B,G))}subscribe(B,G,He){return this._subject.subscribe({next:B,error:G,complete:He})}static#e=this.normalizeQueryParams=pe;static#t=this.joinWithSlash=q;static#n=this.stripTrailingSlash=ne;static#i=this.\u0275fac=function(G){return new(G||R)(u.LFG(Me))};static#r=this.\u0275prov=u.Yz7({token:R,factory:function(){return function ye(){return new me((0,u.LFG)(Me))}()},providedIn:"root"})}return R})();function st(R){return R.replace(/\/index.html$/,"")}var Ze=function(R){return R[R.Format=0]="Format",R[R.Standalone=1]="Standalone",R}(Ze||{}),Oe=function(R){return R[R.Narrow=0]="Narrow",R[R.Abbreviated=1]="Abbreviated",R[R.Wide=2]="Wide",R[R.Short=3]="Short",R}(Oe||{}),zt=function(R){return R[R.Short=0]="Short",R[R.Medium=1]="Medium",R[R.Long=2]="Long",R[R.Full=3]="Full",R}(zt||{}),Qt=function(R){return R[R.Decimal=0]="Decimal",R[R.Group=1]="Group",R[R.List=2]="List",R[R.PercentSign=3]="PercentSign",R[R.PlusSign=4]="PlusSign",R[R.MinusSign=5]="MinusSign",R[R.Exponential=6]="Exponential",R[R.SuperscriptingExponent=7]="SuperscriptingExponent",R[R.PerMille=8]="PerMille",R[R.Infinity=9]="Infinity",R[R.NaN=10]="NaN",R[R.TimeSeparator=11]="TimeSeparator",R[R.CurrencyDecimal=12]="CurrencyDecimal",R[R.CurrencyGroup=13]="CurrencyGroup",R}(Qt||{});function Le(R,J){return Je((0,u.cg1)(R)[u.wAp.DateFormat],J)}function Re(R,J){return Je((0,u.cg1)(R)[u.wAp.TimeFormat],J)}function tt(R,J){return Je((0,u.cg1)(R)[u.wAp.DateTimeFormat],J)}function et(R,J){const B=(0,u.cg1)(R),G=B[u.wAp.NumberSymbols][J];if(typeof G>"u"){if(J===Qt.CurrencyDecimal)return B[u.wAp.NumberSymbols][Qt.Decimal];if(J===Qt.CurrencyGroup)return B[u.wAp.NumberSymbols][Qt.Group]}return G}function _t(R){if(!R[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Je(R,J){for(let B=J;B>-1;B--)if(typeof R[B]<"u")return R[B];throw new Error("Locale data API: locale data undefined")}function Ot(R){const[J,B]=R.split(":");return{hours:+J,minutes:+B}}const dt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gt={},It=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ke=function(R){return R[R.Short=0]="Short",R[R.ShortGMT=1]="ShortGMT",R[R.Long=2]="Long",R[R.Extended=3]="Extended",R}(Ke||{}),V=function(R){return R[R.FullYear=0]="FullYear",R[R.Month=1]="Month",R[R.Date=2]="Date",R[R.Hours=3]="Hours",R[R.Minutes=4]="Minutes",R[R.Seconds=5]="Seconds",R[R.FractionalSeconds=6]="FractionalSeconds",R[R.Day=7]="Day",R}(V||{}),H=function(R){return R[R.DayPeriods=0]="DayPeriods",R[R.Days=1]="Days",R[R.Months=2]="Months",R[R.Eras=3]="Eras",R}(H||{});function re(R,J,B,G){let He=function Q(R){if(M(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[He,Pt=1,en=1]=R.split("-").map(Un=>+Un);return ut(He,Pt-1,en)}const B=parseFloat(R);if(!isNaN(R-B))return new Date(B);let G;if(G=R.match(dt))return function F(R){const J=new Date(0);let B=0,G=0;const He=R[8]?J.setUTCFullYear:J.setFullYear,Pt=R[8]?J.setUTCHours:J.setHours;R[9]&&(B=Number(R[9]+R[10]),G=Number(R[9]+R[11])),He.call(J,Number(R[1]),Number(R[2])-1,Number(R[3]));const en=Number(R[4]||0)-B,Un=Number(R[5]||0)-G,$i=Number(R[6]||0),Fi=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return Pt.call(J,en,Un,$i,Fi),J}(G)}const J=new Date(R);if(!M(J))throw new Error(`Unable to convert "${R}" into a date`);return J}(R);J=Ve(B,J)||J;let Un,en=[];for(;J;){if(Un=It.exec(J),!Un){en.push(J);break}{en=en.concat(Un.slice(1));const Ti=en.pop();if(!Ti)break;J=Ti}}let $i=He.getTimezoneOffset();G&&($i=We(G,$i),He=function he(R,J,B){const G=B?-1:1,He=R.getTimezoneOffset();return function yt(R,J){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+J),R}(R,G*(We(J,He)-He))}(He,G,!0));let Fi="";return en.forEach(Ti=>{const si=function Ee(R){if(Fe[R])return Fe[R];let J;switch(R){case"G":case"GG":case"GGG":J=Lt(H.Eras,Oe.Abbreviated);break;case"GGGG":J=Lt(H.Eras,Oe.Wide);break;case"GGGGG":J=Lt(H.Eras,Oe.Narrow);break;case"y":J=rt(V.FullYear,1,0,!1,!0);break;case"yy":J=rt(V.FullYear,2,0,!0,!0);break;case"yyy":J=rt(V.FullYear,3,0,!1,!0);break;case"yyyy":J=rt(V.FullYear,4,0,!1,!0);break;case"Y":J=nt(1);break;case"YY":J=nt(2,!0);break;case"YYY":J=nt(3);break;case"YYYY":J=nt(4);break;case"M":case"L":J=rt(V.Month,1,1);break;case"MM":case"LL":J=rt(V.Month,2,1);break;case"MMM":J=Lt(H.Months,Oe.Abbreviated);break;case"MMMM":J=Lt(H.Months,Oe.Wide);break;case"MMMMM":J=Lt(H.Months,Oe.Narrow);break;case"LLL":J=Lt(H.Months,Oe.Abbreviated,Ze.Standalone);break;case"LLLL":J=Lt(H.Months,Oe.Wide,Ze.Standalone);break;case"LLLLL":J=Lt(H.Months,Oe.Narrow,Ze.Standalone);break;case"w":J=At(1);break;case"ww":J=At(2);break;case"W":J=At(1,!0);break;case"d":J=rt(V.Date,1);break;case"dd":J=rt(V.Date,2);break;case"c":case"cc":J=rt(V.Day,1);break;case"ccc":J=Lt(H.Days,Oe.Abbreviated,Ze.Standalone);break;case"cccc":J=Lt(H.Days,Oe.Wide,Ze.Standalone);break;case"ccccc":J=Lt(H.Days,Oe.Narrow,Ze.Standalone);break;case"cccccc":J=Lt(H.Days,Oe.Short,Ze.Standalone);break;case"E":case"EE":case"EEE":J=Lt(H.Days,Oe.Abbreviated);break;case"EEEE":J=Lt(H.Days,Oe.Wide);break;case"EEEEE":J=Lt(H.Days,Oe.Narrow);break;case"EEEEEE":J=Lt(H.Days,Oe.Short);break;case"a":case"aa":case"aaa":J=Lt(H.DayPeriods,Oe.Abbreviated);break;case"aaaa":J=Lt(H.DayPeriods,Oe.Wide);break;case"aaaaa":J=Lt(H.DayPeriods,Oe.Narrow);break;case"b":case"bb":case"bbb":J=Lt(H.DayPeriods,Oe.Abbreviated,Ze.Standalone,!0);break;case"bbbb":J=Lt(H.DayPeriods,Oe.Wide,Ze.Standalone,!0);break;case"bbbbb":J=Lt(H.DayPeriods,Oe.Narrow,Ze.Standalone,!0);break;case"B":case"BB":case"BBB":J=Lt(H.DayPeriods,Oe.Abbreviated,Ze.Format,!0);break;case"BBBB":J=Lt(H.DayPeriods,Oe.Wide,Ze.Format,!0);break;case"BBBBB":J=Lt(H.DayPeriods,Oe.Narrow,Ze.Format,!0);break;case"h":J=rt(V.Hours,1,-12);break;case"hh":J=rt(V.Hours,2,-12);break;case"H":J=rt(V.Hours,1);break;case"HH":J=rt(V.Hours,2);break;case"m":J=rt(V.Minutes,1);break;case"mm":J=rt(V.Minutes,2);break;case"s":J=rt(V.Seconds,1);break;case"ss":J=rt(V.Seconds,2);break;case"S":J=rt(V.FractionalSeconds,1);break;case"SS":J=rt(V.FractionalSeconds,2);break;case"SSS":J=rt(V.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":J=Pn(Ke.Short);break;case"ZZZZZ":J=Pn(Ke.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":J=Pn(Ke.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":J=Pn(Ke.Long);break;default:return null}return Fe[R]=J,J}(Ti);Fi+=si?si(He,B,$i):"''"===Ti?"'":Ti.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Fi}function ut(R,J,B){const G=new Date(0);return G.setFullYear(R,J,B),G.setHours(0,0,0),G}function Ve(R,J){const B=function cn(R){return(0,u.cg1)(R)[u.wAp.LocaleId]}(R);if(Gt[B]=Gt[B]||{},Gt[B][J])return Gt[B][J];let G="";switch(J){case"shortDate":G=Le(R,zt.Short);break;case"mediumDate":G=Le(R,zt.Medium);break;case"longDate":G=Le(R,zt.Long);break;case"fullDate":G=Le(R,zt.Full);break;case"shortTime":G=Re(R,zt.Short);break;case"mediumTime":G=Re(R,zt.Medium);break;case"longTime":G=Re(R,zt.Long);break;case"fullTime":G=Re(R,zt.Full);break;case"short":const He=Ve(R,"shortTime"),Pt=Ve(R,"shortDate");G=pt(tt(R,zt.Short),[He,Pt]);break;case"medium":const en=Ve(R,"mediumTime"),Un=Ve(R,"mediumDate");G=pt(tt(R,zt.Medium),[en,Un]);break;case"long":const $i=Ve(R,"longTime"),Fi=Ve(R,"longDate");G=pt(tt(R,zt.Long),[$i,Fi]);break;case"full":const Ti=Ve(R,"fullTime"),si=Ve(R,"fullDate");G=pt(tt(R,zt.Full),[Ti,si])}return G&&(Gt[B][J]=G),G}function pt(R,J){return J&&(R=R.replace(/\{([^}]+)}/g,function(B,G){return null!=J&&G in J?J[G]:B})),R}function ke(R,J,B="-",G,He){let Pt="";(R<0||He&&R<=0)&&(He?R=1-R:(R=-R,Pt=B));let en=String(R);for(;en.length<J;)en="0"+en;return G&&(en=en.slice(en.length-J)),Pt+en}function rt(R,J,B=0,G=!1,He=!1){return function(Pt,en){let Un=function qt(R,J){switch(R){case V.FullYear:return J.getFullYear();case V.Month:return J.getMonth();case V.Date:return J.getDate();case V.Hours:return J.getHours();case V.Minutes:return J.getMinutes();case V.Seconds:return J.getSeconds();case V.FractionalSeconds:return J.getMilliseconds();case V.Day:return J.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,Pt);if((B>0||Un>-B)&&(Un+=B),R===V.Hours)0===Un&&-12===B&&(Un=12);else if(R===V.FractionalSeconds)return function ht(R,J){return ke(R,3).substring(0,J)}(Un,J);const $i=et(en,Qt.MinusSign);return ke(Un,J,$i,G,He)}}function Lt(R,J,B=Ze.Format,G=!1){return function(He,Pt){return function hn(R,J,B,G,He,Pt){switch(B){case H.Months:return function mn(R,J,B){const G=(0,u.cg1)(R),Pt=Je([G[u.wAp.MonthsFormat],G[u.wAp.MonthsStandalone]],J);return Je(Pt,B)}(J,He,G)[R.getMonth()];case H.Days:return function gn(R,J,B){const G=(0,u.cg1)(R),Pt=Je([G[u.wAp.DaysFormat],G[u.wAp.DaysStandalone]],J);return Je(Pt,B)}(J,He,G)[R.getDay()];case H.DayPeriods:const en=R.getHours(),Un=R.getMinutes();if(Pt){const Fi=function Nt(R){const J=(0,u.cg1)(R);return _t(J),(J[u.wAp.ExtraData][2]||[]).map(G=>"string"==typeof G?Ot(G):[Ot(G[0]),Ot(G[1])])}(J),Ti=function Kt(R,J,B){const G=(0,u.cg1)(R);_t(G);const Pt=Je([G[u.wAp.ExtraData][0],G[u.wAp.ExtraData][1]],J)||[];return Je(Pt,B)||[]}(J,He,G),si=Fi.findIndex(Yi=>{if(Array.isArray(Yi)){const[Li,fr]=Yi,Xo=en>=Li.hours&&Un>=Li.minutes,ko=en<fr.hours||en===fr.hours&&Un<fr.minutes;if(Li.hours<fr.hours){if(Xo&&ko)return!0}else if(Xo||ko)return!0}else if(Yi.hours===en&&Yi.minutes===Un)return!0;return!1});if(-1!==si)return Ti[si]}return function jt(R,J,B){const G=(0,u.cg1)(R),Pt=Je([G[u.wAp.DayPeriodsFormat],G[u.wAp.DayPeriodsStandalone]],J);return Je(Pt,B)}(J,He,G)[en<12?0:1];case H.Eras:return function tn(R,J){return Je((0,u.cg1)(R)[u.wAp.Eras],J)}(J,G)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(He,Pt,R,J,B,G)}}function Pn(R){return function(J,B,G){const He=-1*G,Pt=et(B,Qt.MinusSign),en=He>0?Math.floor(He/60):Math.ceil(He/60);switch(R){case Ke.Short:return(He>=0?"+":"")+ke(en,2,Pt)+ke(Math.abs(He%60),2,Pt);case Ke.ShortGMT:return"GMT"+(He>=0?"+":"")+ke(en,1,Pt);case Ke.Long:return"GMT"+(He>=0?"+":"")+ke(en,2,Pt)+":"+ke(Math.abs(He%60),2,Pt);case Ke.Extended:return 0===G?"Z":(He>=0?"+":"")+ke(en,2,Pt)+":"+ke(Math.abs(He%60),2,Pt);default:throw new Error(`Unknown zone width "${R}"`)}}}const Wn=0,Kn=4;function An(R){return ut(R.getFullYear(),R.getMonth(),R.getDate()+(Kn-R.getDay()))}function At(R,J=!1){return function(B,G){let He;if(J){const Pt=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,en=B.getDate();He=1+Math.floor((en+Pt)/7)}else{const Pt=An(B),en=function Tt(R){const J=ut(R,Wn,1).getDay();return ut(R,0,1+(J<=Kn?Kn:Kn+7)-J)}(Pt.getFullYear()),Un=Pt.getTime()-en.getTime();He=1+Math.round(Un/6048e5)}return ke(He,R,et(G,Qt.MinusSign))}}function nt(R,J=!1){return function(B,G){return ke(An(B).getFullYear(),R,et(G,Qt.MinusSign),J)}}const Fe={};function We(R,J){R=R.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(B)?J:B}function M(R){return R instanceof Date&&!isNaN(R.valueOf())}function nn(R,J){J=encodeURIComponent(J);for(const B of R.split(";")){const G=B.indexOf("="),[He,Pt]=-1==G?[B,""]:[B.slice(0,G),B.slice(G+1)];if(He.trim()===J)return decodeURIComponent(Pt)}return null}const Bn=/\s+/,Ln=[];let ei=(()=>{class R{constructor(B,G,He,Pt){this._iterableDiffers=B,this._keyValueDiffers=G,this._ngEl=He,this._renderer=Pt,this.initialClasses=Ln,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Bn):Ln}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Bn):B}ngDoCheck(){for(const G of this.initialClasses)this._updateState(G,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const G of B)this._updateState(G,!0);else if(null!=B)for(const G of Object.keys(B))this._updateState(G,!!B[G]);this._applyStateDiff()}_updateState(B,G){const He=this.stateMap.get(B);void 0!==He?(He.enabled!==G&&(He.changed=!0,He.enabled=G),He.touched=!0):this.stateMap.set(B,{enabled:G,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const G=B[0],He=B[1];He.changed?(this._toggleClass(G,He.enabled),He.changed=!1):He.touched||(He.enabled&&this._toggleClass(G,!1),this.stateMap.delete(G)),He.touched=!1}}_toggleClass(B,G){(B=B.trim()).length>0&&B.split(Bn).forEach(He=>{G?this._renderer.addClass(this._ngEl.nativeElement,He):this._renderer.removeClass(this._ngEl.nativeElement,He)})}static#e=this.\u0275fac=function(G){return new(G||R)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return R})();class Nn{constructor(J,B,G,He){this.$implicit=J,this.ngForOf=B,this.index=G,this.count=He}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vi=(()=>{class R{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,G,He){this._viewContainer=B,this._template=G,this._differs=He,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const G=this._viewContainer;B.forEachOperation((He,Pt,en)=>{if(null==He.previousIndex)G.createEmbeddedView(this._template,new Nn(He.item,this._ngForOf,-1,-1),null===en?void 0:en);else if(null==en)G.remove(null===Pt?void 0:Pt);else if(null!==Pt){const Un=G.get(Pt);G.move(Un,en),ur(Un,He)}});for(let He=0,Pt=G.length;He<Pt;He++){const Un=G.get(He).context;Un.index=He,Un.count=Pt,Un.ngForOf=this._ngForOf}B.forEachIdentityChange(He=>{ur(G.get(He.currentIndex),He)})}static ngTemplateContextGuard(B,G){return!0}static#e=this.\u0275fac=function(G){return new(G||R)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))};static#t=this.\u0275dir=u.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return R})();function ur(R,J){R.context.$implicit=J.item}let Hi=(()=>{class R{constructor(B,G){this._viewContainer=B,this._context=new Pr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){go("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){go("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,G){return!0}static#e=this.\u0275fac=function(G){return new(G||R)(u.Y36(u.s_b),u.Y36(u.Rgc))};static#t=this.\u0275dir=u.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return R})();class Pr{constructor(){this.$implicit=null,this.ngIf=null}}function go(R,J){if(J&&!J.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,u.AaK)(J)}'.`)}class Wo{constructor(J,B){this._viewContainerRef=J,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(J){J&&!this._created?this.create():!J&&this._created&&this.destroy()}}let ar=(()=>{class R{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const G=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||G,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),G}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const G of this._defaultViews)G.enforceState(B)}}static#e=this.\u0275fac=function(G){return new(G||R)};static#t=this.\u0275dir=u.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return R})(),Sa=(()=>{class R{constructor(B,G,He){this.ngSwitch=He,He._addCase(),this._view=new Wo(B,G)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(G){return new(G||R)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ar,9))};static#t=this.\u0275dir=u.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return R})(),Ts=(()=>{class R{constructor(B,G,He){He._addDefault(new Wo(B,G))}static#e=this.\u0275fac=function(G){return new(G||R)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ar,9))};static#t=this.\u0275dir=u.lG2({type:R,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return R})(),Ss=(()=>{class R{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const G=this._viewContainerRef;if(this._viewRef&&G.remove(G.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:He,ngTemplateOutletContext:Pt,ngTemplateOutletInjector:en}=this;this._viewRef=G.createEmbeddedView(He,Pt,en?{injector:en}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(G){return new(G||R)(u.Y36(u.s_b))};static#t=this.\u0275dir=u.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]})}return R})();function br(R,J){return new u.vHH(2100,!1)}class ze{createSubscription(J,B){return(0,u.rg0)(()=>J.subscribe({next:B,error:G=>{throw G}}))}dispose(J){(0,u.rg0)(()=>J.unsubscribe())}}class Yt{createSubscription(J,B){return J.then(B,G=>{throw G})}dispose(J){}}const Et=new Yt,Mt=new ze;let dn=(()=>{class R{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,G=>this._updateLatestValue(B,G))}_selectStrategy(B){if((0,u.QGY)(B))return Et;if((0,u.F4k)(B))return Mt;throw br()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,G){B===this._obj&&(this._latestValue=G,this._ref.markForCheck())}static#e=this.\u0275fac=function(G){return new(G||R)(u.Y36(u.sBO,16))};static#t=this.\u0275pipe=u.Yjl({name:"async",type:R,pure:!1,standalone:!0})}return R})();const Fn=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Si=new u.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ci=(()=>{class R{constructor(B,G,He){this.locale=B,this.defaultTimezone=G,this.defaultOptions=He}transform(B,G,He,Pt){if(null==B||""===B||B!=B)return null;try{return re(B,G??this.defaultOptions?.dateFormat??"mediumDate",Pt||this.locale,He??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(en){throw br()}}static#e=this.\u0275fac=function(G){return new(G||R)(u.Y36(u.soG,16),u.Y36(Fn,24),u.Y36(Si,24))};static#t=this.\u0275pipe=u.Yjl({name:"date",type:R,pure:!0,standalone:!0})}return R})(),Oo=(()=>{class R{static#e=this.\u0275fac=function(G){return new(G||R)};static#t=this.\u0275mod=u.oAB({type:R});static#n=this.\u0275inj=u.cJS({})}return R})();const Ni="browser",Or="server";function ms(R){return R===Ni}function Ir(R){return R===Or}let Yo=(()=>{class R{static#e=this.\u0275prov=(0,u.Yz7)({token:R,providedIn:"root",factory:()=>new _o((0,u.LFG)(fe),window)})}return R})();class _o{constructor(J,B){this.document=J,this.window=B,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const B=function Hr(R,J){const B=R.getElementById(J)||R.getElementsByName(J)[0];if(B)return B;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const G=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let He=G.currentNode;for(;He;){const Pt=He.shadowRoot;if(Pt){const en=Pt.getElementById(J)||Pt.querySelector(`[name="${J}"]`);if(en)return en}He=G.nextNode()}}return null}(this.document,J);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(J){this.supportsScrolling()&&(this.window.history.scrollRestoration=J)}scrollToElement(J){const B=J.getBoundingClientRect(),G=B.left+this.window.pageXOffset,He=B.top+this.window.pageYOffset,Pt=this.offset();this.window.scrollTo(G-Pt[0],He-Pt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qr{}},9862:(Qe,ue,b)=>{b.d(ue,{JF:()=>x,eN:()=>Se});var u=b(5879),A=b(2096),S=b(2459),v=b(5592),te=b(6328),fe=b(2181),ge=b(7398),Z=b(4716),oe=b(4664),q=b(6814);class ne{}class pe{}class Me{constructor(Ge){this.normalizedNames=new Map,this.lazyUpdate=null,Ge?"string"==typeof Ge?this.lazyInit=()=>{this.headers=new Map,Ge.split("\n").forEach(ct=>{const je=ct.indexOf(":");if(je>0){const Ue=ct.slice(0,je),bt=Ue.toLowerCase(),Rt=ct.slice(je+1).trim();this.maybeSetNormalizedName(Ue,bt),this.headers.has(bt)?this.headers.get(bt).push(Rt):this.headers.set(bt,[Rt])}})}:typeof Headers<"u"&&Ge instanceof Headers?(this.headers=new Map,Ge.forEach((ct,je)=>{this.setHeaderEntries(je,ct)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ge).forEach(([ct,je])=>{this.setHeaderEntries(ct,je)})}:this.headers=new Map}has(Ge){return this.init(),this.headers.has(Ge.toLowerCase())}get(Ge){this.init();const ct=this.headers.get(Ge.toLowerCase());return ct&&ct.length>0?ct[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ge){return this.init(),this.headers.get(Ge.toLowerCase())||null}append(Ge,ct){return this.clone({name:Ge,value:ct,op:"a"})}set(Ge,ct){return this.clone({name:Ge,value:ct,op:"s"})}delete(Ge,ct){return this.clone({name:Ge,value:ct,op:"d"})}maybeSetNormalizedName(Ge,ct){this.normalizedNames.has(ct)||this.normalizedNames.set(ct,Ge)}init(){this.lazyInit&&(this.lazyInit instanceof Me?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ge=>this.applyUpdate(Ge)),this.lazyUpdate=null))}copyFrom(Ge){Ge.init(),Array.from(Ge.headers.keys()).forEach(ct=>{this.headers.set(ct,Ge.headers.get(ct)),this.normalizedNames.set(ct,Ge.normalizedNames.get(ct))})}clone(Ge){const ct=new Me;return ct.lazyInit=this.lazyInit&&this.lazyInit instanceof Me?this.lazyInit:this,ct.lazyUpdate=(this.lazyUpdate||[]).concat([Ge]),ct}applyUpdate(Ge){const ct=Ge.name.toLowerCase();switch(Ge.op){case"a":case"s":let je=Ge.value;if("string"==typeof je&&(je=[je]),0===je.length)return;this.maybeSetNormalizedName(Ge.name,ct);const Ue=("a"===Ge.op?this.headers.get(ct):void 0)||[];Ue.push(...je),this.headers.set(ct,Ue);break;case"d":const bt=Ge.value;if(bt){let Rt=this.headers.get(ct);if(!Rt)return;Rt=Rt.filter(ae=>-1===bt.indexOf(ae)),0===Rt.length?(this.headers.delete(ct),this.normalizedNames.delete(ct)):this.headers.set(ct,Rt)}else this.headers.delete(ct),this.normalizedNames.delete(ct)}}setHeaderEntries(Ge,ct){const je=(Array.isArray(ct)?ct:[ct]).map(bt=>bt.toString()),Ue=Ge.toLowerCase();this.headers.set(Ue,je),this.maybeSetNormalizedName(Ge,Ue)}forEach(Ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(ct=>Ge(this.normalizedNames.get(ct),this.headers.get(ct)))}}class Ne{encodeKey(Ge){return lt(Ge)}encodeValue(Ge){return lt(Ge)}decodeKey(Ge){return decodeURIComponent(Ge)}decodeValue(Ge){return decodeURIComponent(Ge)}}const me=/%(\d[a-f0-9])/gi,ye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lt(ot){return encodeURIComponent(ot).replace(me,(Ge,ct)=>ye[ct]??Ge)}function st(ot){return`${ot}`}class se{constructor(Ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ge.encoder||new Ne,Ge.fromString){if(Ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xe(ot,Ge){const ct=new Map;return ot.length>0&&ot.replace(/^\?/,"").split("&").forEach(Ue=>{const bt=Ue.indexOf("="),[Rt,ae]=-1==bt?[Ge.decodeKey(Ue),""]:[Ge.decodeKey(Ue.slice(0,bt)),Ge.decodeValue(Ue.slice(bt+1))],mt=ct.get(Rt)||[];mt.push(ae),ct.set(Rt,mt)}),ct}(Ge.fromString,this.encoder)}else Ge.fromObject?(this.map=new Map,Object.keys(Ge.fromObject).forEach(ct=>{const je=Ge.fromObject[ct],Ue=Array.isArray(je)?je.map(st):[st(je)];this.map.set(ct,Ue)})):this.map=null}has(Ge){return this.init(),this.map.has(Ge)}get(Ge){this.init();const ct=this.map.get(Ge);return ct?ct[0]:null}getAll(Ge){return this.init(),this.map.get(Ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ge,ct){return this.clone({param:Ge,value:ct,op:"a"})}appendAll(Ge){const ct=[];return Object.keys(Ge).forEach(je=>{const Ue=Ge[je];Array.isArray(Ue)?Ue.forEach(bt=>{ct.push({param:je,value:bt,op:"a"})}):ct.push({param:je,value:Ue,op:"a"})}),this.clone(ct)}set(Ge,ct){return this.clone({param:Ge,value:ct,op:"s"})}delete(Ge,ct){return this.clone({param:Ge,value:ct,op:"d"})}toString(){return this.init(),this.keys().map(Ge=>{const ct=this.encoder.encodeKey(Ge);return this.map.get(Ge).map(je=>ct+"="+this.encoder.encodeValue(je)).join("&")}).filter(Ge=>""!==Ge).join("&")}clone(Ge){const ct=new se({encoder:this.encoder});return ct.cloneFrom=this.cloneFrom||this,ct.updates=(this.updates||[]).concat(Ge),ct}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ge=>this.map.set(Ge,this.cloneFrom.map.get(Ge))),this.updates.forEach(Ge=>{switch(Ge.op){case"a":case"s":const ct=("a"===Ge.op?this.map.get(Ge.param):void 0)||[];ct.push(st(Ge.value)),this.map.set(Ge.param,ct);break;case"d":if(void 0===Ge.value){this.map.delete(Ge.param);break}{let je=this.map.get(Ge.param)||[];const Ue=je.indexOf(st(Ge.value));-1!==Ue&&je.splice(Ue,1),je.length>0?this.map.set(Ge.param,je):this.map.delete(Ge.param)}}}),this.cloneFrom=this.updates=null)}}class Ce{constructor(){this.map=new Map}set(Ge,ct){return this.map.set(Ge,ct),this}get(Ge){return this.map.has(Ge)||this.map.set(Ge,Ge.defaultValue()),this.map.get(Ge)}delete(Ge){return this.map.delete(Ge),this}has(Ge){return this.map.has(Ge)}keys(){return this.map.keys()}}function Ze(ot){return typeof ArrayBuffer<"u"&&ot instanceof ArrayBuffer}function Oe(ot){return typeof Blob<"u"&&ot instanceof Blob}function zt(ot){return typeof FormData<"u"&&ot instanceof FormData}class Vt{constructor(Ge,ct,je,Ue){let bt;if(this.url=ct,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ge.toUpperCase(),function qe(ot){switch(ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ue?(this.body=void 0!==je?je:null,bt=Ue):bt=je,bt&&(this.reportProgress=!!bt.reportProgress,this.withCredentials=!!bt.withCredentials,bt.responseType&&(this.responseType=bt.responseType),bt.headers&&(this.headers=bt.headers),bt.context&&(this.context=bt.context),bt.params&&(this.params=bt.params)),this.headers||(this.headers=new Me),this.context||(this.context=new Ce),this.params){const Rt=this.params.toString();if(0===Rt.length)this.urlWithParams=ct;else{const ae=ct.indexOf("?");this.urlWithParams=ct+(-1===ae?"?":ae<ct.length-1?"&":"")+Rt}}else this.params=new se,this.urlWithParams=ct}serializeBody(){return null===this.body?null:Ze(this.body)||Oe(this.body)||zt(this.body)||function Qt(ot){return typeof URLSearchParams<"u"&&ot instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zt(this.body)?null:Oe(this.body)?this.body.type||null:Ze(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ge={}){const ct=Ge.method||this.method,je=Ge.url||this.url,Ue=Ge.responseType||this.responseType,bt=void 0!==Ge.body?Ge.body:this.body,Rt=void 0!==Ge.withCredentials?Ge.withCredentials:this.withCredentials,ae=void 0!==Ge.reportProgress?Ge.reportProgress:this.reportProgress;let mt=Ge.headers||this.headers,X=Ge.params||this.params;const we=Ge.context??this.context;return void 0!==Ge.setHeaders&&(mt=Object.keys(Ge.setHeaders).reduce((Xe,Ft)=>Xe.set(Ft,Ge.setHeaders[Ft]),mt)),Ge.setParams&&(X=Object.keys(Ge.setParams).reduce((Xe,Ft)=>Xe.set(Ft,Ge.setParams[Ft]),X)),new Vt(ct,je,bt,{params:X,headers:mt,context:we,reportProgress:ae,responseType:Ue,withCredentials:Rt})}}var cn=function(ot){return ot[ot.Sent=0]="Sent",ot[ot.UploadProgress=1]="UploadProgress",ot[ot.ResponseHeader=2]="ResponseHeader",ot[ot.DownloadProgress=3]="DownloadProgress",ot[ot.Response=4]="Response",ot[ot.User=5]="User",ot}(cn||{});class jt{constructor(Ge,ct=200,je="OK"){this.headers=Ge.headers||new Me,this.status=void 0!==Ge.status?Ge.status:ct,this.statusText=Ge.statusText||je,this.url=Ge.url||null,this.ok=this.status>=200&&this.status<300}}class gn extends jt{constructor(Ge={}){super(Ge),this.type=cn.ResponseHeader}clone(Ge={}){return new gn({headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class mn extends jt{constructor(Ge={}){super(Ge),this.type=cn.Response,this.body=void 0!==Ge.body?Ge.body:null}clone(Ge={}){return new mn({body:void 0!==Ge.body?Ge.body:this.body,headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class tn extends jt{constructor(Ge){super(Ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ge.url||"(unknown url)"}`:`Http failure response for ${Ge.url||"(unknown url)"}: ${Ge.status} ${Ge.statusText}`,this.error=Ge.error||null}}function bn(ot,Ge){return{body:Ge,headers:ot.headers,context:ot.context,observe:ot.observe,params:ot.params,reportProgress:ot.reportProgress,responseType:ot.responseType,withCredentials:ot.withCredentials}}let Se=(()=>{class ot{constructor(ct){this.handler=ct}request(ct,je,Ue={}){let bt;if(ct instanceof Vt)bt=ct;else{let mt,X;mt=Ue.headers instanceof Me?Ue.headers:new Me(Ue.headers),Ue.params&&(X=Ue.params instanceof se?Ue.params:new se({fromObject:Ue.params})),bt=new Vt(ct,je,void 0!==Ue.body?Ue.body:null,{headers:mt,context:Ue.context,params:X,reportProgress:Ue.reportProgress,responseType:Ue.responseType||"json",withCredentials:Ue.withCredentials})}const Rt=(0,A.of)(bt).pipe((0,te.b)(mt=>this.handler.handle(mt)));if(ct instanceof Vt||"events"===Ue.observe)return Rt;const ae=Rt.pipe((0,fe.h)(mt=>mt instanceof mn));switch(Ue.observe||"body"){case"body":switch(bt.responseType){case"arraybuffer":return ae.pipe((0,ge.U)(mt=>{if(null!==mt.body&&!(mt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return mt.body}));case"blob":return ae.pipe((0,ge.U)(mt=>{if(null!==mt.body&&!(mt.body instanceof Blob))throw new Error("Response is not a Blob.");return mt.body}));case"text":return ae.pipe((0,ge.U)(mt=>{if(null!==mt.body&&"string"!=typeof mt.body)throw new Error("Response is not a string.");return mt.body}));default:return ae.pipe((0,ge.U)(mt=>mt.body))}case"response":return ae;default:throw new Error(`Unreachable: unhandled observe type ${Ue.observe}}`)}}delete(ct,je={}){return this.request("DELETE",ct,je)}get(ct,je={}){return this.request("GET",ct,je)}head(ct,je={}){return this.request("HEAD",ct,je)}jsonp(ct,je){return this.request("JSONP",ct,{params:(new se).append(je,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ct,je={}){return this.request("OPTIONS",ct,je)}patch(ct,je,Ue={}){return this.request("PATCH",ct,bn(Ue,je))}post(ct,je,Ue={}){return this.request("POST",ct,bn(Ue,je))}put(ct,je,Ue={}){return this.request("PUT",ct,bn(Ue,je))}static#e=this.\u0275fac=function(je){return new(je||ot)(u.LFG(ne))};static#t=this.\u0275prov=u.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();function Be(ot,Ge){return Ge(ot)}function ve(ot,Ge){return(ct,je)=>Ge.intercept(ct,{handle:Ue=>ot(Ue,je)})}const _t=new u.OlP(""),Nt=new u.OlP(""),Kt=new u.OlP("");function yn(){let ot=null;return(Ge,ct)=>{null===ot&&(ot=((0,u.f3M)(_t,{optional:!0})??[]).reduceRight(ve,Be));const je=(0,u.f3M)(u.HDt),Ue=je.add();return ot(Ge,ct).pipe((0,Z.x)(()=>je.remove(Ue)))}}let Je=(()=>{class ot extends ne{constructor(ct,je){super(),this.backend=ct,this.injector=je,this.chain=null,this.pendingTasks=(0,u.f3M)(u.HDt)}handle(ct){if(null===this.chain){const Ue=Array.from(new Set([...this.injector.get(Nt),...this.injector.get(Kt,[])]));this.chain=Ue.reduceRight((bt,Rt)=>function it(ot,Ge,ct){return(je,Ue)=>ct.runInContext(()=>Ge(je,bt=>ot(bt,Ue)))}(bt,Rt,this.injector),Be)}const je=this.pendingTasks.add();return this.chain(ct,Ue=>this.backend.handle(Ue)).pipe((0,Z.x)(()=>this.pendingTasks.remove(je)))}static#e=this.\u0275fac=function(je){return new(je||ot)(u.LFG(pe),u.LFG(u.lqb))};static#t=this.\u0275prov=u.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const ut=/^\)\]\}',?\n/;let pt=(()=>{class ot{constructor(ct){this.xhrFactory=ct}handle(ct){if("JSONP"===ct.method)throw new u.vHH(-2800,!1);const je=this.xhrFactory;return(je.\u0275loadImpl?(0,S.D)(je.\u0275loadImpl()):(0,A.of)(null)).pipe((0,oe.w)(()=>new v.y(bt=>{const Rt=je.build();if(Rt.open(ct.method,ct.urlWithParams),ct.withCredentials&&(Rt.withCredentials=!0),ct.headers.forEach((Ln,ei)=>Rt.setRequestHeader(Ln,ei.join(","))),ct.headers.has("Accept")||Rt.setRequestHeader("Accept","application/json, text/plain, */*"),!ct.headers.has("Content-Type")){const Ln=ct.detectContentTypeHeader();null!==Ln&&Rt.setRequestHeader("Content-Type",Ln)}if(ct.responseType){const Ln=ct.responseType.toLowerCase();Rt.responseType="json"!==Ln?Ln:"text"}const ae=ct.serializeBody();let mt=null;const X=()=>{if(null!==mt)return mt;const Ln=Rt.statusText||"OK",ei=new Me(Rt.getAllResponseHeaders()),ci=function Ve(ot){return"responseURL"in ot&&ot.responseURL?ot.responseURL:/^X-Request-URL:/m.test(ot.getAllResponseHeaders())?ot.getResponseHeader("X-Request-URL"):null}(Rt)||ct.url;return mt=new gn({headers:ei,status:Rt.status,statusText:Ln,url:ci}),mt},we=()=>{let{headers:Ln,status:ei,statusText:ci,url:_i}=X(),Nn=null;204!==ei&&(Nn=typeof Rt.response>"u"?Rt.responseText:Rt.response),0===ei&&(ei=Nn?200:0);let vi=ei>=200&&ei<300;if("json"===ct.responseType&&"string"==typeof Nn){const ur=Nn;Nn=Nn.replace(ut,"");try{Nn=""!==Nn?JSON.parse(Nn):null}catch(Ji){Nn=ur,vi&&(vi=!1,Nn={error:Ji,text:Nn})}}vi?(bt.next(new mn({body:Nn,headers:Ln,status:ei,statusText:ci,url:_i||void 0})),bt.complete()):bt.error(new tn({error:Nn,headers:Ln,status:ei,statusText:ci,url:_i||void 0}))},Xe=Ln=>{const{url:ei}=X(),ci=new tn({error:Ln,status:Rt.status||0,statusText:Rt.statusText||"Unknown Error",url:ei||void 0});bt.error(ci)};let Ft=!1;const nn=Ln=>{Ft||(bt.next(X()),Ft=!0);let ei={type:cn.DownloadProgress,loaded:Ln.loaded};Ln.lengthComputable&&(ei.total=Ln.total),"text"===ct.responseType&&Rt.responseText&&(ei.partialText=Rt.responseText),bt.next(ei)},Bn=Ln=>{let ei={type:cn.UploadProgress,loaded:Ln.loaded};Ln.lengthComputable&&(ei.total=Ln.total),bt.next(ei)};return Rt.addEventListener("load",we),Rt.addEventListener("error",Xe),Rt.addEventListener("timeout",Xe),Rt.addEventListener("abort",Xe),ct.reportProgress&&(Rt.addEventListener("progress",nn),null!==ae&&Rt.upload&&Rt.upload.addEventListener("progress",Bn)),Rt.send(ae),bt.next({type:cn.Sent}),()=>{Rt.removeEventListener("error",Xe),Rt.removeEventListener("abort",Xe),Rt.removeEventListener("load",we),Rt.removeEventListener("timeout",Xe),ct.reportProgress&&(Rt.removeEventListener("progress",nn),null!==ae&&Rt.upload&&Rt.upload.removeEventListener("progress",Bn)),Rt.readyState!==Rt.DONE&&Rt.abort()}})))}static#e=this.\u0275fac=function(je){return new(je||ot)(u.LFG(q.JF))};static#t=this.\u0275prov=u.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const ke=new u.OlP("XSRF_ENABLED"),rt=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Lt=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class hn{}let Pn=(()=>{class ot{constructor(ct,je,Ue){this.doc=ct,this.platform=je,this.cookieName=Ue,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ct=this.doc.cookie||"";return ct!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,q.Mx)(ct,this.cookieName),this.lastCookieString=ct),this.lastToken}static#e=this.\u0275fac=function(je){return new(je||ot)(u.LFG(q.K0),u.LFG(u.Lbi),u.LFG(rt))};static#t=this.\u0275prov=u.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();function Wn(ot,Ge){const ct=ot.url.toLowerCase();if(!(0,u.f3M)(ke)||"GET"===ot.method||"HEAD"===ot.method||ct.startsWith("http://")||ct.startsWith("https://"))return Ge(ot);const je=(0,u.f3M)(hn).getToken(),Ue=(0,u.f3M)(Lt);return null!=je&&!ot.headers.has(Ue)&&(ot=ot.clone({headers:ot.headers.set(Ue,je)})),Ge(ot)}var Tt=function(ot){return ot[ot.Interceptors=0]="Interceptors",ot[ot.LegacyInterceptors=1]="LegacyInterceptors",ot[ot.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ot[ot.NoXsrfProtection=3]="NoXsrfProtection",ot[ot.JsonpSupport=4]="JsonpSupport",ot[ot.RequestsMadeViaParent=5]="RequestsMadeViaParent",ot[ot.Fetch=6]="Fetch",ot}(Tt||{});function At(...ot){const Ge=[Se,pt,Je,{provide:ne,useExisting:Je},{provide:pe,useExisting:pt},{provide:Nt,useValue:Wn,multi:!0},{provide:ke,useValue:!0},{provide:hn,useClass:Pn}];for(const ct of ot)Ge.push(...ct.\u0275providers);return(0,u.MR2)(Ge)}const Fe=new u.OlP("LEGACY_INTERCEPTOR_FN");function Ee(){return function An(ot,Ge){return{\u0275kind:ot,\u0275providers:Ge}}(Tt.LegacyInterceptors,[{provide:Fe,useFactory:yn},{provide:Nt,useExisting:Fe,multi:!0}])}let x=(()=>{class ot{static#e=this.\u0275fac=function(je){return new(je||ot)};static#t=this.\u0275mod=u.oAB({type:ot});static#n=this.\u0275inj=u.cJS({providers:[At(Ee())]})}return ot})()},5879:(Qe,ue,b)=>{b.d(ue,{$8M:()=>_p,$WT:()=>co,$Z:()=>uC,AFp:()=>Zy,ALo:()=>Vx,AaK:()=>pe,BQk:()=>Sr,CHM:()=>gh,CRH:()=>RE,DdM:()=>Xd,EJc:()=>VS,EiD:()=>RI,EpF:()=>R_,F$t:()=>qb,F4k:()=>wf,FYo:()=>QI,FiY:()=>Ah,Flj:()=>kl,Gf:()=>AE,GfV:()=>bd,GkF:()=>am,Gpc:()=>Ne,Gre:()=>hm,HDt:()=>Dv,Hsn:()=>N_,Ikx:()=>gm,JOm:()=>Fa,JVY:()=>Bg,JZr:()=>st,KtG:()=>Qc,L6k:()=>Vy,LAX:()=>II,LFG:()=>Jt,Lbi:()=>Gg,Lck:()=>Tx,MAs:()=>$b,MMx:()=>nv,MR2:()=>Gy,NdJ:()=>P_,O4$:()=>Xv,Ojb:()=>HI,OlP:()=>rt,Oqu:()=>d0,P3R:()=>Hy,PXZ:()=>YS,Q6J:()=>Wb,QGY:()=>M_,QbO:()=>jI,Qsj:()=>Kh,R0b:()=>kn,RDi:()=>EI,Rgc:()=>Lf,SBq:()=>ou,Sil:()=>Tv,Suo:()=>SE,TTD:()=>si,TgZ:()=>T_,Udp:()=>U_,VuI:()=>YO,W1O:()=>PE,WFA:()=>O_,X6Q:()=>iR,XFs:()=>Ke,Xpm:()=>Yt,Xq5:()=>Sb,Xts:()=>zh,Y36:()=>Xh,YKP:()=>X0,YNc:()=>vf,Yjl:()=>mr,Yz7:()=>_t,Z0I:()=>Je,ZZ4:()=>PD,_Bn:()=>Dx,_UZ:()=>Gb,_Vd:()=>Kp,_c5:()=>LO,_uU:()=>bl,aQg:()=>OD,c2e:()=>zf,cJS:()=>Kt,cg1:()=>b0,d8E:()=>$d,dDg:()=>GS,dqk:()=>pt,eBb:()=>wI,eFA:()=>XS,eJc:()=>Sm,ekj:()=>z_,eoX:()=>WE,f3M:()=>pn,g9A:()=>zI,gHi:()=>an,h0i:()=>xu,hGG:()=>VO,hij:()=>El,iGM:()=>_v,ifc:()=>Rt,ip1:()=>HE,jDz:()=>iv,kL8:()=>E0,kcU:()=>sg,ktI:()=>Yh,lG2:()=>Ii,lcZ:()=>pE,lqb:()=>na,lri:()=>fD,mCW:()=>Ec,n5z:()=>fg,n_E:()=>Ff,oAB:()=>_n,oxw:()=>k_,pB0:()=>CI,q3G:()=>Us,q4F:()=>dl,qFp:()=>ZO,qLn:()=>au,qOj:()=>cf,qZA:()=>A_,qzn:()=>Lh,rWj:()=>pD,rg0:()=>Pt,s9C:()=>F_,sBO:()=>CD,s_b:()=>th,soG:()=>Au,tBr:()=>Th,tb:()=>Ru,tdS:()=>oc,tp0:()=>Ep,uIk:()=>b_,vHH:()=>se,vpe:()=>ni,wAp:()=>Wd,xi3:()=>Ux,xp6:()=>cC,ynx:()=>S_,z2F:()=>Hf,z3N:()=>bc,zSh:()=>Ky,zs3:()=>Ua});var u=b(8645),A=b(7394),S=b(5592),v=b(3019),te=b(5619),fe=b(2096),ge=b(3020),Z=b(4664),oe=b(3997);function q(r){for(let s in r)if(r[s]===q)return s;throw Error("Could not find renamed property on target object.")}function ne(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function pe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(pe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Me(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ie=q({__forward_ref__:q});function Ne(r){return r.__forward_ref__=Ne,r.toString=function(){return pe(this())},r}function xe(r){return me(r)?r():r}function me(r){return"function"==typeof r&&r.hasOwnProperty(Ie)&&r.__forward_ref__===Ne}function ye(r){return r&&!!r.\u0275providers}const st="https://g.co/ng/security#xss";class se extends Error{constructor(s,a){super(function Te(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Ce(r){return"string"==typeof r?r:null==r?"":String(r)}function Qt(r,s){throw new se(-201,!1)}function Dt(r,s){null==r&&function be(r,s,a,d){throw new Error(`ASSERTION ERROR: ${r}`+(null==d?"":` [Expected=> ${a} ${d} ${s} <=Actual]`))}(s,r,null,"!=")}function _t(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Kt(r){return{providers:r.providers||[],imports:r.imports||[]}}function yn(r){return Ot(r,Hn)||Ot(r,Gt)}function Je(r){return null!==yn(r)}function Ot(r,s){return r.hasOwnProperty(s)?r[s]:null}function Tn(r){return r&&(r.hasOwnProperty(dt)||r.hasOwnProperty(It))?r[dt]:null}const Hn=q({\u0275prov:q}),dt=q({\u0275inj:q}),Gt=q({ngInjectableDef:q}),It=q({ngInjectorDef:q});var Ke=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Ke||{});let V;function H(){return V}function re(r){const s=V;return V=r,s}function ut(r,s,a){const d=yn(r);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&Ke.Optional?null:void 0!==s?s:void Qt(pe(r))}const pt=globalThis;class rt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=_t({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ee={},We="__NG_DI_FLAG__",yt="ngTempTokenPath",Q=/\n/gm,M="__source";let x;function _e(r){const s=x;return x=r,s}function xt(r,s=Ke.Default){if(void 0===x)throw new se(-203,!1);return null===x?ut(r,void 0,s):x.get(r,s&Ke.Optional?null:void 0,s)}function Jt(r,s=Ke.Default){return(H()||xt)(xe(r),s)}function pn(r,s=Ke.Default){return Jt(r,Cn(s))}function Cn(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Gn(r){const s=[];for(let a=0;a<r.length;a++){const d=xe(r[a]);if(Array.isArray(d)){if(0===d.length)throw new se(900,!1);let h,p=Ke.Default;for(let y=0;y<d.length;y++){const C=d[y],P=Ge(C);"number"==typeof P?-1===P?h=C.token:p|=P:h=C}s.push(Jt(h,p))}else s.push(Jt(d))}return s}function ot(r,s){return r[We]=s,r.prototype[We]=s,r}function Ge(r){return r[We]}function Ue(r){return{toString:r}.toString()}var bt=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(bt||{}),Rt=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Rt||{});const ae={},mt=[],X=q({\u0275cmp:q}),we=q({\u0275dir:q}),Xe=q({\u0275pipe:q}),Ft=q({\u0275mod:q}),nn=q({\u0275fac:q}),Bn=q({__NG_ELEMENT_ID__:q}),Ln=q({__NG_ENV_ID__:q});function ei(r,s,a){let d=r.length;for(;;){const h=r.indexOf(s,a);if(-1===h)return h;if(0===h||r.charCodeAt(h-1)<=32){const p=s.length;if(h+p===d||r.charCodeAt(h+p)<=32)return h}a=h+1}}function ci(r,s,a){let d=0;for(;d<a.length;){const h=a[d];if("number"==typeof h){if(0!==h)break;d++;const p=a[d++],y=a[d++],C=a[d++];r.setAttribute(s,y,C,p)}else{const p=h,y=a[++d];Nn(p)?r.setProperty(s,p,y):r.setAttribute(s,p,y),d++}}return d}function _i(r){return 3===r||4===r||6===r}function Nn(r){return 64===r.charCodeAt(0)}function vi(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?a=h:0===a||ur(r,a,h,null,-1===a||2===a?s[++d]:null)}}return r}function ur(r,s,a,d,h){let p=0,y=r.length;if(-1===s)y=-1;else for(;p<r.length;){const C=r[p++];if("number"==typeof C){if(C===s){y=-1;break}if(C>s){y=p-1;break}}}for(;p<r.length;){const C=r[p];if("number"==typeof C)break;if(C===a){if(null===d)return void(null!==h&&(r[p+1]=h));if(d===r[p+1])return void(r[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(r.splice(y,0,s),p=y+1),r.splice(p++,0,a),null!==d&&r.splice(p++,0,d),null!==h&&r.splice(p++,0,h)}const Ji="ng-template";function Hi(r,s,a){let d=0,h=!0;for(;d<r.length;){let p=r[d++];if("string"==typeof p&&h){const y=r[d++];if(a&&"class"===p&&-1!==ei(y.toLowerCase(),s,0))return!0}else{if(1===p){for(;d<r.length&&"string"==typeof(p=r[d++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Pr(r){return 4===r.type&&r.value!==Ji}function go(r,s,a){return s===(4!==r.type||a?r.value:Ji)}function Wo(r,s,a){let d=4;const h=r.attrs||[],p=function As(r){for(let s=0;s<r.length;s++)if(_i(r[s]))return s;return r.length}(h);let y=!1;for(let C=0;C<s.length;C++){const P=s[C];if("number"!=typeof P){if(!y)if(4&d){if(d=2|1&d,""!==P&&!go(r,P,a)||""===P&&1===s.length){if(ar(d))return!1;y=!0}}else{const z=8&d?P:s[++C];if(8&d&&null!==r.attrs){if(!Hi(r.attrs,z,a)){if(ar(d))return!1;y=!0}continue}const De=Sa(8&d?"class":P,h,Pr(r),a);if(-1===De){if(ar(d))return!1;y=!0;continue}if(""!==z){let ft;ft=De>p?"":h[De+1].toLowerCase();const Ct=8&d?ft:null;if(Ct&&-1!==ei(Ct,z,0)||2&d&&z!==ft){if(ar(d))return!1;y=!0}}}}else{if(!y&&!ar(d)&&!ar(P))return!1;if(y&&ar(P))continue;y=!1,d=P|1&d}}return ar(d)||y}function ar(r){return 0==(1&r)}function Sa(r,s,a,d){if(null===s)return-1;let h=0;if(d||!a){let p=!1;for(;h<s.length;){const y=s[h];if(y===r)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let C=s[++h];for(;"string"==typeof C;)C=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Ys(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const d=r[a];if("number"==typeof d)return-1;if(d===s)return a;a++}return-1}(s,r)}function Ts(r,s,a=!1){for(let d=0;d<s.length;d++)if(Wo(r,s[d],a))return!0;return!1}function us(r,s){e:for(let a=0;a<s.length;a++){const d=s[a];if(r.length===d.length){for(let h=0;h<r.length;h++)if(r[h]!==d[h])continue e;return!0}}return!1}function Ss(r,s){return r?":not("+s.trim()+")":s}function da(r){let s=r[0],a=1,d=2,h="",p=!1;for(;a<r.length;){let y=r[a];if("string"==typeof y)if(2&d){const C=r[++a];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!ar(y)&&(s+=Ss(p,h),h=""),d=y,p=p||!ar(d);a++}return""!==h&&(s+=Ss(p,h)),s}function Yt(r){return Ue(()=>{const s=ds(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Rt.Emulated,styles:r.styles||mt,_:null,schemas:r.schemas||null,tView:null,id:""};hs(a);const d=r.dependencies;return a.directiveDefs=fs(d,!1),a.pipeDefs=fs(d,!0),a.id=function ha(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const h of a)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Mt(r){return Fn(r)||Si(r)}function dn(r){return null!==r}function _n(r){return Ue(()=>({type:r.type,bootstrap:r.bootstrap||mt,declarations:r.declarations||mt,imports:r.imports||mt,exports:r.exports||mt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ti(r,s){if(null==r)return ae;const a={};for(const d in r)if(r.hasOwnProperty(d)){let h=r[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=d,s&&(s[h]=p)}return a}function Ii(r){return Ue(()=>{const s=ds(r);return hs(s),s})}function mr(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Fn(r){return r[X]||null}function Si(r){return r[we]||null}function Ci(r){return r[Xe]||null}function co(r){const s=Fn(r)||Si(r)||Ci(r);return null!==s&&s.standalone}function ir(r,s){const a=r[Ft]||null;if(!a&&!0===s)throw new Error(`Type ${pe(r)} does not have '\u0275mod' property.`);return a}function ds(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||ae,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||mt,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ti(r.inputs,s),outputs:ti(r.outputs)}}function hs(r){r.features?.forEach(s=>s(r))}function fs(r,s){if(!r)return null;const a=s?Ci:Mt;return()=>("function"==typeof r?r():r).map(d=>a(d)).filter(dn)}const zi=0,wn=1,ii=2,Di=3,Er=4,Go=5,Gi=6,Oo=7,Ni=8,Or=9,wr=10,$n=11,ms=12,Ir=13,Ko=14,xi=15,fa=16,Yo=17,_o=18,Hr=19,vo=20,qr=21,Cr=22,kr=23,qo=24,Xn=25,yo=1,Rs=2,rr=7,io=9,ji=11;function dr(r){return Array.isArray(r)&&"object"==typeof r[yo]}function Ki(r){return Array.isArray(r)&&!0===r[yo]}function Bc(r){return 0!=(4&r.flags)}function vs(r){return r.componentOffset>-1}function ys(r){return 1==(1&r.flags)}function Nr(r){return!!r.template}function bs(r){return 0!=(512&r[ii])}function Qo(r,s){return r.hasOwnProperty(nn)?r[nn]:null}const Zr=Symbol("SIGNAL");function zc(r,s){return(null===r||"object"!=typeof r)&&Object.is(r,s)}let xr=null,Eo=!1;function gr(r){const s=xr;return xr=r,s}const Os={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ga(r){if(Eo)throw new Error("");if(null===xr)return;const s=xr.nextProducerIndex++;Zs(xr),s<xr.producerNode.length&&xr.producerNode[s]!==r&&rc(xr)&&va(xr.producerNode[s],xr.producerIndexOfThis[s]),xr.producerNode[s]!==r&&(xr.producerNode[s]=r,xr.producerIndexOfThis[s]=rc(xr)?ic(r,xr,s):0),xr.producerLastReadVersion[s]=r.version}function _a(r){if(!rc(r)||r.dirty){if(!r.producerMustRecompute(r)&&!$u(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Ma(r){if(void 0===r.liveConsumerNode)return;const s=Eo;Eo=!0;try{for(const a of r.liveConsumerNode)a.dirty||Pa(a)}finally{Eo=s}}function Hu(){return!1!==xr?.consumerAllowSignalWrites}function Pa(r){r.dirty=!0,Ma(r),r.consumerMarkedDirty?.(r)}function Ol(r){return r&&(r.nextProducerIndex=0),gr(r)}function ks(r,s){if(gr(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(rc(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)va(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function $u(r){Zs(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],d=r.producerLastReadVersion[s];if(d!==a.version||(_a(a),d!==a.version))return!0}return!1}function nc(r){if(Zs(r),rc(r))for(let s=0;s<r.producerNode.length;s++)va(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function ic(r,s,a){if(jc(r),Zs(r),0===r.liveConsumerNode.length)for(let d=0;d<r.producerNode.length;d++)r.producerIndexOfThis[d]=ic(r.producerNode[d],r,d);return r.liveConsumerIndexOfThis.push(a),r.liveConsumerNode.push(s)-1}function va(r,s){if(jc(r),Zs(r),1===r.liveConsumerNode.length)for(let d=0;d<r.producerNode.length;d++)va(r.producerNode[d],r.producerIndexOfThis[d]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const d=r.liveConsumerIndexOfThis[s],h=r.liveConsumerNode[s];Zs(h),h.producerIndexOfThis[d]=s}}function rc(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Zs(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function jc(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}function kl(r,s){const a=Object.create(Wu);a.computation=r,s?.equal&&(a.equal=s.equal);const d=()=>{if(_a(a),ga(a),a.value===Oa)throw a.error;return a.value};return d[Zr]=a,d}const Hc=Symbol("UNSET"),$c=Symbol("COMPUTING"),Oa=Symbol("ERRORED"),Wu=(()=>({...Os,value:Hc,dirty:!0,error:null,equal:zc,producerMustRecompute:r=>r.value===Hc||r.value===$c,producerRecomputeValue(r){if(r.value===$c)throw new Error("Detected cycle in computations.");const s=r.value;r.value=$c;const a=Ol(r);let d;try{d=r.computation()}catch(h){d=Oa,r.error=h}finally{ks(r,a)}s!==Hc&&s!==Oa&&d!==Oa&&r.equal(s,d)?r.value=s:(r.value=d,r.version++)}}))();let Wc=function hh(){throw new Error};function Gc(){Wc()}let ka=null;function oc(r,s){const a=Object.create(sc);function d(){return ga(a),a.value}return a.value=r,s?.equal&&(a.equal=s.equal),d.set=J,d.update=B,d.mutate=G,d.asReadonly=He,d[Zr]=a,d}const sc=(()=>({...Os,equal:zc,readonlyFn:void 0}))();function R(r){r.version++,Ma(r),ka?.()}function J(r){const s=this[Zr];Hu()||Gc(),s.equal(s.value,r)||(s.value=r,R(s))}function B(r){Hu()||Gc(),J.call(this,r(this[Zr].value))}function G(r){const s=this[Zr];Hu()||Gc(),r(s.value),R(s)}function He(){const r=this[Zr];if(void 0===r.readonlyFn){const s=()=>this();s[Zr]=r,r.readonlyFn=s}return r.readonlyFn}function Pt(r){const s=gr(null);try{return r()}finally{gr(s)}}const Un=()=>{},$i=(()=>({...Os,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Un}))();class Ti{constructor(s,a,d){this.previousValue=s,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function si(){return Yi}function Yi(r){return r.type.prototype.ngOnChanges&&(r.setInput=fr),Li}function Li(){const r=ko(this),s=r?.current;if(s){const a=r.previous;if(a===ae)r.previous=s;else for(let d in s)a[d]=s[d];r.current=null,this.ngOnChanges(s)}}function fr(r,s,a,d){const h=this.declaredInputs[a],p=ko(r)||function Fr(r,s){return r[Xo]=s}(r,{previous:ae,current:null}),y=p.current||(p.current={}),C=p.previous,P=C[h];y[h]=new Ti(P&&P.currentValue,s,C===ae),r[d]=s}si.ngInherit=!0;const Xo="__ngSimpleChanges__";function ko(r){return r[Xo]||null}const Qr=function(r,s,a){},No="svg";function qi(r){for(;Array.isArray(r);)r=r[zi];return r}function Ll(r,s){return qi(s[r])}function Jo(r,s){return qi(s[r.index])}function rp(r,s){return r.data[s]}function ya(r,s){return r[s]}function ro(r,s){const a=s[r];return dr(a)?a:a[zi]}function Xs(r,s){return null==s?null:r[s]}function Bl(r){r[Yo]=0}function eg(r){1024&r[ii]||(r[ii]|=1024,Ul(r,1))}function op(r){1024&r[ii]&&(r[ii]&=-1025,Ul(r,-1))}function Ul(r,s){let a=r[Di];if(null===a)return;a[Go]+=s;let d=a;for(a=a[Di];null!==a&&(1===s&&1===d[Go]||-1===s&&0===d[Go]);)a[Go]+=s,d=a,a=a[Di]}function Kc(r,s){if(256==(256&r[ii]))throw new se(911,!1);null===r[qr]&&(r[qr]=[]),r[qr].push(s)}const oi={lFrame:hc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sp(){return oi.bindingsEnabled}function lc(){return null!==oi.skipHydrationRootTNode}function rn(){return oi.lFrame.lView}function Jn(){return oi.lFrame.tView}function gh(r){return oi.lFrame.contextLView=r,r[Ni]}function Qc(r){return oi.lFrame.contextLView=null,r}function $r(){let r=zl();for(;null!==r&&64===r.type;)r=r.parent;return r}function zl(){return oi.lFrame.currentTNode}function Es(r,s){const a=oi.lFrame;a.currentTNode=r,a.isParent=s}function Gu(){return oi.lFrame.isParent}function _h(){oi.lFrame.isParent=!1}function Xr(){const r=oi.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function I(){return oi.lFrame.bindingIndex++}function O(r){const s=oi.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function $e(r,s){const a=oi.lFrame;a.bindingIndex=a.bindingRootIndex=r,kt(s)}function kt(r){oi.lFrame.currentDirectiveIndex=r}function Rn(r){const s=oi.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}function fi(){return oi.lFrame.currentQueryIndex}function or(r){oi.lFrame.currentQueryIndex=r}function Vi(r){const s=r[wn];return 2===s.type?s.declTNode:1===s.type?r[Gi]:null}function Js(r,s,a){if(a&Ke.SkipSelf){let h=s,p=r;for(;!(h=h.parent,null!==h||a&Ke.Host||(h=Vi(p),null===h||(p=p[Ko],10&h.type))););if(null===h)return!1;s=h,r=p}const d=oi.lFrame=Jc();return d.currentTNode=s,d.lView=r,!0}function dc(r){const s=Jc(),a=r[wn];oi.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Jc(){const r=oi.lFrame,s=null===r?null:r.child;return null===s?hc(r):s}function hc(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function fc(){const r=oi.lFrame;return oi.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const lp=fc;function ig(){const r=fc();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function es(){return oi.lFrame.selectedIndex}function jl(r){oi.lFrame.selectedIndex=r}function Tr(){const r=oi.lFrame;return rp(r.tView,r.selectedIndex)}function Xv(){oi.lFrame.currentNamespace=No}function sg(){!function Jv(){oi.lFrame.currentNamespace=null}()}let vh=!0;function yh(){return vh}function ba(r){vh=r}function Hl(r,s){for(let a=s.directiveStart,d=s.directiveEnd;a<d;a++){const p=r.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:P,ngAfterViewChecked:z,ngOnDestroy:ie}=p;y&&(r.contentHooks??=[]).push(-a,y),C&&((r.contentHooks??=[]).push(a,C),(r.contentCheckHooks??=[]).push(a,C)),P&&(r.viewHooks??=[]).push(-a,P),z&&((r.viewHooks??=[]).push(a,z),(r.viewCheckHooks??=[]).push(a,z)),null!=ie&&(r.destroyHooks??=[]).push(a,ie)}}function Yu(r,s,a){bh(r,s,3,a)}function $l(r,s,a,d){(3&r[ii])===a&&bh(r,s,a,d)}function Wl(r,s){let a=r[ii];(3&a)===s&&(a&=8191,a+=1,r[ii]=a)}function bh(r,s,a,d){const p=d??-1,y=s.length-1;let C=0;for(let P=void 0!==d?65535&r[Yo]:0;P<y;P++)if("number"==typeof s[P+1]){if(C=s[P],null!=d&&C>=d)break}else s[P]<0&&(r[Yo]+=65536),(C<p||-1==p)&&(dp(r,a,s,P),r[Yo]=(4294901760&r[Yo])+P+2),P++}function up(r,s){Qr(4,r,s);const a=gr(null);try{s.call(r)}finally{gr(a),Qr(5,r,s)}}function dp(r,s,a,d){const h=a[d]<0,p=a[d+1],C=r[h?-a[d]:a[d]];h?r[ii]>>13<r[Yo]>>16&&(3&r[ii])===s&&(r[ii]+=8192,up(C,p)):up(C,p)}const Gl=-1;class ea{constructor(s,a,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function ts(r){return r!==Gl}function qu(r){return 32767&r}function Ea(r,s){let a=function el(r){return r>>16}(r),d=s;for(;a>0;)d=d[Ko],a--;return d}let ta=!0;function Kl(r){const s=ta;return ta=r,s}const wa=255,Zu=5;let ty=0;const uo={};function Yl(r,s){const a=mc(r,s);if(-1!==a)return a;const d=s[wn];d.firstCreatePass&&(r.injectorIndex=s.length,pc(d.data,r),pc(s,null),pc(d.blueprint,null));const h=Qu(r,s),p=r.injectorIndex;if(ts(h)){const y=qu(h),C=Ea(h,s),P=C[wn].data;for(let z=0;z<8;z++)s[p+z]=C[y+z]|P[y+z]}return s[p+8]=h,p}function pc(r,s){r.push(0,0,0,0,0,0,0,0,s)}function mc(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Qu(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,d=null,h=s;for(;null!==h;){if(d=pg(h),null===d)return Gl;if(a++,h=h[Ko],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return Gl}function Ia(r,s,a){!function wh(r,s,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(Bn)&&(d=a[Bn]),null==d&&(d=a[Bn]=ty++);const h=d&wa;s.data[r+(h>>Zu)]|=1<<h}(r,s,a)}function ny(r,s,a){if(a&Ke.Optional||void 0!==r)return r;Qt()}function wo(r,s,a,d){if(a&Ke.Optional&&void 0===d&&(d=null),!(a&(Ke.Self|Ke.Host))){const h=r[Or],p=re(void 0);try{return h?h.get(s,d,a&Ke.Optional):ut(s,d,a&Ke.Optional)}finally{re(p)}}return ny(d,0,a)}function lg(r,s,a,d=Ke.Default,h){if(null!==r){if(2048&s[ii]&&!(d&Ke.Self)){const y=function iy(r,s,a,d,h){let p=r,y=s;for(;null!==p&&null!==y&&2048&y[ii]&&!(512&y[ii]);){const C=ug(p,y,a,d|Ke.Self,uo);if(C!==uo)return C;let P=p.parent;if(!P){const z=y[vo];if(z){const ie=z.get(a,uo,d);if(ie!==uo)return ie}P=pg(y),y=y[Ko]}p=P}return h}(r,s,a,d,uo);if(y!==uo)return y}const p=ug(r,s,a,d,uo);if(p!==uo)return p}return wo(s,a,d,h)}function ug(r,s,a,d,h){const p=function dg(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Bn)?r[Bn]:void 0;return"number"==typeof s?s>=0?s&wa:mp:s}(a);if("function"==typeof p){if(!Js(s,r,d))return d&Ke.Host?ny(h,0,d):wo(s,a,d,h);try{let y;if(y=p(d),null!=y||d&Ke.Optional)return y;Qt()}finally{lp()}}else if("number"==typeof p){let y=null,C=mc(r,s),P=Gl,z=d&Ke.Host?s[xi][Gi]:null;for((-1===C||d&Ke.SkipSelf)&&(P=-1===C?Qu(r,s):s[C+8],P!==Gl&&ql(d,!1)?(y=s[wn],C=qu(P),s=Ea(P,s)):C=-1);-1!==C;){const ie=s[wn];if(hg(p,C,ie.data)){const De=gc(C,s,a,y,d,z);if(De!==uo)return De}P=s[C+8],P!==Gl&&ql(d,s[wn].data[C+8]===z)&&hg(p,C,s)?(y=ie,C=qu(P),s=Ea(P,s)):C=-1}}return h}function gc(r,s,a,d,h,p){const y=s[wn],C=y.data[r+8],ie=Ca(C,y,a,null==d?vs(C)&&ta:d!=y&&0!=(3&C.type),h&Ke.Host&&p===C);return null!==ie?xa(s,y,ie,C):uo}function Ca(r,s,a,d,h){const p=r.providerIndexes,y=s.data,C=1048575&p,P=r.directiveStart,ie=p>>20,ft=h?C+ie:r.directiveEnd;for(let Ct=d?C:C+ie;Ct<ft;Ct++){const Zt=y[Ct];if(Ct<P&&a===Zt||Ct>=P&&Zt.type===a)return Ct}if(h){const Ct=y[P];if(Ct&&Nr(Ct)&&Ct.type===a)return P}return null}function xa(r,s,a,d){let h=r[a];const p=s.data;if(function hp(r){return r instanceof ea}(h)){const y=h;y.resolving&&function Ze(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new se(-200,`Circular dependency in DI detected for ${r}${a}`)}(function qe(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ce(r)}(p[a]));const C=Kl(y.canSeeViewProviders);y.resolving=!0;const z=y.injectImpl?re(y.injectImpl):null;Js(r,d,Ke.Default);try{h=r[a]=y.factory(void 0,p,r,d),s.firstCreatePass&&a>=d.directiveStart&&function ey(r,s,a){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(d){const y=Yi(s);(a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y)}h&&(a.preOrderHooks??=[]).push(0-r,h),p&&((a.preOrderHooks??=[]).push(r,p),(a.preOrderCheckHooks??=[]).push(r,p))}(a,p[a],s)}finally{null!==z&&re(z),Kl(C),y.resolving=!1,lp()}}return h}function hg(r,s,a){return!!(a[s+(r>>Zu)]&1<<r)}function ql(r,s){return!(r&Ke.Self||r&Ke.Host&&s)}class Io{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,d){return lg(this._tNode,this._lView,s,Cn(d),a)}}function mp(){return new Io($r(),rn())}function fg(r){return Ue(()=>{const s=r.prototype.constructor,a=s[nn]||gp(s),d=Object.prototype;let h=Object.getPrototypeOf(r.prototype).constructor;for(;h&&h!==d;){const p=h[nn]||gp(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function gp(r){return me(r)?()=>{const s=gp(xe(r));return s&&s()}:Qo(r)}function pg(r){const s=r[wn],a=s.type;return 2===a?s.declTNode:1===a?r[Gi]:null}function _p(r){return function Hw(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const d=a.length;let h=0;for(;h<d;){const p=a[h];if(_i(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof a[h];)h++;else{if(p===s)return a[h+1];h+=2}}}return null}($r(),r)}const nl="__parameters__";function Wr(r,s,a){return Ue(()=>{const d=function gt(r){return function(...a){if(r){const d=r(...a);for(const h in d)this[h]=d[h]}}}(s);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return C.annotation=y,C;function C(P,z,ie){const De=P.hasOwnProperty(nl)?P[nl]:Object.defineProperty(P,nl,{value:[]})[nl];for(;De.length<=ie;)De.push(null);return(De[ie]=De[ie]||[]).push(y),P}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=r,h.annotationCls=h,h})}function Ju(r,s){r.forEach(a=>Array.isArray(a)?Ju(a,s):s(a))}function cy(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function yp(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function ed(r,s){const a=[];for(let d=0;d<r;d++)a.push(s);return a}function Ls(r,s,a){let d=rl(r,s);return d>=0?r[1|d]=a:(d=~d,function Kw(r,s,a,d){let h=r.length;if(h==s)r.push(a,d);else if(1===h)r.push(d,r[0]),r[0]=a;else{for(h--,r.push(r[h-1],r[h]);h>s;)r[h]=r[h-2],h--;r[s]=a,r[s+1]=d}}(r,d,s,a)),d}function Ch(r,s){const a=rl(r,s);if(a>=0)return r[1|a]}function rl(r,s){return function bp(r,s,a){let d=0,h=r.length>>a;for(;h!==d;){const p=d+(h-d>>1),y=r[p<<a];if(s===y)return p<<a;y>s?h=p:d=p+1}return~(h<<a)}(r,s,1)}const Th=ot(Wr("Inject",r=>({token:r})),-1),Ah=ot(Wr("Optional"),8),Ep=ot(Wr("SkipSelf"),4);function nd(r){return 128==(128&r.flags)}var Fa=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Fa||{});const OT=/^>|^->|<!--|-->|--!>|<!-$/g,sI=/(<|>)/g,my="\u200b$1\u200b";const Co=new Map;let kT=0;const Cp="__ngContext__";function Lo(r,s){dr(s)?(r[Cp]=s[Hr],function Ig(r){Co.set(r[Hr],r)}(s)):r[Cp]=s}let id;function wy(r,s){return id(r,s)}function eu(r){const s=r[Di];return Ki(s)?s[Di]:s}function Cy(r){return Dy(r[ms])}function xy(r){return Dy(r[Er])}function Dy(r){for(;null!==r&&!Ki(r);)r=r[Er];return r}function ol(r,s,a,d,h){if(null!=d){let p,y=!1;Ki(d)?p=d:dr(d)&&(y=!0,d=d[zi]);const C=qi(d);0===r&&null!==a?null==h?fI(s,a,C):sl(s,a,C,h||null,!0):1===r&&null!==a?sl(s,a,C,h||null,!0):2===r?function Op(r,s,a){const d=Sg(r,s);d&&function UT(r,s,a,d){r.removeChild(s,a,d)}(r,d,s,a)}(s,C,y):3===r&&s.destroyNode(C),null!=p&&function Pg(r,s,a,d,h){const p=a[rr];p!==qi(a)&&ol(s,r,d,p,h);for(let C=ji;C<a.length;C++){const P=a[C];Fh(P[wn],P,r,s,d,p)}}(s,r,p,a,h)}}function Tp(r,s){return r.createComment(function gy(r){return r.replace(OT,s=>s.replace(sI,my))}(s))}function Oh(r,s,a){return r.createElement(s,a)}function Ay(r,s){const a=r[io],d=a.indexOf(s);op(s),a.splice(d,1)}function Ag(r,s){if(r.length<=ji)return;const a=ji+s,d=r[a];if(d){const h=d[fa];null!==h&&h!==r&&Ay(h,d),s>0&&(r[a-1][Er]=d[Er]);const p=yp(r,ji+s);!function lI(r,s){Fh(r,s,s[$n],2,null,null),s[zi]=null,s[Gi]=null}(d[wn],d);const y=p[_o];null!==y&&y.detachView(p[wn]),d[Di]=null,d[Er]=null,d[ii]&=-129}return d}function Ap(r,s){if(!(256&s[ii])){const a=s[$n];s[kr]&&nc(s[kr]),s[qo]&&nc(s[qo]),a.destroyNode&&Fh(r,s,a,3,null,null),function dI(r){let s=r[ms];if(!s)return Sp(r[wn],r);for(;s;){let a=null;if(dr(s))a=s[ms];else{const d=s[ji];d&&(a=d)}if(!a){for(;s&&!s[Er]&&s!==r;)dr(s)&&Sp(s[wn],s),s=s[Di];null===s&&(s=r),dr(s)&&Sp(s[wn],s),a=s&&s[Er]}s=a}}(s)}}function Sp(r,s){if(!(256&s[ii])){s[ii]&=-129,s[ii]|=256,function xo(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let d=0;d<a.length;d+=2){const h=s[a[d]];if(!(h instanceof ea)){const p=a[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const C=h[p[y]],P=p[y+1];Qr(4,C,P);try{P.call(C)}finally{Qr(5,C,P)}}else{Qr(4,h,p);try{p.call(h)}finally{Qr(5,h,p)}}}}}(r,s),function Sy(r,s){const a=r.cleanup,d=s[Oo];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?d[y]():d[-y].unsubscribe(),p+=2}else a[p].call(d[a[p+1]]);null!==d&&(s[Oo]=null);const h=s[qr];if(null!==h){s[qr]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(r,s),1===s[wn].type&&s[$n].destroy();const a=s[fa];if(null!==a&&Ki(s[Di])){a!==s[Di]&&Ay(a,s);const d=s[_o];null!==d&&d.detachView(r)}!function _y(r){Co.delete(r[Hr])}(s)}}function ho(r,s,a){return function Rp(r,s,a){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return a[zi];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=r.data[d.directiveStart+h];if(p===Rt.None||p===Rt.Emulated)return null}return Jo(d,a)}}(r,s.parent,a)}function sl(r,s,a,d,h){r.insertBefore(s,a,d,h)}function fI(r,s,a){r.appendChild(s,a)}function pI(r,s,a,d,h){null!==d?sl(r,s,a,d,h):fI(r,s,a)}function Sg(r,s){return r.parentNode(s)}function mI(r,s,a){return Nh(r,s,a)}let Mp,Og,Vo,ad,Nh=function kh(r,s,a){return 40&r.type?Jo(r,a):null};function Rg(r,s,a,d){const h=ho(r,d,s),p=s[$n],C=mI(d.parent||s[Gi],d,s);if(null!=h)if(Array.isArray(a))for(let P=0;P<a.length;P++)pI(p,h,a[P],C,!1);else pI(p,h,a,C,!1);void 0!==Mp&&Mp(p,d,s,a,h)}function tu(r,s){if(null!==s){const a=s.type;if(3&a)return Jo(s,r);if(4&a)return Pp(-1,r[s.index]);if(8&a){const d=s.child;if(null!==d)return tu(r,d);{const h=r[s.index];return Ki(h)?Pp(-1,h):qi(h)}}if(32&a)return wy(s,r)()||qi(r[s.index]);{const d=Mg(r,s);return null!==d?Array.isArray(d)?d[0]:tu(eu(r[xi]),d):tu(r,s.next)}}return null}function Mg(r,s){return null!==s?r[xi][Gi].projection[s.projection]:null}function Pp(r,s){const a=ji+r+1;if(a<s.length){const d=s[a],h=d[wn].firstChild;if(null!==h)return tu(d,h)}return s[rr]}function rd(r,s,a,d,h,p,y){for(;null!=a;){const C=d[a.index],P=a.type;if(y&&0===s&&(C&&Lo(qi(C),d),a.flags|=2),32!=(32&a.flags))if(8&P)rd(r,s,a.child,d,h,p,!1),ol(s,r,h,C,p);else if(32&P){const z=wy(a,d);let ie;for(;ie=z();)ol(s,r,h,ie,p);ol(s,r,h,C,p)}else 16&P?My(r,s,d,a,h,p):ol(s,r,h,C,p);a=y?a.projectionNext:a.next}}function Fh(r,s,a,d,h,p){rd(a,d,r.firstChild,s,h,p,!1)}function My(r,s,a,d,h,p){const y=a[xi],P=y[Gi].projection[d.projection];if(Array.isArray(P))for(let z=0;z<P.length;z++)ol(s,r,h,P[z],p);else{let z=P;const ie=y[Di];nd(d)&&(z.flags|=128),rd(r,s,z,ie,h,p,!0)}}function od(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function vI(r,s,a){const{mergedAttrs:d,classes:h,styles:p}=a;null!==d&&ci(r,s,d),null!==h&&od(r,s,h),null!==p&&function $T(r,s,a){r.setAttribute(s,"style",a)}(r,s,p)}function sd(r){return function al(){if(void 0===Og&&(Og=null,pt.trustedTypes))try{Og=pt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Og}()?.createHTML(r)||r}function EI(r){Vo=r}function Oy(r){return function Fg(){if(void 0===ad&&(ad=null,pt.trustedTypes))try{ad=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return ad}()?.createScriptURL(r)||r}class Va{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}class ky extends Va{getTypeName(){return"HTML"}}class Ny extends Va{getTypeName(){return"Style"}}class Fy extends Va{getTypeName(){return"Script"}}class Vg extends Va{getTypeName(){return"URL"}}class kp extends Va{getTypeName(){return"ResourceURL"}}function bc(r){return r instanceof Va?r.changingThisBreaksApplicationSecurity:r}function Lh(r,s){const a=function Ly(r){return r instanceof Va&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${st})`)}return a===s}function Bg(r){return new ky(r)}function Vy(r){return new Ny(r)}function wI(r){return new Fy(r)}function II(r){return new Vg(r)}function CI(r){return new kp(r)}class Np{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(sd(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class DI{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=sd(s),a}}const Fp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ec(r){return(r=String(r)).match(Fp)?r:"unsafe:"+r}function Ba(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function Lp(...r){const s={};for(const a of r)for(const d in a)a.hasOwnProperty(d)&&(s[d]=!0);return s}const TI=Ba("area,br,col,hr,img,wbr"),By=Ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Uy=Ba("rp,rt"),Bh=Lp(TI,Lp(By,Ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lp(Uy,Ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lp(Uy,By)),Uh=Ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vp=Lp(Uh,Ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bp=Ba("script,style,template");class Up{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,d=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?d=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,d&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Bh.hasOwnProperty(a))return this.sanitizedSomething=!0,!Bp.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const d=s.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,C=y.toLowerCase();if(!Vp.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let P=p.value;Uh[C]&&(P=Ec(P)),this.buf.push(" ",y,'="',SI(P),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Bh.hasOwnProperty(a)&&!TI.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(SI(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const GT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AI=/([^\#-~ |!])/g;function SI(r){return r.replace(/&/g,"&amp;").replace(GT,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(AI,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zg;function RI(r,s){let a=null;try{zg=zg||function xI(r){const s=new DI(r);return function Ug(){try{return!!(new window.DOMParser).parseFromString(sd(""),"text/html")}catch{return!1}}()?new Np(s):s}(r);let d=s?String(s):"";a=zg.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=a.innerHTML,a=zg.getInertBodyElement(d)}while(d!==p);return sd((new Up).sanitizeChildren(zy(a)||a))}finally{if(a){const d=zy(a)||a;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function zy(r){return"content"in r&&function zp(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Us=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Us||{});function jy(r){const s=ld();return s?s.sanitize(Us.URL,r)||"":Lh(r,"URL")?bc(r):Ec(Ce(r))}function cd(r){const s=ld();if(s)return Oy(s.sanitize(Us.RESOURCE_URL,r)||"");if(Lh(r,"ResourceURL"))return Oy(bc(r));throw new se(904,!1)}function Hy(r,s,a){return function qT(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?cd:jy}(s,a)(r)}function ld(){const r=rn();return r&&r[wr].sanitizer}const zh=new rt("ENVIRONMENT_INITIALIZER"),$y=new rt("INJECTOR",-1),NI=new rt("INJECTOR_DEF_TYPES");class Wy{get(s,a=Ee){if(a===Ee){const d=new Error(`NullInjectorError: No provider for ${pe(s)}!`);throw d.name="NullInjectorError",d}return a}}function Gy(r){return{\u0275providers:r}}function QT(...r){return{\u0275providers:jp(0,r),\u0275fromNgModule:!0}}function jp(r,...s){const a=[],d=new Set;let h;const p=y=>{a.push(y)};return Ju(s,y=>{const C=y;ud(C,p,[],d)&&(h||=[],h.push(C))}),void 0!==h&&jh(h,p),a}function jh(r,s){for(let a=0;a<r.length;a++){const{ngModule:d,providers:h}=r[a];jg(h,p=>{s(p,d)})}}function ud(r,s,a,d){if(!(r=xe(r)))return!1;let h=null,p=Tn(r);const y=!p&&Fn(r);if(p||y){if(y&&!y.standalone)return!1;h=r}else{const P=r.ngModule;if(p=Tn(P),!p)return!1;h=P}const C=d.has(h);if(y){if(C)return!1;if(d.add(h),y.dependencies){const P="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const z of P)ud(z,s,a,d)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let z;d.add(h);try{Ju(p.imports,ie=>{ud(ie,s,a,d)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&jh(z,s)}if(!C){const z=Qo(h)||(()=>new h);s({provide:h,useFactory:z,deps:mt},h),s({provide:NI,useValue:h,multi:!0},h),s({provide:zh,useValue:()=>Jt(h),multi:!0},h)}const P=p.providers;if(null!=P&&!C){const z=r;jg(P,ie=>{s(ie,z)})}}}return h!==r&&void 0!==r.providers}function jg(r,s){for(let a of r)ye(a)&&(a=a.\u0275providers),Array.isArray(a)?jg(a,s):s(a)}const Hp=q({provide:String,useValue:q});function dd(r){return null!==r&&"object"==typeof r&&Hp in r}function iu(r){return"function"==typeof r}const Ky=new rt("Set Injector scope."),Hg={},VI={};let $g;function $p(){return void 0===$g&&($g=new Wy),$g}class na{}class hd extends na{get destroyed(){return this._destroyed}constructor(s,a,d,h){super(),this.parent=a,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hh(s,y=>this.processProvider(y)),this.records.set($y,ru(void 0,this)),h.has("environment")&&this.records.set(na,ru(void 0,this));const p=this.records.get(Ky);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(NI.multi,mt,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=_e(this),d=re(void 0);try{return s()}finally{_e(a),re(d)}}get(s,a=Ee,d=Ke.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Ln))return s[Ln](this);d=Cn(d);const p=_e(this),y=re(void 0);try{if(!(d&Ke.SkipSelf)){let P=this.records.get(s);if(void 0===P){const z=function qy(r){return"function"==typeof r||"object"==typeof r&&r instanceof rt}(s)&&yn(s);P=z&&this.injectableDefInScope(z)?ru(Da(s),Hg):null,this.records.set(s,P)}if(null!=P)return this.hydrate(s,P)}return(d&Ke.Self?$p():this.parent).get(s,a=d&Ke.Optional&&a===Ee?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[yt]=C[yt]||[]).unshift(pe(s)),p)throw C;return function ct(r,s,a,d){const h=r[yt];throw s[M]&&h.unshift(s[M]),r.message=function je(r,s,a,d=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let h=pe(s);if(Array.isArray(s))h=s.map(pe).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let C=s[y];p.push(y+":"+("string"==typeof C?JSON.stringify(C):pe(C)))}h=`{${p.join(", ")}}`}return`${a}${d?"("+d+")":""}[${h}]: ${r.replace(Q,"\n  ")}`}("\n"+r.message,h,a,d),r.ngTokenPath=h,r[yt]=null,r}(C,s,"R3InjectorError",this.source)}throw C}finally{re(y),_e(p)}}resolveInjectorInitializers(){const s=_e(this),a=re(void 0);try{const h=this.get(zh.multi,mt,Ke.Self);for(const p of h)p()}finally{_e(s),re(a)}}toString(){const s=[],a=this.records;for(const d of a.keys())s.push(pe(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(s){let a=iu(s=xe(s))?s:xe(s&&s.provide);const d=function JT(r){return dd(r)?ru(void 0,r.useValue):ru(Yy(r),Hg)}(s);if(iu(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=ru(void 0,Hg,!0),h.factory=()=>Gn(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,d)}hydrate(s,a){return a.value===Hg&&(a.value=VI,a.value=a.factory()),"object"==typeof a.value&&a.value&&function UI(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=xe(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Da(r){const s=yn(r),a=null!==s?s.factory:Qo(r);if(null!==a)return a;if(r instanceof rt)throw new se(204,!1);if(r instanceof Function)return function BI(r){const s=r.length;if(s>0)throw ed(s,"?"),new se(204,!1);const a=function Xt(r){return r&&(r[Hn]||r[Gt])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new se(204,!1)}function Yy(r,s,a){let d;if(iu(r)){const h=xe(r);return Qo(h)||Da(h)}if(dd(r))d=()=>xe(r.useValue);else if(function Vr(r){return!(!r||!r.useFactory)}(r))d=()=>r.useFactory(...Gn(r.deps||[]));else if(function LI(r){return!(!r||!r.useExisting)}(r))d=()=>Jt(xe(r.useExisting));else{const h=xe(r&&(r.useClass||r.provide));if(!function Wp(r){return!!r.deps}(r))return Qo(h)||Da(h);d=()=>new h(...Gn(r.deps))}return d}function ru(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Hh(r,s){for(const a of r)Array.isArray(a)?Hh(a,s):a&&ye(a)?Hh(a.\u0275providers,s):s(a)}const Zy=new rt("AppId",{providedIn:"root",factory:()=>Wg}),Wg="ng",zI=new rt("Platform Initializer"),Gg=new rt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jI=new rt("AnimationModuleType"),HI=new rt("CSP nonce",{providedIn:"root",factory:()=>function yc(){if(void 0!==Vo)return Vo;if(typeof document<"u")return document;throw new se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let GI=(r,s,a)=>null;function Jg(r,s,a=!1){return GI(r,s,a)}class KI{}class yd{}class iA{resolveComponentFactory(s){throw function nA(r){const s=Error(`No component factory found for ${pe(r)}.`);return s.ngComponent=r,s}(s)}}let Kp=(()=>{class r{static#e=this.NULL=new iA}return r})();function ZI(){return Gh($r(),rn())}function Gh(r,s){return new ou(Jo(r,s))}let ou=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=ZI}return r})();function rA(r){return r instanceof ou?r.nativeElement:r}class QI{}let Kh=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function XI(){const r=rn(),a=ro($r().index,r);return(dr(a)?a:r)[$n]}()}return r})(),To=(()=>{class r{static#e=this.\u0275prov=_t({token:r,providedIn:"root",factory:()=>null})}return r})();class bd{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const dl=new bd("16.2.12"),su={};function an(r){if(!H()&&!function W(){return x}())throw new se(-203,!1)}function so(r,s=null,a=null,d){const h=tb(r,s,a,d);return h.resolveInjectorInitializers(),h}function tb(r,s=null,a=null,d,h=new Set){const p=[a||mt,QT(r)];return d=d||("object"==typeof r?void 0:pe(r)),new hd(p,s||$p(),d||null,h)}let Ua=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=Ee;static#t=this.NULL=new Wy;static create(a,d){if(Array.isArray(a))return so({name:""},d,a,"");{const h=a.name??"";return so({name:h},a.parent,a.providers,h)}}static#n=this.\u0275prov=_t({token:r,providedIn:"any",factory:()=>Jt($y)});static#i=this.__NG_ELEMENT_ID__=-1}return r})();function nb(r){return r.ngOriginalError}class au{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&nb(s);for(;a&&nb(a);)a=nb(a);return a||null}}let Yh=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=iO;static#t=this.__NG_ENV_ID__=a=>a}return r})();class oA extends Yh{constructor(s){super(),this._lView=s}onDestroy(s){return Kc(this._lView,s),()=>function Yc(r,s){if(null===r[qr])return;const a=r[qr].indexOf(s);-1!==a&&r[qr].splice(a,1)}(this._lView,s)}}function iO(){return new oA(rn())}function n_(r){return s=>{setTimeout(r,void 0,s)}}const ni=class sA extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,d){let h=s,p=a||(()=>null),y=d;if(s&&"object"==typeof s){const P=s;h=P.next?.bind(P),p=P.error?.bind(P),y=P.complete?.bind(P)}this.__isAsync&&(p=n_(p),h&&(h=n_(h)),y&&(y=n_(y)));const C=super.subscribe({next:h,error:p,complete:y});return s instanceof A.w0&&s.add(C),C}};function Ed(...r){}class kn{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&a,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function tC(){const r="function"==typeof pt.requestAnimationFrame;let s=pt[r?"requestAnimationFrame":"setTimeout"],a=pt[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function _r(r){const s=()=>{!function aA(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(pt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,xn(r),r.isCheckStableRunning=!0,Bi(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),xn(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,h,p,y,C)=>{if(function cA(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(C))return a.invokeTask(h,p,y,C);try{return wd(r),a.invokeTask(h,p,y,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&s(),i_(r)}},onInvoke:(a,d,h,p,y,C,P)=>{try{return wd(r),a.invoke(h,p,y,C,P)}finally{r.shouldCoalesceRunChangeDetection&&s(),i_(r)}},onHasTask:(a,d,h,p)=>{a.hasTask(h,p),d===h&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,xn(r),Bi(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,d,h,p)=>(a.handleError(h,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kn.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(kn.isInAngularZone())throw new se(909,!1)}run(s,a,d){return this._inner.run(s,a,d)}runTask(s,a,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,s,Yp,Ed,Ed);try{return p.runTask(y,a,d)}finally{p.cancelTask(y)}}runGuarded(s,a,d){return this._inner.runGuarded(s,a,d)}runOutsideAngular(s){return this._outer.run(s)}}const Yp={};function Bi(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function xn(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function wd(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function i_(r){r._nesting--,Bi(r)}class Id{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni,this.onMicrotaskEmpty=new ni,this.onStable=new ni,this.onError=new ni}run(s,a,d){return s.apply(a,d)}runGuarded(s,a,d){return s.apply(a,d)}runOutsideAngular(s){return s()}runTask(s,a,d,h){return s.apply(a,d)}}const nC=new rt("",{providedIn:"root",factory:cu});function cu(){const r=pn(kn);let s=!0;const a=new S.y(h=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{h.next(s),h.complete()})}),d=new S.y(h=>{let p;r.runOutsideAngular(()=>{p=r.onStable.subscribe(()=>{kn.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const y=r.onUnstable.subscribe(()=>{kn.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,v.T)(a,d.pipe((0,ge.B)()))}function za(r){return r instanceof Function?r():r}let Zh=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=_t({token:r,providedIn:"root",factory:()=>new r})}return r})();function Cs(r){for(;r;){r[ii]|=64;const s=eu(r);if(bs(r)&&!s)return r;r=s}return null}const hl=new rt("",{providedIn:"root",factory:()=>!1});let qp=null;function ja(r,s){return r[s]??aC()}function sb(r,s){const a=aC();a.producerNode?.length&&(r[s]=qp,a.lView=r,qp=ab())}const c_={...Os,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Cs(r.lView)},lView:null};function ab(){return Object.create(c_)}function aC(){return qp??=ab(),qp}const gi={};function cC(r){lC(Jn(),rn(),es()+r,!1)}function lC(r,s,a,d){if(!d)if(3==(3&s[ii])){const p=r.preOrderCheckHooks;null!==p&&Yu(s,p,a)}else{const p=r.preOrderHooks;null!==p&&$l(s,p,0,a)}jl(a)}function Xh(r,s=Ke.Default){const a=rn();return null===a?Jt(r,s):lg($r(),a,xe(r),s)}function uC(){throw new Error("invalid")}function l_(r,s,a,d,h,p,y,C,P,z,ie){const De=s.blueprint.slice();return De[zi]=h,De[ii]=140|d,(null!==z||r&&2048&r[ii])&&(De[ii]|=2048),Bl(De),De[Di]=De[Ko]=r,De[Ni]=a,De[wr]=y||r&&r[wr],De[$n]=C||r&&r[$n],De[Or]=P||r&&r[Or]||null,De[Gi]=p,De[Hr]=function Ip(){return kT++}(),De[Cr]=ie,De[vo]=z,De[xi]=2==s.type?r[xi]:De,De}function Jh(r,s,a,d,h){let p=r.data[s];if(null===p)p=function cb(r,s,a,d,h){const p=zl(),y=Gu(),P=r.data[s]=function mC(r,s,a,d,h,p){let y=s?s.injectorIndex:-1,C=0;return lc()&&(C|=128),{type:a,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,d,h);return null===r.firstChild&&(r.firstChild=P),null!==p&&(y?null==p.child&&null!==P.parent&&(p.child=P):null===p.next&&(p.next=P,P.prev=p)),P}(r,s,a,d,h),function j(){return oi.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=d,p.attrs=h;const y=function Na(){const r=oi.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Es(p,!0),p}function Zp(r,s,a,d){if(0===a)return-1;const h=s.length;for(let p=0;p<a;p++)s.push(d),r.blueprint.push(d),r.data.push(null);return h}function dC(r,s,a,d,h){const p=ja(s,kr),y=es(),C=2&d;try{jl(-1),C&&s.length>Xn&&lC(r,s,Xn,!1),Qr(C?2:0,h);const z=C?p:null,ie=Ol(z);try{null!==z&&(z.dirty=!1),a(d,h)}finally{ks(z,ie)}}finally{C&&null===s[kr]&&sb(s,kr),jl(y),Qr(C?3:1,h)}}function lb(r,s,a){if(Bc(s)){const d=gr(null);try{const p=s.directiveEnd;for(let y=s.directiveStart;y<p;y++){const C=r.data[y];C.contentQueries&&C.contentQueries(1,a[y],y)}}finally{gr(d)}}}function ub(r,s,a){sp()&&(function Kr(r,s,a,d){const h=a.directiveStart,p=a.directiveEnd;vs(a)&&function pu(r,s,a){const d=Jo(s,r),h=hb(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const C=Cc(r,l_(r,h,null,y,d,s,null,r[wr].rendererFactory.createRenderer(d,a),null,null,null));r[s.index]=C}(s,a,r.data[h+a.componentOffset]),r.firstCreatePass||Yl(a,s),Lo(d,s);const y=a.initialInputs;for(let C=h;C<p;C++){const P=r.data[C],z=xa(s,r,C,a);Lo(z,s),null!==y&&mu(0,C-h,z,P,0,y),Nr(P)&&(ro(a.index,s)[Ni]=xa(s,r,C,a))}}(r,s,a,Jo(a,s)),64==(64&a.flags)&&Ic(r,s,a))}function db(r,s,a=Jo){const d=s.localNames;if(null!==d){let h=s.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],C=-1===y?a(s,r):r[y];r[h++]=C}}}function hb(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=fb(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function fb(r,s,a,d,h,p,y,C,P,z,ie){const De=Xn+d,ft=De+h,Ct=function hC(r,s){const a=[];for(let d=0;d<s;d++)a.push(d<r?null:gi);return a}(De,ft),Zt="function"==typeof z?z():z;return Ct[wn]={type:r,blueprint:Ct,template:a,queries:null,viewQuery:C,declTNode:s,data:Ct.slice().fill(null,De),bindingStartIndex:De,expandoStartIndex:ft,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:P,consts:Zt,incompleteFirstPass:!1,ssrId:ie}}let u_=r=>null;function hr(r,s,a,d){for(let h in r)if(r.hasOwnProperty(h)){a=null===a?{}:a;const p=r[h];null===d?Qp(a,s,h,p):d.hasOwnProperty(h)&&Qp(a,s,d[h],p)}return a}function Qp(r,s,a,d){r.hasOwnProperty(a)?r[a].push(s,d):r[a]=[s,d]}function js(r,s,a,d,h,p,y,C){const P=Jo(s,a);let ie,z=s.inputs;!C&&null!=z&&(ie=z[d])?(g_(r,a,ie,d,h),vs(s)&&function ef(r,s){const a=ro(s,r);16&a[ii]||(a[ii]|=64)}(a,s.index)):3&s.type&&(d=function cr(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(d),h=null!=y?y(h,s.value||"",d):h,p.setProperty(P,d,h))}function pb(r,s,a,d){if(sp()){const h=null===d?null:{"":-1},p=function h_(r,s){const a=r.directiveRegistry;let d=null,h=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(Ts(s,y.selectors,!1))if(d||(d=[]),Nr(y))if(null!==y.findHostDirectiveDefs){const C=[];h=h||new Map,y.findHostDirectiveDefs(y,C,h),d.unshift(...C,y),Dd(r,s,C.length)}else d.unshift(y),Dd(r,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(r,a);let y,C;null===p?y=C=null:[y,C]=p,null!==y&&ao(r,s,a,y,h,C),h&&function pA(r,s,a){if(s){const d=r.localNames=[];for(let h=0;h<s.length;h+=2){const p=a[s[h+1]];if(null==p)throw new se(-301,!1);d.push(s[h],p)}}}(a,d,h)}a.mergedAttrs=vi(a.mergedAttrs,a.attrs)}function ao(r,s,a,d,h,p){for(let z=0;z<d.length;z++)Ia(Yl(a,s),r,d[z].type);!function fu(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,d.length);for(let z=0;z<d.length;z++){const ie=d[z];ie.providersResolver&&ie.providersResolver(ie)}let y=!1,C=!1,P=Zp(r,s,d.length,null);for(let z=0;z<d.length;z++){const ie=d[z];a.mergedAttrs=vi(a.mergedAttrs,ie.hostAttrs),f_(r,a,s,P,ie),hu(P,ie,h),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const De=ie.type.prototype;!y&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),y=!0),!C&&(De.ngOnChanges||De.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),C=!0),P++}!function Uo(r,s,a){const h=s.directiveEnd,p=r.data,y=s.attrs,C=[];let P=null,z=null;for(let ie=s.directiveStart;ie<h;ie++){const De=p[ie],ft=a?a.get(De):null,Zt=ft?ft.outputs:null;P=hr(De.inputs,ie,P,ft?ft.inputs:null),z=hr(De.outputs,ie,z,Zt);const fn=null===P||null===y||Pr(s)?null:tf(P,ie,y);C.push(fn)}null!==P&&(P.hasOwnProperty("class")&&(s.flags|=8),P.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=P,s.outputs=z}(r,a,p)}function Ic(r,s,a){const d=a.directiveStart,h=a.directiveEnd,p=a.index,y=function Ut(){return oi.lFrame.currentDirectiveIndex}();try{jl(p);for(let C=d;C<h;C++){const P=r.data[C],z=s[C];kt(C),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&d_(P,z)}}finally{jl(-1),kt(y)}}function d_(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Dd(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function hu(r,s,a){if(a){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)a[s.exportAs[d]]=r;Nr(s)&&(a[""]=r)}}function f_(r,s,a,d,h){r.data[d]=h;const p=h.factory||(h.factory=Qo(h.type)),y=new ea(p,Nr(h),Xh);r.blueprint[d]=y,a[d]=y,function fA(r,s,a,d,h){const p=h.hostBindings;if(p){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const C=~s.index;(function du(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=C&&y.push(C),y.push(a,d,p)}}(r,s,d,Zp(r,a,h.hostVars,gi),h)}function po(r,s,a,d,h,p){const y=Jo(r,s);!function Td(r,s,a,d,h,p,y){if(null==p)r.removeAttribute(s,h,a);else{const C=null==y?Ce(p):y(p,d||"",h);r.setAttribute(s,h,C,a)}}(s[$n],y,p,r.value,a,d,h)}function mu(r,s,a,d,h,p){const y=p[s];if(null!==y)for(let C=0;C<y.length;)mb(d,a,y[C++],y[C++],y[C++])}function mb(r,s,a,d,h){const p=gr(null);try{const y=r.inputTransforms;null!==y&&y.hasOwnProperty(d)&&(h=y[d].call(s,h)),null!==r.setInput?r.setInput(s,h,a,d):s[d]=h}finally{gr(p)}}function tf(r,s,a){let d=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(r.hasOwnProperty(p)){null===d&&(d=[]);const y=r[p];for(let C=0;C<y.length;C+=2)if(y[C]===s){d.push(p,y[C+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function p_(r,s,a,d){return[r,!0,!1,s,null,0,d,a,null,null,null]}function Xp(r,s){const a=r.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const p=a[d+1];if(-1!==p){const y=r.data[p];or(a[d]),y.contentQueries(2,s[p],p)}}}function Cc(r,s){return r[ms]?r[Ir][Er]=s:r[ms]=s,r[Ir]=s,s}function Jp(r,s,a){or(0);const d=gr(null);try{s(r,a)}finally{gr(d)}}function gb(r){return r[Oo]||(r[Oo]=[])}function _b(r){return r.cleanup||(r.cleanup=[])}function em(r,s,a){return(null===r||Nr(r))&&(a=function ac(r){for(;Array.isArray(r);){if("object"==typeof r[yo])return r;r=r[zi]}return null}(a[s.index])),a[$n]}function nf(r,s){const a=r[Or],d=a?a.get(au,null):null;d&&d.handleError(s)}function g_(r,s,a,d,h){for(let p=0;p<a.length;){const y=a[p++],C=a[p++];mb(r.data[y],s[y],d,C,h)}}function mA(r,s){const a=ro(s,r),d=a[wn];!function gC(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(d,a);const h=a[zi];null!==h&&null===a[Cr]&&(a[Cr]=Jg(h,a[Or])),__(d,a,a[Ni])}function __(r,s,a){dc(s);try{const d=r.viewQuery;null!==d&&Jp(1,d,a);const h=r.template;null!==h&&dC(r,s,h,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Xp(r,s),r.staticViewQueries&&Jp(2,r.viewQuery,a);const p=r.components;null!==p&&function zo(r,s){for(let a=0;a<s.length;a++)mA(r,s[a])}(s,p)}catch(d){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),d}finally{s[ii]&=-5,ig()}}let vb=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,d,h){const p=typeof Zone>"u"?null:Zone.current,y=function en(r,s,a){const d=Object.create($i);a&&(d.consumerAllowSignalWrites=!0),d.fn=r,d.schedule=s;const h=y=>{d.cleanupFn=y};return d.ref={notify:()=>Pa(d),run:()=>{if(d.dirty=!1,d.hasRun&&!$u(d))return;d.hasRun=!0;const y=Ol(d);try{d.cleanupFn(),d.cleanupFn=Un,d.fn(h)}finally{ks(d,y)}},cleanup:()=>d.cleanupFn()},d.ref}(a,z=>{this.all.has(z)&&this.queue.set(z,p)},h);let C;this.all.add(y),y.notify();const P=()=>{y.cleanup(),C?.(),this.all.delete(y),this.queue.delete(y)};return C=d?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[a,d]of this.queue)this.queue.delete(a),d?d.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=_t({token:r,providedIn:"root",factory:()=>new r})}return r})();function Ha(r,s,a){let d=a?r.styles:null,h=a?r.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const C=s[y];"number"==typeof C?p=C:1==p?h=Me(h,C):2==p&&(d=Me(d,C+": "+s[++y]+";"))}a?r.styles=d:r.stylesWithoutHost=d,a?r.classes=h:r.classesWithoutHost=h}function rf(r,s,a,d,h=!1){for(;null!==a;){const p=s[a.index];null!==p&&d.push(qi(p)),Ki(p)&&yb(p,d);const y=a.type;if(8&y)rf(r,s,a.child,d);else if(32&y){const C=wy(a,s);let P;for(;P=C();)d.push(P)}else if(16&y){const C=Mg(s,a);if(Array.isArray(C))d.push(...C);else{const P=eu(s[xi]);rf(P[wn],P,C,d,!0)}}a=h?a.projectionNext:a.next}return d}function yb(r,s){for(let a=ji;a<r.length;a++){const d=r[a],h=d[wn].firstChild;null!==h&&rf(d[wn],d,h,s)}r[rr]!==r[zi]&&s.push(r[rr])}function gu(r,s,a,d=!0){const h=s[wr],p=h.rendererFactory,y=h.afterRenderEventManager;p.begin?.(),y?.begin();try{Mi(r,s,r.template,a)}catch(P){throw d&&nf(s,P),P}finally{p.end?.(),h.effectManager?.flush(),y?.end()}}function Mi(r,s,a,d){const h=s[ii];if(256!=(256&h)){s[wr].effectManager?.flush(),dc(s);try{Bl(s),function k(r){return oi.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&dC(r,s,a,2,d);const y=3==(3&h);if(y){const z=r.preOrderCheckHooks;null!==z&&Yu(s,z,null)}else{const z=r.preOrderHooks;null!==z&&$l(s,z,0,null),Wl(s,0)}if(function sf(r){for(let s=Cy(r);null!==s;s=xy(s)){if(!s[Rs])continue;const a=s[io];for(let d=0;d<a.length;d++){eg(a[d])}}}(s),er(s,2),null!==r.contentQueries&&Xp(r,s),y){const z=r.contentCheckHooks;null!==z&&Yu(s,z)}else{const z=r.contentHooks;null!==z&&$l(s,z,1),Wl(s,1)}!function uA(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const d=ja(s,qo);try{for(let h=0;h<a.length;h++){const p=a[h];if(p<0)jl(~p);else{const y=p,C=a[++h],P=a[++h];$e(C,y),d.dirty=!1;const z=Ol(d);try{P(2,s[y])}finally{ks(d,z)}}}}finally{null===s[qo]&&sb(s,qo),jl(-1)}}(r,s);const C=r.components;null!==C&&Eb(s,C,0);const P=r.viewQuery;if(null!==P&&Jp(2,P,d),y){const z=r.viewCheckHooks;null!==z&&Yu(s,z)}else{const z=r.viewHooks;null!==z&&$l(s,z,2),Wl(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[ii]&=-73,op(s)}finally{ig()}}}function er(r,s){for(let a=Cy(r);null!==a;a=xy(a))for(let d=ji;d<a.length;d++)v_(a[d],s)}function bb(r,s,a){v_(ro(s,r),a)}function v_(r,s){if(!function Vl(r){return 128==(128&r[ii])}(r))return;const a=r[wn],d=r[ii];if(80&d&&0===s||1024&d||2===s)Mi(a,r,a.template,r[Ni]);else if(r[Go]>0){er(r,1);const h=a.components;null!==h&&Eb(r,h,1)}}function Eb(r,s,a){for(let d=0;d<s.length;d++)bb(r,s[d],a)}class Ad{get rootNodes(){const s=this._lView,a=s[wn];return rf(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ni]}set context(s){this._lView[Ni]=s}get destroyed(){return 256==(256&this._lView[ii])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Di];if(Ki(s)){const a=s[8],d=a?a.indexOf(this):-1;d>-1&&(Ag(s,d),yp(a,d))}this._attachedToViewContainer=!1}Ap(this._lView[wn],this._lView)}onDestroy(s){Kc(this._lView,s)}markForCheck(){Cs(this._cdRefInjectingView||this._lView)}detach(){this._lView[ii]&=-129}reattach(){this._lView[ii]|=128}detectChanges(){gu(this._lView[wn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BT(r,s){Fh(r,s,s[$n],2,null,null)}(this._lView[wn],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=s}}class vC extends Ad{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;gu(s[wn],s,s[Ni],!1)}checkNoChanges(){}get context(){return null}}class wb extends Kp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Fn(s);return new tm(a,this.ngModule)}}function Ib(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class _A{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,d){d=Cn(d);const h=this.injector.get(s,su,d);return h!==su||a===su?h:this.parentInjector.get(s,a,d)}}class tm extends yd{get inputs(){const s=this.componentDef,a=s.inputTransforms,d=Ib(s.inputs);if(null!==a)for(const h of d)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return d}get outputs(){return Ib(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function br(r){return r.map(da).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,d,h){let p=(h=h||this.ngModule)instanceof na?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new _A(s,p):s,C=y.get(QI,null);if(null===C)throw new se(407,!1);const De={rendererFactory:C,sanitizer:y.get(To,null),effectManager:y.get(vb,null),afterRenderEventManager:y.get(Zh,null)},ft=C.createRenderer(null,this.componentDef),Ct=this.componentDef.selectors[0][0]||"div",Zt=d?function fC(r,s,a,d){const p=d.get(hl,!1)||a===Rt.ShadowDom,y=r.selectRootElement(s,p);return function dA(r){u_(r)}(y),y}(ft,d,this.componentDef.encapsulation,y):Oh(ft,Ct,function gA(r){const s=r.toLowerCase();return"svg"===s?No:"math"===s?"math":null}(Ct)),qn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let on=null;null!==Zt&&(on=Jg(Zt,y,!0));const di=fb(0,null,null,1,0,null,null,null,null,null,null),bi=l_(null,di,null,qn,null,null,De,ft,y,null,on);let Qi,Ds;dc(bi);try{const qa=this.componentDef;let Mu,nw=null;qa.findHostDirectiveDefs?(Mu=[],nw=new Map,qa.findHostDirectiveDefs(qa,Mu,nw),Mu.push(qa)):Mu=[qa];const IR=function vA(r,s){const a=r[wn],d=Xn;return r[d]=s,Jh(a,d,2,"#host",null)}(bi,Zt),iw=function bC(r,s,a,d,h,p,y){const C=h[wn];!function yA(r,s,a,d){for(const h of r)s.mergedAttrs=vi(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Ha(s,s.mergedAttrs,!0),null!==a&&vI(d,a,s))}(d,r,s,y);let P=null;null!==s&&(P=Jg(s,h[Or]));const z=p.rendererFactory.createRenderer(s,a);let ie=16;a.signals?ie=4096:a.onPush&&(ie=64);const De=l_(h,hb(a),null,ie,h[r.index],r,p,z,null,null,P);return C.firstCreatePass&&Dd(C,r,d.length-1),Cc(h,De),h[r.index]=De}(IR,Zt,qa,Mu,bi,De,ft);Ds=rp(di,Xn),Zt&&function EA(r,s,a,d){if(d)ci(r,a,["ng-version",dl.full]);else{const{attrs:h,classes:p}=function ze(r){const s=[],a=[];let d=1,h=2;for(;d<r.length;){let p=r[d];if("string"==typeof p)2===h?""!==p&&s.push(p,r[++d]):8===h&&a.push(p);else{if(!ar(h))break;h=p}d++}return{attrs:s,classes:a}}(s.selectors[0]);h&&ci(r,a,h),p&&p.length>0&&od(r,a,p.join(" "))}}(ft,qa,Zt,d),void 0!==a&&function Cb(r,s,a){const d=r.projection=[];for(let h=0;h<s.length;h++){const p=a[h];d.push(null!=p?Array.from(p):null)}}(Ds,this.ngContentSelectors,a),Qi=function bA(r,s,a,d,h,p){const y=$r(),C=h[wn],P=Jo(y,h);ao(C,h,y,a,null,d);for(let ie=0;ie<a.length;ie++)Lo(xa(h,C,y.directiveStart+ie,y),h);Ic(C,h,y),P&&Lo(P,h);const z=xa(h,C,y.directiveStart+y.componentOffset,y);if(r[Ni]=h[Ni]=z,null!==p)for(const ie of p)ie(z,s);return lb(C,y,r),z}(iw,qa,Mu,nw,bi,[Sd]),__(di,bi,null)}finally{ig()}return new yC(this.componentType,Qi,Gh(Ds,bi),bi,Ds)}}class yC extends KI{constructor(s,a,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new vC(h),this.componentType=s}setInput(s,a){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const p=this._rootLView;g_(p[wn],p,h,s,a),this.previousInputValues.set(s,a),Cs(ro(this._tNode.index,p))}}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Sd(){const r=$r();Hl(rn()[wn],r)}function cf(r){let s=function af(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const d=[r];for(;s;){let h;if(Nr(r))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new se(903,!1);h=s.\u0275dir}if(h){if(a){d.push(h);const y=r;y.inputs=nm(r.inputs),y.inputTransforms=nm(r.inputTransforms),y.declaredInputs=nm(r.declaredInputs),y.outputs=nm(r.outputs);const C=h.hostBindings;C&&wC(r,C);const P=h.viewQuery,z=h.contentQueries;if(P&&EC(r,P),z&&pl(r,z),ne(r.inputs,h.inputs),ne(r.declaredInputs,h.declaredInputs),ne(r.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),ne(y.inputTransforms,h.inputTransforms)),Nr(h)&&h.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const C=p[y];C&&C.ngInherit&&C(r),C===cf&&(a=!1)}}s=Object.getPrototypeOf(s)}!function y_(r){let s=0,a=null;for(let d=r.length-1;d>=0;d--){const h=r[d];h.hostVars=s+=h.hostVars,h.hostAttrs=vi(h.hostAttrs,a=vi(a,h.hostAttrs))}}(d)}function nm(r){return r===ae?{}:r===mt?[]:r}function EC(r,s){const a=r.viewQuery;r.viewQuery=a?(d,h)=>{s(d,h),a(d,h)}:s}function pl(r,s){const a=r.contentQueries;r.contentQueries=a?(d,h,p)=>{s(d,h,p),a(d,h,p)}:s}function wC(r,s){const a=r.hostBindings;r.hostBindings=a?(d,h)=>{s(d,h),a(d,h)}:s}function Sb(r){const s=r.inputConfig,a={};for(const d in s)if(s.hasOwnProperty(d)){const h=s[d];Array.isArray(h)&&h[2]&&(a[d]=h[2])}r.inputTransforms=a}function _u(r){return!!Rb(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Rb(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function xc(r,s,a){return r[s]=a}function jo(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function b_(r,s,a,d){const h=rn();return jo(h,I(),s)&&(Jn(),po(Tr(),h,r,s,a,d)),b_}function hf(r,s,a,d){return jo(r,I(),a)?s+Ce(a)+d:gi}function vf(r,s,a,d,h,p,y,C){const P=rn(),z=Jn(),ie=r+Xn,De=z.firstCreatePass?function Hb(r,s,a,d,h,p,y,C,P){const z=s.consts,ie=Jh(s,r,4,y||null,Xs(z,C));pb(s,a,ie,Xs(z,P)),Hl(s,ie);const De=ie.tView=fb(2,ie,d,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),De.queries=s.queries.embeddedTView(ie)),ie}(ie,z,P,s,a,d,h,p,y):z.data[ie];Es(De,!1);const ft=yf(z,P,De,r);yh()&&Rg(z,P,ft,De),Lo(ft,P),Cc(P,P[ie]=p_(ft,P,ft,De)),ys(De)&&ub(z,P,De),null!=y&&db(P,De,C)}let yf=function bf(r,s,a,d){return ba(!0),s[$n].createComment("")};function $b(r){return ya(function Ku(){return oi.lFrame.contextLView}(),Xn+r)}function Wb(r,s,a){const d=rn();return jo(d,I(),s)&&js(Jn(),Tr(),d,r,s,d[$n],a,!1),Wb}function D_(r,s,a,d,h){const y=h?"class":"style";g_(r,a,s.inputs[y],y,d)}function T_(r,s,a,d){const h=rn(),p=Jn(),y=Xn+r,C=h[$n],P=p.firstCreatePass?function kC(r,s,a,d,h,p){const y=s.consts,P=Jh(s,r,2,d,Xs(y,h));return pb(s,a,P,Xs(y,p)),null!==P.attrs&&Ha(P,P.attrs,!1),null!==P.mergedAttrs&&Ha(P,P.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,P),P}(y,p,h,s,a,d):p.data[y],z=NC(p,h,P,C,s,r);h[y]=z;const ie=ys(P);return Es(P,!0),vI(C,z,P),32!=(32&P.flags)&&yh()&&Rg(p,h,z,P),0===function fh(){return oi.lFrame.elementDepthCount}()&&Lo(z,h),function ph(){oi.lFrame.elementDepthCount++}(),ie&&(ub(p,h,P),lb(p,P,h)),null!==d&&db(h,P),T_}function A_(){let r=$r();Gu()?_h():(r=r.parent,Es(r,!1));const s=r;(function Qv(r){return oi.skipHydrationRootTNode===r})(s)&&function Zc(){oi.skipHydrationRootTNode=null}(),function mh(){oi.lFrame.elementDepthCount--}();const a=Jn();return a.firstCreatePass&&(Hl(a,r),Bc(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function yi(r){return 0!=(8&r.flags)}(s)&&D_(a,s,rn(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function cg(r){return 0!=(16&r.flags)}(s)&&D_(a,s,rn(),s.stylesWithoutHost,!1),A_}function Gb(r,s,a,d){return T_(r,s,a,d),A_(),Gb}let NC=(r,s,a,d,h,p)=>(ba(!0),Oh(d,h,function ag(){return oi.lFrame.currentNamespace}()));function S_(r,s,a){const d=rn(),h=Jn(),p=r+Xn,y=h.firstCreatePass?function FC(r,s,a,d,h){const p=s.consts,y=Xs(p,d),C=Jh(s,r,8,"ng-container",y);return null!==y&&Ha(C,y,!0),pb(s,a,C,Xs(p,h)),null!==s.queries&&s.queries.elementStart(s,C),C}(p,h,d,s,a):h.data[p];Es(y,!0);const C=Yb(h,d,y,r);return d[p]=C,yh()&&Rg(h,d,C,y),Lo(C,d),ys(y)&&(ub(h,d,y),lb(h,y,d)),null!=a&&db(d,y),S_}function Sr(){let r=$r();const s=Jn();return Gu()?_h():(r=r.parent,Es(r,!1)),s.firstCreatePass&&(Hl(s,r),Bc(r)&&s.queries.elementEnd(r)),Sr}function am(r,s,a){return S_(r,s,a),Sr(),am}let Yb=(r,s,a,d)=>(ba(!0),Tp(s[$n],""));function R_(){return rn()}function M_(r){return!!r&&"function"==typeof r.then}function wf(r){return!!r&&"function"==typeof r.subscribe}function P_(r,s,a,d){const h=rn(),p=Jn(),y=$r();return VC(p,h,h[$n],y,r,s,d),P_}function O_(r,s){const a=$r(),d=rn(),h=Jn();return VC(h,d,em(Rn(h.data),a,d),a,r,s),O_}function VC(r,s,a,d,h,p,y){const C=ys(d),z=r.firstCreatePass&&_b(r),ie=s[Ni],De=gb(s);let ft=!0;if(3&d.type||y){const fn=Jo(d,s),Mn=y?y(fn):fn,qn=De.length,on=y?bi=>y(qi(bi[d.index])):d.index;let di=null;if(!y&&C&&(di=function LC(r,s,a,d){const h=r.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===d){const C=s[Oo],P=h[p+2];return C.length>P?C[P]:null}"string"==typeof y&&(p+=2)}return null}(r,s,h,d.index)),null!==di)(di.__ngLastListenerFn__||di).__ngNextListenerFn__=p,di.__ngLastListenerFn__=p,ft=!1;else{p=If(d,s,ie,p,!1);const bi=a.listen(Mn,h,p);De.push(p,bi),z&&z.push(h,on,qn,qn+1)}}else p=If(d,s,ie,p,!1);const Ct=d.outputs;let Zt;if(ft&&null!==Ct&&(Zt=Ct[h])){const fn=Zt.length;if(fn)for(let Mn=0;Mn<fn;Mn+=2){const Qi=s[Zt[Mn]][Zt[Mn+1]].subscribe(p),Ds=De.length;De.push(p,Qi),z&&z.push(h,d.index,Ds,-(Ds+1))}}}function BC(r,s,a,d){try{return Qr(6,s,a),!1!==a(d)}catch(h){return nf(r,h),!1}finally{Qr(7,s,a)}}function If(r,s,a,d,h){return function p(y){if(y===Function)return d;Cs(r.componentOffset>-1?ro(r.index,s):s);let P=BC(s,a,d,y),z=p.__ngNextListenerFn__;for(;z;)P=BC(s,a,z,y)&&P,z=z.__ngNextListenerFn__;return h&&!1===P&&y.preventDefault(),P}}function k_(r=1){return function rg(r){return(oi.lFrame.contextLView=function Vw(r,s){for(;r>0;)s=s[Ko],r--;return s}(r,oi.lFrame.contextLView))[Ni]}(r)}function SA(r,s){let a=null;const d=function Ks(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let h=0;h<s.length;h++){const p=s[h];if("*"!==p){if(null===d?Ts(r,p,!0):us(d,p))return h}else a=h}return a}function qb(r){const s=rn()[xi][Gi];if(!s.projection){const d=s.projection=ed(r?r.length:1,null),h=d.slice();let p=s.child;for(;null!==p;){const y=r?SA(p,r):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function N_(r,s=0,a){const d=rn(),h=Jn(),p=Jh(h,Xn+r,16,null,a||null);null===p.projection&&(p.projection=s),_h(),(!d[Cr]||lc())&&32!=(32&p.flags)&&function _I(r,s,a){My(s[$n],0,s,a,ho(r,a,s),mI(a.parent||s[Gi],a,s))}(h,d,p)}function F_(r,s,a){return Zb(r,"",s,"",a),F_}function Zb(r,s,a,d,h){const p=rn(),y=hf(p,s,a,d);return y!==gi&&js(Jn(),Tr(),p,r,y,p[$n],h,!1),Zb}function lm(r,s){return r<<17|s<<2}function is(r){return r>>17&32767}function L_(r){return 2|r}function Ac(r){return(131068&r)>>2}function _l(r,s){return-131069&r|s<<2}function vl(r){return 1|r}function t0(r,s,a,d,h){const p=r[a+1],y=null===s;let C=d?is(p):Ac(p),P=!1;for(;0!==C&&(!1===P||y);){const ie=r[C+1];WC(r[C],s)&&(P=!0,r[C+1]=d?vl(ie):L_(ie)),C=d?is(ie):Ac(ie)}P&&(r[a+1]=d?L_(p):vl(p))}function WC(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&rl(r,s)>=0}const mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function n0(r){return r.substring(mo.key,mo.keyEnd)}function Cf(r,s){const a=mo.textEnd;return a===s?-1:(s=mo.keyEnd=function PA(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,mo.key=s,a),xf(r,s,a))}function xf(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function U_(r,s,a){return oa(r,s,a,!1),U_}function z_(r,s){return oa(r,s,null,!0),z_}function Wa(r,s){for(let a=function B_(r){return function r0(r){mo.key=0,mo.keyEnd=0,mo.value=0,mo.valueEnd=0,mo.textEnd=r.length}(r),Cf(r,xf(r,0,mo.textEnd))}(s);a>=0;a=Cf(s,a))Ls(r,n0(s),!0)}function oa(r,s,a,d){const h=rn(),p=Jn(),y=O(2);p.firstUpdatePass&&um(p,r,y,d),s!==gi&&jo(h,y,s)&&Ho(p,p.data[es()],h,h[$n],r,h[y+1]=function $_(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=pe(bc(r)))),r}(s,a),d,y)}function a0(r,s){return s>=r.expandoStartIndex}function um(r,s,a,d){const h=r.data;if(null===h[a+1]){const p=h[es()],y=a0(r,a);u0(p,d)&&null===s&&!y&&(s=!1),s=function NA(r,s,a,d){const h=Rn(r);let p=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(a=Rc(a=H_(null,r,s,a,d),s.attrs,d),p=null);else{const y=s.directiveStylingLast;if(-1===y||r[y]!==h)if(a=H_(h,r,s,a,d),null===p){let P=function c0(r,s,a){const d=a?s.classBindings:s.styleBindings;if(0!==Ac(d))return r[is(d)]}(r,s,d);void 0!==P&&Array.isArray(P)&&(P=H_(null,r,s,P[1],d),P=Rc(P,s.attrs,d),function j_(r,s,a,d){r[is(a?s.classBindings:s.styleBindings)]=d}(r,s,d,P))}else p=function FA(r,s,a){let d;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)d=Rc(d,r[p].hostAttrs,a);return Rc(d,s.attrs,a)}(r,s,d)}return void 0!==p&&(d?s.residualClasses=p:s.residualStyles=p),a}(h,p,s,d),function Jb(r,s,a,d,h,p){let y=p?s.classBindings:s.styleBindings,C=is(y),P=Ac(y);r[d]=a;let ie,z=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||rl(a,ie)>0)&&(z=!0)):ie=a,h)if(0!==P){const ft=is(r[C+1]);r[d+1]=lm(ft,C),0!==ft&&(r[ft+1]=_l(r[ft+1],d)),r[C+1]=function RA(r,s){return 131071&r|s<<17}(r[C+1],d)}else r[d+1]=lm(C,0),0!==C&&(r[C+1]=_l(r[C+1],d)),C=d;else r[d+1]=lm(P,0),0===C?C=d:r[P+1]=_l(r[P+1],d),P=d;z&&(r[d+1]=L_(r[d+1])),t0(r,ie,d,!0),t0(r,ie,d,!1),function e0(r,s,a,d,h){const p=h?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof s&&rl(p,s)>=0&&(a[d+1]=vl(a[d+1]))}(s,ie,r,d,p),y=lm(C,P),p?s.classBindings=y:s.styleBindings=y}(h,p,s,a,y,d)}}function H_(r,s,a,d,h){let p=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(p=s[C],d=Rc(d,p.hostAttrs,h),p!==r);)C++;return null!==r&&(a.directiveStylingLast=C),d}function Rc(r,s,a){const d=a?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?h=y:h===d&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Ls(r,y,!!a||s[++p]))}return void 0===r?null:r}function Ho(r,s,a,d,h,p,y,C){if(!(3&s.type))return;const P=r.data,z=P[C+1],ie=function Fd(r){return 1==(1&r)}(z)?l0(P,s,a,h,Ac(z),y):void 0;Ud(ie)||(Ud(p)||function $C(r){return 2==(2&r)}(z)&&(p=l0(P,null,a,h,C,y)),function HT(r,s,a,d,h){if(s)h?r.addClass(a,d):r.removeClass(a,d);else{let p=-1===d.indexOf("-")?void 0:Fa.DashCase;null==h?r.removeStyle(a,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Fa.Important),r.setStyle(a,d,h,p))}}(d,y,Ll(es(),a),h,p))}function l0(r,s,a,d,h,p){const y=null===s;let C;for(;h>0;){const P=r[h],z=Array.isArray(P),ie=z?P[1]:P,De=null===ie;let ft=a[h+1];ft===gi&&(ft=De?mt:void 0);let Ct=De?Ch(ft,d):ie===d?ft:void 0;if(z&&!Ud(Ct)&&(Ct=Ch(P,d)),Ud(Ct)&&(C=Ct,y))return C;const Zt=r[h+1];h=y?is(Zt):Ac(Zt)}if(null!==s){let P=p?s.residualClasses:s.residualStyles;null!=P&&(C=Ch(P,d))}return C}function Ud(r){return void 0!==r}function u0(r,s){return 0!=(r.flags&(s?8:16))}function bl(r,s=""){const a=rn(),d=Jn(),h=r+Xn,p=d.firstCreatePass?Jh(d,h,1,s,null):d.data[h],y=zd(d,a,p,s,r);a[h]=y,yh()&&Rg(d,a,y,p),Es(p,!1)}let zd=(r,s,a,d,h)=>(ba(!0),function Ph(r,s){return r.createText(s)}(s[$n],d));function d0(r){return El("",r,""),d0}function El(r,s,a){const d=rn(),h=hf(d,r,s,a);return h!==gi&&function fl(r,s,a){const d=Ll(s,r);!function Tg(r,s,a){r.setValue(s,a)}(r[$n],d,a)}(d,es(),h),El}function hm(r,s,a){!function sa(r,s,a,d){const h=Jn(),p=O(2);h.firstUpdatePass&&um(h,null,p,d);const y=rn();if(a!==gi&&jo(y,p,a)){const C=h.data[es()];if(u0(C,d)&&!a0(h,p)){let P=d?C.classesWithoutHost:C.stylesWithoutHost;null!==P&&(a=Me(P,a||"")),D_(h,C,y,a,d)}else!function qC(r,s,a,d,h,p,y,C){h===gi&&(h=mt);let P=0,z=0,ie=0<h.length?h[0]:null,De=0<p.length?p[0]:null;for(;null!==ie||null!==De;){const ft=P<h.length?h[P+1]:void 0,Ct=z<p.length?p[z+1]:void 0;let fn,Zt=null;ie===De?(P+=2,z+=2,ft!==Ct&&(Zt=De,fn=Ct)):null===De||null!==ie&&ie<De?(P+=2,Zt=ie):(z+=2,Zt=De,fn=Ct),null!==Zt&&Ho(r,s,a,d,Zt,fn,y,C),ie=P<h.length?h[P]:null,De=z<p.length?p[z]:null}}(h,C,y,y[$n],y[p+1],y[p+1]=function dm(r,s,a){if(null==a||""===a)return mt;const d=[],h=bc(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)r(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&r(d,p,h[p]);else"string"==typeof h&&s(d,h);return d}(r,s,a),d,p)}}(Ls,Wa,hf(rn(),r,s,a),!0)}function gm(r,s,a){const d=rn();return jo(d,I(),s)&&js(Jn(),Tr(),d,r,s,d[$n],a,!0),gm}function $d(r,s,a){const d=rn();if(jo(d,I(),s)){const p=Jn(),y=Tr();js(p,y,d,r,s,em(Rn(p.data),y,d),a,!0)}return $d}const Mc=void 0;var y0=["en",[["a","p"],["AM","PM"],Mc],[["AM","PM"],Mc,Mc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mc,"{1} 'at' {0}",Mc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function v0(r){const a=Math.floor(Math.abs(r)),d=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let Tf={};function b0(r){const s=function GA(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=K_(s);if(a)return a;const d=s.split("-")[0];if(a=K_(d),a)return a;if("en"===d)return y0;throw new se(701,!1)}function E0(r){return b0(r)[Wd.PluralCase]}function K_(r){return r in Tf||(Tf[r]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[r]),Tf[r]}var Wd=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Wd||{});const Ga="en-US";let w0=Ga;function xm(r,s,a,d,h){if(r=xe(r),Array.isArray(r))for(let p=0;p<r.length;p++)xm(r[p],s,a,d,h);else{const p=Jn(),y=rn(),C=$r();let P=iu(r)?r:xe(r.provide);const z=Yy(r),ie=1048575&C.providerIndexes,De=C.directiveStart,ft=C.providerIndexes>>20;if(iu(r)||!r.multi){const Ct=new ea(z,h,Xh),Zt=Y0(P,s,h?ie:ie+ft,De);-1===Zt?(Ia(Yl(C,y),p,P),Dm(p,r,s.length),s.push(P),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),a.push(Ct),y.push(Ct)):(a[Zt]=Ct,y[Zt]=Ct)}else{const Ct=Y0(P,s,ie+ft,De),Zt=Y0(P,s,ie,ie+ft),Mn=Zt>=0&&a[Zt];if(h&&!Mn||!h&&!(Ct>=0&&a[Ct])){Ia(Yl(C,y),p,P);const qn=function xx(r,s,a,d,h){const p=new ea(r,a,Xh);return p.multi=[],p.index=s,p.componentProviders=0,Cx(p,h,d&&!a),p}(h?Z0:q0,a.length,h,d,z);!h&&Mn&&(a[Zt].providerFactory=qn),Dm(p,r,s.length,0),s.push(P),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),a.push(qn),y.push(qn)}else Dm(p,r,Ct>-1?Ct:Zt,Cx(a[h?Zt:Ct],z,!h&&d));!h&&d&&Mn&&a[Zt].componentProviders++}}}function Dm(r,s,a,d){const h=iu(s),p=function XT(r){return!!r.useClass}(s);if(h||p){const P=(p?xe(s.useClass):s).prototype.ngOnDestroy;if(P){const z=r.destroyHooks||(r.destroyHooks=[]);if(!h&&s.multi){const ie=z.indexOf(a);-1===ie?z.push(a,[d,P]):z[ie+1].push(d,P)}else z.push(a,P)}}}function Cx(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Y0(r,s,a,d){for(let h=a;h<d;h++)if(s[h]===r)return h;return-1}function q0(r,s,a,d){return Q0(this.multi,[])}function Z0(r,s,a,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=xa(a,a[wn],this.providerFactory.index,d);p=C.slice(0,y),Q0(h,p);for(let P=y;P<C.length;P++)p.push(C[P])}else p=[],Q0(h,p);return p}function Q0(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function Dx(r,s=[]){return a=>{a.providersResolver=(d,h)=>function K0(r,s,a){const d=Jn();if(d.firstCreatePass){const h=Nr(r);xm(a,d.data,d.blueprint,h,!0),xm(s,d.data,d.blueprint,h,!1)}}(d,h?h(r):r,s)}}class xu{}class X0{}function Tx(r,s){return new J0(r,s??null,[])}class J0 extends xu{constructor(s,a,d){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wb(this);const h=ir(s);this._bootstrapComponents=za(h.bootstrap),this._r3Injector=tb(s,a,[{provide:xu,useValue:this},{provide:Kp,useValue:this.componentFactoryResolver},...d],pe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class eE extends X0{constructor(s){super(),this.moduleType=s}create(s){return new J0(this.moduleType,s,[])}}class Ax extends xu{constructor(s){super(),this.componentFactoryResolver=new wb(this),this.instance=null;const a=new hd([...s.providers,{provide:xu,useValue:this},{provide:Kp,useValue:this.componentFactoryResolver}],s.parent||$p(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function nv(r,s,a=null){return new Ax({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let tE=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const d=jp(0,a.type),h=d.length>0?nv([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=_t({token:r,providedIn:"environment",factory:()=>new r(Jt(na))})}return r})();function iv(r){r.getStandaloneInjector=s=>s.get(tE).getOrCreateStandaloneInjector(r)}function Xd(r,s,a){const d=Xr()+r,h=rn();return h[d]===gi?xc(h,d,a?s.call(a):s()):function Ro(r,s){return r[s]}(h,d)}function Tm(r,s){const a=r[s];return a===gi?void 0:a}function Fx(r,s,a,d,h,p,y){const C=s+a;return function $a(r,s,a,d){const h=jo(r,s,a);return jo(r,s+1,d)||h}(r,C,h,p)?xc(r,C+2,y?d.call(y,h,p):d(h,p)):Tm(r,C+2)}function Vx(r,s){const a=Jn();let d;const h=r+Xn;a.firstCreatePass?(d=function fE(r,s){if(s)for(let a=s.length-1;a>=0;a--){const d=s[a];if(r===d.name)return d}}(s,a.pipeRegistry),a.data[h]=d,d.onDestroy&&(a.destroyHooks??=[]).push(h,d.onDestroy)):d=a.data[h];const p=d.factory||(d.factory=Qo(d.type)),C=re(Xh);try{const P=Kl(!1),z=p();return Kl(P),function OC(r,s,a,d){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=d}(a,rn(),h,z),z}finally{re(C)}}function pE(r,s,a){const d=r+Xn,h=rn(),p=ya(h,d);return Jd(h,d)?function sv(r,s,a,d,h,p){const y=s+a;return jo(r,y,h)?xc(r,y+1,p?d.call(p,h):d(h)):Tm(r,y+1)}(h,Xr(),s,p.transform,a,p):p.transform(a)}function Ux(r,s,a,d){const h=r+Xn,p=rn(),y=ya(p,h);return Jd(p,h)?Fx(p,Xr(),s,y.transform,a,d,y):y.transform(a,d)}function Jd(r,s){return r[wn].data[s].pure}function gE(){return this._results[Symbol.iterator]()}class Ff{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ni)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ff.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=gE)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const d=this;d.dirty=!1;const h=function Fs(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ww(r,s,a){if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++){let h=r[d],p=s[d];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(d._results,h,a))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function vS(r,s,a,d=!0){const h=s[wn];if(function hI(r,s,a,d){const h=ji+d,p=a.length;d>0&&(a[h-1][Er]=s),d<p-ji?(s[Er]=a[h],cy(a,ji+d,s)):(a.push(s),s[Er]=null),s[Di]=a;const y=s[fa];null!==y&&a!==y&&function Ty(r,s){const a=r[io];s[xi]!==s[Di][Di][xi]&&(r[Rs]=!0),null===a?r[io]=[s]:a.push(s)}(y,s);const C=s[_o];null!==C&&C.insertView(r),s[ii]|=128}(h,s,r,a),d){const p=Pp(a,r),y=s[$n],C=Sg(y,r[rr]);null!==C&&function uI(r,s,a,d,h,p){d[zi]=h,d[Gi]=s,Fh(r,d,a,1,h,p)}(h,r[Gi],y,s,C,p)}}let Lf=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=uv}return r})();const Vf=Lf,jx=class extends Vf{constructor(s,a,d){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,d){const h=function _S(r,s,a,d){const h=s.tView,C=l_(r,h,a,4096&r[ii]?4096:16,null,s,null,null,null,d?.injector??null,d?.hydrationInfo??null);C[fa]=r[s.index];const z=r[_o];return null!==z&&(C[_o]=z.createEmbeddedView(h)),__(h,C,a),C}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:d});return new Ad(h)}};function uv(){return dv($r(),rn())}function dv(r,s){return 4&r.type?new jx(s,r,Gh(r,s)):null}let th=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bE}return r})();function bE(){return wE($r(),rn())}const Gx=th,nh=class extends Gx{constructor(s,a,d){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=d}get element(){return Gh(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const s=Qu(this._hostTNode,this._hostLView);if(ts(s)){const a=Ea(s,this._hostLView),d=qu(s);return new Io(a[wn].data[d+8],a)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=EE(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(s,a,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const C=s.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(C,h,false),C}createComponent(s,a,d,h,p){const y=s&&!function il(r){return"function"==typeof r}(s);let C;if(y)C=a;else{const fn=a||{};C=fn.index,d=fn.injector,h=fn.projectableNodes,p=fn.environmentInjector||fn.ngModuleRef}const P=y?s:new tm(Fn(s)),z=d||this.parentInjector;if(!p&&null==P.ngModule){const Mn=(y?z:this.parentInjector).get(na,null);Mn&&(p=Mn)}Fn(P.componentType??{});const Ct=P.create(z,h,null,p);return this.insertImpl(Ct.hostView,C,false),Ct}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,d){const h=s._lView;if(function Qs(r){return Ki(r[Di])}(h)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const z=h[Di],ie=new nh(z,z[Gi],z[Di]);ie.detach(ie.indexOf(s))}}const y=this._adjustIndex(a),C=this._lContainer;return vS(C,h,y,!d),s.attachToViewContainerRef(),cy(Am(C),y,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=EE(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),d=Ag(this._lContainer,a);d&&(yp(Am(this._lContainer),a),Ap(d[wn],d))}detach(s){const a=this._adjustIndex(s,-1),d=Ag(this._lContainer,a);return d&&null!=yp(Am(this._lContainer),a)?new Ad(d):null}_adjustIndex(s,a=0){return s??this.length+a}};function EE(r){return r[8]}function Am(r){return r[8]||(r[8]=[])}function wE(r,s){let a;const d=s[r.index];return Ki(d)?a=d:(a=p_(d,s,null,r),s[r.index]=a,Cc(s,a)),pv(a,s,r,d),new nh(a,r,s)}let pv=function Kx(r,s,a,d){if(r[rr])return;let h;h=8&a.type?qi(d):function Bf(r,s){const a=r[$n],d=a.createComment(""),h=Jo(s,r);return sl(a,Sg(a,h),d,function jT(r,s){return r.nextSibling(s)}(a,h),!1),d}(s,a),r[rr]=h};class mv{constructor(s){this.queryList=s,this.matches=null}clone(){return new mv(this.queryList)}setDirty(){this.queryList.setDirty()}}class IE{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const d=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let p=0;p<d;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new IE(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Uf(s,a).matches&&this.queries[a].setDirty()}}class CE{constructor(s,a,d=null){this.predicate=s,this.flags=a,this.read=d}}class xE{constructor(s=[]){this.queries=s}elementStart(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let d=0;d<this.length;d++){const h=null!==a?a.length:0,p=this.getByIndex(d).embeddedTView(s,h);p&&(p.indexInDeclarationView=d,null!==a?a.push(p):a=[p])}return null!==a?new xE(a):null}template(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class DE{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new DE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(s,a,wS(a,p)),this.matchTNodeWithReadOption(s,a,Ca(a,s,p,!1,!1))}else d===Lf?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ca(a,s,d,!1,!1))}matchTNodeWithReadOption(s,a,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===ou||h===th||h===Lf&&4&a.type)this.addMatch(a.index,-2);else{const p=Ca(a,s,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,d)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function wS(r,s){const a=r.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===s)return a[d+1];return null}function CS(r,s,a,d){return-1===a?function IS(r,s){return 11&r.type?Gh(r,s):4&r.type?dv(r,s):null}(s,r):-2===a?function xS(r,s,a){return a===ou?Gh(s,r):a===Lf?dv(s,r):a===th?wE(s,r):void 0}(r,s,d):xa(r,r[wn],a,s)}function TE(r,s,a,d){const h=s[_o].queries[d];if(null===h.matches){const p=r.data,y=a.matches,C=[];for(let P=0;P<y.length;P+=2){const z=y[P];C.push(z<0?null:CS(s,p[z],y[P+1],a.metadata.read))}h.matches=C}return h.matches}function gv(r,s,a,d){const h=r.queries.getByIndex(a),p=h.matches;if(null!==p){const y=TE(r,s,h,a);for(let C=0;C<p.length;C+=2){const P=p[C];if(P>0)d.push(y[C/2]);else{const z=p[C+1],ie=s[-P];for(let De=ji;De<ie.length;De++){const ft=ie[De];ft[fa]===ft[Di]&&gv(ft[wn],ft,z,d)}if(null!==ie[io]){const De=ie[io];for(let ft=0;ft<De.length;ft++){const Ct=De[ft];gv(Ct[wn],Ct,z,d)}}}}}return d}function _v(r){const s=rn(),a=Jn(),d=fi();or(d+1);const h=Uf(a,d);if(r.dirty&&function cc(r){return 4==(4&r[ii])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)r.reset([]);else{const p=h.crossesNgTemplate?gv(a,s,d,[]):TE(a,s,h,d);r.reset(p,rA),r.notifyOnChanges()}return!0}return!1}function AE(r,s,a){const d=Jn();d.firstCreatePass&&(ME(d,new CE(r,s,a),-1),2==(2&s)&&(d.staticViewQueries=!0)),Ai(d,rn(),s)}function SE(r,s,a,d){const h=Jn();if(h.firstCreatePass){const p=$r();ME(h,new CE(s,a,d),p.index),function Yx(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(h,r),2==(2&a)&&(h.staticContentQueries=!0)}Ai(h,rn(),a)}function RE(){return function vv(r,s){return r[_o].queries[s].queryList}(rn(),fi())}function Ai(r,s,a){const d=new Ff(4==(4&a));(function uu(r,s,a,d){const h=gb(s);h.push(a),r.firstCreatePass&&_b(r).push(d,h.length-1)})(r,s,d,d.destroy),null===s[_o]&&(s[_o]=new IE),s[_o].queries.push(new mv(d))}function ME(r,s,a){null===r.queries&&(r.queries=new xE),r.queries.track(new DE(s,a))}function Uf(r,s){return r.queries.getByIndex(s)}function PE(r,s){return dv(r,s)}function Sm(r){return!!ir(r)}const HE=new rt("Application Initializer");let km=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=pn(HE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const p=h();if(M_(p))a.push(p);else if(wf(p)){const y=new Promise((C,P)=>{p.subscribe({complete:C,error:P})});a.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{d()}).catch(h=>{this.reject(h)}),0===a.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),zf=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const Au=new rt("LocaleId",{providedIn:"root",factory:()=>pn(Au,Ke.Optional|Ke.SkipSelf)||function Tu(){return typeof $localize<"u"&&$localize.locale||Ga}()}),VS=new rt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Dv=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new te.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class BS{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Tv=(()=>{class r{compileModuleSync(a){return new eE(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),p=za(ir(a).declarations).reduce((y,C)=>{const P=Fn(C);return P&&y.push(new tm(P)),y},[]);return new BS(d,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const fD=new rt(""),pD=new rt("");let GE,GS=(()=>{class r{constructor(a,d,h){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,GE||(function mD(r){GE=r}(h),h.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,h){return[]}static#e=this.\u0275fac=function(d){return new(d||r)(Jt(kn),Jt(WE),Jt(pD))};static#t=this.\u0275prov=_t({token:r,factory:r.\u0275fac})}return r})(),WE=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return GE?.findTestabilityInTree(this,a,d)??null}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Su=null;const KE=new rt("AllowMultipleToken"),YE=new rt("PlatformDestroyListeners"),Ru=new rt("appBootstrapListener");class YS{constructor(s,a){this.name=s,this.token=a}}function XS(r,s,a=[]){const d=`Platform: ${s}`,h=new rt(d);return(p=[])=>{let y=ZE();if(!y||y.injector.get(KE,!1)){const C=[...a,...p,{provide:h,useValue:!0}];r?r(C):function qS(r){if(Su&&!Su.get(KE,!1))throw new se(400,!1);(function gD(){!function Nl(r){Wc=r}(()=>{throw new se(600,!1)})})(),Su=r;const s=r.get(JS);(function QS(r){r.get(zI,null)?.forEach(a=>a())})(r)}(function _D(r=[],s){return Ua.create({name:s,providers:[{provide:Ky,useValue:"platform"},{provide:YE,useValue:new Set([()=>Su=null])},...r]})}(C,d))}return function IO(r){const s=ZE();if(!s)throw new se(401,!1);return s}()}}function ZE(){return Su?.get(JS)??null}let JS=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const h=function yD(r="zone.js",s){return"noop"===r?new Id:"zone.js"===r?new kn(s):r}(d?.ngZone,function vD(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function cS(r,s,a){return new J0(r,s,a)}(a.moduleType,this.injector,function nR(r){return[{provide:kn,useFactory:r},{provide:zh,multi:!0,useFactory:()=>{const s=pn(tR,{optional:!0});return()=>s.initialize()}},{provide:wD,useFactory:eR},{provide:nC,useFactory:cu}]}(()=>h)),y=p.injector.get(au,null);return h.runOutsideAngular(()=>{const C=h.onError.subscribe({next:P=>{y.handleError(P)}});p.onDestroy(()=>{Ov(this._modules,p),C.unsubscribe()})}),function Tl(r,s,a){try{const d=a();return M_(d)?d.catch(h=>{throw s.runOutsideAngular(()=>r.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>r.handleError(d)),d}}(y,h,()=>{const C=p.injector.get(km);return C.runInitializers(),C.donePromise.then(()=>(function dx(r){Dt(r,"Expected localeId to be defined"),"string"==typeof r&&(w0=r.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Au,Ga)||Ga),this._moduleDoBootstrap(p),p))})})}bootstrapModule(a,d=[]){const h=bD({},d);return function qE(r,s,a){const d=new eE(a);return Promise.resolve(d)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const d=a.injector.get(Hf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new se(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get(YE,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||r)(Jt(Ua))};static#t=this.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function bD(r,s){return Array.isArray(s)?s.reduce(bD,r):{...r,...s}}let Hf=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pn(wD),this.zoneIsStable=pn(nC),this.componentTypes=[],this.components=[],this.isStable=pn(Dv).hasPendingTasks.pipe((0,Z.w)(a=>a?(0,fe.of)(!1):this.zoneIsStable),(0,oe.x)(),(0,ge.B)()),this._injector=pn(na)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,d){const h=a instanceof yd;if(!this._injector.get(km).done)throw!h&&co(a),new se(405,!1);let y;y=h?a:this._injector.get(Kp).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const C=function KS(r){return r.isBoundToModule}(y)?void 0:this._injector.get(xu),z=y.create(Ua.NULL,[],d||y.selector,C),ie=z.location.nativeElement,De=z.injector.get(fD,null);return De?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),Ov(this.components,z),De?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;Ov(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(Ru,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ov(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new se(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ov(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const wD=new rt("",{providedIn:"root",factory:()=>pn(au).handleError.bind(void 0)});function eR(){const r=pn(kn),s=pn(au);return a=>r.runOutsideAngular(()=>s.handleError(a))}let tR=(()=>{class r{constructor(){this.zone=pn(kn),this.applicationRef=pn(Hf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function iR(){return!1}let CD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=xD}return r})();function xD(r){return function xO(r,s,a){if(vs(r)&&!a){const d=ro(r.index,s);return new Ad(d,d)}return 47&r.type?new Ad(s[xi],s):null}($r(),rn(),16==(16&r))}class cR{constructor(){}supports(s){return _u(s)}create(s){return new RO(s)}}const SO=(r,s)=>s;class RO{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||SO}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,d=this._removalsHead,h=0,p=null;for(;a||d;){const y=!d||a&&a.currentIndex<uR(d,h,p)?a:d,C=uR(y,h,p),P=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const z=C-h,ie=P-h;if(z!=ie){for(let ft=0;ft<z;ft++){const Ct=ft<p.length?p[ft]:p[ft]=0,Zt=Ct+ft;ie<=Zt&&Zt<z&&(p[ft]=Ct+1)}p[y.previousIndex]=ie-z}}C!==P&&s(y,C,P)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!_u(s))throw new se(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,y,a=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)p=s[C],y=this._trackByFn(C,p),null!==a&&Object.is(a.trackById,y)?(d&&(a=this._verifyReinsertion(a,p,y,C)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,C),d=!0),a=a._next}else h=0,function xC(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let d;for(;!(d=a.next()).done;)s(d.value)}}(s,C=>{y=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,y)?(d&&(a=this._verifyReinsertion(a,C,y,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,h),d=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,d,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,h)):s=this._addAfter(new MO(a,d),p,h),s}_verifyReinsertion(s,a,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,a,d),this._addToMoves(s,d),s}_moveAfter(s,a,d){return this._unlink(s),this._insertAfter(s,a,d),this._addToMoves(s,d),s}_addAfter(s,a,d){return this._insertAfter(s,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,d){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new lR),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,d=s._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lR),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class MO{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PO{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const a=s._prevDup,d=s._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class lR{constructor(){this.map=new Map}put(s){const a=s.trackById;let d=this.map.get(a);d||(d=new PO,this.map.set(a,d)),d.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uR(r,s,a){const d=r.previousIndex;if(null===d)return d;let h=0;return a&&d<a.length&&(h=a[d]),d+s+h}class dR{constructor(){}supports(s){return s instanceof Map||Rb(s)}create(){return new OO}}class OO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Rb(s)))throw new se(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,d);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const d=s._prev;return a._next=s,a._prev=d,s._prev=a,d&&(d._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new kO(s);return this._records.set(s,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(d=>a(s[d],d))}}class kO{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hR(){return new PD([new cR])}let PD=(()=>{class r{static#e=this.\u0275prov=_t({token:r,providedIn:"root",factory:hR});constructor(a){this.factories=a}static create(a,d){if(null!=d){const h=d.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||hR()),deps:[[r,new Ep,new Ah]]}}find(a){const d=this.factories.find(h=>h.supports(a));if(null!=d)return d;throw new se(901,!1)}}return r})();function fR(){return new OD([new dR])}let OD=(()=>{class r{static#e=this.\u0275prov=_t({token:r,providedIn:"root",factory:fR});constructor(a){this.factories=a}static create(a,d){if(d){const h=d.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||fR()),deps:[[r,new Ep,new Ah]]}}find(a){const d=this.factories.find(h=>h.supports(a));if(d)return d;throw new se(901,!1)}}return r})();const LO=XS(null,"core",[]);let VO=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(d){return new(d||r)(Jt(Hf))};static#t=this.\u0275mod=_n({type:r});static#n=this.\u0275inj=Kt({})}return r})();function YO(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function ZO(r){const s=Fn(r);if(!s)return null;const a=new tm(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},1993:(Qe,ue,b)=>{b.d(ue,{O4:()=>Hn});var u=b(5879);class fe extends Error{constructor(Gt,It){super(function ge(dt,Gt){return`NG0${Math.abs(dt)}${Gt?": "+Gt:""}`}(Gt,It)),this.code=Gt}}let Ie=null;function xe(dt){const Gt=Ie;return Ie=dt,Gt}function Hn(dt,Gt){const It=!Gt?.manualCleanup;It&&!Gt?.injector&&(0,u.gHi)(Hn);const Ke=It?Gt?.injector?.get(u.ktI)??(0,u.f3M)(u.ktI):null;let V;return V=(0,u.tdS)(Gt?.requireSync?{kind:0}:{kind:1,value:Gt?.initialValue}),function yn(dt){const Gt=xe(null);try{return dt()}finally{xe(Gt)}}(()=>{const H=dt.subscribe({next:re=>V.set({kind:1,value:re}),error:re=>V.set({kind:2,error:re})});Ke?.onDestroy(H.unsubscribe.bind(H))}),(0,u.Flj)(()=>{const H=V();switch(H.kind){case 1:return H.value;case 2:throw H.error;case 0:throw new fe(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},6223:(Qe,ue,b)=>{b.d(ue,{Cf:()=>me,F:()=>ur,Fj:()=>Ie,JJ:()=>Xt,JL:()=>Tn,JU:()=>Z,NI:()=>Pr,UX:()=>Ms,Zs:()=>kr,_Y:()=>ze,a5:()=>Kt,kI:()=>st,qu:()=>Nr,sg:()=>ir,u:()=>wn,u5:()=>zu});var u=b(5879),A=b(6814),S=b(2459),v=b(9315),te=b(7398);let fe=(()=>{class ${constructor(L,le){this._renderer=L,this._elementRef=le,this.onChange=Ye=>{},this.onTouched=()=>{}}setProperty(L,le){this._renderer.setProperty(this._elementRef.nativeElement,L,le)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static#e=this.\u0275fac=function(le){return new(le||$)(u.Y36(u.Qsj),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:$})}return $})(),ge=(()=>{class $ extends fe{static#e=this.\u0275fac=function(){let L;return function(Ye){return(L||(L=u.n5z($)))(Ye||$)}}();static#t=this.\u0275dir=u.lG2({type:$,features:[u.qOj]})}return $})();const Z=new u.OlP("NgValueAccessor"),ne={provide:Z,useExisting:(0,u.Gpc)(()=>Ie),multi:!0},Me=new u.OlP("CompositionEventMode");let Ie=(()=>{class $ extends fe{constructor(L,le,Ye){super(L,le),this._compositionMode=Ye,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pe(){const $=(0,A.q)()?(0,A.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static#e=this.\u0275fac=function(le){return new(le||$)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Me,8))};static#t=this.\u0275dir=u.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(le,Ye){1&le&&u.NdJ("input",function(li){return Ye._handleInput(li.target.value)})("blur",function(){return Ye.onTouched()})("compositionstart",function(){return Ye._compositionStart()})("compositionend",function(li){return Ye._compositionEnd(li.target.value)})},features:[u._Bn([ne]),u.qOj]})}return $})();function Ne($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}function xe($){return null!=$&&"number"==typeof $.length}const me=new u.OlP("NgValidators"),ye=new u.OlP("NgAsyncValidators"),lt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class st{static min(Y){return function se($){return Y=>{if(Ne(Y.value)||Ne($))return null;const L=parseFloat(Y.value);return!isNaN(L)&&L<$?{min:{min:$,actual:Y.value}}:null}}(Y)}static max(Y){return function Te($){return Y=>{if(Ne(Y.value)||Ne($))return null;const L=parseFloat(Y.value);return!isNaN(L)&&L>$?{max:{max:$,actual:Y.value}}:null}}(Y)}static required(Y){return Ce(Y)}static requiredTrue(Y){return qe(Y)}static email(Y){return function Ze($){return Ne($.value)||lt.test($.value)?null:{email:!0}}(Y)}static minLength(Y){return function Oe($){return Y=>Ne(Y.value)||!xe(Y.value)?null:Y.value.length<$?{minlength:{requiredLength:$,actualLength:Y.value.length}}:null}(Y)}static maxLength(Y){return function zt($){return Y=>xe(Y.value)&&Y.value.length>$?{maxlength:{requiredLength:$,actualLength:Y.value.length}}:null}(Y)}static pattern(Y){return function Qt($){if(!$)return Vt;let Y,L;return"string"==typeof $?(L="","^"!==$.charAt(0)&&(L+="^"),L+=$,"$"!==$.charAt($.length-1)&&(L+="$"),Y=new RegExp(L)):(L=$.toString(),Y=$),le=>{if(Ne(le.value))return null;const Ye=le.value;return Y.test(Ye)?null:{pattern:{requiredPattern:L,actualValue:Ye}}}}(Y)}static nullValidator(Y){return null}static compose(Y){return Se(Y)}static composeAsync(Y){return Re(Y)}}function Ce($){return Ne($.value)?{required:!0}:null}function qe($){return!0===$.value?null:{required:!0}}function Vt($){return null}function cn($){return null!=$}function jt($){return(0,u.QGY)($)?(0,S.D)($):$}function gn($){let Y={};return $.forEach(L=>{Y=null!=L?{...Y,...L}:Y}),0===Object.keys(Y).length?null:Y}function mn($,Y){return Y.map(L=>L($))}function bn($){return $.map(Y=>function tn($){return!$.validate}(Y)?Y:L=>Y.validate(L))}function Se($){if(!$)return null;const Y=$.filter(cn);return 0==Y.length?null:function(L){return gn(mn(L,Y))}}function Le($){return null!=$?Se(bn($)):null}function Re($){if(!$)return null;const Y=$.filter(cn);return 0==Y.length?null:function(L){const le=mn(L,Y).map(jt);return(0,v.D)(le).pipe((0,te.U)(gn))}}function tt($){return null!=$?Re(bn($)):null}function et($,Y){return null===$?[Y]:Array.isArray($)?[...$,Y]:[$,Y]}function Ae($){return $._rawValidators}function Dt($){return $._rawAsyncValidators}function be($){return $?Array.isArray($)?$:[$]:[]}function Be($,Y){return Array.isArray($)?$.includes(Y):$===Y}function ve($,Y){const L=be(Y);return be($).forEach(Ye=>{Be(L,Ye)||L.push(Ye)}),L}function it($,Y){return be(Y).filter(L=>!Be($,L))}class _t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Y){this._rawValidators=Y||[],this._composedValidatorFn=Le(this._rawValidators)}_setAsyncValidators(Y){this._rawAsyncValidators=Y||[],this._composedAsyncValidatorFn=tt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Y){this._onDestroyCallbacks.push(Y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Y=>Y()),this._onDestroyCallbacks=[]}reset(Y=void 0){this.control&&this.control.reset(Y)}hasError(Y,L){return!!this.control&&this.control.hasError(Y,L)}getError(Y,L){return this.control?this.control.getError(Y,L):null}}class Nt extends _t{get formDirective(){return null}get path(){return null}}class Kt extends _t{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yn{constructor(Y){this._cd=Y}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xt=(()=>{class $ extends yn{constructor(L){super(L)}static#e=this.\u0275fac=function(le){return new(le||$)(u.Y36(Kt,2))};static#t=this.\u0275dir=u.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(le,Ye){2&le&&u.ekj("ng-untouched",Ye.isUntouched)("ng-touched",Ye.isTouched)("ng-pristine",Ye.isPristine)("ng-dirty",Ye.isDirty)("ng-valid",Ye.isValid)("ng-invalid",Ye.isInvalid)("ng-pending",Ye.isPending)},features:[u.qOj]})}return $})(),Tn=(()=>{class $ extends yn{constructor(L){super(L)}static#e=this.\u0275fac=function(le){return new(le||$)(u.Y36(Nt,10))};static#t=this.\u0275dir=u.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(le,Ye){2&le&&u.ekj("ng-untouched",Ye.isUntouched)("ng-touched",Ye.isTouched)("ng-pristine",Ye.isPristine)("ng-dirty",Ye.isDirty)("ng-valid",Ye.isValid)("ng-invalid",Ye.isInvalid)("ng-pending",Ye.isPending)("ng-submitted",Ye.isSubmitted)},features:[u.qOj]})}return $})();const Pn="VALID",Wn="INVALID",Kn="PENDING",Tt="DISABLED";function An($){return(Ee($)?$.validators:$)||null}function nt($,Y){return(Ee(Y)?Y.asyncValidators:$)||null}function Ee($){return null!=$&&!Array.isArray($)&&"object"==typeof $}function We($,Y,L){const le=$.controls;if(!(Y?Object.keys(le):le).length)throw new u.vHH(1e3,"");if(!le[L])throw new u.vHH(1001,"")}function yt($,Y,L){$._forEachChild((le,Ye)=>{if(void 0===L[Ye])throw new u.vHH(1002,"")})}class he{constructor(Y,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Y),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(Y){this._rawValidators=this._composedValidatorFn=Y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Y){this._rawAsyncValidators=this._composedAsyncValidatorFn=Y}get parent(){return this._parent}get valid(){return this.status===Pn}get invalid(){return this.status===Wn}get pending(){return this.status==Kn}get disabled(){return this.status===Tt}get enabled(){return this.status!==Tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Y){this._assignValidators(Y)}setAsyncValidators(Y){this._assignAsyncValidators(Y)}addValidators(Y){this.setValidators(ve(Y,this._rawValidators))}addAsyncValidators(Y){this.setAsyncValidators(ve(Y,this._rawAsyncValidators))}removeValidators(Y){this.setValidators(it(Y,this._rawValidators))}removeAsyncValidators(Y){this.setAsyncValidators(it(Y,this._rawAsyncValidators))}hasValidator(Y){return Be(this._rawValidators,Y)}hasAsyncValidator(Y){return Be(this._rawAsyncValidators,Y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Y={}){this.touched=!0,this._parent&&!Y.onlySelf&&this._parent.markAsTouched(Y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Y=>Y.markAllAsTouched())}markAsUntouched(Y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}markAsDirty(Y={}){this.pristine=!1,this._parent&&!Y.onlySelf&&this._parent.markAsDirty(Y)}markAsPristine(Y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}markAsPending(Y={}){this.status=Kn,!1!==Y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Y.onlySelf&&this._parent.markAsPending(Y)}disable(Y={}){const L=this._parentMarkedDirty(Y.onlySelf);this.status=Tt,this.errors=null,this._forEachChild(le=>{le.disable({...Y,onlySelf:!0})}),this._updateValue(),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Y,skipPristineCheck:L}),this._onDisabledChange.forEach(le=>le(!0))}enable(Y={}){const L=this._parentMarkedDirty(Y.onlySelf);this.status=Pn,this._forEachChild(le=>{le.enable({...Y,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent}),this._updateAncestors({...Y,skipPristineCheck:L}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(Y){this._parent&&!Y.onlySelf&&(this._parent.updateValueAndValidity(Y),Y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Y){this._parent=Y}getRawValue(){return this.value}updateValueAndValidity(Y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pn||this.status===Kn)&&this._runAsyncValidator(Y.emitEvent)),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Y.onlySelf&&this._parent.updateValueAndValidity(Y)}_updateTreeValidity(Y={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(Y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tt:Pn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Y){if(this.asyncValidator){this.status=Kn,this._hasOwnPendingAsyncValidator=!0;const L=jt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:Y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Y,L={}){this.errors=Y,this._updateControlsErrors(!1!==L.emitEvent)}get(Y){let L=Y;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((le,Ye)=>le&&le._find(Ye),this)}getError(Y,L){const le=L?this.get(L):this;return le&&le.errors?le.errors[Y]:null}hasError(Y,L){return!!this.getError(Y,L)}get root(){let Y=this;for(;Y._parent;)Y=Y._parent;return Y}_updateControlsErrors(Y){this.status=this._calculateStatus(),Y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Y)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Tt:this.errors?Wn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kn)?Kn:this._anyControlsHaveStatus(Wn)?Wn:Pn}_anyControlsHaveStatus(Y){return this._anyControls(L=>L.status===Y)}_anyControlsDirty(){return this._anyControls(Y=>Y.dirty)}_anyControlsTouched(){return this._anyControls(Y=>Y.touched)}_updatePristine(Y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}_updateTouched(Y={}){this.touched=this._anyControlsTouched(),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}_registerOnCollectionChange(Y){this._onCollectionChange=Y}_setUpdateStrategy(Y){Ee(Y)&&null!=Y.updateOn&&(this._updateOn=Y.updateOn)}_parentMarkedDirty(Y){return!Y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Y){return null}_assignValidators(Y){this._rawValidators=Array.isArray(Y)?Y.slice():Y,this._composedValidatorFn=function At($){return Array.isArray($)?Le($):$||null}(this._rawValidators)}_assignAsyncValidators(Y){this._rawAsyncValidators=Array.isArray(Y)?Y.slice():Y,this._composedAsyncValidatorFn=function Fe($){return Array.isArray($)?tt($):$||null}(this._rawAsyncValidators)}}class Q extends he{constructor(Y,L,le){super(An(L),nt(le,L)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Y,L){return this.controls[Y]?this.controls[Y]:(this.controls[Y]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(Y,L,le={}){this.registerControl(Y,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(Y,L={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(Y,L,le={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],L&&this.registerControl(Y,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(Y){return this.controls.hasOwnProperty(Y)&&this.controls[Y].enabled}setValue(Y,L={}){yt(this,0,Y),Object.keys(Y).forEach(le=>{We(this,!0,le),this.controls[le].setValue(Y[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(Y,L={}){null!=Y&&(Object.keys(Y).forEach(le=>{const Ye=this.controls[le];Ye&&Ye.patchValue(Y[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(Y={},L={}){this._forEachChild((le,Ye)=>{le.reset(Y?Y[Ye]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(Y,L,le)=>(Y[le]=L.getRawValue(),Y))}_syncPendingControls(){let Y=this._reduceChildren(!1,(L,le)=>!!le._syncPendingControls()||L);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){Object.keys(this.controls).forEach(L=>{const le=this.controls[L];le&&Y(le,L)})}_setUpControls(){this._forEachChild(Y=>{Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Y){for(const[L,le]of Object.entries(this.controls))if(this.contains(L)&&Y(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,le,Ye)=>((le.enabled||this.disabled)&&(L[Ye]=le.value),L))}_reduceChildren(Y,L){let le=Y;return this._forEachChild((Ye,Sn)=>{le=L(le,Ye,Sn)}),le}_allControlsDisabled(){for(const Y of Object.keys(this.controls))if(this.controls[Y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Y){return this.controls.hasOwnProperty(Y)?this.controls[Y]:null}}class x extends Q{}const _e=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xt}),xt="always";function un($,Y,L=xt){ot($,Y),Y.valueAccessor.writeValue($.value),($.disabled||"always"===L)&&Y.valueAccessor.setDisabledState?.($.disabled),function ct($,Y){Y.valueAccessor.registerOnChange(L=>{$._pendingValue=L,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Ue($,Y)})}($,Y),function bt($,Y){const L=(le,Ye)=>{Y.valueAccessor.writeValue(le),Ye&&Y.viewToModelUpdate(le)};$.registerOnChange(L),Y._registerOnDestroy(()=>{$._unregisterOnChange(L)})}($,Y),function je($,Y){Y.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Ue($,Y),"submit"!==$.updateOn&&$.markAsTouched()})}($,Y),function Gn($,Y){if(Y.valueAccessor.setDisabledState){const L=le=>{Y.valueAccessor.setDisabledState(le)};$.registerOnDisabledChange(L),Y._registerOnDestroy(()=>{$._unregisterOnDisabledChange(L)})}}($,Y)}function pn($,Y,L=!0){const le=()=>{};Y.valueAccessor&&(Y.valueAccessor.registerOnChange(le),Y.valueAccessor.registerOnTouched(le)),Ge($,Y),$&&(Y._invokeOnDestroyCallbacks(),$._registerOnCollectionChange(()=>{}))}function Cn($,Y){$.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(Y)})}function ot($,Y){const L=Ae($);null!==Y.validator?$.setValidators(et(L,Y.validator)):"function"==typeof L&&$.setValidators([L]);const le=Dt($);null!==Y.asyncValidator?$.setAsyncValidators(et(le,Y.asyncValidator)):"function"==typeof le&&$.setAsyncValidators([le]);const Ye=()=>$.updateValueAndValidity();Cn(Y._rawValidators,Ye),Cn(Y._rawAsyncValidators,Ye)}function Ge($,Y){let L=!1;if(null!==$){if(null!==Y.validator){const Ye=Ae($);if(Array.isArray(Ye)&&Ye.length>0){const Sn=Ye.filter(li=>li!==Y.validator);Sn.length!==Ye.length&&(L=!0,$.setValidators(Sn))}}if(null!==Y.asyncValidator){const Ye=Dt($);if(Array.isArray(Ye)&&Ye.length>0){const Sn=Ye.filter(li=>li!==Y.asyncValidator);Sn.length!==Ye.length&&(L=!0,$.setAsyncValidators(Sn))}}}const le=()=>{};return Cn(Y._rawValidators,le),Cn(Y._rawAsyncValidators,le),L}function Ue($,Y){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),Y.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function Rt($,Y){ot($,Y)}function Ln($,Y){$._syncPendingControls(),Y.forEach(L=>{const le=L.control;"submit"===le.updateOn&&le._pendingChange&&(L.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}const Nn={provide:Nt,useExisting:(0,u.Gpc)(()=>ur)},vi=(()=>Promise.resolve())();let ur=(()=>{class $ extends Nt{constructor(L,le,Ye){super(),this.callSetDisabledState=Ye,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Q({},Le(L),tt(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){vi.then(()=>{const le=this._findContainer(L.path);L.control=le.registerControl(L.name,L.control),un(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){vi.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){vi.then(()=>{const le=this._findContainer(L.path),Ye=new Q({});Rt(Ye,L),le.registerControl(L.name,Ye),Ye.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){vi.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,le){vi.then(()=>{this.form.get(L.path).setValue(le)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,Ln(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}static#e=this.\u0275fac=function(le){return new(le||$)(u.Y36(me,10),u.Y36(ye,10),u.Y36(_e,8))};static#t=this.\u0275dir=u.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(le,Ye){1&le&&u.NdJ("submit",function(li){return Ye.onSubmit(li)})("reset",function(){return Ye.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Nn]),u.qOj]})}return $})();function Ji($,Y){const L=$.indexOf(Y);L>-1&&$.splice(L,1)}function Hi($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const Pr=class extends he{constructor(Y=null,L,le){super(An(L),nt(le,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Y),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ee(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Hi(Y)?Y.value:Y)}setValue(Y,L={}){this.value=this._pendingValue=Y,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(Y,L={}){this.setValue(Y,L)}reset(Y=this.defaultValue,L={}){this._applyFormState(Y),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(Y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Y){this._onChange.push(Y)}_unregisterOnChange(Y){Ji(this._onChange,Y)}registerOnDisabledChange(Y){this._onDisabledChange.push(Y)}_unregisterOnDisabledChange(Y){Ji(this._onDisabledChange,Y)}_forEachChild(Y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Y){Hi(Y)?(this.value=this._pendingValue=Y.value,Y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Y}};let ze=(()=>{class ${static#e=this.\u0275fac=function(le){return new(le||$)};static#t=this.\u0275dir=u.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return $})(),_n=(()=>{class ${static#e=this.\u0275fac=function(le){return new(le||$)};static#t=this.\u0275mod=u.oAB({type:$});static#n=this.\u0275inj=u.cJS({})}return $})();const Fn=new u.OlP("NgModelWithFormControlWarning"),co={provide:Nt,useExisting:(0,u.Gpc)(()=>ir)};let ir=(()=>{class $ extends Nt{constructor(L,le,Ye){super(),this.callSetDisabledState=Ye,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(L),this._setAsyncValidators(le)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ge(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const le=this.form.get(L.path);return un(le,L,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),le}getControl(L){return this.form.get(L.path)}removeControl(L){pn(L.control||null,L,!1),function ci($,Y){const L=$.indexOf(Y);L>-1&&$.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,le){this.form.get(L.path).setValue(le)}onSubmit(L){return this.submitted=!0,Ln(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const le=L.control,Ye=this.form.get(L.path);le!==Ye&&(pn(le||null,L),($=>$ instanceof Pr)(Ye)&&(un(Ye,L,this.callSetDisabledState),L.control=Ye))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const le=this.form.get(L.path);Rt(le,L),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const le=this.form.get(L.path);le&&function ae($,Y){return Ge($,Y)}(le,L)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ot(this.form,this),this._oldForm&&Ge(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(le){return new(le||$)(u.Y36(me,10),u.Y36(ye,10),u.Y36(_e,8))};static#t=this.\u0275dir=u.lG2({type:$,selectors:[["","formGroup",""]],hostBindings:function(le,Ye){1&le&&u.NdJ("submit",function(li){return Ye.onSubmit(li)})("reset",function(){return Ye.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([co]),u.qOj,u.TTD]})}return $})();const zi={provide:Kt,useExisting:(0,u.Gpc)(()=>wn)};let wn=(()=>{class $ extends Kt{set isDisabled(L){}static#e=this._ngModelWarningSentOnce=!1;constructor(L,le,Ye,Sn,li){super(),this._ngModelWarningConfig=li,this._added=!1,this.name=null,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(le),this._setAsyncValidators(Ye),this.valueAccessor=function ei($,Y){if(!Y)return null;let L,le,Ye;return Array.isArray(Y),Y.forEach(Sn=>{Sn.constructor===Ie?L=Sn:function Bn($){return Object.getPrototypeOf($.constructor)===ge}(Sn)?le=Sn:Ye=Sn}),Ye||le||L||null}(0,Sn)}ngOnChanges(L){this._added||this._setUpControl(),function nn($,Y){if(!$.hasOwnProperty("model"))return!1;const L=$.model;return!!L.isFirstChange()||!Object.is(Y,L.currentValue)}(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return function Jt($,Y){return[...Y.path,$]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(le){return new(le||$)(u.Y36(Nt,13),u.Y36(me,10),u.Y36(ye,10),u.Y36(Z,10),u.Y36(Fn,8))};static#n=this.\u0275dir=u.lG2({type:$,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([zi]),u.qOj,u.TTD]})}return $})(),xi=(()=>{class ${constructor(){this._validator=Vt}ngOnChanges(L){if(this.inputName in L){const le=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):Vt,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static#e=this.\u0275fac=function(le){return new(le||$)};static#t=this.\u0275dir=u.lG2({type:$,features:[u.TTD]})}return $})();const vo={provide:me,useExisting:(0,u.Gpc)(()=>Cr),multi:!0},qr={provide:me,useExisting:(0,u.Gpc)(()=>kr),multi:!0};let Cr=(()=>{class $ extends xi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.VuI,this.createValidator=L=>Ce}enabled(L){return L}static#e=this.\u0275fac=function(){let L;return function(Ye){return(L||(L=u.n5z($)))(Ye||$)}}();static#t=this.\u0275dir=u.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(le,Ye){2&le&&u.uIk("required",Ye._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([vo]),u.qOj]})}return $})(),kr=(()=>{class $ extends Cr{constructor(){super(...arguments),this.createValidator=L=>qe}static#e=this.\u0275fac=function(){let L;return function(Ye){return(L||(L=u.n5z($)))(Ye||$)}}();static#t=this.\u0275dir=u.lG2({type:$,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(le,Ye){2&le&&u.uIk("required",Ye._enabled?"":null)},features:[u._Bn([qr]),u.qOj]})}return $})(),dr=(()=>{class ${static#e=this.\u0275fac=function(le){return new(le||$)};static#t=this.\u0275mod=u.oAB({type:$});static#n=this.\u0275inj=u.cJS({imports:[_n]})}return $})();class Ki extends he{constructor(Y,L,le){super(An(L),nt(le,L)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Y){return this.controls[this._adjustIndex(Y)]}push(Y,L={}){this.controls.push(Y),this._registerControl(Y),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(Y,L,le={}){this.controls.splice(Y,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(Y,L={}){let le=this._adjustIndex(Y);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(Y,L,le={}){let Ye=this._adjustIndex(Y);Ye<0&&(Ye=0),this.controls[Ye]&&this.controls[Ye]._registerOnCollectionChange(()=>{}),this.controls.splice(Ye,1),L&&(this.controls.splice(Ye,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Y,L={}){yt(this,0,Y),Y.forEach((le,Ye)=>{We(this,!1,Ye),this.at(Ye).setValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(Y,L={}){null!=Y&&(Y.forEach((le,Ye)=>{this.at(Ye)&&this.at(Ye).patchValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(Y=[],L={}){this._forEachChild((le,Ye)=>{le.reset(Y[Ye],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(Y=>Y.getRawValue())}clear(Y={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Y.emitEvent}))}_adjustIndex(Y){return Y<0?Y+this.length:Y}_syncPendingControls(){let Y=this.controls.reduce((L,le)=>!!le._syncPendingControls()||L,!1);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){this.controls.forEach((L,le)=>{Y(L,le)})}_updateValue(){this.value=this.controls.filter(Y=>Y.enabled||this.disabled).map(Y=>Y.value)}_anyControls(Y){return this.controls.some(L=>L.enabled&&Y(L))}_setUpControls(){this._forEachChild(Y=>this._registerControl(Y))}_allControlsDisabled(){for(const Y of this.controls)if(Y.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Y){Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)}_find(Y){return this.at(Y)??null}}function ys($){return!!$&&(void 0!==$.asyncValidators||void 0!==$.validators||void 0!==$.updateOn)}let Nr=(()=>{class ${constructor(){this.useNonNullable=!1}get nonNullable(){const L=new $;return L.useNonNullable=!0,L}group(L,le=null){const Ye=this._reduceControls(L);let Sn={};return ys(le)?Sn=le:null!==le&&(Sn.validators=le.validator,Sn.asyncValidators=le.asyncValidator),new Q(Ye,Sn)}record(L,le=null){const Ye=this._reduceControls(L);return new x(Ye,le)}control(L,le,Ye){let Sn={};return this.useNonNullable?(ys(le)?Sn=le:(Sn.validators=le,Sn.asyncValidators=Ye),new Pr(L,{...Sn,nonNullable:!0})):new Pr(L,le,Ye)}array(L,le,Ye){const Sn=L.map(li=>this._createControl(li));return new Ki(Sn,le,Ye)}_reduceControls(L){const le={};return Object.keys(L).forEach(Ye=>{le[Ye]=this._createControl(L[Ye])}),le}_createControl(L){return L instanceof Pr||L instanceof he?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static#e=this.\u0275fac=function(le){return new(le||$)};static#t=this.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})(),zu=(()=>{class ${static withConfig(L){return{ngModule:$,providers:[{provide:_e,useValue:L.callSetDisabledState??xt}]}}static#e=this.\u0275fac=function(le){return new(le||$)};static#t=this.\u0275mod=u.oAB({type:$});static#n=this.\u0275inj=u.cJS({imports:[dr]})}return $})(),Ms=(()=>{class ${static withConfig(L){return{ngModule:$,providers:[{provide:Fn,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:_e,useValue:L.callSetDisabledState??xt}]}}static#e=this.\u0275fac=function(le){return new(le||$)};static#t=this.\u0275mod=u.oAB({type:$});static#n=this.\u0275inj=u.cJS({imports:[dr]})}return $})()},2296:(Qe,ue,b)=>{b.d(ue,{RK:()=>bn,lW:()=>Ze,ot:()=>Le});var u=b(2831),A=b(5879),S=b(4300),v=b(2495),te=b(3680);const fe=["mat-button",""],ge=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Z=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Ie=["mat-icon-button",""],Ne=["*"],lt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],st=(0,te.pj)((0,te.Id)((0,te.Kr)(class{constructor(Re){this._elementRef=Re}})));let se=(()=>{class Re extends st{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(et){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,et)}get disableRipple(){return this._disableRipple}set disableRipple(et){this._disableRipple=(0,v.Ig)(et),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(et){this._disabled=(0,v.Ig)(et),this._updateRippleDisabled()}constructor(et,Ae,Dt,be){super(et),this._platform=Ae,this._ngZone=Dt,this._animationMode=be,this._focusMonitor=(0,A.f3M)(S.tE),this._rippleLoader=(0,A.f3M)(te.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const Be=et.nativeElement.classList;for(const ve of lt)this._hasHostAttributes(ve.selector)&&ve.mdcClasses.forEach(it=>{Be.add(it)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(et="program",Ae){et?this._focusMonitor.focusVia(this._elementRef.nativeElement,et,Ae):this._elementRef.nativeElement.focus(Ae)}_hasHostAttributes(...et){return et.some(Ae=>this._elementRef.nativeElement.hasAttribute(Ae))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(Ae){A.$Z()};static#t=this.\u0275dir=A.lG2({type:Re,features:[A.qOj]})}return Re})(),Ze=(()=>{class Re extends se{constructor(et,Ae,Dt,be){super(et,Ae,Dt,be)}static#e=this.\u0275fac=function(Ae){return new(Ae||Re)(A.Y36(A.SBq),A.Y36(u.t4),A.Y36(A.R0b),A.Y36(A.QbO,8))};static#t=this.\u0275cmp=A.Xpm({type:Re,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(Ae,Dt){2&Ae&&(A.uIk("disabled",Dt.disabled||null),A.ekj("_mat-animation-noopable","NoopAnimations"===Dt._animationMode)("mat-unthemed",!Dt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[A.qOj],attrs:fe,ngContentSelectors:Z,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ae,Dt){1&Ae&&(A.F$t(ge),A._UZ(0,"span",0),A.Hsn(1),A.TgZ(2,"span",1),A.Hsn(3,1),A.qZA(),A.Hsn(4,2),A._UZ(5,"span",2)(6,"span",3)),2&Ae&&A.ekj("mdc-button__ripple",!Dt._isFab)("mdc-fab__ripple",Dt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Re})(),bn=(()=>{class Re extends se{constructor(et,Ae,Dt,be){super(et,Ae,Dt,be),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(Ae){return new(Ae||Re)(A.Y36(A.SBq),A.Y36(u.t4),A.Y36(A.R0b),A.Y36(A.QbO,8))};static#t=this.\u0275cmp=A.Xpm({type:Re,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(Ae,Dt){2&Ae&&(A.uIk("disabled",Dt.disabled||null),A.ekj("_mat-animation-noopable","NoopAnimations"===Dt._animationMode)("mat-unthemed",!Dt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[A.qOj],attrs:Ie,ngContentSelectors:Ne,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ae,Dt){1&Ae&&(A.F$t(),A._UZ(0,"span",0),A.Hsn(1),A._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Re})(),Le=(()=>{class Re{static#e=this.\u0275fac=function(Ae){return new(Ae||Re)};static#t=this.\u0275mod=A.oAB({type:Re});static#n=this.\u0275inj=A.cJS({imports:[te.BQ,te.si,te.BQ]})}return Re})()},3680:(Qe,ue,b)=>{b.d(ue,{yN:()=>st,mZ:()=>se,rD:()=>ve,K7:()=>qt,HF:()=>pt,BQ:()=>qe,ey:()=>Kn,Ng:()=>At,wG:()=>H,Fq:()=>Q,si:()=>re,CB:()=>Tt,jH:()=>An,pj:()=>Vt,Kr:()=>cn,Id:()=>Qt,FD:()=>gn,dB:()=>mn,sb:()=>jt});var u=b(5879),A=b(4300),S=b(9388),te=b(6814),fe=b(2831),ge=b(2495),Z=b(5592),oe=b(8645),q=b(6028);const Me=["text"];function Ie(F,M){if(1&F&&u._UZ(0,"mat-pseudo-checkbox",6),2&F){const x=u.oxw();u.Q6J("disabled",x.disabled)("state",x.selected?"checked":"unchecked")}}function Ne(F,M){if(1&F&&u._UZ(0,"mat-pseudo-checkbox",7),2&F){const x=u.oxw();u.Q6J("disabled",x.disabled)}}function xe(F,M){if(1&F&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&F){const x=u.oxw();u.xp6(1),u.hij("(",x.group.label,")")}}const me=[[["mat-icon"]],"*"],ye=["mat-icon","*"];let st=(()=>{class F{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return F})(),se=(()=>{class F{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return F})();const Ce=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Te(){return!0}});let qe=(()=>{class F{constructor(x,W,_e){this._sanityChecks=W,this._document=_e,this._hasDoneGlobalChecks=!1,x._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(x){return!(0,fe.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[x])}static#e=this.\u0275fac=function(W){return new(W||F)(u.LFG(A.qm),u.LFG(Ce,8),u.LFG(te.K0))};static#t=this.\u0275mod=u.oAB({type:F});static#n=this.\u0275inj=u.cJS({imports:[S.vT,S.vT]})}return F})();function Qt(F){return class extends F{get disabled(){return this._disabled}set disabled(M){this._disabled=(0,ge.Ig)(M)}constructor(...M){super(...M),this._disabled=!1}}}function Vt(F,M){return class extends F{get color(){return this._color}set color(x){const W=x||this.defaultColor;W!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),W&&this._elementRef.nativeElement.classList.add(`mat-${W}`),this._color=W)}constructor(...x){super(...x),this.defaultColor=M,this.color=M}}}function cn(F){return class extends F{get disableRipple(){return this._disableRipple}set disableRipple(M){this._disableRipple=(0,ge.Ig)(M)}constructor(...M){super(...M),this._disableRipple=!1}}}function jt(F,M=0){return class extends F{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(x){this._tabIndex=null!=x?(0,ge.su)(x):this.defaultTabIndex}constructor(...x){super(...x),this._tabIndex=M,this.defaultTabIndex=M}}}function gn(F){return class extends F{updateErrorState(){const M=this.errorState,xt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);xt!==M&&(this.errorState=xt,this.stateChanges.next())}constructor(...M){super(...M),this.errorState=!1}}}function mn(F){return class extends F{constructor(...M){super(...M),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Z.y(x=>{this._isInitialized?this._notifySubscriber(x):this._pendingSubscribers.push(x)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(M){M.next(),M.complete()}}}let ve=(()=>{class F{isErrorState(x,W){return!!(x&&x.invalid&&(x.touched||W&&W.submitted))}static#e=this.\u0275fac=function(W){return new(W||F)};static#t=this.\u0275prov=u.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();class yn{constructor(M,x,W,_e=!1){this._renderer=M,this.element=x,this.config=W,this._animationForciblyDisabledThroughCss=_e,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Je=(0,fe.i$)({passive:!0,capture:!0});class Ot{constructor(){this._events=new Map,this._delegateEventHandler=M=>{const x=(0,fe.sA)(M);x&&this._events.get(M.type)?.forEach((W,_e)=>{(_e===x||_e.contains(x))&&W.forEach(xt=>xt.handleEvent(M))})}}addHandler(M,x,W,_e){const xt=this._events.get(x);if(xt){const Jt=xt.get(W);Jt?Jt.add(_e):xt.set(W,new Set([_e]))}else this._events.set(x,new Map([[W,new Set([_e])]])),M.runOutsideAngular(()=>{document.addEventListener(x,this._delegateEventHandler,Je)})}removeHandler(M,x,W){const _e=this._events.get(M);if(!_e)return;const xt=_e.get(x);xt&&(xt.delete(W),0===xt.size&&_e.delete(x),0===_e.size&&(this._events.delete(M),document.removeEventListener(M,this._delegateEventHandler,Je)))}}const Xt={enterDuration:225,exitDuration:150},Hn=(0,fe.i$)({passive:!0,capture:!0}),dt=["mousedown","touchstart"],Gt=["mouseup","mouseleave","touchend","touchcancel"];class It{static#e=this._eventManager=new Ot;constructor(M,x,W,_e){this._target=M,this._ngZone=x,this._platform=_e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,_e.isBrowser&&(this._containerElement=(0,ge.fI)(W))}fadeInRipple(M,x,W={}){const _e=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),xt={...Xt,...W.animation};W.centered&&(M=_e.left+_e.width/2,x=_e.top+_e.height/2);const Jt=W.radius||function Ke(F,M,x){const W=Math.max(Math.abs(F-x.left),Math.abs(F-x.right)),_e=Math.max(Math.abs(M-x.top),Math.abs(M-x.bottom));return Math.sqrt(W*W+_e*_e)}(M,x,_e),un=M-_e.left,pn=x-_e.top,Cn=xt.enterDuration,Gn=document.createElement("div");Gn.classList.add("mat-ripple-element"),Gn.style.left=un-Jt+"px",Gn.style.top=pn-Jt+"px",Gn.style.height=2*Jt+"px",Gn.style.width=2*Jt+"px",null!=W.color&&(Gn.style.backgroundColor=W.color),Gn.style.transitionDuration=`${Cn}ms`,this._containerElement.appendChild(Gn);const ot=window.getComputedStyle(Gn),ct=ot.transitionDuration,je="none"===ot.transitionProperty||"0s"===ct||"0s, 0s"===ct||0===_e.width&&0===_e.height,Ue=new yn(this,Gn,W,je);Gn.style.transform="scale3d(1, 1, 1)",Ue.state=0,W.persistent||(this._mostRecentTransientRipple=Ue);let bt=null;return!je&&(Cn||xt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Rt=()=>this._finishRippleTransition(Ue),ae=()=>this._destroyRipple(Ue);Gn.addEventListener("transitionend",Rt),Gn.addEventListener("transitioncancel",ae),bt={onTransitionEnd:Rt,onTransitionCancel:ae}}),this._activeRipples.set(Ue,bt),(je||!Cn)&&this._finishRippleTransition(Ue),Ue}fadeOutRipple(M){if(2===M.state||3===M.state)return;const x=M.element,W={...Xt,...M.config.animation};x.style.transitionDuration=`${W.exitDuration}ms`,x.style.opacity="0",M.state=2,(M._animationForciblyDisabledThroughCss||!W.exitDuration)&&this._finishRippleTransition(M)}fadeOutAll(){this._getActiveRipples().forEach(M=>M.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(M=>{M.config.persistent||M.fadeOut()})}setupTriggerEvents(M){const x=(0,ge.fI)(M);!this._platform.isBrowser||!x||x===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=x,dt.forEach(W=>{It._eventManager.addHandler(this._ngZone,W,x,this)}))}handleEvent(M){"mousedown"===M.type?this._onMousedown(M):"touchstart"===M.type?this._onTouchStart(M):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Gt.forEach(x=>{this._triggerElement.addEventListener(x,this,Hn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(M){0===M.state?this._startFadeOutTransition(M):2===M.state&&this._destroyRipple(M)}_startFadeOutTransition(M){const x=M===this._mostRecentTransientRipple,{persistent:W}=M.config;M.state=1,!W&&(!x||!this._isPointerDown)&&M.fadeOut()}_destroyRipple(M){const x=this._activeRipples.get(M)??null;this._activeRipples.delete(M),this._activeRipples.size||(this._containerRect=null),M===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),M.state=3,null!==x&&(M.element.removeEventListener("transitionend",x.onTransitionEnd),M.element.removeEventListener("transitioncancel",x.onTransitionCancel)),M.element.remove()}_onMousedown(M){const x=(0,A.X6)(M),W=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!x&&!W&&(this._isPointerDown=!0,this.fadeInRipple(M.clientX,M.clientY,this._target.rippleConfig))}_onTouchStart(M){if(!this._target.rippleDisabled&&!(0,A.yG)(M)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const x=M.changedTouches;if(x)for(let W=0;W<x.length;W++)this.fadeInRipple(x[W].clientX,x[W].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(M=>{!M.config.persistent&&(1===M.state||M.config.terminateOnPointerUp&&0===M.state)&&M.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const M=this._triggerElement;M&&(dt.forEach(x=>It._eventManager.removeHandler(x,M,this)),this._pointerUpEventsRegistered&&Gt.forEach(x=>M.removeEventListener(x,this,Hn)))}}const V=new u.OlP("mat-ripple-global-options");let H=(()=>{class F{get disabled(){return this._disabled}set disabled(x){x&&this.fadeOutAllNonPersistent(),this._disabled=x,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(x){this._trigger=x,this._setupTriggerEventsIfEnabled()}constructor(x,W,_e,xt,Jt){this._elementRef=x,this._animationMode=Jt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=xt||{},this._rippleRenderer=new It(this,W,x,_e)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(x,W=0,_e){return"number"==typeof x?this._rippleRenderer.fadeInRipple(x,W,{...this.rippleConfig,..._e}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...x})}static#e=this.\u0275fac=function(W){return new(W||F)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(fe.t4),u.Y36(V,8),u.Y36(u.QbO,8))};static#t=this.\u0275dir=u.lG2({type:F,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(W,_e){2&W&&u.ekj("mat-ripple-unbounded",_e.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return F})(),re=(()=>{class F{static#e=this.\u0275fac=function(W){return new(W||F)};static#t=this.\u0275mod=u.oAB({type:F});static#n=this.\u0275inj=u.cJS({imports:[qe,qe]})}return F})(),ut=(()=>{class F{constructor(x){this._animationMode=x,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(W){return new(W||F)(u.Y36(u.QbO,8))};static#t=this.\u0275cmp=u.Xpm({type:F,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(W,_e){2&W&&u.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===_e.state)("mat-pseudo-checkbox-checked","checked"===_e.state)("mat-pseudo-checkbox-disabled",_e.disabled)("mat-pseudo-checkbox-minimal","minimal"===_e.appearance)("mat-pseudo-checkbox-full","full"===_e.appearance)("_mat-animation-noopable","NoopAnimations"===_e._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(W,_e){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return F})(),Ve=(()=>{class F{static#e=this.\u0275fac=function(W){return new(W||F)};static#t=this.\u0275mod=u.oAB({type:F});static#n=this.\u0275inj=u.cJS({imports:[qe]})}return F})();const pt=new u.OlP("MAT_OPTION_PARENT_COMPONENT"),qt=new u.OlP("MatOptgroup");let hn=0;class Pn{constructor(M,x=!1){this.source=M,this.isUserInput=x}}let Wn=(()=>{class F{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(x){this._disabled=(0,ge.Ig)(x)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(x,W,_e,xt){this._element=x,this._changeDetectorRef=W,this._parent=_e,this.group=xt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+hn++,this.onSelectionChange=new u.vpe,this._stateChanges=new oe.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(x=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),x&&this._emitSelectionChangeEvent())}deselect(x=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),x&&this._emitSelectionChangeEvent())}focus(x,W){const _e=this._getHostElement();"function"==typeof _e.focus&&_e.focus(W)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(x){(x.keyCode===q.K5||x.keyCode===q.L_)&&!(0,q.Vb)(x)&&(this._selectViaInteraction(),x.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const x=this.viewValue;x!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=x)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(x=!1){this.onSelectionChange.emit(new Pn(this,x))}static#e=this.\u0275fac=function(W){u.$Z()};static#t=this.\u0275dir=u.lG2({type:F,viewQuery:function(W,_e){if(1&W&&u.Gf(Me,7),2&W){let xt;u.iGM(xt=u.CRH())&&(_e._text=xt.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return F})(),Kn=(()=>{class F extends Wn{constructor(x,W,_e,xt){super(x,W,_e,xt)}static#e=this.\u0275fac=function(W){return new(W||F)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(pt,8),u.Y36(qt,8))};static#t=this.\u0275cmp=u.Xpm({type:F,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(W,_e){1&W&&u.NdJ("click",function(){return _e._selectViaInteraction()})("keydown",function(Jt){return _e._handleKeydown(Jt)}),2&W&&(u.Ikx("id",_e.id),u.uIk("aria-selected",_e.selected)("aria-disabled",_e.disabled.toString()),u.ekj("mdc-list-item--selected",_e.selected)("mat-mdc-option-multiple",_e.multiple)("mat-mdc-option-active",_e.active)("mdc-list-item--disabled",_e.disabled))},exportAs:["matOption"],features:[u.qOj],ngContentSelectors:ye,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(W,_e){1&W&&(u.F$t(me),u.YNc(0,Ie,1,2,"mat-pseudo-checkbox",0),u.Hsn(1),u.TgZ(2,"span",1,2),u.Hsn(4,1),u.qZA(),u.YNc(5,Ne,1,1,"mat-pseudo-checkbox",3),u.YNc(6,xe,2,1,"span",4),u._UZ(7,"div",5)),2&W&&(u.Q6J("ngIf",_e.multiple),u.xp6(5),u.Q6J("ngIf",!_e.multiple&&_e.selected&&!_e.hideSingleSelectionIndicator),u.xp6(1),u.Q6J("ngIf",_e.group&&_e.group._inert),u.xp6(1),u.Q6J("matRippleTrigger",_e._getHostElement())("matRippleDisabled",_e.disabled||_e.disableRipple))},dependencies:[H,te.O5,ut],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return F})();function Tt(F,M,x){if(x.length){let W=M.toArray(),_e=x.toArray(),xt=0;for(let Jt=0;Jt<F+1;Jt++)W[Jt].group&&W[Jt].group===_e[xt]&&xt++;return xt}return 0}function An(F,M,x,W){return F<x?F:F+M>x+W?Math.max(0,F-W+M):x}let At=(()=>{class F{static#e=this.\u0275fac=function(W){return new(W||F)};static#t=this.\u0275mod=u.oAB({type:F});static#n=this.\u0275inj=u.cJS({imports:[re,te.ez,qe,Ve]})}return F})();const nt={capture:!0},Fe=["focus","click","mouseenter","touchstart"],Ee="mat-ripple-loader-uninitialized",We="mat-ripple-loader-class-name",yt="mat-ripple-loader-centered",he="mat-ripple-loader-disabled";let Q=(()=>{class F{constructor(){this._document=(0,u.f3M)(te.K0,{optional:!0}),this._animationMode=(0,u.f3M)(u.QbO,{optional:!0}),this._globalRippleOptions=(0,u.f3M)(V,{optional:!0}),this._platform=(0,u.f3M)(fe.t4),this._ngZone=(0,u.f3M)(u.R0b),this._onInteraction=x=>{if(!(x.target instanceof HTMLElement))return;const _e=x.target.closest(`[${Ee}]`);_e&&this.createRipple(_e)},this._ngZone.runOutsideAngular(()=>{for(const x of Fe)this._document?.addEventListener(x,this._onInteraction,nt)})}ngOnDestroy(){for(const x of Fe)this._document?.removeEventListener(x,this._onInteraction,nt)}configureRipple(x,W){x.setAttribute(Ee,""),(W.className||!x.hasAttribute(We))&&x.setAttribute(We,W.className||""),W.centered&&x.setAttribute(yt,""),W.disabled&&x.setAttribute(he,"")}getRipple(x){return x.matRipple?x.matRipple:this.createRipple(x)}setDisabled(x,W){const _e=x.matRipple;_e?_e.disabled=W:W?x.setAttribute(he,""):x.removeAttribute(he)}createRipple(x){if(!this._document)return;x.querySelector(".mat-ripple")?.remove();const W=this._document.createElement("span");W.classList.add("mat-ripple",x.getAttribute(We)),x.append(W);const _e=new H(new u.SBq(W),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return _e._isInitialized=!0,_e.trigger=x,_e.centered=x.hasAttribute(yt),_e.disabled=x.hasAttribute(he),this.attachRipple(x,_e),_e}attachRipple(x,W){x.removeAttribute(Ee),x.matRipple=W}static#e=this.\u0275fac=function(W){return new(W||F)};static#t=this.\u0275prov=u.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},7700:(Qe,ue,b)=>{b.d(ue,{WI:()=>it,uw:()=>Tn,H8:()=>Ke,xY:()=>It,Is:()=>H,so:()=>Be,uh:()=>Gt});var u=b(3651),A=b(6814),S=b(5879),v=b(4300),te=b(2831),fe=b(8484),ge=b(6028),Z=b(8645),oe=b(4911),q=b(2096),ne=b(9388),pe=b(7921);function Me(Ve,pt){}class Ie{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let xe=(()=>{class Ve extends fe.en{constructor(ke,ht,rt,qt,Lt,hn,Pn,Wn){super(),this._elementRef=ke,this._focusTrapFactory=ht,this._config=qt,this._interactivityChecker=Lt,this._ngZone=hn,this._overlayRef=Pn,this._focusMonitor=Wn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=Kn=>{this._portalOutlet.hasAttached();const Tt=this._portalOutlet.attachDomPortal(Kn);return this._contentAttached(),Tt},this._document=rt,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ke){this._portalOutlet.hasAttached();const ht=this._portalOutlet.attachComponentPortal(ke);return this._contentAttached(),ht}attachTemplatePortal(ke){this._portalOutlet.hasAttached();const ht=this._portalOutlet.attachTemplatePortal(ke);return this._contentAttached(),ht}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ke,ht){this._interactivityChecker.isFocusable(ke)||(ke.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const rt=()=>{ke.removeEventListener("blur",rt),ke.removeEventListener("mousedown",rt),ke.removeAttribute("tabindex")};ke.addEventListener("blur",rt),ke.addEventListener("mousedown",rt)})),ke.focus(ht)}_focusByCssSelector(ke,ht){let rt=this._elementRef.nativeElement.querySelector(ke);rt&&this._forceFocus(rt,ht)}_trapFocus(){const ke=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ke.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(ht=>{ht||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ke=this._config.restoreFocus;let ht=null;if("string"==typeof ke?ht=this._document.querySelector(ke):"boolean"==typeof ke?ht=ke?this._elementFocusedBeforeDialogWasOpened:null:ke&&(ht=ke),this._config.restoreFocus&&ht&&"function"==typeof ht.focus){const rt=(0,te.ht)(),qt=this._elementRef.nativeElement;(!rt||rt===this._document.body||rt===qt||qt.contains(rt))&&(this._focusMonitor?(this._focusMonitor.focusVia(ht,this._closeInteractionType),this._closeInteractionType=null):ht.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ke=this._elementRef.nativeElement,ht=(0,te.ht)();return ke===ht||ke.contains(ht)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,te.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(ht){return new(ht||Ve)(S.Y36(S.SBq),S.Y36(v.qV),S.Y36(A.K0,8),S.Y36(Ie),S.Y36(v.ic),S.Y36(S.R0b),S.Y36(u.Iu),S.Y36(v.tE))};static#t=this.\u0275cmp=S.Xpm({type:Ve,selectors:[["cdk-dialog-container"]],viewQuery:function(ht,rt){if(1&ht&&S.Gf(fe.Pl,7),2&ht){let qt;S.iGM(qt=S.CRH())&&(rt._portalOutlet=qt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ht,rt){2&ht&&S.uIk("id",rt._config.id||null)("role",rt._config.role)("aria-modal",rt._config.ariaModal)("aria-labelledby",rt._config.ariaLabel?null:rt._ariaLabelledByQueue[0])("aria-label",rt._config.ariaLabel)("aria-describedby",rt._config.ariaDescribedBy||null)},features:[S.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ht,rt){1&ht&&S.YNc(0,Me,0,0,"ng-template",0)},dependencies:[fe.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Ve})();class me{constructor(pt,ke){this.overlayRef=pt,this.config=ke,this.closed=new Z.x,this.disableClose=ke.disableClose,this.backdropClick=pt.backdropClick(),this.keydownEvents=pt.keydownEvents(),this.outsidePointerEvents=pt.outsidePointerEvents(),this.id=ke.id,this.keydownEvents.subscribe(ht=>{ht.keyCode===ge.hY&&!this.disableClose&&!(0,ge.Vb)(ht)&&(ht.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=pt.detachments().subscribe(()=>{!1!==ke.closeOnOverlayDetachments&&this.close()})}close(pt,ke){if(this.containerInstance){const ht=this.closed;this.containerInstance._closeInteractionType=ke?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),ht.next(pt),ht.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(pt="",ke=""){return this.overlayRef.updateSize({width:pt,height:ke}),this}addPanelClass(pt){return this.overlayRef.addPanelClass(pt),this}removePanelClass(pt){return this.overlayRef.removePanelClass(pt),this}}const ye=new S.OlP("DialogScrollStrategy"),lt=new S.OlP("DialogData"),st=new S.OlP("DefaultDialogConfig"),Te={provide:ye,deps:[u.aV],useFactory:function se(Ve){return()=>Ve.scrollStrategies.block()}};let Ce=0,qe=(()=>{class Ve{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ke,ht,rt,qt,Lt,hn){this._overlay=ke,this._injector=ht,this._defaultOptions=rt,this._parentDialog=qt,this._overlayContainer=Lt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Z.x,this._afterOpenedAtThisLevel=new Z.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,oe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,pe.O)(void 0))),this._scrollStrategy=hn}open(ke,ht){(ht={...this._defaultOptions||new Ie,...ht}).id=ht.id||"cdk-dialog-"+Ce++,ht.id&&this.getDialogById(ht.id);const qt=this._getOverlayConfig(ht),Lt=this._overlay.create(qt),hn=new me(Lt,ht),Pn=this._attachContainer(Lt,hn,ht);return hn.containerInstance=Pn,this._attachDialogContent(ke,hn,Pn,ht),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(hn),hn.closed.subscribe(()=>this._removeOpenDialog(hn,!0)),this.afterOpened.next(hn),hn}closeAll(){Ze(this.openDialogs,ke=>ke.close())}getDialogById(ke){return this.openDialogs.find(ht=>ht.id===ke)}ngOnDestroy(){Ze(this._openDialogsAtThisLevel,ke=>{!1===ke.config.closeOnDestroy&&this._removeOpenDialog(ke,!1)}),Ze(this._openDialogsAtThisLevel,ke=>ke.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ke){const ht=new u.X_({positionStrategy:ke.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ke.scrollStrategy||this._scrollStrategy(),panelClass:ke.panelClass,hasBackdrop:ke.hasBackdrop,direction:ke.direction,minWidth:ke.minWidth,minHeight:ke.minHeight,maxWidth:ke.maxWidth,maxHeight:ke.maxHeight,width:ke.width,height:ke.height,disposeOnNavigation:ke.closeOnNavigation});return ke.backdropClass&&(ht.backdropClass=ke.backdropClass),ht}_attachContainer(ke,ht,rt){const qt=rt.injector||rt.viewContainerRef?.injector,Lt=[{provide:Ie,useValue:rt},{provide:me,useValue:ht},{provide:u.Iu,useValue:ke}];let hn;rt.container?"function"==typeof rt.container?hn=rt.container:(hn=rt.container.type,Lt.push(...rt.container.providers(rt))):hn=xe;const Pn=new fe.C5(hn,rt.viewContainerRef,S.zs3.create({parent:qt||this._injector,providers:Lt}),rt.componentFactoryResolver);return ke.attach(Pn).instance}_attachDialogContent(ke,ht,rt,qt){if(ke instanceof S.Rgc){const Lt=this._createInjector(qt,ht,rt,void 0);let hn={$implicit:qt.data,dialogRef:ht};qt.templateContext&&(hn={...hn,..."function"==typeof qt.templateContext?qt.templateContext():qt.templateContext}),rt.attachTemplatePortal(new fe.UE(ke,null,hn,Lt))}else{const Lt=this._createInjector(qt,ht,rt,this._injector),hn=rt.attachComponentPortal(new fe.C5(ke,qt.viewContainerRef,Lt,qt.componentFactoryResolver));ht.componentRef=hn,ht.componentInstance=hn.instance}}_createInjector(ke,ht,rt,qt){const Lt=ke.injector||ke.viewContainerRef?.injector,hn=[{provide:lt,useValue:ke.data},{provide:me,useValue:ht}];return ke.providers&&("function"==typeof ke.providers?hn.push(...ke.providers(ht,ke,rt)):hn.push(...ke.providers)),ke.direction&&(!Lt||!Lt.get(ne.Is,null,{optional:!0}))&&hn.push({provide:ne.Is,useValue:{value:ke.direction,change:(0,q.of)()}}),S.zs3.create({parent:Lt||qt,providers:hn})}_removeOpenDialog(ke,ht){const rt=this.openDialogs.indexOf(ke);rt>-1&&(this.openDialogs.splice(rt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((qt,Lt)=>{qt?Lt.setAttribute("aria-hidden",qt):Lt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),ht&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ke=this._overlayContainer.getContainerElement();if(ke.parentElement){const ht=ke.parentElement.children;for(let rt=ht.length-1;rt>-1;rt--){const qt=ht[rt];qt!==ke&&"SCRIPT"!==qt.nodeName&&"STYLE"!==qt.nodeName&&!qt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(qt,qt.getAttribute("aria-hidden")),qt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ke=this._parentDialog;return ke?ke._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(ht){return new(ht||Ve)(S.LFG(u.aV),S.LFG(S.zs3),S.LFG(st,8),S.LFG(Ve,12),S.LFG(u.Xj),S.LFG(ye))};static#t=this.\u0275prov=S.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})();function Ze(Ve,pt){let ke=Ve.length;for(;ke--;)pt(Ve[ke])}let Oe=(()=>{class Ve{static#e=this.\u0275fac=function(ht){return new(ht||Ve)};static#t=this.\u0275mod=S.oAB({type:Ve});static#n=this.\u0275inj=S.cJS({providers:[qe,Te],imports:[u.U8,fe.eL,v.rt,fe.eL]})}return Ve})();var zt=b(2495),Qt=b(3019),Vt=b(2181),cn=b(8180),jt=b(3680);function mn(Ve,pt){}b(6825);class tn{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const bn="mdc-dialog--open",Se="mdc-dialog--opening",Le="mdc-dialog--closing";let et=(()=>{class Ve extends xe{constructor(ke,ht,rt,qt,Lt,hn,Pn,Wn){super(ke,ht,rt,qt,Lt,hn,Pn,Wn),this._animationStateChanged=new S.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ke){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ke})}static#e=this.\u0275fac=function(ht){return new(ht||Ve)(S.Y36(S.SBq),S.Y36(v.qV),S.Y36(A.K0,8),S.Y36(tn),S.Y36(v.ic),S.Y36(S.R0b),S.Y36(u.Iu),S.Y36(v.tE))};static#t=this.\u0275cmp=S.Xpm({type:Ve,selectors:[["ng-component"]],features:[S.qOj],decls:0,vars:0,template:function(ht,rt){},encapsulation:2})}return Ve})();const Ae="--mat-dialog-transition-duration";function Dt(Ve){return null==Ve?null:"number"==typeof Ve?Ve:Ve.endsWith("ms")?(0,zt.su)(Ve.substring(0,Ve.length-2)):Ve.endsWith("s")?1e3*(0,zt.su)(Ve.substring(0,Ve.length-1)):"0"===Ve?0:null}let be=(()=>{class Ve extends et{constructor(ke,ht,rt,qt,Lt,hn,Pn,Wn,Kn){super(ke,ht,rt,qt,Lt,hn,Pn,Kn),this._animationMode=Wn,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Dt(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Dt(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ae,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Se,bn)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(bn),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(bn),this._animationsEnabled?(this._hostElement.style.setProperty(Ae,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Le)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Se,Le)}_waitForAnimationToComplete(ke,ht){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(ht,ke)}_requestAnimationFrame(ke){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ke):ke()})}static#e=this.\u0275fac=function(ht){return new(ht||Ve)(S.Y36(S.SBq),S.Y36(v.qV),S.Y36(A.K0,8),S.Y36(tn),S.Y36(v.ic),S.Y36(S.R0b),S.Y36(u.Iu),S.Y36(S.QbO,8),S.Y36(v.tE))};static#t=this.\u0275cmp=S.Xpm({type:Ve,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(ht,rt){2&ht&&(S.Ikx("id",rt._config.id),S.uIk("aria-modal",rt._config.ariaModal)("role",rt._config.role)("aria-labelledby",rt._config.ariaLabel?null:rt._ariaLabelledByQueue[0])("aria-label",rt._config.ariaLabel)("aria-describedby",rt._config.ariaDescribedBy||null),S.ekj("_mat-animation-noopable",!rt._animationsEnabled))},features:[S.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(ht,rt){1&ht&&(S.TgZ(0,"div",0)(1,"div",1),S.YNc(2,mn,0,0,"ng-template",2),S.qZA()())},dependencies:[fe.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return Ve})();class Be{constructor(pt,ke,ht){this._ref=pt,this._containerInstance=ht,this._afterOpened=new Z.x,this._beforeClosed=new Z.x,this._state=0,this.disableClose=ke.disableClose,this.id=pt.id,ht._animationStateChanged.pipe((0,Vt.h)(rt=>"opened"===rt.state),(0,cn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ht._animationStateChanged.pipe((0,Vt.h)(rt=>"closed"===rt.state),(0,cn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),pt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Qt.T)(this.backdropClick(),this.keydownEvents().pipe((0,Vt.h)(rt=>rt.keyCode===ge.hY&&!this.disableClose&&!(0,ge.Vb)(rt)))).subscribe(rt=>{this.disableClose||(rt.preventDefault(),function ve(Ve,pt,ke){Ve._closeInteractionType=pt,Ve.close(ke)}(this,"keydown"===rt.type?"keyboard":"mouse"))})}close(pt){this._result=pt,this._containerInstance._animationStateChanged.pipe((0,Vt.h)(ke=>"closing"===ke.state),(0,cn.q)(1)).subscribe(ke=>{this._beforeClosed.next(pt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ke.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(pt){let ke=this._ref.config.positionStrategy;return pt&&(pt.left||pt.right)?pt.left?ke.left(pt.left):ke.right(pt.right):ke.centerHorizontally(),pt&&(pt.top||pt.bottom)?pt.top?ke.top(pt.top):ke.bottom(pt.bottom):ke.centerVertically(),this._ref.updatePosition(),this}updateSize(pt="",ke=""){return this._ref.updateSize(pt,ke),this}addPanelClass(pt){return this._ref.addPanelClass(pt),this}removePanelClass(pt){return this._ref.removePanelClass(pt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const it=new S.OlP("MatMdcDialogData"),_t=new S.OlP("mat-mdc-dialog-default-options"),Nt=new S.OlP("mat-mdc-dialog-scroll-strategy"),yn={provide:Nt,deps:[u.aV],useFactory:function Kt(Ve){return()=>Ve.scrollStrategies.block()}};let Ot=0,Xt=(()=>{class Ve{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ke=this._parentDialog;return ke?ke._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ke,ht,rt,qt,Lt,hn,Pn,Wn,Kn,Tt){this._overlay=ke,this._defaultOptions=rt,this._parentDialog=qt,this._dialogRefConstructor=Pn,this._dialogContainerType=Wn,this._dialogDataToken=Kn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Z.x,this._afterOpenedAtThisLevel=new Z.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=tn,this.afterAllClosed=(0,oe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,pe.O)(void 0))),this._scrollStrategy=hn,this._dialog=ht.get(qe)}open(ke,ht){let rt;(ht={...this._defaultOptions||new tn,...ht}).id=ht.id||`${this._idPrefix}${Ot++}`,ht.scrollStrategy=ht.scrollStrategy||this._scrollStrategy();const qt=this._dialog.open(ke,{...ht,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ht},{provide:Ie,useValue:ht}]},templateContext:()=>({dialogRef:rt}),providers:(Lt,hn,Pn)=>(rt=new this._dialogRefConstructor(Lt,ht,Pn),rt.updatePosition(ht?.position),[{provide:this._dialogContainerType,useValue:Pn},{provide:this._dialogDataToken,useValue:hn.data},{provide:this._dialogRefConstructor,useValue:rt}])});return rt.componentRef=qt.componentRef,rt.componentInstance=qt.componentInstance,this.openDialogs.push(rt),this.afterOpened.next(rt),rt.afterClosed().subscribe(()=>{const Lt=this.openDialogs.indexOf(rt);Lt>-1&&(this.openDialogs.splice(Lt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),rt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ke){return this.openDialogs.find(ht=>ht.id===ke)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ke){let ht=ke.length;for(;ht--;)ke[ht].close()}static#e=this.\u0275fac=function(ht){S.$Z()};static#t=this.\u0275prov=S.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})(),Tn=(()=>{class Ve extends Xt{constructor(ke,ht,rt,qt,Lt,hn,Pn,Wn){super(ke,ht,qt,hn,Pn,Lt,Be,be,it,Wn),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(ht){return new(ht||Ve)(S.LFG(u.aV),S.LFG(S.zs3),S.LFG(A.Ye,8),S.LFG(_t,8),S.LFG(Nt),S.LFG(Ve,12),S.LFG(u.Xj),S.LFG(S.QbO,8))};static#t=this.\u0275prov=S.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})(),Hn=0,Gt=(()=>{class Ve{constructor(ke,ht,rt){this._dialogRef=ke,this._elementRef=ht,this._dialog=rt,this.id="mat-mdc-dialog-title-"+Hn++}ngOnInit(){this._dialogRef||(this._dialogRef=function V(Ve,pt){let ke=Ve.nativeElement.parentElement;for(;ke&&!ke.classList.contains("mat-mdc-dialog-container");)ke=ke.parentElement;return ke?pt.find(ht=>ht.id===ke.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const ke=this._dialogRef?._containerInstance?._ariaLabelledByQueue;ke&&Promise.resolve().then(()=>{const ht=ke.indexOf(this.id);ht>-1&&ke.splice(ht,1)})}static#e=this.\u0275fac=function(ht){return new(ht||Ve)(S.Y36(Be,8),S.Y36(S.SBq),S.Y36(Tn))};static#t=this.\u0275dir=S.lG2({type:Ve,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(ht,rt){2&ht&&S.Ikx("id",rt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return Ve})(),It=(()=>{class Ve{static#e=this.\u0275fac=function(ht){return new(ht||Ve)};static#t=this.\u0275dir=S.lG2({type:Ve,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return Ve})(),Ke=(()=>{class Ve{constructor(){this.align="start"}static#e=this.\u0275fac=function(ht){return new(ht||Ve)};static#t=this.\u0275dir=S.lG2({type:Ve,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(ht,rt){2&ht&&S.ekj("mat-mdc-dialog-actions-align-center","center"===rt.align)("mat-mdc-dialog-actions-align-end","end"===rt.align)},inputs:{align:"align"}})}return Ve})(),H=(()=>{class Ve{static#e=this.\u0275fac=function(ht){return new(ht||Ve)};static#t=this.\u0275mod=S.oAB({type:Ve});static#n=this.\u0275inj=S.cJS({providers:[Tn,yn],imports:[Oe,u.U8,fe.eL,jt.BQ,jt.BQ]})}return Ve})()},4170:(Qe,ue,b)=>{b.d(ue,{G_:()=>ke,o2:()=>ht,TO:()=>_t,KE:()=>Wn,Eo:()=>re,lN:()=>Kn,hX:()=>Be});var u=b(5879),A=b(9388),S=b(2831),v=b(7394),te=b(8645),fe=b(3019),ge=b(9773),Z=b(5592),oe=b(2181),q=b(7081);class pe{constructor(An){this._box=An,this._destroyed=new te.x,this._resizeSubject=new te.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(At=>this._resizeSubject.next(At)))}observe(An){return this._elementObservables.has(An)||this._elementObservables.set(An,new Z.y(At=>{const nt=this._resizeSubject.subscribe(At);return this._resizeObserver?.observe(An,{box:this._box}),()=>{this._resizeObserver?.unobserve(An),nt.unsubscribe(),this._elementObservables.delete(An)}}).pipe((0,oe.h)(At=>At.some(nt=>nt.target===An)),(0,q.d)({bufferSize:1,refCount:!0}),(0,ge.R)(this._destroyed))),this._elementObservables.get(An)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Me=(()=>{class Tt{constructor(){this._observers=new Map,this._ngZone=(0,u.f3M)(u.R0b)}ngOnDestroy(){for(const[,At]of this._observers)At.destroy();this._observers.clear()}observe(At,nt){const Fe=nt?.box||"content-box";return this._observers.has(Fe)||this._observers.set(Fe,new pe(Fe)),this._observers.get(Fe).observe(At)}static#e=this.\u0275fac=function(nt){return new(nt||Tt)};static#t=this.\u0275prov=u.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})();var Ie=b(2495),Ne=b(6825),xe=b(6814),me=b(7131),ye=b(3680);const lt=["notch"],st=["matFormFieldNotchedOutline",""],se=["*"],Te=["textField"],Ce=["iconPrefixContainer"],qe=["textPrefixContainer"];function Ze(Tt,An){1&Tt&&u._UZ(0,"span",19)}function Oe(Tt,An){if(1&Tt&&(u.TgZ(0,"label",17),u.Hsn(1,1),u.YNc(2,Ze,1,0,"span",18),u.qZA()),2&Tt){const At=u.oxw(2);u.Q6J("floating",At._shouldLabelFloat())("monitorResize",At._hasOutline())("id",At._labelId),u.uIk("for",At._control.id),u.xp6(2),u.Q6J("ngIf",!At.hideRequiredMarker&&At._control.required)}}function zt(Tt,An){if(1&Tt&&u.YNc(0,Oe,3,5,"label",16),2&Tt){const At=u.oxw();u.Q6J("ngIf",At._hasFloatingLabel())}}function Qt(Tt,An){1&Tt&&u._UZ(0,"div",20)}function Vt(Tt,An){}function cn(Tt,An){if(1&Tt&&u.YNc(0,Vt,0,0,"ng-template",22),2&Tt){u.oxw(2);const At=u.MAs(1);u.Q6J("ngTemplateOutlet",At)}}function jt(Tt,An){if(1&Tt&&(u.TgZ(0,"div",21),u.YNc(1,cn,1,1,"ng-template",9),u.qZA()),2&Tt){const At=u.oxw();u.Q6J("matFormFieldNotchedOutlineOpen",At._shouldLabelFloat()),u.xp6(1),u.Q6J("ngIf",!At._forceDisplayInfixLabel())}}function gn(Tt,An){1&Tt&&(u.TgZ(0,"div",23,24),u.Hsn(2,2),u.qZA())}function mn(Tt,An){1&Tt&&(u.TgZ(0,"div",25,26),u.Hsn(2,3),u.qZA())}function tn(Tt,An){}function bn(Tt,An){if(1&Tt&&u.YNc(0,tn,0,0,"ng-template",22),2&Tt){u.oxw();const At=u.MAs(1);u.Q6J("ngTemplateOutlet",At)}}function Se(Tt,An){1&Tt&&(u.TgZ(0,"div",27),u.Hsn(1,4),u.qZA())}function Le(Tt,An){1&Tt&&(u.TgZ(0,"div",28),u.Hsn(1,5),u.qZA())}function Re(Tt,An){1&Tt&&u._UZ(0,"div",29)}function tt(Tt,An){if(1&Tt&&(u.TgZ(0,"div",30),u.Hsn(1,6),u.qZA()),2&Tt){const At=u.oxw();u.Q6J("@transitionMessages",At._subscriptAnimationState)}}function et(Tt,An){if(1&Tt&&(u.TgZ(0,"mat-hint",34),u._uU(1),u.qZA()),2&Tt){const At=u.oxw(2);u.Q6J("id",At._hintLabelId),u.xp6(1),u.Oqu(At.hintLabel)}}function Ae(Tt,An){if(1&Tt&&(u.TgZ(0,"div",31),u.YNc(1,et,2,2,"mat-hint",32),u.Hsn(2,7),u._UZ(3,"div",33),u.Hsn(4,8),u.qZA()),2&Tt){const At=u.oxw();u.Q6J("@transitionMessages",At._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",At.hintLabel)}}const Dt=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],be=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Be=(()=>{class Tt{static#e=this.\u0275fac=function(nt){return new(nt||Tt)};static#t=this.\u0275dir=u.lG2({type:Tt,selectors:[["mat-label"]]})}return Tt})(),ve=0;const it=new u.OlP("MatError");let _t=(()=>{class Tt{constructor(At,nt){this.id="mat-mdc-error-"+ve++,At||nt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(nt){return new(nt||Tt)(u.$8M("aria-live"),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:Tt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(nt,Fe){2&nt&&u.Ikx("id",Fe.id)},inputs:{id:"id"},features:[u._Bn([{provide:it,useExisting:Tt}])]})}return Tt})(),Nt=0,Kt=(()=>{class Tt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Nt++}static#e=this.\u0275fac=function(nt){return new(nt||Tt)};static#t=this.\u0275dir=u.lG2({type:Tt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(nt,Fe){2&nt&&(u.Ikx("id",Fe.id),u.uIk("align",null),u.ekj("mat-mdc-form-field-hint-end","end"===Fe.align))},inputs:{align:"align",id:"id"}})}return Tt})();const yn=new u.OlP("MatPrefix"),Ot=new u.OlP("MatSuffix"),Tn=new u.OlP("FloatingLabelParent");let Hn=(()=>{class Tt{get floating(){return this._floating}set floating(At){this._floating=At,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(At){this._monitorResize=At,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(At){this._elementRef=At,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,u.f3M)(Me),this._ngZone=(0,u.f3M)(u.R0b),this._parent=(0,u.f3M)(Tn),this._resizeSubscription=new v.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function dt(Tt){if(null!==Tt.offsetParent)return Tt.scrollWidth;const At=Tt.cloneNode(!0);At.style.setProperty("position","absolute"),At.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(At);const nt=At.scrollWidth;return At.remove(),nt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(nt){return new(nt||Tt)(u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:Tt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(nt,Fe){2&nt&&u.ekj("mdc-floating-label--float-above",Fe.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Tt})();const Gt="mdc-line-ripple--active",It="mdc-line-ripple--deactivating";let Ke=(()=>{class Tt{constructor(At,nt){this._elementRef=At,this._handleTransitionEnd=Fe=>{const Ee=this._elementRef.nativeElement.classList,We=Ee.contains(It);"opacity"===Fe.propertyName&&We&&Ee.remove(Gt,It)},nt.runOutsideAngular(()=>{At.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const At=this._elementRef.nativeElement.classList;At.remove(It),At.add(Gt)}deactivate(){this._elementRef.nativeElement.classList.add(It)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(nt){return new(nt||Tt)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275dir=u.lG2({type:Tt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Tt})(),V=(()=>{class Tt{constructor(At,nt){this._elementRef=At,this._ngZone=nt,this.open=!1}ngAfterViewInit(){const At=this._elementRef.nativeElement.querySelector(".mdc-floating-label");At?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(At.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>At.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(At){this._notch.nativeElement.style.width=this.open&&At?`calc(${At}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(nt){return new(nt||Tt)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:Tt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(nt,Fe){if(1&nt&&u.Gf(lt,5),2&nt){let Ee;u.iGM(Ee=u.CRH())&&(Fe._notch=Ee.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(nt,Fe){2&nt&&u.ekj("mdc-notched-outline--notched",Fe.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:st,ngContentSelectors:se,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(nt,Fe){1&nt&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1,2),u.Hsn(3),u.qZA(),u._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Tt})();const H={transitionMessages:(0,Ne.X$)("transitionMessages",[(0,Ne.SB)("enter",(0,Ne.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ne.eR)("void => enter",[(0,Ne.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ne.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let re=(()=>{class Tt{static#e=this.\u0275fac=function(nt){return new(nt||Tt)};static#t=this.\u0275dir=u.lG2({type:Tt})}return Tt})();const ke=new u.OlP("MatFormField"),ht=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let rt=0,Wn=(()=>{class Tt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(At){this._hideRequiredMarker=(0,Ie.Ig)(At)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(At){At!==this._floatLabel&&(this._floatLabel=At,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(At){const nt=this._appearance;this._appearance=At||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==nt&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(At){this._subscriptSizing=At||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(At){this._hintLabel=At,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(At){this._explicitFormFieldControl=At}constructor(At,nt,Fe,Ee,We,yt,he,Q){this._elementRef=At,this._changeDetectorRef=nt,this._ngZone=Fe,this._dir=Ee,this._platform=We,this._defaults=yt,this._animationMode=he,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+rt++,this._hintLabelId="mat-mdc-hint-"+rt++,this._subscriptAnimationState="",this._destroyed=new te.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,yt&&(yt.appearance&&(this.appearance=yt.appearance),this._hideRequiredMarker=!!yt?.hideRequiredMarker,yt.color&&(this.color=yt.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const At=this._control;At.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${At.controlType}`),At.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),At.ngControl&&At.ngControl.valueChanges&&At.ngControl.valueChanges.pipe((0,ge.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(At=>!At._isText),this._hasTextPrefix=!!this._prefixChildren.find(At=>At._isText),this._hasIconSuffix=!!this._suffixChildren.find(At=>!At._isText),this._hasTextSuffix=!!this._suffixChildren.find(At=>At._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,fe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ge.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,ge.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(At){const nt=this._control?this._control.ngControl:null;return nt&&nt[At]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let At=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&At.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const nt=this._hintChildren?this._hintChildren.find(Ee=>"start"===Ee.align):null,Fe=this._hintChildren?this._hintChildren.find(Ee=>"end"===Ee.align):null;nt?At.push(nt.id):this._hintLabel&&At.push(this._hintLabelId),Fe&&At.push(Fe.id)}else this._errorChildren&&At.push(...this._errorChildren.map(nt=>nt.id));this._control.setDescribedByIds(At)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const At=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(At.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const nt=this._iconPrefixContainer?.nativeElement,Fe=this._textPrefixContainer?.nativeElement,Ee=nt?.getBoundingClientRect().width??0,We=Fe?.getBoundingClientRect().width??0;At.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Ee+We}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const At=this._elementRef.nativeElement;if(At.getRootNode){const nt=At.getRootNode();return nt&&nt!==At}return document.documentElement.contains(At)}static#e=this.\u0275fac=function(nt){return new(nt||Tt)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(A.Is),u.Y36(S.t4),u.Y36(ht,8),u.Y36(u.QbO,8),u.Y36(xe.K0))};static#t=this.\u0275cmp=u.Xpm({type:Tt,selectors:[["mat-form-field"]],contentQueries:function(nt,Fe,Ee){if(1&nt&&(u.Suo(Ee,Be,5),u.Suo(Ee,Be,7),u.Suo(Ee,re,5),u.Suo(Ee,yn,5),u.Suo(Ee,Ot,5),u.Suo(Ee,it,5),u.Suo(Ee,Kt,5)),2&nt){let We;u.iGM(We=u.CRH())&&(Fe._labelChildNonStatic=We.first),u.iGM(We=u.CRH())&&(Fe._labelChildStatic=We.first),u.iGM(We=u.CRH())&&(Fe._formFieldControl=We.first),u.iGM(We=u.CRH())&&(Fe._prefixChildren=We),u.iGM(We=u.CRH())&&(Fe._suffixChildren=We),u.iGM(We=u.CRH())&&(Fe._errorChildren=We),u.iGM(We=u.CRH())&&(Fe._hintChildren=We)}},viewQuery:function(nt,Fe){if(1&nt&&(u.Gf(Te,5),u.Gf(Ce,5),u.Gf(qe,5),u.Gf(Hn,5),u.Gf(V,5),u.Gf(Ke,5)),2&nt){let Ee;u.iGM(Ee=u.CRH())&&(Fe._textField=Ee.first),u.iGM(Ee=u.CRH())&&(Fe._iconPrefixContainer=Ee.first),u.iGM(Ee=u.CRH())&&(Fe._textPrefixContainer=Ee.first),u.iGM(Ee=u.CRH())&&(Fe._floatingLabel=Ee.first),u.iGM(Ee=u.CRH())&&(Fe._notchedOutline=Ee.first),u.iGM(Ee=u.CRH())&&(Fe._lineRipple=Ee.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(nt,Fe){2&nt&&u.ekj("mat-mdc-form-field-label-always-float",Fe._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Fe._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Fe._hasIconSuffix)("mat-form-field-invalid",Fe._control.errorState)("mat-form-field-disabled",Fe._control.disabled)("mat-form-field-autofilled",Fe._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Fe._animationMode)("mat-form-field-appearance-fill","fill"==Fe.appearance)("mat-form-field-appearance-outline","outline"==Fe.appearance)("mat-form-field-hide-placeholder",Fe._hasFloatingLabel()&&!Fe._shouldLabelFloat())("mat-focused",Fe._control.focused)("mat-primary","accent"!==Fe.color&&"warn"!==Fe.color)("mat-accent","accent"===Fe.color)("mat-warn","warn"===Fe.color)("ng-untouched",Fe._shouldForward("untouched"))("ng-touched",Fe._shouldForward("touched"))("ng-pristine",Fe._shouldForward("pristine"))("ng-dirty",Fe._shouldForward("dirty"))("ng-valid",Fe._shouldForward("valid"))("ng-invalid",Fe._shouldForward("invalid"))("ng-pending",Fe._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:ke,useExisting:Tt},{provide:Tn,useExisting:Tt}])],ngContentSelectors:be,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(nt,Fe){1&nt&&(u.F$t(Dt),u.YNc(0,zt,1,1,"ng-template",null,0,u.W1O),u.TgZ(2,"div",1,2),u.NdJ("click",function(We){return Fe._control.onContainerClick(We)}),u.YNc(4,Qt,1,0,"div",3),u.TgZ(5,"div",4),u.YNc(6,jt,2,2,"div",5),u.YNc(7,gn,3,0,"div",6),u.YNc(8,mn,3,0,"div",7),u.TgZ(9,"div",8),u.YNc(10,bn,1,1,"ng-template",9),u.Hsn(11),u.qZA(),u.YNc(12,Se,2,0,"div",10),u.YNc(13,Le,2,0,"div",11),u.qZA(),u.YNc(14,Re,1,0,"div",12),u.qZA(),u.TgZ(15,"div",13),u.YNc(16,tt,2,1,"div",14),u.YNc(17,Ae,5,2,"div",15),u.qZA()),2&nt&&(u.xp6(2),u.ekj("mdc-text-field--filled",!Fe._hasOutline())("mdc-text-field--outlined",Fe._hasOutline())("mdc-text-field--no-label",!Fe._hasFloatingLabel())("mdc-text-field--disabled",Fe._control.disabled)("mdc-text-field--invalid",Fe._control.errorState),u.xp6(2),u.Q6J("ngIf",!Fe._hasOutline()&&!Fe._control.disabled),u.xp6(2),u.Q6J("ngIf",Fe._hasOutline()),u.xp6(1),u.Q6J("ngIf",Fe._hasIconPrefix),u.xp6(1),u.Q6J("ngIf",Fe._hasTextPrefix),u.xp6(2),u.Q6J("ngIf",!Fe._hasOutline()||Fe._forceDisplayInfixLabel()),u.xp6(2),u.Q6J("ngIf",Fe._hasTextSuffix),u.xp6(1),u.Q6J("ngIf",Fe._hasIconSuffix),u.xp6(1),u.Q6J("ngIf",!Fe._hasOutline()),u.xp6(1),u.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Fe.subscriptSizing),u.Q6J("ngSwitch",Fe._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[xe.O5,xe.tP,xe.RF,xe.n9,Kt,Hn,V,Ke],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[H.transitionMessages]},changeDetection:0})}return Tt})(),Kn=(()=>{class Tt{static#e=this.\u0275fac=function(nt){return new(nt||Tt)};static#t=this.\u0275mod=u.oAB({type:Tt});static#n=this.\u0275inj=u.cJS({imports:[ye.BQ,xe.ez,me.Q8,ye.BQ]})}return Tt})()},617:(Qe,ue,b)=>{b.d(ue,{Hw:()=>tt,Ps:()=>et});var u=b(5879),A=b(3680),S=b(2495),v=b(6814),te=b(2096),fe=b(8504),ge=b(9315),Z=b(7394),oe=b(9397),q=b(7398),ne=b(6306),pe=b(4716),Me=b(3020),Ie=b(8180),Ne=b(9862),xe=b(6593);const me=["*"];let ye;function st(Ae){return function lt(){if(void 0===ye&&(ye=null,typeof window<"u")){const Ae=window;void 0!==Ae.trustedTypes&&(ye=Ae.trustedTypes.createPolicy("angular#components",{createHTML:Dt=>Dt}))}return ye}()?.createHTML(Ae)||Ae}function se(Ae){return Error(`Unable to find icon with the name "${Ae}"`)}function Ce(Ae){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Ae}".`)}function qe(Ae){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Ae}".`)}class Ze{constructor(Dt,be,Be){this.url=Dt,this.svgText=be,this.options=Be}}let Oe=(()=>{class Ae{constructor(be,Be,ve,it){this._httpClient=be,this._sanitizer=Be,this._errorHandler=it,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=ve}addSvgIcon(be,Be,ve){return this.addSvgIconInNamespace("",be,Be,ve)}addSvgIconLiteral(be,Be,ve){return this.addSvgIconLiteralInNamespace("",be,Be,ve)}addSvgIconInNamespace(be,Be,ve,it){return this._addSvgIconConfig(be,Be,new Ze(ve,null,it))}addSvgIconResolver(be){return this._resolvers.push(be),this}addSvgIconLiteralInNamespace(be,Be,ve,it){const _t=this._sanitizer.sanitize(u.q3G.HTML,ve);if(!_t)throw qe(ve);const Nt=st(_t);return this._addSvgIconConfig(be,Be,new Ze("",Nt,it))}addSvgIconSet(be,Be){return this.addSvgIconSetInNamespace("",be,Be)}addSvgIconSetLiteral(be,Be){return this.addSvgIconSetLiteralInNamespace("",be,Be)}addSvgIconSetInNamespace(be,Be,ve){return this._addSvgIconSetConfig(be,new Ze(Be,null,ve))}addSvgIconSetLiteralInNamespace(be,Be,ve){const it=this._sanitizer.sanitize(u.q3G.HTML,Be);if(!it)throw qe(Be);const _t=st(it);return this._addSvgIconSetConfig(be,new Ze("",_t,ve))}registerFontClassAlias(be,Be=be){return this._fontCssClassesByAlias.set(be,Be),this}classNameForFontAlias(be){return this._fontCssClassesByAlias.get(be)||be}setDefaultFontSetClass(...be){return this._defaultFontSetClass=be,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(be){const Be=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,be);if(!Be)throw Ce(be);const ve=this._cachedIconsByUrl.get(Be);return ve?(0,te.of)(Vt(ve)):this._loadSvgIconFromConfig(new Ze(be,null)).pipe((0,oe.b)(it=>this._cachedIconsByUrl.set(Be,it)),(0,q.U)(it=>Vt(it)))}getNamedSvgIcon(be,Be=""){const ve=cn(Be,be);let it=this._svgIconConfigs.get(ve);if(it)return this._getSvgFromConfig(it);if(it=this._getIconConfigFromResolvers(Be,be),it)return this._svgIconConfigs.set(ve,it),this._getSvgFromConfig(it);const _t=this._iconSetConfigs.get(Be);return _t?this._getSvgFromIconSetConfigs(be,_t):(0,fe._)(se(ve))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(be){return be.svgText?(0,te.of)(Vt(this._svgElementFromConfig(be))):this._loadSvgIconFromConfig(be).pipe((0,q.U)(Be=>Vt(Be)))}_getSvgFromIconSetConfigs(be,Be){const ve=this._extractIconWithNameFromAnySet(be,Be);if(ve)return(0,te.of)(ve);const it=Be.filter(_t=>!_t.svgText).map(_t=>this._loadSvgIconSetFromConfig(_t).pipe((0,ne.K)(Nt=>{const yn=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,_t.url)} failed: ${Nt.message}`;return this._errorHandler.handleError(new Error(yn)),(0,te.of)(null)})));return(0,ge.D)(it).pipe((0,q.U)(()=>{const _t=this._extractIconWithNameFromAnySet(be,Be);if(!_t)throw se(be);return _t}))}_extractIconWithNameFromAnySet(be,Be){for(let ve=Be.length-1;ve>=0;ve--){const it=Be[ve];if(it.svgText&&it.svgText.toString().indexOf(be)>-1){const _t=this._svgElementFromConfig(it),Nt=this._extractSvgIconFromSet(_t,be,it.options);if(Nt)return Nt}}return null}_loadSvgIconFromConfig(be){return this._fetchIcon(be).pipe((0,oe.b)(Be=>be.svgText=Be),(0,q.U)(()=>this._svgElementFromConfig(be)))}_loadSvgIconSetFromConfig(be){return be.svgText?(0,te.of)(null):this._fetchIcon(be).pipe((0,oe.b)(Be=>be.svgText=Be))}_extractSvgIconFromSet(be,Be,ve){const it=be.querySelector(`[id="${Be}"]`);if(!it)return null;const _t=it.cloneNode(!0);if(_t.removeAttribute("id"),"svg"===_t.nodeName.toLowerCase())return this._setSvgAttributes(_t,ve);if("symbol"===_t.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(_t),ve);const Nt=this._svgElementFromString(st("<svg></svg>"));return Nt.appendChild(_t),this._setSvgAttributes(Nt,ve)}_svgElementFromString(be){const Be=this._document.createElement("DIV");Be.innerHTML=be;const ve=Be.querySelector("svg");if(!ve)throw Error("<svg> tag not found");return ve}_toSvgElement(be){const Be=this._svgElementFromString(st("<svg></svg>")),ve=be.attributes;for(let it=0;it<ve.length;it++){const{name:_t,value:Nt}=ve[it];"id"!==_t&&Be.setAttribute(_t,Nt)}for(let it=0;it<be.childNodes.length;it++)be.childNodes[it].nodeType===this._document.ELEMENT_NODE&&Be.appendChild(be.childNodes[it].cloneNode(!0));return Be}_setSvgAttributes(be,Be){return be.setAttribute("fit",""),be.setAttribute("height","100%"),be.setAttribute("width","100%"),be.setAttribute("preserveAspectRatio","xMidYMid meet"),be.setAttribute("focusable","false"),Be&&Be.viewBox&&be.setAttribute("viewBox",Be.viewBox),be}_fetchIcon(be){const{url:Be,options:ve}=be,it=ve?.withCredentials??!1;if(!this._httpClient)throw function Te(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Be)throw Error(`Cannot fetch icon from URL "${Be}".`);const _t=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,Be);if(!_t)throw Ce(Be);const Nt=this._inProgressUrlFetches.get(_t);if(Nt)return Nt;const Kt=this._httpClient.get(_t,{responseType:"text",withCredentials:it}).pipe((0,q.U)(yn=>st(yn)),(0,pe.x)(()=>this._inProgressUrlFetches.delete(_t)),(0,Me.B)());return this._inProgressUrlFetches.set(_t,Kt),Kt}_addSvgIconConfig(be,Be,ve){return this._svgIconConfigs.set(cn(be,Be),ve),this}_addSvgIconSetConfig(be,Be){const ve=this._iconSetConfigs.get(be);return ve?ve.push(Be):this._iconSetConfigs.set(be,[Be]),this}_svgElementFromConfig(be){if(!be.svgElement){const Be=this._svgElementFromString(be.svgText);this._setSvgAttributes(Be,be.options),be.svgElement=Be}return be.svgElement}_getIconConfigFromResolvers(be,Be){for(let ve=0;ve<this._resolvers.length;ve++){const it=this._resolvers[ve](Be,be);if(it)return jt(it)?new Ze(it.url,null,it.options):new Ze(it,null)}}static#e=this.\u0275fac=function(Be){return new(Be||Ae)(u.LFG(Ne.eN,8),u.LFG(xe.H7),u.LFG(v.K0,8),u.LFG(u.qLn))};static#t=this.\u0275prov=u.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})();function Vt(Ae){return Ae.cloneNode(!0)}function cn(Ae,Dt){return Ae+":"+Dt}function jt(Ae){return!(!Ae.url||!Ae.options)}const gn=(0,A.pj)(class{constructor(Ae){this._elementRef=Ae}}),mn=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),tn=new u.OlP("mat-icon-location",{providedIn:"root",factory:function bn(){const Ae=(0,u.f3M)(v.K0),Dt=Ae?Ae.location:null;return{getPathname:()=>Dt?Dt.pathname+Dt.search:""}}}),Se=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Le=Se.map(Ae=>`[${Ae}]`).join(", "),Re=/^url\(['"]?#(.*?)['"]?\)$/;let tt=(()=>{class Ae extends gn{get inline(){return this._inline}set inline(be){this._inline=(0,S.Ig)(be)}get svgIcon(){return this._svgIcon}set svgIcon(be){be!==this._svgIcon&&(be?this._updateSvgIcon(be):this._svgIcon&&this._clearSvgElement(),this._svgIcon=be)}get fontSet(){return this._fontSet}set fontSet(be){const Be=this._cleanupFontValue(be);Be!==this._fontSet&&(this._fontSet=Be,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(be){const Be=this._cleanupFontValue(be);Be!==this._fontIcon&&(this._fontIcon=Be,this._updateFontIconClasses())}constructor(be,Be,ve,it,_t,Nt){super(be),this._iconRegistry=Be,this._location=it,this._errorHandler=_t,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Z.w0.EMPTY,Nt&&(Nt.color&&(this.color=this.defaultColor=Nt.color),Nt.fontSet&&(this.fontSet=Nt.fontSet)),ve||be.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(be){if(!be)return["",""];const Be=be.split(":");switch(Be.length){case 1:return["",Be[0]];case 2:return Be;default:throw Error(`Invalid icon name: "${be}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const be=this._elementsWithExternalReferences;if(be&&be.size){const Be=this._location.getPathname();Be!==this._previousPath&&(this._previousPath=Be,this._prependPathToReferences(Be))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(be){this._clearSvgElement();const Be=this._location.getPathname();this._previousPath=Be,this._cacheChildrenWithExternalReferences(be),this._prependPathToReferences(Be),this._elementRef.nativeElement.appendChild(be)}_clearSvgElement(){const be=this._elementRef.nativeElement;let Be=be.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Be--;){const ve=be.childNodes[Be];(1!==ve.nodeType||"svg"===ve.nodeName.toLowerCase())&&ve.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const be=this._elementRef.nativeElement,Be=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(ve=>ve.length>0);this._previousFontSetClass.forEach(ve=>be.classList.remove(ve)),Be.forEach(ve=>be.classList.add(ve)),this._previousFontSetClass=Be,this.fontIcon!==this._previousFontIconClass&&!Be.includes("mat-ligature-font")&&(this._previousFontIconClass&&be.classList.remove(this._previousFontIconClass),this.fontIcon&&be.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(be){return"string"==typeof be?be.trim().split(" ")[0]:be}_prependPathToReferences(be){const Be=this._elementsWithExternalReferences;Be&&Be.forEach((ve,it)=>{ve.forEach(_t=>{it.setAttribute(_t.name,`url('${be}#${_t.value}')`)})})}_cacheChildrenWithExternalReferences(be){const Be=be.querySelectorAll(Le),ve=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let it=0;it<Be.length;it++)Se.forEach(_t=>{const Nt=Be[it],Kt=Nt.getAttribute(_t),yn=Kt?Kt.match(Re):null;if(yn){let Je=ve.get(Nt);Je||(Je=[],ve.set(Nt,Je)),Je.push({name:_t,value:yn[1]})}})}_updateSvgIcon(be){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),be){const[Be,ve]=this._splitIconName(be);Be&&(this._svgNamespace=Be),ve&&(this._svgName=ve),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(ve,Be).pipe((0,Ie.q)(1)).subscribe(it=>this._setSvgElement(it),it=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Be}:${ve}! ${it.message}`))})}}static#e=this.\u0275fac=function(Be){return new(Be||Ae)(u.Y36(u.SBq),u.Y36(Oe),u.$8M("aria-hidden"),u.Y36(tn),u.Y36(u.qLn),u.Y36(mn,8))};static#t=this.\u0275cmp=u.Xpm({type:Ae,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Be,ve){2&Be&&(u.uIk("data-mat-icon-type",ve._usingFontIcon()?"font":"svg")("data-mat-icon-name",ve._svgName||ve.fontIcon)("data-mat-icon-namespace",ve._svgNamespace||ve.fontSet)("fontIcon",ve._usingFontIcon()?ve.fontIcon:null),u.ekj("mat-icon-inline",ve.inline)("mat-icon-no-color","primary"!==ve.color&&"accent"!==ve.color&&"warn"!==ve.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:me,decls:1,vars:0,template:function(Be,ve){1&Be&&(u.F$t(),u.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return Ae})(),et=(()=>{class Ae{static#e=this.\u0275fac=function(Be){return new(Be||Ae)};static#t=this.\u0275mod=u.oAB({type:Ae});static#n=this.\u0275inj=u.cJS({imports:[A.BQ,A.BQ]})}return Ae})()},4516:(Qe,ue,b)=>{b.d(ue,{Nt:()=>Ie,c:()=>Ne});var u=b(2495),A=b(2831),S=b(6263),v=b(5879),te=b(6223),fe=b(3680),ge=b(4170),Z=b(8645);const q=new v.OlP("MAT_INPUT_VALUE_ACCESSOR"),ne=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let pe=0;const Me=(0,fe.FD)(class{constructor(xe,me,ye,lt){this._defaultErrorStateMatcher=xe,this._parentForm=me,this._parentFormGroup=ye,this.ngControl=lt,this.stateChanges=new Z.x}});let Ie=(()=>{class xe extends Me{get disabled(){return this._disabled}set disabled(ye){this._disabled=(0,u.Ig)(ye),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(ye){this._id=ye||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(te.kI.required)??!1}set required(ye){this._required=(0,u.Ig)(ye)}get type(){return this._type}set type(ye){this._type=ye||"text",this._validateType(),!this._isTextarea&&(0,A.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(ye){ye!==this.value&&(this._inputValueAccessor.value=ye,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(ye){this._readonly=(0,u.Ig)(ye)}constructor(ye,lt,st,se,Te,Ce,qe,Ze,Oe,zt){super(Ce,se,Te,st),this._elementRef=ye,this._platform=lt,this._autofillMonitor=Ze,this._formField=zt,this._uid="mat-input-"+pe++,this.focused=!1,this.stateChanges=new Z.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(cn=>(0,A.qK)().has(cn)),this._iOSKeyupListener=cn=>{const jt=cn.target;!jt.value&&0===jt.selectionStart&&0===jt.selectionEnd&&(jt.setSelectionRange(1,1),jt.setSelectionRange(0,0))};const Qt=this._elementRef.nativeElement,Vt=Qt.nodeName.toLowerCase();this._inputValueAccessor=qe||Qt,this._previousNativeValue=this.value,this.id=this.id,lt.IOS&&Oe.runOutsideAngular(()=>{ye.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Vt,this._isTextarea="textarea"===Vt,this._isInFormField=!!zt,this._isNativeSelect&&(this.controlType=Qt.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(ye=>{this.autofilled=ye.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(ye){this._elementRef.nativeElement.focus(ye)}_focusChanged(ye){ye!==this.focused&&(this.focused=ye,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const ye=this._elementRef.nativeElement.value;this._previousNativeValue!==ye&&(this._previousNativeValue=ye,this.stateChanges.next())}_dirtyCheckPlaceholder(){const ye=this._getPlaceholder();if(ye!==this._previousPlaceholder){const lt=this._elementRef.nativeElement;this._previousPlaceholder=ye,ye?lt.setAttribute("placeholder",ye):lt.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ne.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let ye=this._elementRef.nativeElement.validity;return ye&&ye.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const ye=this._elementRef.nativeElement,lt=ye.options[0];return this.focused||ye.multiple||!this.empty||!!(ye.selectedIndex>-1&&lt&&lt.label)}return this.focused||!this.empty}setDescribedByIds(ye){ye.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ye.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const ye=this._elementRef.nativeElement;return this._isNativeSelect&&(ye.multiple||ye.size>1)}static#e=this.\u0275fac=function(lt){return new(lt||xe)(v.Y36(v.SBq),v.Y36(A.t4),v.Y36(te.a5,10),v.Y36(te.F,8),v.Y36(te.sg,8),v.Y36(fe.rD),v.Y36(q,10),v.Y36(S.Lq),v.Y36(v.R0b),v.Y36(ge.G_,8))};static#t=this.\u0275dir=v.lG2({type:xe,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(lt,st){1&lt&&v.NdJ("focus",function(){return st._focusChanged(!0)})("blur",function(){return st._focusChanged(!1)})("input",function(){return st._onInput()}),2&lt&&(v.Ikx("id",st.id)("disabled",st.disabled)("required",st.required),v.uIk("name",st.name||null)("readonly",st.readonly&&!st._isNativeSelect||null)("aria-invalid",st.empty&&st.required?null:st.errorState)("aria-required",st.required)("id",st.id),v.ekj("mat-input-server",st._isServer)("mat-mdc-form-field-textarea-control",st._isInFormField&&st._isTextarea)("mat-mdc-form-field-input-control",st._isInFormField)("mdc-text-field__input",st._isInFormField)("mat-mdc-native-select-inline",st._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[v._Bn([{provide:ge.Eo,useExisting:xe}]),v.qOj,v.TTD]})}return xe})(),Ne=(()=>{class xe{static#e=this.\u0275fac=function(lt){return new(lt||xe)};static#t=this.\u0275mod=v.oAB({type:xe});static#n=this.\u0275inj=v.cJS({imports:[fe.BQ,ge.lN,ge.lN,S.Ky,fe.BQ]})}return xe})()},3365:(Qe,ue,b)=>{b.d(ue,{NW:()=>dt,TU:()=>Gt});var u=b(6814),A=b(5879),S=b(8645),v=b(2296),te=b(8525),fe=b(9773),ge=b(8180),Z=b(2495),oe=b(6028),q=b(2831),ne=b(4300),pe=b(9388),Me=b(3651),Ie=b(5407),Ne=b(8484),me=(b(6825),b(3680));const ye=["tooltip"],se=new A.OlP("mat-tooltip-scroll-strategy"),Ce={provide:se,deps:[Me.aV],useFactory:function Te(It){return()=>It.scrollStrategies.reposition({scrollThrottle:20})}},Ze=new A.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function qe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),zt="tooltip-panel",Qt=(0,q.i$)({passive:!0});let tn=(()=>{class It{get position(){return this._position}set position(V){V!==this._position&&(this._position=V,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(V){this._positionAtOrigin=(0,Z.Ig)(V),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(V){this._disabled=(0,Z.Ig)(V),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(V){this._showDelay=(0,Z.su)(V)}get hideDelay(){return this._hideDelay}set hideDelay(V){this._hideDelay=(0,Z.su)(V),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(V){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=V?String(V).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(V){this._tooltipClass=V,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(V,H,re,ut,Ve,pt,ke,ht,rt,qt,Lt,hn){this._overlay=V,this._elementRef=H,this._scrollDispatcher=re,this._viewContainerRef=ut,this._ngZone=Ve,this._platform=pt,this._ariaDescriber=ke,this._focusMonitor=ht,this._dir=qt,this._defaultOptions=Lt,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new S.x,this._scrollStrategy=rt,this._document=hn,Lt&&(this._showDelay=Lt.showDelay,this._hideDelay=Lt.hideDelay,Lt.position&&(this.position=Lt.position),Lt.positionAtOrigin&&(this.positionAtOrigin=Lt.positionAtOrigin),Lt.touchGestures&&(this.touchGestures=Lt.touchGestures)),qt.change.pipe((0,fe.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,fe.R)(this._destroyed)).subscribe(V=>{V?"keyboard"===V&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const V=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([H,re])=>{V.removeEventListener(H,re,Qt)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(V,this.message,"tooltip"),this._focusMonitor.stopMonitoring(V)}show(V=this.showDelay,H){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const re=this._createOverlay(H);this._detach(),this._portal=this._portal||new Ne.C5(this._tooltipComponent,this._viewContainerRef);const ut=this._tooltipInstance=re.attach(this._portal).instance;ut._triggerElement=this._elementRef.nativeElement,ut._mouseLeaveHideDelay=this._hideDelay,ut.afterHidden().pipe((0,fe.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),ut.show(V)}hide(V=this.hideDelay){const H=this._tooltipInstance;H&&(H.isVisible()?H.hide(V):(H._cancelPendingAnimations(),this._detach()))}toggle(V){this._isTooltipVisible()?this.hide():this.show(void 0,V)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(V){if(this._overlayRef){const ut=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!V)&&ut._origin instanceof A.SBq)return this._overlayRef;this._detach()}const H=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),re=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&V||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(H);return re.positionChanges.pipe((0,fe.R)(this._destroyed)).subscribe(ut=>{this._updateCurrentPositionClass(ut.connectionPair),this._tooltipInstance&&ut.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:re,panelClass:`${this._cssClassPrefix}-${zt}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,fe.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,fe.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,fe.R)(this._destroyed)).subscribe(ut=>{this._isTooltipVisible()&&ut.keyCode===oe.hY&&!(0,oe.Vb)(ut)&&(ut.preventDefault(),ut.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(V){const H=V.getConfig().positionStrategy,re=this._getOrigin(),ut=this._getOverlayPosition();H.withPositions([this._addOffset({...re.main,...ut.main}),this._addOffset({...re.fallback,...ut.fallback})])}_addOffset(V){return V}_getOrigin(){const V=!this._dir||"ltr"==this._dir.value,H=this.position;let re;"above"==H||"below"==H?re={originX:"center",originY:"above"==H?"top":"bottom"}:"before"==H||"left"==H&&V||"right"==H&&!V?re={originX:"start",originY:"center"}:("after"==H||"right"==H&&V||"left"==H&&!V)&&(re={originX:"end",originY:"center"});const{x:ut,y:Ve}=this._invertPosition(re.originX,re.originY);return{main:re,fallback:{originX:ut,originY:Ve}}}_getOverlayPosition(){const V=!this._dir||"ltr"==this._dir.value,H=this.position;let re;"above"==H?re={overlayX:"center",overlayY:"bottom"}:"below"==H?re={overlayX:"center",overlayY:"top"}:"before"==H||"left"==H&&V||"right"==H&&!V?re={overlayX:"end",overlayY:"center"}:("after"==H||"right"==H&&V||"left"==H&&!V)&&(re={overlayX:"start",overlayY:"center"});const{x:ut,y:Ve}=this._invertPosition(re.overlayX,re.overlayY);return{main:re,fallback:{overlayX:ut,overlayY:Ve}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,ge.q)(1),(0,fe.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(V){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=V,this._tooltipInstance._markForCheck())}_invertPosition(V,H){return"above"===this.position||"below"===this.position?"top"===H?H="bottom":"bottom"===H&&(H="top"):"end"===V?V="start":"start"===V&&(V="end"),{x:V,y:H}}_updateCurrentPositionClass(V){const{overlayY:H,originX:re,originY:ut}=V;let Ve;if(Ve="center"===H?this._dir&&"rtl"===this._dir.value?"end"===re?"left":"right":"start"===re?"left":"right":"bottom"===H&&"top"===ut?"above":"below",Ve!==this._currentPosition){const pt=this._overlayRef;if(pt){const ke=`${this._cssClassPrefix}-${zt}-`;pt.removePanelClass(ke+this._currentPosition),pt.addPanelClass(ke+Ve)}this._currentPosition=Ve}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",V=>{let H;this._setupPointerExitEventsIfNeeded(),void 0!==V.x&&void 0!==V.y&&(H=V),this.show(void 0,H)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",V=>{const H=V.targetTouches?.[0],re=H?{x:H.clientX,y:H.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,re),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const V=[];if(this._platformSupportsMouseEvents())V.push(["mouseleave",H=>{const re=H.relatedTarget;(!re||!this._overlayRef?.overlayElement.contains(re))&&this.hide()}],["wheel",H=>this._wheelListener(H)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const H=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};V.push(["touchend",H],["touchcancel",H])}this._addListeners(V),this._passiveListeners.push(...V)}_addListeners(V){V.forEach(([H,re])=>{this._elementRef.nativeElement.addEventListener(H,re,Qt)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(V){if(this._isTooltipVisible()){const H=this._document.elementFromPoint(V.clientX,V.clientY),re=this._elementRef.nativeElement;H!==re&&!re.contains(H)&&this.hide()}}_disableNativeGesturesIfNecessary(){const V=this.touchGestures;if("off"!==V){const H=this._elementRef.nativeElement,re=H.style;("on"===V||"INPUT"!==H.nodeName&&"TEXTAREA"!==H.nodeName)&&(re.userSelect=re.msUserSelect=re.webkitUserSelect=re.MozUserSelect="none"),("on"===V||!H.draggable)&&(re.webkitUserDrag="none"),re.touchAction="none",re.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(H){A.$Z()};static#t=this.\u0275dir=A.lG2({type:It,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return It})(),bn=(()=>{class It extends tn{constructor(V,H,re,ut,Ve,pt,ke,ht,rt,qt,Lt,hn){super(V,H,re,ut,Ve,pt,ke,ht,rt,qt,Lt,hn),this._tooltipComponent=Le,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(V){const re=!this._dir||"ltr"==this._dir.value;return"top"===V.originY?V.offsetY=-8:"bottom"===V.originY?V.offsetY=8:"start"===V.originX?V.offsetX=re?-8:8:"end"===V.originX&&(V.offsetX=re?8:-8),V}static#e=this.\u0275fac=function(H){return new(H||It)(A.Y36(Me.aV),A.Y36(A.SBq),A.Y36(Ie.mF),A.Y36(A.s_b),A.Y36(A.R0b),A.Y36(q.t4),A.Y36(ne.$s),A.Y36(ne.tE),A.Y36(se),A.Y36(pe.Is,8),A.Y36(Ze,8),A.Y36(u.K0))};static#t=this.\u0275dir=A.lG2({type:It,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(H,re){2&H&&A.ekj("mat-mdc-tooltip-disabled",re.disabled)},exportAs:["matTooltip"],features:[A.qOj]})}return It})(),Se=(()=>{class It{constructor(V,H){this._changeDetectorRef=V,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new S.x,this._animationsDisabled="NoopAnimations"===H}show(V){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},V)}hide(V){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},V)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:V}){(!V||!this._triggerElement.contains(V))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:V}){(V===this._showAnimation||V===this._hideAnimation)&&this._finalizeAnimation(V===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(V){V?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(V){const H=this._tooltip.nativeElement,re=this._showAnimation,ut=this._hideAnimation;if(H.classList.remove(V?ut:re),H.classList.add(V?re:ut),this._isVisible=V,V&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ve=getComputedStyle(H);("0s"===Ve.getPropertyValue("animation-duration")||"none"===Ve.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}V&&this._onShow(),this._animationsDisabled&&(H.classList.add("_mat-animation-noopable"),this._finalizeAnimation(V))}static#e=this.\u0275fac=function(H){return new(H||It)(A.Y36(A.sBO),A.Y36(A.QbO,8))};static#t=this.\u0275dir=A.lG2({type:It})}return It})(),Le=(()=>{class It extends Se{constructor(V,H,re){super(V,re),this._elementRef=H,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const V=this._elementRef.nativeElement.getBoundingClientRect();return V.height>24&&V.width>=200}static#e=this.\u0275fac=function(H){return new(H||It)(A.Y36(A.sBO),A.Y36(A.SBq),A.Y36(A.QbO,8))};static#t=this.\u0275cmp=A.Xpm({type:It,selectors:[["mat-tooltip-component"]],viewQuery:function(H,re){if(1&H&&A.Gf(ye,7),2&H){let ut;A.iGM(ut=A.CRH())&&(re._tooltip=ut.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(H,re){1&H&&A.NdJ("mouseleave",function(Ve){return re._handleMouseLeave(Ve)}),2&H&&A.Udp("zoom",re.isVisible()?1:null)},features:[A.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(H,re){1&H&&(A.TgZ(0,"div",0,1),A.NdJ("animationend",function(Ve){return re._handleAnimationEnd(Ve)}),A.TgZ(2,"div",2),A._uU(3),A.qZA()()),2&H&&(A.ekj("mdc-tooltip--multiline",re._isMultiline),A.Q6J("ngClass",re.tooltipClass),A.xp6(3),A.Oqu(re.message))},dependencies:[u.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return It})(),tt=(()=>{class It{static#e=this.\u0275fac=function(H){return new(H||It)};static#t=this.\u0275mod=A.oAB({type:It});static#n=this.\u0275inj=A.cJS({providers:[Ce],imports:[ne.rt,u.ez,Me.U8,me.BQ,me.BQ,Ie.ZD]})}return It})();var et=b(4170);function Ae(It,Ke){if(1&It&&(A.TgZ(0,"mat-option",19),A._uU(1),A.qZA()),2&It){const V=Ke.$implicit;A.Q6J("value",V),A.xp6(1),A.hij(" ",V," ")}}function Dt(It,Ke){if(1&It){const V=A.EpF();A.TgZ(0,"mat-form-field",16)(1,"mat-select",17),A.NdJ("selectionChange",function(re){A.CHM(V);const ut=A.oxw(2);return A.KtG(ut._changePageSize(re.value))}),A.YNc(2,Ae,2,2,"mat-option",18),A.qZA()()}if(2&It){const V=A.oxw(2);A.Q6J("appearance",V._formFieldAppearance)("color",V.color),A.xp6(1),A.Q6J("value",V.pageSize)("disabled",V.disabled)("aria-labelledby",V._pageSizeLabelId)("panelClass",V.selectConfig.panelClass||"")("disableOptionCentering",V.selectConfig.disableOptionCentering),A.xp6(1),A.Q6J("ngForOf",V._displayedPageSizeOptions)}}function be(It,Ke){if(1&It&&(A.TgZ(0,"div",20),A._uU(1),A.qZA()),2&It){const V=A.oxw(2);A.xp6(1),A.Oqu(V.pageSize)}}function Be(It,Ke){if(1&It&&(A.TgZ(0,"div",12)(1,"div",13),A._uU(2),A.qZA(),A.YNc(3,Dt,3,8,"mat-form-field",14),A.YNc(4,be,2,1,"div",15),A.qZA()),2&It){const V=A.oxw();A.xp6(1),A.s9C("id",V._pageSizeLabelId),A.xp6(1),A.hij(" ",V._intl.itemsPerPageLabel," "),A.xp6(1),A.Q6J("ngIf",V._displayedPageSizeOptions.length>1),A.xp6(1),A.Q6J("ngIf",V._displayedPageSizeOptions.length<=1)}}function ve(It,Ke){if(1&It){const V=A.EpF();A.TgZ(0,"button",21),A.NdJ("click",function(){A.CHM(V);const re=A.oxw();return A.KtG(re.firstPage())}),A.O4$(),A.TgZ(1,"svg",7),A._UZ(2,"path",22),A.qZA()()}if(2&It){const V=A.oxw();A.Q6J("matTooltip",V._intl.firstPageLabel)("matTooltipDisabled",V._previousButtonsDisabled())("matTooltipPosition","above")("disabled",V._previousButtonsDisabled()),A.uIk("aria-label",V._intl.firstPageLabel)}}function it(It,Ke){if(1&It){const V=A.EpF();A.O4$(),A.kcU(),A.TgZ(0,"button",23),A.NdJ("click",function(){A.CHM(V);const re=A.oxw();return A.KtG(re.lastPage())}),A.O4$(),A.TgZ(1,"svg",7),A._UZ(2,"path",24),A.qZA()()}if(2&It){const V=A.oxw();A.Q6J("matTooltip",V._intl.lastPageLabel)("matTooltipDisabled",V._nextButtonsDisabled())("matTooltipPosition","above")("disabled",V._nextButtonsDisabled()),A.uIk("aria-label",V._intl.lastPageLabel)}}let _t=(()=>{class It{constructor(){this.changes=new S.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(V,H,re)=>{if(0==re||0==H)return`0 of ${re}`;const ut=V*H;return`${ut+1} \u2013 ${ut<(re=Math.max(re,0))?Math.min(ut+H,re):ut+H} of ${re}`}}static#e=this.\u0275fac=function(H){return new(H||It)};static#t=this.\u0275prov=A.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"})}return It})();const Kt={provide:_t,deps:[[new A.FiY,new A.tp0,_t]],useFactory:function Nt(It){return It||new _t}},Ot=new A.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Xt=(0,me.Id)((0,me.dB)(class{}));let Tn=(()=>{class It extends Xt{get pageIndex(){return this._pageIndex}set pageIndex(V){this._pageIndex=Math.max((0,Z.su)(V),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(V){this._length=(0,Z.su)(V),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(V){this._pageSize=Math.max((0,Z.su)(V),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(V){this._pageSizeOptions=(V||[]).map(H=>(0,Z.su)(H)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(V){this._hidePageSize=(0,Z.Ig)(V)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(V){this._showFirstLastButtons=(0,Z.Ig)(V)}constructor(V,H,re){if(super(),this._intl=V,this._changeDetectorRef=H,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new A.vpe,this._intlChanges=V.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),re){const{pageSize:ut,pageSizeOptions:Ve,hidePageSize:pt,showFirstLastButtons:ke}=re;null!=ut&&(this._pageSize=ut),null!=Ve&&(this._pageSizeOptions=Ve),null!=pt&&(this._hidePageSize=pt),null!=ke&&(this._showFirstLastButtons=ke)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const V=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(V)}previousPage(){if(!this.hasPreviousPage())return;const V=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(V)}firstPage(){if(!this.hasPreviousPage())return;const V=this.pageIndex;this.pageIndex=0,this._emitPageEvent(V)}lastPage(){if(!this.hasNextPage())return;const V=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(V)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const V=this.getNumberOfPages()-1;return this.pageIndex<V&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(V){const re=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/V)||0,this.pageSize=V,this._emitPageEvent(re)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((V,H)=>V-H),this._changeDetectorRef.markForCheck())}_emitPageEvent(V){this.page.emit({previousPageIndex:V,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(H){A.$Z()};static#t=this.\u0275dir=A.lG2({type:It,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[A.qOj]})}return It})(),Hn=0,dt=(()=>{class It extends Tn{constructor(V,H,re){super(V,H,re),this._pageSizeLabelId="mat-paginator-page-size-label-"+Hn++,this._formFieldAppearance=re?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(H){return new(H||It)(A.Y36(_t),A.Y36(A.sBO),A.Y36(Ot,8))};static#t=this.\u0275cmp=A.Xpm({type:It,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[A.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(H,re){1&H&&(A.TgZ(0,"div",0)(1,"div",1),A.YNc(2,Be,5,4,"div",2),A.TgZ(3,"div",3)(4,"div",4),A._uU(5),A.qZA(),A.YNc(6,ve,3,5,"button",5),A.TgZ(7,"button",6),A.NdJ("click",function(){return re.previousPage()}),A.O4$(),A.TgZ(8,"svg",7),A._UZ(9,"path",8),A.qZA()(),A.kcU(),A.TgZ(10,"button",9),A.NdJ("click",function(){return re.nextPage()}),A.O4$(),A.TgZ(11,"svg",7),A._UZ(12,"path",10),A.qZA()(),A.YNc(13,it,3,5,"button",11),A.qZA()()()),2&H&&(A.xp6(2),A.Q6J("ngIf",!re.hidePageSize),A.xp6(3),A.hij(" ",re._intl.getRangeLabel(re.pageIndex,re.pageSize,re.length)," "),A.xp6(1),A.Q6J("ngIf",re.showFirstLastButtons),A.xp6(1),A.Q6J("matTooltip",re._intl.previousPageLabel)("matTooltipDisabled",re._previousButtonsDisabled())("matTooltipPosition","above")("disabled",re._previousButtonsDisabled()),A.uIk("aria-label",re._intl.previousPageLabel),A.xp6(3),A.Q6J("matTooltip",re._intl.nextPageLabel)("matTooltipDisabled",re._nextButtonsDisabled())("matTooltipPosition","above")("disabled",re._nextButtonsDisabled()),A.uIk("aria-label",re._intl.nextPageLabel),A.xp6(3),A.Q6J("ngIf",re.showFirstLastButtons))},dependencies:[u.sg,u.O5,v.RK,et.KE,te.gD,me.ey,bn],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return It})(),Gt=(()=>{class It{static#e=this.\u0275fac=function(H){return new(H||It)};static#t=this.\u0275mod=A.oAB({type:It});static#n=this.\u0275inj=A.cJS({providers:[Kt],imports:[u.ez,v.ot,te.LD,tt]})}return It})()},8525:(Qe,ue,b)=>{b.d(ue,{LD:()=>Nt,gD:()=>_t});var u=b(3651),A=b(6814),S=b(5879),v=b(3680),te=b(4170),fe=b(5407),ge=b(4300),Z=b(9388),oe=b(2495),q=b(8337),ne=b(6028),pe=b(6223),Me=b(8645),Ie=b(4911),Ne=b(3019),xe=b(7921),me=b(4664),ye=b(8180),lt=b(2181),st=b(7398),se=b(3997),Te=b(9773),Ce=b(6825);const qe=["trigger"],Ze=["panel"];function Oe(Kt,yn){if(1&Kt&&(S.TgZ(0,"span",10),S._uU(1),S.qZA()),2&Kt){const Je=S.oxw();S.xp6(1),S.Oqu(Je.placeholder)}}function zt(Kt,yn){if(1&Kt&&(S.TgZ(0,"span",14),S._uU(1),S.qZA()),2&Kt){const Je=S.oxw(2);S.xp6(1),S.Oqu(Je.triggerValue)}}function Qt(Kt,yn){1&Kt&&S.Hsn(0,0,["*ngSwitchCase","true"])}function Vt(Kt,yn){if(1&Kt&&(S.TgZ(0,"span",11),S.YNc(1,zt,2,1,"span",12),S.YNc(2,Qt,1,0,"ng-content",13),S.qZA()),2&Kt){const Je=S.oxw();S.Q6J("ngSwitch",!!Je.customTrigger),S.xp6(2),S.Q6J("ngSwitchCase",!0)}}function cn(Kt,yn){if(1&Kt){const Je=S.EpF();S.O4$(),S.kcU(),S.TgZ(0,"div",15,16),S.NdJ("@transformPanel.done",function(Xt){S.CHM(Je);const Tn=S.oxw();return S.KtG(Tn._panelDoneAnimatingStream.next(Xt.toState))})("keydown",function(Xt){S.CHM(Je);const Tn=S.oxw();return S.KtG(Tn._handleKeydown(Xt))}),S.Hsn(2,1),S.qZA()}if(2&Kt){const Je=S.oxw();S.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",Je._getPanelTheme(),""),S.Q6J("ngClass",Je.panelClass)("@transformPanel","showing"),S.uIk("id",Je.id+"-panel")("aria-multiselectable",Je.multiple)("aria-label",Je.ariaLabel||null)("aria-labelledby",Je._getPanelAriaLabelledby())}}const jt=[[["mat-select-trigger"]],"*"],gn=["mat-select-trigger","*"],mn={transformPanelWrap:(0,Ce.X$)("transformPanelWrap",[(0,Ce.eR)("* => void",(0,Ce.IO)("@transformPanel",[(0,Ce.pV)()],{optional:!0}))]),transformPanel:(0,Ce.X$)("transformPanel",[(0,Ce.SB)("void",(0,Ce.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,Ce.eR)("void => showing",(0,Ce.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Ce.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,Ce.eR)("* => void",(0,Ce.jt)("100ms linear",(0,Ce.oB)({opacity:0})))])};let Le=0;const Re=new S.OlP("mat-select-scroll-strategy"),et=new S.OlP("MAT_SELECT_CONFIG"),Ae={provide:Re,deps:[u.aV],useFactory:function tt(Kt){return()=>Kt.scrollStrategies.reposition()}},Dt=new S.OlP("MatSelectTrigger");class be{constructor(yn,Je){this.source=yn,this.value=Je}}const Be=(0,v.Kr)((0,v.sb)((0,v.Id)((0,v.FD)(class{constructor(Kt,yn,Je,Ot,Xt){this._elementRef=Kt,this._defaultErrorStateMatcher=yn,this._parentForm=Je,this._parentFormGroup=Ot,this.ngControl=Xt,this.stateChanges=new Me.x}}))));let ve=(()=>{class Kt extends Be{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(Je){this._placeholder=Je,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(pe.kI.required)??!1}set required(Je){this._required=(0,oe.Ig)(Je),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(Je){this._multiple=(0,oe.Ig)(Je)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(Je){this._disableOptionCentering=(0,oe.Ig)(Je)}get compareWith(){return this._compareWith}set compareWith(Je){this._compareWith=Je,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Je){this._assignValue(Je)&&this._onChange(Je)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(Je){this._typeaheadDebounceInterval=(0,oe.su)(Je)}get id(){return this._id}set id(Je){this._id=Je||this._uid,this.stateChanges.next()}constructor(Je,Ot,Xt,Tn,Hn,dt,Gt,It,Ke,V,H,re,ut,Ve){super(Hn,Tn,Gt,It,V),this._viewportRuler=Je,this._changeDetectorRef=Ot,this._ngZone=Xt,this._dir=dt,this._parentFormField=Ke,this._liveAnnouncer=ut,this._defaultOptions=Ve,this._panelOpen=!1,this._compareWith=(pt,ke)=>pt===ke,this._uid="mat-select-"+Le++,this._triggerAriaLabelledBy=null,this._destroy=new Me.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Le++,this._panelDoneAnimatingStream=new Me.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Ie.P)(()=>{const pt=this.options;return pt?pt.changes.pipe((0,xe.O)(pt),(0,me.w)(()=>(0,Ne.T)(...pt.map(ke=>ke.onSelectionChange)))):this._ngZone.onStable.pipe((0,ye.q)(1),(0,me.w)(()=>this.optionSelectionChanges))}),this.openedChange=new S.vpe,this._openedStream=this.openedChange.pipe((0,lt.h)(pt=>pt),(0,st.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,lt.h)(pt=>!pt),(0,st.U)(()=>{})),this.selectionChange=new S.vpe,this.valueChange=new S.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ve?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Ve.typeaheadDebounceInterval),this._scrollStrategyFactory=re,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(H)||0,this.id=this.id}ngOnInit(){this._selectionModel=new q.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,se.x)(),(0,Te.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Te.R)(this._destroy)).subscribe(Je=>{Je.added.forEach(Ot=>Ot.select()),Je.removed.forEach(Ot=>Ot.deselect())}),this.options.changes.pipe((0,xe.O)(null),(0,Te.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const Je=this._getTriggerAriaLabelledby(),Ot=this.ngControl;if(Je!==this._triggerAriaLabelledBy){const Xt=this._elementRef.nativeElement;this._triggerAriaLabelledBy=Je,Je?Xt.setAttribute("aria-labelledby",Je):Xt.removeAttribute("aria-labelledby")}Ot&&(this._previousControl!==Ot.control&&(void 0!==this._previousControl&&null!==Ot.disabled&&Ot.disabled!==this.disabled&&(this.disabled=Ot.disabled),this._previousControl=Ot.control),this.updateErrorState())}ngOnChanges(Je){(Je.disabled||Je.userAriaDescribedBy)&&this.stateChanges.next(),Je.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const Je=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!Je)return;const Ot=`${this.id}-panel`;this._trackedModal&&(0,ge.iD)(this._trackedModal,"aria-owns",Ot),(0,ge.Zf)(Je,"aria-owns",Ot),this._trackedModal=Je}_clearFromModal(){this._trackedModal&&((0,ge.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(Je){this._assignValue(Je)}registerOnChange(Je){this._onChange=Je}registerOnTouched(Je){this._onTouched=Je}setDisabledState(Je){this.disabled=Je,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const Je=this._selectionModel.selected.map(Ot=>Ot.viewValue);return this._isRtl()&&Je.reverse(),Je.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(Je){this.disabled||(this.panelOpen?this._handleOpenKeydown(Je):this._handleClosedKeydown(Je))}_handleClosedKeydown(Je){const Ot=Je.keyCode,Xt=Ot===ne.JH||Ot===ne.LH||Ot===ne.oh||Ot===ne.SV,Tn=Ot===ne.K5||Ot===ne.L_,Hn=this._keyManager;if(!Hn.isTyping()&&Tn&&!(0,ne.Vb)(Je)||(this.multiple||Je.altKey)&&Xt)Je.preventDefault(),this.open();else if(!this.multiple){const dt=this.selected;Hn.onKeydown(Je);const Gt=this.selected;Gt&&dt!==Gt&&this._liveAnnouncer.announce(Gt.viewValue,1e4)}}_handleOpenKeydown(Je){const Ot=this._keyManager,Xt=Je.keyCode,Tn=Xt===ne.JH||Xt===ne.LH,Hn=Ot.isTyping();if(Tn&&Je.altKey)Je.preventDefault(),this.close();else if(Hn||Xt!==ne.K5&&Xt!==ne.L_||!Ot.activeItem||(0,ne.Vb)(Je))if(!Hn&&this._multiple&&Xt===ne.A&&Je.ctrlKey){Je.preventDefault();const dt=this.options.some(Gt=>!Gt.disabled&&!Gt.selected);this.options.forEach(Gt=>{Gt.disabled||(dt?Gt.select():Gt.deselect())})}else{const dt=Ot.activeItemIndex;Ot.onKeydown(Je),this._multiple&&Tn&&Je.shiftKey&&Ot.activeItem&&Ot.activeItemIndex!==dt&&Ot.activeItem._selectViaInteraction()}else Je.preventDefault(),Ot.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ye.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(Je){if(this.options.forEach(Ot=>Ot.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&Je)Array.isArray(Je),Je.forEach(Ot=>this._selectOptionByValue(Ot)),this._sortValues();else{const Ot=this._selectOptionByValue(Je);Ot?this._keyManager.updateActiveItem(Ot):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(Je){const Ot=this.options.find(Xt=>{if(this._selectionModel.isSelected(Xt))return!1;try{return null!=Xt.value&&this._compareWith(Xt.value,Je)}catch{return!1}});return Ot&&this._selectionModel.select(Ot),Ot}_assignValue(Je){return!!(Je!==this._value||this._multiple&&Array.isArray(Je))&&(this.options&&this._setSelectionByValue(Je),this._value=Je,!0)}_skipPredicate(Je){return Je.disabled}_initKeyManager(){this._keyManager=new ge.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const Je=(0,Ne.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Te.R)(Je)).subscribe(Ot=>{this._onSelect(Ot.source,Ot.isUserInput),Ot.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ne.T)(...this.options.map(Ot=>Ot._stateChanges)).pipe((0,Te.R)(Je)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(Je,Ot){const Xt=this._selectionModel.isSelected(Je);null!=Je.value||this._multiple?(Xt!==Je.selected&&(Je.selected?this._selectionModel.select(Je):this._selectionModel.deselect(Je)),Ot&&this._keyManager.setActiveItem(Je),this.multiple&&(this._sortValues(),Ot&&this.focus())):(Je.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(Je.value)),Xt!==this._selectionModel.isSelected(Je)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const Je=this.options.toArray();this._selectionModel.sort((Ot,Xt)=>this.sortComparator?this.sortComparator(Ot,Xt,Je):Je.indexOf(Ot)-Je.indexOf(Xt)),this.stateChanges.next()}}_propagateChanges(Je){let Ot=null;Ot=this.multiple?this.selected.map(Xt=>Xt.value):this.selected?this.selected.value:Je,this._value=Ot,this.valueChange.emit(Ot),this._onChange(Ot),this.selectionChange.emit(this._getChangeEvent(Ot)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let Je=-1;for(let Ot=0;Ot<this.options.length;Ot++)if(!this.options.get(Ot).disabled){Je=Ot;break}this._keyManager.setActiveItem(Je)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(Je){this._elementRef.nativeElement.focus(Je)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const Je=this._parentFormField?.getLabelId();return this.ariaLabelledby?(Je?Je+" ":"")+this.ariaLabelledby:Je}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const Je=this._parentFormField?.getLabelId();let Ot=(Je?Je+" ":"")+this._valueId;return this.ariaLabelledby&&(Ot+=" "+this.ariaLabelledby),Ot}_panelDoneAnimating(Je){this.openedChange.emit(Je)}setDescribedByIds(Je){Je.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Je.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(Ot){return new(Ot||Kt)(S.Y36(fe.rL),S.Y36(S.sBO),S.Y36(S.R0b),S.Y36(v.rD),S.Y36(S.SBq),S.Y36(Z.Is,8),S.Y36(pe.F,8),S.Y36(pe.sg,8),S.Y36(te.G_,8),S.Y36(pe.a5,10),S.$8M("tabindex"),S.Y36(Re),S.Y36(ge.Kd),S.Y36(et,8))};static#t=this.\u0275dir=S.lG2({type:Kt,viewQuery:function(Ot,Xt){if(1&Ot&&(S.Gf(qe,5),S.Gf(Ze,5),S.Gf(u.pI,5)),2&Ot){let Tn;S.iGM(Tn=S.CRH())&&(Xt.trigger=Tn.first),S.iGM(Tn=S.CRH())&&(Xt.panel=Tn.first),S.iGM(Tn=S.CRH())&&(Xt._overlayDir=Tn.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[S.qOj,S.TTD]})}return Kt})(),_t=(()=>{class Kt extends ve{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=Je=>!this.panelOpen&&Je.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Te.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(Je){const Ot=this.options.toArray()[Je];if(Ot){const Xt=this.panel.nativeElement,Tn=(0,v.CB)(Je,this.options,this.optionGroups),Hn=Ot._getHostElement();Xt.scrollTop=0===Je&&1===Tn?0:(0,v.jH)(Hn.offsetTop,Hn.offsetHeight,Xt.scrollTop,Xt.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(Je){return new be(this,Je)}_getOverlayWidth(Je){return"auto"===this.panelWidth?(Je instanceof u.xu?Je.elementRef:Je||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(Je){this._hideSingleSelectionIndicator=(0,oe.Ig)(Je),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const Je of this.options)Je._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let Je;return function(Xt){return(Je||(Je=S.n5z(Kt)))(Xt||Kt)}}();static#t=this.\u0275cmp=S.Xpm({type:Kt,selectors:[["mat-select"]],contentQueries:function(Ot,Xt,Tn){if(1&Ot&&(S.Suo(Tn,Dt,5),S.Suo(Tn,v.ey,5),S.Suo(Tn,v.K7,5)),2&Ot){let Hn;S.iGM(Hn=S.CRH())&&(Xt.customTrigger=Hn.first),S.iGM(Hn=S.CRH())&&(Xt.options=Hn),S.iGM(Hn=S.CRH())&&(Xt.optionGroups=Hn)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Ot,Xt){1&Ot&&S.NdJ("keydown",function(Hn){return Xt._handleKeydown(Hn)})("focus",function(){return Xt._onFocus()})("blur",function(){return Xt._onBlur()}),2&Ot&&(S.uIk("id",Xt.id)("tabindex",Xt.tabIndex)("aria-controls",Xt.panelOpen?Xt.id+"-panel":null)("aria-expanded",Xt.panelOpen)("aria-label",Xt.ariaLabel||null)("aria-required",Xt.required.toString())("aria-disabled",Xt.disabled.toString())("aria-invalid",Xt.errorState)("aria-activedescendant",Xt._getAriaActiveDescendant()),S.ekj("mat-mdc-select-disabled",Xt.disabled)("mat-mdc-select-invalid",Xt.errorState)("mat-mdc-select-required",Xt.required)("mat-mdc-select-empty",Xt.empty)("mat-mdc-select-multiple",Xt.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[S._Bn([{provide:te.Eo,useExisting:Kt},{provide:v.HF,useExisting:Kt}]),S.qOj],ngContentSelectors:gn,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(Ot,Xt){if(1&Ot&&(S.F$t(jt),S.TgZ(0,"div",0,1),S.NdJ("click",function(){return Xt.toggle()}),S.TgZ(3,"div",2),S.YNc(4,Oe,2,1,"span",3),S.YNc(5,Vt,3,2,"span",4),S.qZA(),S.TgZ(6,"div",5)(7,"div",6),S.O4$(),S.TgZ(8,"svg",7),S._UZ(9,"path",8),S.qZA()()()(),S.YNc(10,cn,3,9,"ng-template",9),S.NdJ("backdropClick",function(){return Xt.close()})("attach",function(){return Xt._onAttached()})("detach",function(){return Xt.close()})),2&Ot){const Tn=S.MAs(1);S.xp6(3),S.Q6J("ngSwitch",Xt.empty),S.uIk("id",Xt._valueId),S.xp6(1),S.Q6J("ngSwitchCase",!0),S.xp6(1),S.Q6J("ngSwitchCase",!1),S.xp6(5),S.Q6J("cdkConnectedOverlayPanelClass",Xt._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Xt._scrollStrategy)("cdkConnectedOverlayOrigin",Xt._preferredOverlayOrigin||Tn)("cdkConnectedOverlayOpen",Xt.panelOpen)("cdkConnectedOverlayPositions",Xt._positions)("cdkConnectedOverlayWidth",Xt._overlayWidth)}},dependencies:[A.mk,A.RF,A.n9,A.ED,u.pI,u.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[mn.transformPanel]},changeDetection:0})}return Kt})(),Nt=(()=>{class Kt{static#e=this.\u0275fac=function(Ot){return new(Ot||Kt)};static#t=this.\u0275mod=S.oAB({type:Kt});static#n=this.\u0275inj=S.cJS({providers:[Ae],imports:[A.ez,u.U8,v.Ng,v.BQ,fe.ZD,te.lN,v.Ng,v.BQ]})}return Kt})()},2939:(Qe,ue,b)=>{b.d(ue,{ZX:()=>Vt,ux:()=>mn});var u=b(5879),A=b(8645),S=b(6814),v=b(2296),te=b(6825),fe=b(8484),ge=b(2831),Z=b(8180),oe=b(9773),q=b(4300),ne=b(1088),pe=b(3651),Me=b(3680);function Ie(tn,bn){if(1&tn){const Se=u.EpF();u.TgZ(0,"div",2)(1,"button",3),u.NdJ("click",function(){u.CHM(Se);const Re=u.oxw();return u.KtG(Re.action())}),u._uU(2),u.qZA()()}if(2&tn){const Se=u.oxw();u.xp6(2),u.hij(" ",Se.data.action," ")}}const Ne=["label"];function xe(tn,bn){}const me=Math.pow(2,31)-1;class ye{constructor(bn,Se){this._overlayRef=Se,this._afterDismissed=new A.x,this._afterOpened=new A.x,this._onAction=new A.x,this._dismissedByAction=!1,this.containerInstance=bn,bn._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(bn){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(bn,me))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const lt=new u.OlP("MatSnackBarData");class st{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let se=(()=>{class tn{static#e=this.\u0275fac=function(Le){return new(Le||tn)};static#t=this.\u0275dir=u.lG2({type:tn,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return tn})(),Te=(()=>{class tn{static#e=this.\u0275fac=function(Le){return new(Le||tn)};static#t=this.\u0275dir=u.lG2({type:tn,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return tn})(),Ce=(()=>{class tn{static#e=this.\u0275fac=function(Le){return new(Le||tn)};static#t=this.\u0275dir=u.lG2({type:tn,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return tn})(),qe=(()=>{class tn{constructor(Se,Le){this.snackBarRef=Se,this.data=Le}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(Le){return new(Le||tn)(u.Y36(ye),u.Y36(lt))};static#t=this.\u0275cmp=u.Xpm({type:tn,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(Le,Re){1&Le&&(u.TgZ(0,"div",0),u._uU(1),u.qZA(),u.YNc(2,Ie,3,1,"div",1)),2&Le&&(u.xp6(1),u.hij(" ",Re.data.message,"\n"),u.xp6(1),u.Q6J("ngIf",Re.hasAction))},dependencies:[S.O5,v.lW,se,Te,Ce],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return tn})();const Ze={snackBarState:(0,te.X$)("state",[(0,te.SB)("void, hidden",(0,te.oB)({transform:"scale(0.8)",opacity:0})),(0,te.SB)("visible",(0,te.oB)({transform:"scale(1)",opacity:1})),(0,te.eR)("* => visible",(0,te.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,te.eR)("* => void, * => hidden",(0,te.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,te.oB)({opacity:0})))])};let Oe=0,zt=(()=>{class tn extends fe.en{constructor(Se,Le,Re,tt,et){super(),this._ngZone=Se,this._elementRef=Le,this._changeDetectorRef=Re,this._platform=tt,this.snackBarConfig=et,this._document=(0,u.f3M)(S.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new A.x,this._onExit=new A.x,this._onEnter=new A.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Oe++,this.attachDomPortal=Ae=>{this._assertNotAttached();const Dt=this._portalOutlet.attachDomPortal(Ae);return this._afterPortalAttached(),Dt},this._live="assertive"!==et.politeness||et.announcementMessage?"off"===et.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Se){this._assertNotAttached();const Le=this._portalOutlet.attachComponentPortal(Se);return this._afterPortalAttached(),Le}attachTemplatePortal(Se){this._assertNotAttached();const Le=this._portalOutlet.attachTemplatePortal(Se);return this._afterPortalAttached(),Le}onAnimationEnd(Se){const{fromState:Le,toState:Re}=Se;if(("void"===Re&&"void"!==Le||"hidden"===Re)&&this._completeExit(),"visible"===Re){const tt=this._onEnter;this._ngZone.run(()=>{tt.next(),tt.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Z.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Se=this._elementRef.nativeElement,Le=this.snackBarConfig.panelClass;Le&&(Array.isArray(Le)?Le.forEach(Re=>Se.classList.add(Re)):Se.classList.add(Le)),this._exposeToModals()}_exposeToModals(){const Se=this._liveElementId,Le=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Re=0;Re<Le.length;Re++){const tt=Le[Re],et=tt.getAttribute("aria-owns");this._trackedModals.add(tt),et?-1===et.indexOf(Se)&&tt.setAttribute("aria-owns",et+" "+Se):tt.setAttribute("aria-owns",Se)}}_clearFromModals(){this._trackedModals.forEach(Se=>{const Le=Se.getAttribute("aria-owns");if(Le){const Re=Le.replace(this._liveElementId,"").trim();Re.length>0?Se.setAttribute("aria-owns",Re):Se.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Se=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Le=this._elementRef.nativeElement.querySelector("[aria-live]");if(Se&&Le){let Re=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Se.contains(document.activeElement)&&(Re=document.activeElement),Se.removeAttribute("aria-hidden"),Le.appendChild(Se),Re?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(Le){return new(Le||tn)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(ge.t4),u.Y36(st))};static#t=this.\u0275dir=u.lG2({type:tn,viewQuery:function(Le,Re){if(1&Le&&u.Gf(fe.Pl,7),2&Le){let tt;u.iGM(tt=u.CRH())&&(Re._portalOutlet=tt.first)}},features:[u.qOj]})}return tn})(),Qt=(()=>{class tn extends zt{_afterPortalAttached(){super._afterPortalAttached();const Se=this._label.nativeElement,Le="mdc-snackbar__label";Se.classList.toggle(Le,!Se.querySelector(`.${Le}`))}static#e=this.\u0275fac=function(){let Se;return function(Re){return(Se||(Se=u.n5z(tn)))(Re||tn)}}();static#t=this.\u0275cmp=u.Xpm({type:tn,selectors:[["mat-snack-bar-container"]],viewQuery:function(Le,Re){if(1&Le&&u.Gf(Ne,7),2&Le){let tt;u.iGM(tt=u.CRH())&&(Re._label=tt.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(Le,Re){1&Le&&u.WFA("@state.done",function(et){return Re.onAnimationEnd(et)}),2&Le&&u.d8E("@state",Re._animationState)},features:[u.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(Le,Re){1&Le&&(u.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),u.YNc(4,xe,0,0,"ng-template",4),u.qZA(),u._UZ(5,"div"),u.qZA()()),2&Le&&(u.xp6(5),u.uIk("aria-live",Re._live)("role",Re._role)("id",Re._liveElementId))},dependencies:[fe.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Ze.snackBarState]}})}return tn})(),Vt=(()=>{class tn{static#e=this.\u0275fac=function(Le){return new(Le||tn)};static#t=this.\u0275mod=u.oAB({type:tn});static#n=this.\u0275inj=u.cJS({imports:[pe.U8,fe.eL,S.ez,v.ot,Me.BQ,Me.BQ]})}return tn})();const jt=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function cn(){return new st}});let gn=(()=>{class tn{get _openedSnackBarRef(){const Se=this._parentSnackBar;return Se?Se._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Se){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Se:this._snackBarRefAtThisLevel=Se}constructor(Se,Le,Re,tt,et,Ae){this._overlay=Se,this._live=Le,this._injector=Re,this._breakpointObserver=tt,this._parentSnackBar=et,this._defaultConfig=Ae,this._snackBarRefAtThisLevel=null}openFromComponent(Se,Le){return this._attach(Se,Le)}openFromTemplate(Se,Le){return this._attach(Se,Le)}open(Se,Le="",Re){const tt={...this._defaultConfig,...Re};return tt.data={message:Se,action:Le},tt.announcementMessage===Se&&(tt.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,tt)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Se,Le){const tt=u.zs3.create({parent:Le&&Le.viewContainerRef&&Le.viewContainerRef.injector||this._injector,providers:[{provide:st,useValue:Le}]}),et=new fe.C5(this.snackBarContainerComponent,Le.viewContainerRef,tt),Ae=Se.attach(et);return Ae.instance.snackBarConfig=Le,Ae.instance}_attach(Se,Le){const Re={...new st,...this._defaultConfig,...Le},tt=this._createOverlay(Re),et=this._attachSnackBarContainer(tt,Re),Ae=new ye(et,tt);if(Se instanceof u.Rgc){const Dt=new fe.UE(Se,null,{$implicit:Re.data,snackBarRef:Ae});Ae.instance=et.attachTemplatePortal(Dt)}else{const Dt=this._createInjector(Re,Ae),be=new fe.C5(Se,void 0,Dt),Be=et.attachComponentPortal(be);Ae.instance=Be.instance}return this._breakpointObserver.observe(ne.u3.HandsetPortrait).pipe((0,oe.R)(tt.detachments())).subscribe(Dt=>{tt.overlayElement.classList.toggle(this.handsetCssClass,Dt.matches)}),Re.announcementMessage&&et._onAnnounce.subscribe(()=>{this._live.announce(Re.announcementMessage,Re.politeness)}),this._animateSnackBar(Ae,Re),this._openedSnackBarRef=Ae,this._openedSnackBarRef}_animateSnackBar(Se,Le){Se.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Se&&(this._openedSnackBarRef=null),Le.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Se.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Se.containerInstance.enter(),Le.duration&&Le.duration>0&&Se.afterOpened().subscribe(()=>Se._dismissAfter(Le.duration))}_createOverlay(Se){const Le=new pe.X_;Le.direction=Se.direction;let Re=this._overlay.position().global();const tt="rtl"===Se.direction,et="left"===Se.horizontalPosition||"start"===Se.horizontalPosition&&!tt||"end"===Se.horizontalPosition&&tt,Ae=!et&&"center"!==Se.horizontalPosition;return et?Re.left("0"):Ae?Re.right("0"):Re.centerHorizontally(),"top"===Se.verticalPosition?Re.top("0"):Re.bottom("0"),Le.positionStrategy=Re,this._overlay.create(Le)}_createInjector(Se,Le){return u.zs3.create({parent:Se&&Se.viewContainerRef&&Se.viewContainerRef.injector||this._injector,providers:[{provide:ye,useValue:Le},{provide:lt,useValue:Se.data}]})}static#e=this.\u0275fac=function(Le){return new(Le||tn)(u.LFG(pe.aV),u.LFG(q.Kd),u.LFG(u.zs3),u.LFG(ne.Yg),u.LFG(tn,12),u.LFG(jt))};static#t=this.\u0275prov=u.Yz7({token:tn,factory:tn.\u0275fac})}return tn})(),mn=(()=>{class tn extends gn{constructor(Se,Le,Re,tt,et,Ae){super(Se,Le,Re,tt,et,Ae),this.simpleSnackBarComponent=qe,this.snackBarContainerComponent=Qt,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(Le){return new(Le||tn)(u.LFG(pe.aV),u.LFG(q.Kd),u.LFG(u.zs3),u.LFG(ne.Yg),u.LFG(tn,12),u.LFG(jt))};static#t=this.\u0275prov=u.Yz7({token:tn,factory:tn.\u0275fac,providedIn:Vt})}return tn})()},3566:(Qe,ue,b)=>{b.d(ue,{JX:()=>Qt,YE:()=>lt,nU:()=>zt});var u=b(5879),A=b(4300),S=b(2495),v=b(6028),te=b(3680),fe=b(8645),ge=b(3019),Z=b(6825),oe=b(6814);const q=["mat-sort-header",""];function ne(Vt,cn){if(1&Vt){const jt=u.EpF();u.TgZ(0,"div",3),u.NdJ("@arrowPosition.start",function(){u.CHM(jt);const mn=u.oxw();return u.KtG(mn._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){u.CHM(jt);const mn=u.oxw();return u.KtG(mn._disableViewStateAnimation=!1)}),u._UZ(1,"div",4),u.TgZ(2,"div",5),u._UZ(3,"div",6)(4,"div",7)(5,"div",8),u.qZA()()}if(2&Vt){const jt=u.oxw();u.Q6J("@arrowOpacity",jt._getArrowViewState())("@arrowPosition",jt._getArrowViewState())("@allowChildren",jt._getArrowDirectionState()),u.xp6(2),u.Q6J("@indicator",jt._getArrowDirectionState()),u.xp6(1),u.Q6J("@leftPointer",jt._getArrowDirectionState()),u.xp6(1),u.Q6J("@rightPointer",jt._getArrowDirectionState())}}const pe=["*"],me=new u.OlP("MAT_SORT_DEFAULT_OPTIONS"),ye=(0,te.dB)((0,te.Id)(class{}));let lt=(()=>{class Vt extends ye{get direction(){return this._direction}set direction(jt){this._direction=jt}get disableClear(){return this._disableClear}set disableClear(jt){this._disableClear=(0,S.Ig)(jt)}constructor(jt){super(),this._defaultOptions=jt,this.sortables=new Map,this._stateChanges=new fe.x,this.start="asc",this._direction="",this.sortChange=new u.vpe}register(jt){this.sortables.set(jt.id,jt)}deregister(jt){this.sortables.delete(jt.id)}sort(jt){this.active!=jt.id?(this.active=jt.id,this.direction=jt.start?jt.start:this.start):this.direction=this.getNextSortDirection(jt),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(jt){if(!jt)return"";let mn=function st(Vt,cn){let jt=["asc","desc"];return"desc"==Vt&&jt.reverse(),cn||jt.push(""),jt}(jt.start||this.start,jt?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),tn=mn.indexOf(this.direction)+1;return tn>=mn.length&&(tn=0),mn[tn]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(gn){return new(gn||Vt)(u.Y36(me,8))};static#t=this.\u0275dir=u.lG2({type:Vt,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[u.qOj,u.TTD]})}return Vt})();const se=te.mZ.ENTERING+" "+te.yN.STANDARD_CURVE,Te={indicator:(0,Z.X$)("indicator",[(0,Z.SB)("active-asc, asc",(0,Z.oB)({transform:"translateY(0px)"})),(0,Z.SB)("active-desc, desc",(0,Z.oB)({transform:"translateY(10px)"})),(0,Z.eR)("active-asc <=> active-desc",(0,Z.jt)(se))]),leftPointer:(0,Z.X$)("leftPointer",[(0,Z.SB)("active-asc, asc",(0,Z.oB)({transform:"rotate(-45deg)"})),(0,Z.SB)("active-desc, desc",(0,Z.oB)({transform:"rotate(45deg)"})),(0,Z.eR)("active-asc <=> active-desc",(0,Z.jt)(se))]),rightPointer:(0,Z.X$)("rightPointer",[(0,Z.SB)("active-asc, asc",(0,Z.oB)({transform:"rotate(45deg)"})),(0,Z.SB)("active-desc, desc",(0,Z.oB)({transform:"rotate(-45deg)"})),(0,Z.eR)("active-asc <=> active-desc",(0,Z.jt)(se))]),arrowOpacity:(0,Z.X$)("arrowOpacity",[(0,Z.SB)("desc-to-active, asc-to-active, active",(0,Z.oB)({opacity:1})),(0,Z.SB)("desc-to-hint, asc-to-hint, hint",(0,Z.oB)({opacity:.54})),(0,Z.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,Z.oB)({opacity:0})),(0,Z.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,Z.jt)("0ms")),(0,Z.eR)("* <=> *",(0,Z.jt)(se))]),arrowPosition:(0,Z.X$)("arrowPosition",[(0,Z.eR)("* => desc-to-hint, * => desc-to-active",(0,Z.jt)(se,(0,Z.F4)([(0,Z.oB)({transform:"translateY(-25%)"}),(0,Z.oB)({transform:"translateY(0)"})]))),(0,Z.eR)("* => hint-to-desc, * => active-to-desc",(0,Z.jt)(se,(0,Z.F4)([(0,Z.oB)({transform:"translateY(0)"}),(0,Z.oB)({transform:"translateY(25%)"})]))),(0,Z.eR)("* => asc-to-hint, * => asc-to-active",(0,Z.jt)(se,(0,Z.F4)([(0,Z.oB)({transform:"translateY(25%)"}),(0,Z.oB)({transform:"translateY(0)"})]))),(0,Z.eR)("* => hint-to-asc, * => active-to-asc",(0,Z.jt)(se,(0,Z.F4)([(0,Z.oB)({transform:"translateY(0)"}),(0,Z.oB)({transform:"translateY(-25%)"})]))),(0,Z.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,Z.oB)({transform:"translateY(0)"})),(0,Z.SB)("hint-to-desc, active-to-desc, desc",(0,Z.oB)({transform:"translateY(-25%)"})),(0,Z.SB)("hint-to-asc, active-to-asc, asc",(0,Z.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,Z.X$)("allowChildren",[(0,Z.eR)("* <=> *",[(0,Z.IO)("@*",(0,Z.pV)(),{optional:!0})])])};let Ce=(()=>{class Vt{constructor(){this.changes=new fe.x}static#e=this.\u0275fac=function(gn){return new(gn||Vt)};static#t=this.\u0275prov=u.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})();const Ze={provide:Ce,deps:[[new u.FiY,new u.tp0,Ce]],useFactory:function qe(Vt){return Vt||new Ce}},Oe=(0,te.Id)(class{});let zt=(()=>{class Vt extends Oe{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(jt){this._updateSortActionDescription(jt)}get disableClear(){return this._disableClear}set disableClear(jt){this._disableClear=(0,S.Ig)(jt)}constructor(jt,gn,mn,tn,bn,Se,Le,Re){super(),this._intl=jt,this._changeDetectorRef=gn,this._sort=mn,this._columnDef=tn,this._focusMonitor=bn,this._elementRef=Se,this._ariaDescriber=Le,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Re?.arrowPosition&&(this.arrowPosition=Re?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(jt=>{const gn=!!jt;gn!==this._showIndicatorHint&&(this._setIndicatorHintVisible(gn),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(jt){this._isDisabled()&&jt||(this._showIndicatorHint=jt,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(jt){this._viewState=jt||{},this._disableViewStateAnimation&&(this._viewState={toState:jt.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(jt){!this._isDisabled()&&(jt.keyCode===v.L_||jt.keyCode===v.K5)&&(jt.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const jt=this._viewState.fromState;return(jt?`${jt}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(jt){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,jt)),this._sortActionDescription=jt}_handleStateChanges(){this._rerenderSubscription=(0,ge.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(gn){return new(gn||Vt)(u.Y36(Ce),u.Y36(u.sBO),u.Y36(lt,8),u.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),u.Y36(A.tE),u.Y36(u.SBq),u.Y36(A.$s,8),u.Y36(me,8))};static#t=this.\u0275cmp=u.Xpm({type:Vt,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(gn,mn){1&gn&&u.NdJ("click",function(){return mn._handleClick()})("keydown",function(bn){return mn._handleKeydown(bn)})("mouseenter",function(){return mn._setIndicatorHintVisible(!0)})("mouseleave",function(){return mn._setIndicatorHintVisible(!1)}),2&gn&&(u.uIk("aria-sort",mn._getAriaSortAttribute()),u.ekj("mat-sort-header-disabled",mn._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[u.qOj],attrs:q,ngContentSelectors:pe,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(gn,mn){1&gn&&(u.F$t(),u.TgZ(0,"div",0)(1,"div",1),u.Hsn(2),u.qZA(),u.YNc(3,ne,6,6,"div",2),u.qZA()),2&gn&&(u.ekj("mat-sort-header-sorted",mn._isSorted())("mat-sort-header-position-before","before"===mn.arrowPosition),u.uIk("tabindex",mn._isDisabled()?null:0)("role",mn._isDisabled()?null:"button"),u.xp6(3),u.Q6J("ngIf",mn._renderArrow()))},dependencies:[oe.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Te.indicator,Te.leftPointer,Te.rightPointer,Te.arrowOpacity,Te.arrowPosition,Te.allowChildren]},changeDetection:0})}return Vt})(),Qt=(()=>{class Vt{static#e=this.\u0275fac=function(gn){return new(gn||Vt)};static#t=this.\u0275mod=u.oAB({type:Vt});static#n=this.\u0275inj=u.cJS({providers:[Ze],imports:[oe.ez,te.BQ]})}return Vt})()},5313:(Qe,ue,b)=>{b.d(ue,{ev:()=>W,Dz:()=>yt,w1:()=>F,ge:()=>M,fO:()=>he,XQ:()=>pn,as:()=>xt,Gk:()=>Gn,nj:()=>un,BZ:()=>We,by:()=>Rt,p0:()=>je});var u=b(5879),A=b(9388),S=b(2495),v=b(8337),te=b(2831),fe=b(5407),ge=b(6814),Z=b(8645),oe=b(2459),q=b(5619),ne=b(2664),pe=b(2096),Me=b(9773),Ie=b(8180);const Ne=[[["caption"]],[["colgroup"],["col"]]],xe=["caption","colgroup, col"];function lt(ae){return class extends ae{get sticky(){return this._sticky}set sticky(mt){const X=this._sticky;this._sticky=(0,S.Ig)(mt),this._hasStickyChanged=X!==this._sticky}hasStickyChanged(){const mt=this._hasStickyChanged;return this._hasStickyChanged=!1,mt}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...mt){super(...mt),this._sticky=!1,this._hasStickyChanged=!1}}}const st=new u.OlP("CDK_TABLE");let Te=(()=>{class ae{constructor(X){this.template=X}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.Rgc))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","cdkCellDef",""]]})}return ae})(),Ce=(()=>{class ae{constructor(X){this.template=X}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.Rgc))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","cdkHeaderCellDef",""]]})}return ae})(),qe=(()=>{class ae{constructor(X){this.template=X}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.Rgc))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","cdkFooterCellDef",""]]})}return ae})();class Ze{}const Oe=lt(Ze);let zt=(()=>{class ae extends Oe{get name(){return this._name}set name(X){this._setNameInput(X)}get stickyEnd(){return this._stickyEnd}set stickyEnd(X){const we=this._stickyEnd;this._stickyEnd=(0,S.Ig)(X),this._hasStickyChanged=we!==this._stickyEnd}constructor(X){super(),this._table=X,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(X){X&&(this._name=X,this.cssClassFriendlyName=X.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(st,8))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","cdkColumnDef",""]],contentQueries:function(we,Xe,Ft){if(1&we&&(u.Suo(Ft,Te,5),u.Suo(Ft,Ce,5),u.Suo(Ft,qe,5)),2&we){let nn;u.iGM(nn=u.CRH())&&(Xe.cell=nn.first),u.iGM(nn=u.CRH())&&(Xe.headerCell=nn.first),u.iGM(nn=u.CRH())&&(Xe.footerCell=nn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[u._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ae}]),u.qOj]})}return ae})();class Qt{constructor(mt,X){X.nativeElement.classList.add(...mt._columnCssClassName)}}let Vt=(()=>{class ae extends Qt{constructor(X,we){super(X,we)}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(zt),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[u.qOj]})}return ae})(),jt=(()=>{class ae extends Qt{constructor(X,we){if(super(X,we),1===X._table?._elementRef.nativeElement.nodeType){const Xe=X._table._elementRef.nativeElement.getAttribute("role");we.nativeElement.setAttribute("role","grid"===Xe||"treegrid"===Xe?"gridcell":"cell")}}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(zt),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[u.qOj]})}return ae})();class gn{constructor(){this.tasks=[],this.endTasks=[]}}const mn=new u.OlP("_COALESCED_STYLE_SCHEDULER");let tn=(()=>{class ae{constructor(X){this._ngZone=X,this._currentSchedule=null,this._destroyed=new Z.x}schedule(X){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(X)}scheduleEnd(X){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(X)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new gn,this._getScheduleObservable().pipe((0,Me.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const X=this._currentSchedule;this._currentSchedule=new gn;for(const we of X.tasks)we();for(const we of X.endTasks)we()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,oe.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Ie.q)(1))}static#e=this.\u0275fac=function(we){return new(we||ae)(u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:ae,factory:ae.\u0275fac})}return ae})(),Se=(()=>{class ae{constructor(X,we){this.template=X,this._differs=we}ngOnChanges(X){if(!this._columnsDiffer){const we=X.columns&&X.columns.currentValue||[];this._columnsDiffer=this._differs.find(we).create(),this._columnsDiffer.diff(we)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(X){return this instanceof tt?X.headerCell.template:this instanceof Dt?X.footerCell.template:X.cell.template}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.Rgc),u.Y36(u.ZZ4))};static#t=this.\u0275dir=u.lG2({type:ae,features:[u.TTD]})}return ae})();class Le extends Se{}const Re=lt(Le);let tt=(()=>{class ae extends Re{constructor(X,we,Xe){super(X,we),this._table=Xe}ngOnChanges(X){super.ngOnChanges(X)}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(st,8))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[u.qOj,u.TTD]})}return ae})();class et extends Se{}const Ae=lt(et);let Dt=(()=>{class ae extends Ae{constructor(X,we,Xe){super(X,we),this._table=Xe}ngOnChanges(X){super.ngOnChanges(X)}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(st,8))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[u.qOj,u.TTD]})}return ae})(),be=(()=>{class ae extends Se{constructor(X,we,Xe){super(X,we),this._table=Xe}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(st,8))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[u.qOj]})}return ae})(),Be=(()=>{class ae{static#e=this.mostRecentCellOutlet=null;constructor(X){this._viewContainer=X,ae.mostRecentCellOutlet=this}ngOnDestroy(){ae.mostRecentCellOutlet===this&&(ae.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.s_b))};static#n=this.\u0275dir=u.lG2({type:ae,selectors:[["","cdkCellOutlet",""]]})}return ae})(),ve=(()=>{class ae{static#e=this.\u0275fac=function(we){return new(we||ae)};static#t=this.\u0275cmp=u.Xpm({type:ae,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(we,Xe){1&we&&u.GkF(0,0)},dependencies:[Be],encapsulation:2})}return ae})(),_t=(()=>{class ae{static#e=this.\u0275fac=function(we){return new(we||ae)};static#t=this.\u0275cmp=u.Xpm({type:ae,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(we,Xe){1&we&&u.GkF(0,0)},dependencies:[Be],encapsulation:2})}return ae})(),Nt=(()=>{class ae{constructor(X){this.templateRef=X,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.Rgc))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["ng-template","cdkNoDataRow",""]]})}return ae})();const Kt=["top","bottom","left","right"];class yn{constructor(mt,X,we,Xe,Ft=!0,nn=!0,Bn){this._isNativeHtmlTable=mt,this._stickCellCss=X,this.direction=we,this._coalescedStyleScheduler=Xe,this._isBrowser=Ft,this._needsPositionStickyOnElement=nn,this._positionListener=Bn,this._cachedCellWidths=[],this._borderCellCss={top:`${X}-border-elem-top`,bottom:`${X}-border-elem-bottom`,left:`${X}-border-elem-left`,right:`${X}-border-elem-right`}}clearStickyPositioning(mt,X){const we=[];for(const Xe of mt)if(Xe.nodeType===Xe.ELEMENT_NODE){we.push(Xe);for(let Ft=0;Ft<Xe.children.length;Ft++)we.push(Xe.children[Ft])}this._coalescedStyleScheduler.schedule(()=>{for(const Xe of we)this._removeStickyStyle(Xe,X)})}updateStickyColumns(mt,X,we,Xe=!0){if(!mt.length||!this._isBrowser||!X.some(Nn=>Nn)&&!we.some(Nn=>Nn))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Ft=mt[0],nn=Ft.children.length,Bn=this._getCellWidths(Ft,Xe),Ln=this._getStickyStartColumnPositions(Bn,X),ei=this._getStickyEndColumnPositions(Bn,we),ci=X.lastIndexOf(!0),_i=we.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Nn="rtl"===this.direction,vi=Nn?"right":"left",ur=Nn?"left":"right";for(const Ji of mt)for(let Hi=0;Hi<nn;Hi++){const Pr=Ji.children[Hi];X[Hi]&&this._addStickyStyle(Pr,vi,Ln[Hi],Hi===ci),we[Hi]&&this._addStickyStyle(Pr,ur,ei[Hi],Hi===_i)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===ci?[]:Bn.slice(0,ci+1).map((Ji,Hi)=>X[Hi]?Ji:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===_i?[]:Bn.slice(_i).map((Ji,Hi)=>we[Hi+_i]?Ji:null).reverse()}))})}stickRows(mt,X,we){if(!this._isBrowser)return;const Xe="bottom"===we?mt.slice().reverse():mt,Ft="bottom"===we?X.slice().reverse():X,nn=[],Bn=[],Ln=[];for(let ci=0,_i=0;ci<Xe.length;ci++){if(!Ft[ci])continue;nn[ci]=_i;const Nn=Xe[ci];Ln[ci]=this._isNativeHtmlTable?Array.from(Nn.children):[Nn];const vi=Nn.getBoundingClientRect().height;_i+=vi,Bn[ci]=vi}const ei=Ft.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let ci=0;ci<Xe.length;ci++){if(!Ft[ci])continue;const _i=nn[ci],Nn=ci===ei;for(const vi of Ln[ci])this._addStickyStyle(vi,we,_i,Nn)}"top"===we?this._positionListener?.stickyHeaderRowsUpdated({sizes:Bn,offsets:nn,elements:Ln}):this._positionListener?.stickyFooterRowsUpdated({sizes:Bn,offsets:nn,elements:Ln})})}updateStickyFooterContainer(mt,X){if(!this._isNativeHtmlTable)return;const we=mt.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{X.some(Xe=>!Xe)?this._removeStickyStyle(we,["bottom"]):this._addStickyStyle(we,"bottom",0,!1)})}_removeStickyStyle(mt,X){for(const Xe of X)mt.style[Xe]="",mt.classList.remove(this._borderCellCss[Xe]);Kt.some(Xe=>-1===X.indexOf(Xe)&&mt.style[Xe])?mt.style.zIndex=this._getCalculatedZIndex(mt):(mt.style.zIndex="",this._needsPositionStickyOnElement&&(mt.style.position=""),mt.classList.remove(this._stickCellCss))}_addStickyStyle(mt,X,we,Xe){mt.classList.add(this._stickCellCss),Xe&&mt.classList.add(this._borderCellCss[X]),mt.style[X]=`${we}px`,mt.style.zIndex=this._getCalculatedZIndex(mt),this._needsPositionStickyOnElement&&(mt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(mt){const X={top:100,bottom:10,left:1,right:1};let we=0;for(const Xe of Kt)mt.style[Xe]&&(we+=X[Xe]);return we?`${we}`:""}_getCellWidths(mt,X=!0){if(!X&&this._cachedCellWidths.length)return this._cachedCellWidths;const we=[],Xe=mt.children;for(let Ft=0;Ft<Xe.length;Ft++)we.push(Xe[Ft].getBoundingClientRect().width);return this._cachedCellWidths=we,we}_getStickyStartColumnPositions(mt,X){const we=[];let Xe=0;for(let Ft=0;Ft<mt.length;Ft++)X[Ft]&&(we[Ft]=Xe,Xe+=mt[Ft]);return we}_getStickyEndColumnPositions(mt,X){const we=[];let Xe=0;for(let Ft=mt.length;Ft>0;Ft--)X[Ft]&&(we[Ft]=Xe,Xe+=mt[Ft]);return we}}const Ke=new u.OlP("CDK_SPL");let H=(()=>{class ae{constructor(X,we){this.viewContainer=X,this.elementRef=we}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.s_b),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","rowOutlet",""]]})}return ae})(),re=(()=>{class ae{constructor(X,we){this.viewContainer=X,this.elementRef=we}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.s_b),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","headerRowOutlet",""]]})}return ae})(),ut=(()=>{class ae{constructor(X,we){this.viewContainer=X,this.elementRef=we}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.s_b),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","footerRowOutlet",""]]})}return ae})(),Ve=(()=>{class ae{constructor(X,we){this.viewContainer=X,this.elementRef=we}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.s_b),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","noDataRowOutlet",""]]})}return ae})(),ht=(()=>{class ae{get trackBy(){return this._trackByFn}set trackBy(X){this._trackByFn=X}get dataSource(){return this._dataSource}set dataSource(X){this._dataSource!==X&&this._switchDataSource(X)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(X){this._multiTemplateDataRows=(0,S.Ig)(X),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(X){this._fixedLayout=(0,S.Ig)(X),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(X,we,Xe,Ft,nn,Bn,Ln,ei,ci,_i,Nn,vi){this._differs=X,this._changeDetectorRef=we,this._elementRef=Xe,this._dir=nn,this._platform=Ln,this._viewRepeater=ei,this._coalescedStyleScheduler=ci,this._viewportRuler=_i,this._stickyPositioningListener=Nn,this._ngZone=vi,this._onDestroy=new Z.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new u.vpe,this.viewChange=new q.X({start:0,end:Number.MAX_VALUE}),Ft||this._elementRef.nativeElement.setAttribute("role","table"),this._document=Bn,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((X,we)=>this.trackBy?this.trackBy(we.dataIndex,we.data):we),this._viewportRuler.change().pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const we=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||we,this._forceRecalculateCellWidths=we,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(X=>{X.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,v.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const X=this._dataDiffer.diff(this._renderRows);if(!X)return this._updateNoDataRow(),void this.contentChanged.next();const we=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(X,we,(Xe,Ft,nn)=>this._getEmbeddedViewArgs(Xe.item,nn),Xe=>Xe.item.data,Xe=>{1===Xe.operation&&Xe.context&&this._renderCellTemplateForItem(Xe.record.item.rowDef,Xe.context)}),this._updateRowIndexContext(),X.forEachIdentityChange(Xe=>{we.get(Xe.currentIndex).context.$implicit=Xe.item.data}),this._updateNoDataRow(),this._ngZone&&u.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Ie.q)(1),(0,Me.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(X){this._customColumnDefs.add(X)}removeColumnDef(X){this._customColumnDefs.delete(X)}addRowDef(X){this._customRowDefs.add(X)}removeRowDef(X){this._customRowDefs.delete(X)}addHeaderRowDef(X){this._customHeaderRowDefs.add(X),this._headerRowDefChanged=!0}removeHeaderRowDef(X){this._customHeaderRowDefs.delete(X),this._headerRowDefChanged=!0}addFooterRowDef(X){this._customFooterRowDefs.add(X),this._footerRowDefChanged=!0}removeFooterRowDef(X){this._customFooterRowDefs.delete(X),this._footerRowDefChanged=!0}setNoDataRow(X){this._customNoDataRow=X}updateStickyHeaderRowStyles(){const X=this._getRenderedRows(this._headerRowOutlet),Xe=this._elementRef.nativeElement.querySelector("thead");Xe&&(Xe.style.display=X.length?"":"none");const Ft=this._headerRowDefs.map(nn=>nn.sticky);this._stickyStyler.clearStickyPositioning(X,["top"]),this._stickyStyler.stickRows(X,Ft,"top"),this._headerRowDefs.forEach(nn=>nn.resetStickyChanged())}updateStickyFooterRowStyles(){const X=this._getRenderedRows(this._footerRowOutlet),Xe=this._elementRef.nativeElement.querySelector("tfoot");Xe&&(Xe.style.display=X.length?"":"none");const Ft=this._footerRowDefs.map(nn=>nn.sticky);this._stickyStyler.clearStickyPositioning(X,["bottom"]),this._stickyStyler.stickRows(X,Ft,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Ft),this._footerRowDefs.forEach(nn=>nn.resetStickyChanged())}updateStickyColumnStyles(){const X=this._getRenderedRows(this._headerRowOutlet),we=this._getRenderedRows(this._rowOutlet),Xe=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...X,...we,...Xe],["left","right"]),this._stickyColumnStylesNeedReset=!1),X.forEach((Ft,nn)=>{this._addStickyColumnStyles([Ft],this._headerRowDefs[nn])}),this._rowDefs.forEach(Ft=>{const nn=[];for(let Bn=0;Bn<we.length;Bn++)this._renderRows[Bn].rowDef===Ft&&nn.push(we[Bn]);this._addStickyColumnStyles(nn,Ft)}),Xe.forEach((Ft,nn)=>{this._addStickyColumnStyles([Ft],this._footerRowDefs[nn])}),Array.from(this._columnDefsByName.values()).forEach(Ft=>Ft.resetStickyChanged())}_getAllRenderRows(){const X=[],we=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Xe=0;Xe<this._data.length;Xe++){let Ft=this._data[Xe];const nn=this._getRenderRowsForData(Ft,Xe,we.get(Ft));this._cachedRenderRowsMap.has(Ft)||this._cachedRenderRowsMap.set(Ft,new WeakMap);for(let Bn=0;Bn<nn.length;Bn++){let Ln=nn[Bn];const ei=this._cachedRenderRowsMap.get(Ln.data);ei.has(Ln.rowDef)?ei.get(Ln.rowDef).push(Ln):ei.set(Ln.rowDef,[Ln]),X.push(Ln)}}return X}_getRenderRowsForData(X,we,Xe){return this._getRowDefs(X,we).map(nn=>{const Bn=Xe&&Xe.has(nn)?Xe.get(nn):[];if(Bn.length){const Ln=Bn.shift();return Ln.dataIndex=we,Ln}return{data:X,rowDef:nn,dataIndex:we}})}_cacheColumnDefs(){this._columnDefsByName.clear(),rt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(we=>{this._columnDefsByName.has(we.name),this._columnDefsByName.set(we.name,we)})}_cacheRowDefs(){this._headerRowDefs=rt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=rt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=rt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const X=this._rowDefs.filter(we=>!we.when);this._defaultRowDef=X[0]}_renderUpdatedColumns(){const X=(nn,Bn)=>nn||!!Bn.getColumnsDiff(),we=this._rowDefs.reduce(X,!1);we&&this._forceRenderDataRows();const Xe=this._headerRowDefs.reduce(X,!1);Xe&&this._forceRenderHeaderRows();const Ft=this._footerRowDefs.reduce(X,!1);return Ft&&this._forceRenderFooterRows(),we||Xe||Ft}_switchDataSource(X){this._data=[],(0,v.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),X||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=X}_observeRenderChanges(){if(!this.dataSource)return;let X;(0,v.Z9)(this.dataSource)?X=this.dataSource.connect(this):(0,ne.b)(this.dataSource)?X=this.dataSource:Array.isArray(this.dataSource)&&(X=(0,pe.of)(this.dataSource)),this._renderChangeSubscription=X.pipe((0,Me.R)(this._onDestroy)).subscribe(we=>{this._data=we||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((X,we)=>this._renderRow(this._headerRowOutlet,X,we)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((X,we)=>this._renderRow(this._footerRowOutlet,X,we)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(X,we){const Xe=Array.from(we.columns||[]).map(Bn=>this._columnDefsByName.get(Bn)),Ft=Xe.map(Bn=>Bn.sticky),nn=Xe.map(Bn=>Bn.stickyEnd);this._stickyStyler.updateStickyColumns(X,Ft,nn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(X){const we=[];for(let Xe=0;Xe<X.viewContainer.length;Xe++){const Ft=X.viewContainer.get(Xe);we.push(Ft.rootNodes[0])}return we}_getRowDefs(X,we){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Xe=[];if(this.multiTemplateDataRows)Xe=this._rowDefs.filter(Ft=>!Ft.when||Ft.when(we,X));else{let Ft=this._rowDefs.find(nn=>nn.when&&nn.when(we,X))||this._defaultRowDef;Ft&&Xe.push(Ft)}return Xe}_getEmbeddedViewArgs(X,we){return{templateRef:X.rowDef.template,context:{$implicit:X.data},index:we}}_renderRow(X,we,Xe,Ft={}){const nn=X.viewContainer.createEmbeddedView(we.template,Ft,Xe);return this._renderCellTemplateForItem(we,Ft),nn}_renderCellTemplateForItem(X,we){for(let Xe of this._getCellTemplates(X))Be.mostRecentCellOutlet&&Be.mostRecentCellOutlet._viewContainer.createEmbeddedView(Xe,we);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const X=this._rowOutlet.viewContainer;for(let we=0,Xe=X.length;we<Xe;we++){const nn=X.get(we).context;nn.count=Xe,nn.first=0===we,nn.last=we===Xe-1,nn.even=we%2==0,nn.odd=!nn.even,this.multiTemplateDataRows?(nn.dataIndex=this._renderRows[we].dataIndex,nn.renderIndex=we):nn.index=this._renderRows[we].dataIndex}}_getCellTemplates(X){return X&&X.columns?Array.from(X.columns,we=>{const Xe=this._columnDefsByName.get(we);return X.extractCellTemplate(Xe)}):[]}_applyNativeTableSections(){const X=this._document.createDocumentFragment(),we=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Xe of we){const Ft=this._document.createElement(Xe.tag);Ft.setAttribute("role","rowgroup");for(const nn of Xe.outlets)Ft.appendChild(nn.elementRef.nativeElement);X.appendChild(Ft)}this._elementRef.nativeElement.appendChild(X)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const X=(we,Xe)=>we||Xe.hasStickyChanged();this._headerRowDefs.reduce(X,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(X,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(X,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new yn(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,pe.of)()).pipe((0,Me.R)(this._onDestroy)).subscribe(we=>{this._stickyStyler.direction=we,this.updateStickyColumnStyles()})}_getOwnDefs(X){return X.filter(we=>!we._table||we._table===this)}_updateNoDataRow(){const X=this._customNoDataRow||this._noDataRow;if(!X)return;const we=0===this._rowOutlet.viewContainer.length;if(we===this._isShowingNoDataRow)return;const Xe=this._noDataRowOutlet.viewContainer;if(we){const Ft=Xe.createEmbeddedView(X.templateRef),nn=Ft.rootNodes[0];1===Ft.rootNodes.length&&nn?.nodeType===this._document.ELEMENT_NODE&&(nn.setAttribute("role","row"),nn.classList.add(X._contentClassName))}else Xe.clear();this._isShowingNoDataRow=we,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(we){return new(we||ae)(u.Y36(u.ZZ4),u.Y36(u.sBO),u.Y36(u.SBq),u.$8M("role"),u.Y36(A.Is,8),u.Y36(ge.K0),u.Y36(te.t4),u.Y36(v.k),u.Y36(mn),u.Y36(fe.rL),u.Y36(Ke,12),u.Y36(u.R0b,8))};static#t=this.\u0275cmp=u.Xpm({type:ae,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(we,Xe,Ft){if(1&we&&(u.Suo(Ft,Nt,5),u.Suo(Ft,zt,5),u.Suo(Ft,be,5),u.Suo(Ft,tt,5),u.Suo(Ft,Dt,5)),2&we){let nn;u.iGM(nn=u.CRH())&&(Xe._noDataRow=nn.first),u.iGM(nn=u.CRH())&&(Xe._contentColumnDefs=nn),u.iGM(nn=u.CRH())&&(Xe._contentRowDefs=nn),u.iGM(nn=u.CRH())&&(Xe._contentHeaderRowDefs=nn),u.iGM(nn=u.CRH())&&(Xe._contentFooterRowDefs=nn)}},viewQuery:function(we,Xe){if(1&we&&(u.Gf(H,7),u.Gf(re,7),u.Gf(ut,7),u.Gf(Ve,7)),2&we){let Ft;u.iGM(Ft=u.CRH())&&(Xe._rowOutlet=Ft.first),u.iGM(Ft=u.CRH())&&(Xe._headerRowOutlet=Ft.first),u.iGM(Ft=u.CRH())&&(Xe._footerRowOutlet=Ft.first),u.iGM(Ft=u.CRH())&&(Xe._noDataRowOutlet=Ft.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(we,Xe){2&we&&u.ekj("cdk-table-fixed-layout",Xe.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[u._Bn([{provide:st,useExisting:ae},{provide:v.k,useClass:v.yy},{provide:mn,useClass:tn},{provide:Ke,useValue:null}])],ngContentSelectors:xe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(we,Xe){1&we&&(u.F$t(Ne),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[H,re,ut,Ve],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return ae})();function rt(ae,mt){return ae.concat(Array.from(mt))}let hn=(()=>{class ae{static#e=this.\u0275fac=function(we){return new(we||ae)};static#t=this.\u0275mod=u.oAB({type:ae});static#n=this.\u0275inj=u.cJS({imports:[fe.Cl]})}return ae})();var Pn=b(3680),Wn=b(3019),Kn=b(2572),Tt=b(7398);const An=[[["caption"]],[["colgroup"],["col"]]],At=["caption","colgroup, col"];let We=(()=>{class ae extends ht{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let X;return function(Xe){return(X||(X=u.n5z(ae)))(Xe||ae)}}();static#t=this.\u0275cmp=u.Xpm({type:ae,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(we,Xe){2&we&&u.ekj("mdc-table-fixed-layout",Xe.fixedLayout)},exportAs:["matTable"],features:[u._Bn([{provide:ht,useExisting:ae},{provide:st,useExisting:ae},{provide:mn,useClass:tn},{provide:v.k,useClass:v.yy},{provide:Ke,useValue:null}]),u.qOj],ngContentSelectors:At,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(we,Xe){1&we&&(u.F$t(An),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[H,re,ut,Ve],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return ae})(),yt=(()=>{class ae extends Te{static#e=this.\u0275fac=function(){let X;return function(Xe){return(X||(X=u.n5z(ae)))(Xe||ae)}}();static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","matCellDef",""]],features:[u._Bn([{provide:Te,useExisting:ae}]),u.qOj]})}return ae})(),he=(()=>{class ae extends Ce{static#e=this.\u0275fac=function(){let X;return function(Xe){return(X||(X=u.n5z(ae)))(Xe||ae)}}();static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","matHeaderCellDef",""]],features:[u._Bn([{provide:Ce,useExisting:ae}]),u.qOj]})}return ae})(),F=(()=>{class ae extends zt{get name(){return this._name}set name(X){this._setNameInput(X)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let X;return function(Xe){return(X||(X=u.n5z(ae)))(Xe||ae)}}();static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[u._Bn([{provide:zt,useExisting:ae},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ae}]),u.qOj]})}return ae})(),M=(()=>{class ae extends Vt{static#e=this.\u0275fac=function(){let X;return function(Xe){return(X||(X=u.n5z(ae)))(Xe||ae)}}();static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[u.qOj]})}return ae})(),W=(()=>{class ae extends jt{static#e=this.\u0275fac=function(){let X;return function(Xe){return(X||(X=u.n5z(ae)))(Xe||ae)}}();static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[u.qOj]})}return ae})(),xt=(()=>{class ae extends tt{static#e=this.\u0275fac=function(){let X;return function(Xe){return(X||(X=u.n5z(ae)))(Xe||ae)}}();static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[u._Bn([{provide:tt,useExisting:ae}]),u.qOj]})}return ae})(),un=(()=>{class ae extends be{static#e=this.\u0275fac=function(){let X;return function(Xe){return(X||(X=u.n5z(ae)))(Xe||ae)}}();static#t=this.\u0275dir=u.lG2({type:ae,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[u._Bn([{provide:be,useExisting:ae}]),u.qOj]})}return ae})(),pn=(()=>{class ae extends ve{static#e=this.\u0275fac=function(){let X;return function(Xe){return(X||(X=u.n5z(ae)))(Xe||ae)}}();static#t=this.\u0275cmp=u.Xpm({type:ae,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[u._Bn([{provide:ve,useExisting:ae}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(we,Xe){1&we&&u.GkF(0,0)},dependencies:[Be],encapsulation:2})}return ae})(),Gn=(()=>{class ae extends _t{static#e=this.\u0275fac=function(){let X;return function(Xe){return(X||(X=u.n5z(ae)))(Xe||ae)}}();static#t=this.\u0275cmp=u.Xpm({type:ae,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[u._Bn([{provide:_t,useExisting:ae}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(we,Xe){1&we&&u.GkF(0,0)},dependencies:[Be],encapsulation:2})}return ae})(),je=(()=>{class ae{static#e=this.\u0275fac=function(we){return new(we||ae)};static#t=this.\u0275mod=u.oAB({type:ae});static#n=this.\u0275inj=u.cJS({imports:[Pn.BQ,hn,Pn.BQ]})}return ae})();class bt extends v.o2{get data(){return this._data.value}set data(mt){mt=Array.isArray(mt)?mt:[],this._data.next(mt),this._renderChangesSubscription||this._filterData(mt)}get filter(){return this._filter.value}set filter(mt){this._filter.next(mt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(mt){this._sort=mt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(mt){this._paginator=mt,this._updateChangeSubscription()}constructor(mt=[]){super(),this._renderData=new q.X([]),this._filter=new q.X(""),this._internalPageChanges=new Z.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(X,we)=>{const Xe=X[we];if((0,S.t6)(Xe)){const Ft=Number(Xe);return Ft<9007199254740991?Ft:Xe}return Xe},this.sortData=(X,we)=>{const Xe=we.active,Ft=we.direction;return Xe&&""!=Ft?X.sort((nn,Bn)=>{let Ln=this.sortingDataAccessor(nn,Xe),ei=this.sortingDataAccessor(Bn,Xe);const ci=typeof Ln,_i=typeof ei;ci!==_i&&("number"===ci&&(Ln+=""),"number"===_i&&(ei+=""));let Nn=0;return null!=Ln&&null!=ei?Ln>ei?Nn=1:Ln<ei&&(Nn=-1):null!=Ln?Nn=1:null!=ei&&(Nn=-1),Nn*("asc"==Ft?1:-1)}):X},this.filterPredicate=(X,we)=>{const Xe=Object.keys(X).reduce((nn,Bn)=>nn+X[Bn]+"\u25ec","").toLowerCase(),Ft=we.trim().toLowerCase();return-1!=Xe.indexOf(Ft)},this._data=new q.X(mt),this._updateChangeSubscription()}_updateChangeSubscription(){const mt=this._sort?(0,Wn.T)(this._sort.sortChange,this._sort.initialized):(0,pe.of)(null),X=this._paginator?(0,Wn.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,pe.of)(null),Xe=(0,Kn.a)([this._data,this._filter]).pipe((0,Tt.U)(([Bn])=>this._filterData(Bn))),Ft=(0,Kn.a)([Xe,mt]).pipe((0,Tt.U)(([Bn])=>this._orderData(Bn))),nn=(0,Kn.a)([Ft,X]).pipe((0,Tt.U)(([Bn])=>this._pageData(Bn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=nn.subscribe(Bn=>this._renderData.next(Bn))}_filterData(mt){return this.filteredData=null==this.filter||""===this.filter?mt:mt.filter(X=>this.filterPredicate(X,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(mt){return this.sort?this.sortData(mt.slice(),this.sort):mt}_pageData(mt){if(!this.paginator)return mt;const X=this.paginator.pageIndex*this.paginator.pageSize;return mt.slice(X,X+this.paginator.pageSize)}_updatePaginator(mt){Promise.resolve().then(()=>{const X=this.paginator;if(X&&(X.length=mt,X.pageIndex>0)){const we=Math.ceil(X.length/X.pageSize)-1||0,Xe=Math.min(X.pageIndex,we);Xe!==X.pageIndex&&(X.pageIndex=Xe,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Rt extends bt{}},6593:(Qe,ue,b)=>{b.d(ue,{Dx:()=>dt,H7:()=>Wn,b2:()=>Je,q6:()=>_t,se:()=>Oe});var u=b(5879),A=b(6814);class S extends A.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class v extends S{static makeCurrent(){(0,A.HT)(new v)}onAndCancel(F,M,x){return F.addEventListener(M,x),()=>{F.removeEventListener(M,x)}}dispatchEvent(F,M){F.dispatchEvent(M)}remove(F){F.parentNode&&F.parentNode.removeChild(F)}createElement(F,M){return(M=M||this.getDefaultDocument()).createElement(F)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(F){return F.nodeType===Node.ELEMENT_NODE}isShadowRoot(F){return F instanceof DocumentFragment}getGlobalEventTarget(F,M){return"window"===M?window:"document"===M?F:"body"===M?F.body:null}getBaseHref(F){const M=function fe(){return te=te||document.querySelector("base"),te?te.getAttribute("href"):null}();return null==M?null:function Z(Q){ge=ge||document.createElement("a"),ge.setAttribute("href",Q);const F=ge.pathname;return"/"===F.charAt(0)?F:`/${F}`}(M)}resetBaseElement(){te=null}getUserAgent(){return window.navigator.userAgent}getCookie(F){return(0,A.Mx)(document.cookie,F)}}let ge,te=null,q=(()=>{class Q{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(x){return new(x||Q)};static#t=this.\u0275prov=u.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const ne=new u.OlP("EventManagerPlugins");let pe=(()=>{class Q{constructor(M,x){this._zone=x,this._eventNameToPlugin=new Map,M.forEach(W=>{W.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,x,W){return this._findPluginFor(x).addEventListener(M,x,W)}getZone(){return this._zone}_findPluginFor(M){let x=this._eventNameToPlugin.get(M);if(x)return x;if(x=this._plugins.find(_e=>_e.supports(M)),!x)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(M,x),x}static#e=this.\u0275fac=function(x){return new(x||Q)(u.LFG(ne),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();class Me{constructor(F){this._doc=F}}const Ie="ng-app-id";let Ne=(()=>{class Q{constructor(M,x,W,_e={}){this.doc=M,this.appId=x,this.nonce=W,this.platformId=_e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,A.PM)(_e),this.resetHostNodes()}addStyles(M){for(const x of M)1===this.changeUsageCount(x,1)&&this.onStyleAdded(x)}removeStyles(M){for(const x of M)this.changeUsageCount(x,-1)<=0&&this.onStyleRemoved(x)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(x=>x.remove()),M.clear());for(const x of this.getAllStyles())this.onStyleRemoved(x);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const x of this.getAllStyles())this.addStyleToHost(M,x)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const x of this.hostNodes)this.addStyleToHost(x,M)}onStyleRemoved(M){const x=this.styleRef;x.get(M)?.elements?.forEach(W=>W.remove()),x.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${Ie}="${this.appId}"]`);if(M?.length){const x=new Map;return M.forEach(W=>{null!=W.textContent&&x.set(W.textContent,W)}),x}return null}changeUsageCount(M,x){const W=this.styleRef;if(W.has(M)){const _e=W.get(M);return _e.usage+=x,_e.usage}return W.set(M,{usage:x,elements:[]}),x}getStyleElement(M,x){const W=this.styleNodesInDOM,_e=W?.get(x);if(_e?.parentNode===M)return W.delete(x),_e.removeAttribute(Ie),_e;{const xt=this.doc.createElement("style");return this.nonce&&xt.setAttribute("nonce",this.nonce),xt.textContent=x,this.platformIsServer&&xt.setAttribute(Ie,this.appId),xt}}addStyleToHost(M,x){const W=this.getStyleElement(M,x);M.appendChild(W);const _e=this.styleRef,xt=_e.get(x)?.elements;xt?xt.push(W):_e.set(x,{elements:[W],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static#e=this.\u0275fac=function(x){return new(x||Q)(u.LFG(A.K0),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},me=/%COMP%/g,Te=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ze(Q,F){return F.map(M=>M.replace(me,Q))}let Oe=(()=>{class Q{constructor(M,x,W,_e,xt,Jt,un,pn=null){this.eventManager=M,this.sharedStylesHost=x,this.appId=W,this.removeStylesOnCompDestroy=_e,this.doc=xt,this.platformId=Jt,this.ngZone=un,this.nonce=pn,this.rendererByCompId=new Map,this.platformIsServer=(0,A.PM)(Jt),this.defaultRenderer=new zt(M,xt,un,this.platformIsServer)}createRenderer(M,x){if(!M||!x)return this.defaultRenderer;this.platformIsServer&&x.encapsulation===u.ifc.ShadowDom&&(x={...x,encapsulation:u.ifc.Emulated});const W=this.getOrCreateRenderer(M,x);return W instanceof mn?W.applyToHost(M):W instanceof gn&&W.applyStyles(),W}getOrCreateRenderer(M,x){const W=this.rendererByCompId;let _e=W.get(x.id);if(!_e){const xt=this.doc,Jt=this.ngZone,un=this.eventManager,pn=this.sharedStylesHost,Cn=this.removeStylesOnCompDestroy,Gn=this.platformIsServer;switch(x.encapsulation){case u.ifc.Emulated:_e=new mn(un,pn,x,this.appId,Cn,xt,Jt,Gn);break;case u.ifc.ShadowDom:return new jt(un,pn,M,x,xt,Jt,this.nonce,Gn);default:_e=new gn(un,pn,x,Cn,xt,Jt,Gn)}W.set(x.id,_e)}return _e}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(x){return new(x||Q)(u.LFG(pe),u.LFG(Ne),u.LFG(u.AFp),u.LFG(Te),u.LFG(A.K0),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))};static#t=this.\u0275prov=u.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();class zt{constructor(F,M,x,W){this.eventManager=F,this.doc=M,this.ngZone=x,this.platformIsServer=W,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(F,M){return M?this.doc.createElementNS(xe[M]||M,F):this.doc.createElement(F)}createComment(F){return this.doc.createComment(F)}createText(F){return this.doc.createTextNode(F)}appendChild(F,M){(cn(F)?F.content:F).appendChild(M)}insertBefore(F,M,x){F&&(cn(F)?F.content:F).insertBefore(M,x)}removeChild(F,M){F&&F.removeChild(M)}selectRootElement(F,M){let x="string"==typeof F?this.doc.querySelector(F):F;if(!x)throw new u.vHH(-5104,!1);return M||(x.textContent=""),x}parentNode(F){return F.parentNode}nextSibling(F){return F.nextSibling}setAttribute(F,M,x,W){if(W){M=W+":"+M;const _e=xe[W];_e?F.setAttributeNS(_e,M,x):F.setAttribute(M,x)}else F.setAttribute(M,x)}removeAttribute(F,M,x){if(x){const W=xe[x];W?F.removeAttributeNS(W,M):F.removeAttribute(`${x}:${M}`)}else F.removeAttribute(M)}addClass(F,M){F.classList.add(M)}removeClass(F,M){F.classList.remove(M)}setStyle(F,M,x,W){W&(u.JOm.DashCase|u.JOm.Important)?F.style.setProperty(M,x,W&u.JOm.Important?"important":""):F.style[M]=x}removeStyle(F,M,x){x&u.JOm.DashCase?F.style.removeProperty(M):F.style[M]=""}setProperty(F,M,x){F[M]=x}setValue(F,M){F.nodeValue=M}listen(F,M,x){if("string"==typeof F&&!(F=(0,A.q)().getGlobalEventTarget(this.doc,F)))throw new Error(`Unsupported event target ${F} for event ${M}`);return this.eventManager.addEventListener(F,M,this.decoratePreventDefault(x))}decoratePreventDefault(F){return M=>{if("__ngUnwrap__"===M)return F;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>F(M)):F(M))&&M.preventDefault()}}}function cn(Q){return"TEMPLATE"===Q.tagName&&void 0!==Q.content}class jt extends zt{constructor(F,M,x,W,_e,xt,Jt,un){super(F,_e,xt,un),this.sharedStylesHost=M,this.hostEl=x,this.shadowRoot=x.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pn=Ze(W.id,W.styles);for(const Cn of pn){const Gn=document.createElement("style");Jt&&Gn.setAttribute("nonce",Jt),Gn.textContent=Cn,this.shadowRoot.appendChild(Gn)}}nodeOrShadowRoot(F){return F===this.hostEl?this.shadowRoot:F}appendChild(F,M){return super.appendChild(this.nodeOrShadowRoot(F),M)}insertBefore(F,M,x){return super.insertBefore(this.nodeOrShadowRoot(F),M,x)}removeChild(F,M){return super.removeChild(this.nodeOrShadowRoot(F),M)}parentNode(F){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(F)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gn extends zt{constructor(F,M,x,W,_e,xt,Jt,un){super(F,_e,xt,Jt),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=W,this.styles=un?Ze(un,x.styles):x.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mn extends gn{constructor(F,M,x,W,_e,xt,Jt,un){const pn=W+"-"+x.id;super(F,M,x,_e,xt,Jt,un,pn),this.contentAttr=function Ce(Q){return"_ngcontent-%COMP%".replace(me,Q)}(pn),this.hostAttr=function qe(Q){return"_nghost-%COMP%".replace(me,Q)}(pn)}applyToHost(F){this.applyStyles(),this.setAttribute(F,this.hostAttr,"")}createElement(F,M){const x=super.createElement(F,M);return super.setAttribute(x,this.contentAttr,""),x}}let tn=(()=>{class Q extends Me{constructor(M){super(M)}supports(M){return!0}addEventListener(M,x,W){return M.addEventListener(x,W,!1),()=>this.removeEventListener(M,x,W)}removeEventListener(M,x,W){return M.removeEventListener(x,W)}static#e=this.\u0275fac=function(x){return new(x||Q)(u.LFG(A.K0))};static#t=this.\u0275prov=u.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const bn=["alt","control","meta","shift"],Se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Le={alt:Q=>Q.altKey,control:Q=>Q.ctrlKey,meta:Q=>Q.metaKey,shift:Q=>Q.shiftKey};let Re=(()=>{class Q extends Me{constructor(M){super(M)}supports(M){return null!=Q.parseEventName(M)}addEventListener(M,x,W){const _e=Q.parseEventName(x),xt=Q.eventCallback(_e.fullKey,W,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,A.q)().onAndCancel(M,_e.domEventName,xt))}static parseEventName(M){const x=M.toLowerCase().split("."),W=x.shift();if(0===x.length||"keydown"!==W&&"keyup"!==W)return null;const _e=Q._normalizeKey(x.pop());let xt="",Jt=x.indexOf("code");if(Jt>-1&&(x.splice(Jt,1),xt="code."),bn.forEach(pn=>{const Cn=x.indexOf(pn);Cn>-1&&(x.splice(Cn,1),xt+=pn+".")}),xt+=_e,0!=x.length||0===_e.length)return null;const un={};return un.domEventName=W,un.fullKey=xt,un}static matchEventFullKeyCode(M,x){let W=Se[M.key]||M.key,_e="";return x.indexOf("code.")>-1&&(W=M.code,_e="code."),!(null==W||!W)&&(W=W.toLowerCase()," "===W?W="space":"."===W&&(W="dot"),bn.forEach(xt=>{xt!==W&&(0,Le[xt])(M)&&(_e+=xt+".")}),_e+=W,_e===x)}static eventCallback(M,x,W){return _e=>{Q.matchEventFullKeyCode(_e,M)&&W.runGuarded(()=>x(_e))}}static _normalizeKey(M){return"esc"===M?"escape":M}static#e=this.\u0275fac=function(x){return new(x||Q)(u.LFG(A.K0))};static#t=this.\u0275prov=u.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const _t=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:A.bD},{provide:u.g9A,useValue:function be(){v.makeCurrent()},multi:!0},{provide:A.K0,useFactory:function ve(){return(0,u.RDi)(document),document},deps:[]}]),Nt=new u.OlP(""),Kt=[{provide:u.rWj,useClass:class oe{addToWindow(F){u.dqk.getAngularTestability=(x,W=!0)=>{const _e=F.findTestabilityInTree(x,W);if(null==_e)throw new u.vHH(5103,!1);return _e},u.dqk.getAllAngularTestabilities=()=>F.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>F.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(x=>{const W=u.dqk.getAllAngularTestabilities();let _e=W.length,xt=!1;const Jt=function(un){xt=xt||un,_e--,0==_e&&x(xt)};W.forEach(un=>{un.whenStable(Jt)})})}findTestabilityInTree(F,M,x){return null==M?null:F.getTestability(M)??(x?(0,A.q)().isShadowRoot(M)?this.findTestabilityInTree(F,M.host,!0):this.findTestabilityInTree(F,M.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],yn=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Be(){return new u.qLn},deps:[]},{provide:ne,useClass:tn,multi:!0,deps:[A.K0,u.R0b,u.Lbi]},{provide:ne,useClass:Re,multi:!0,deps:[A.K0]},Oe,Ne,pe,{provide:u.FYo,useExisting:Oe},{provide:A.JF,useClass:q,deps:[]},[]];let Je=(()=>{class Q{constructor(M){}static withServerTransition(M){return{ngModule:Q,providers:[{provide:u.AFp,useValue:M.appId}]}}static#e=this.\u0275fac=function(x){return new(x||Q)(u.LFG(Nt,12))};static#t=this.\u0275mod=u.oAB({type:Q});static#n=this.\u0275inj=u.cJS({providers:[...yn,...Kt],imports:[A.ez,u.hGG]})}return Q})(),dt=(()=>{class Q{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static#e=this.\u0275fac=function(x){return new(x||Q)(u.LFG(A.K0))};static#t=this.\u0275prov=u.Yz7({token:Q,factory:function(x){let W=null;return W=x?new x:function Hn(){return new dt((0,u.LFG)(A.K0))}(),W},providedIn:"root"})}return Q})();typeof window<"u"&&window;let Wn=(()=>{class Q{static#e=this.\u0275fac=function(x){return new(x||Q)};static#t=this.\u0275prov=u.Yz7({token:Q,factory:function(x){let W=null;return W=x?new(x||Q):u.LFG(Tt),W},providedIn:"root"})}return Q})(),Tt=(()=>{class Q extends Wn{constructor(M){super(),this._doc=M}sanitize(M,x){if(null==x)return null;switch(M){case u.q3G.NONE:return x;case u.q3G.HTML:return(0,u.qzn)(x,"HTML")?(0,u.z3N)(x):(0,u.EiD)(this._doc,String(x)).toString();case u.q3G.STYLE:return(0,u.qzn)(x,"Style")?(0,u.z3N)(x):x;case u.q3G.SCRIPT:if((0,u.qzn)(x,"Script"))return(0,u.z3N)(x);throw new u.vHH(5200,!1);case u.q3G.URL:return(0,u.qzn)(x,"URL")?(0,u.z3N)(x):(0,u.mCW)(String(x));case u.q3G.RESOURCE_URL:if((0,u.qzn)(x,"ResourceURL"))return(0,u.z3N)(x);throw new u.vHH(5201,!1);default:throw new u.vHH(5202,!1)}}bypassSecurityTrustHtml(M){return(0,u.JVY)(M)}bypassSecurityTrustStyle(M){return(0,u.L6k)(M)}bypassSecurityTrustScript(M){return(0,u.eBb)(M)}bypassSecurityTrustUrl(M){return(0,u.LAX)(M)}bypassSecurityTrustResourceUrl(M){return(0,u.pB0)(M)}static#e=this.\u0275fac=function(x){return new(x||Q)(u.LFG(A.K0))};static#t=this.\u0275prov=u.Yz7({token:Q,factory:function(x){let W=null;return W=x?new x:function Kn(Q){return new Tt(Q.get(A.K0))}(u.LFG(u.zs3)),W},providedIn:"root"})}return Q})()},4190:(Qe,ue,b)=>{b.d(ue,{jw:()=>Ss,F0:()=>Dr,Bz:()=>rn,lC:()=>wn,fw:()=>Ko});var u=b(5879),A=b(2664),S=b(2459),v=b(2096),te=b(5619),fe=b(2572),ge=b(6973),Z=b(5211),oe=b(4911),q=b(8407),ne=b(8504),pe=b(6232),Me=b(3168),Ie=b(8645),Ne=b(7394),xe=b(6814),me=b(7398),ye=b(4664),lt=b(8180),st=b(7921),se=b(2181),Te=b(1631),Ce=b(1374),qe=b(6328),Ze=b(9397),Oe=b(6306),zt=b(6699),Qt=b(3572),Vt=b(9360),cn=b(8251);function jt(D){return D<=0?()=>pe.E:(0,Vt.e)((k,I)=>{let O=[];k.subscribe((0,cn.x)(I,j=>{O.push(j),D<O.length&&O.shift()},()=>{for(const j of O)I.next(j);I.complete()},void 0,()=>{O=null}))})}var gn=b(3026),mn=b(2737),bn=b(975),Se=b(4716),Le=b(6196),Re=b(9773),tt=b(7537),et=b(6593);const Ae="primary",Dt=Symbol("RouteTitle");class be{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const I=this.params[k];return Array.isArray(I)?I[0]:I}return null}getAll(k){if(this.has(k)){const I=this.params[k];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function Be(D){return new be(D)}function ve(D,k,I){const O=I.path.split("/");if(O.length>D.length||"full"===I.pathMatch&&(k.hasChildren()||O.length<D.length))return null;const j={};for(let ce=0;ce<O.length;ce++){const $e=O[ce],Ut=D[ce];if($e.startsWith(":"))j[$e.substring(1)]=Ut;else if($e!==Ut.path)return null}return{consumed:D.slice(0,O.length),posParams:j}}function _t(D,k){const I=D?Object.keys(D):void 0,O=k?Object.keys(k):void 0;if(!I||!O||I.length!=O.length)return!1;let j;for(let ce=0;ce<I.length;ce++)if(j=I[ce],!Nt(D[j],k[j]))return!1;return!0}function Nt(D,k){if(Array.isArray(D)&&Array.isArray(k)){if(D.length!==k.length)return!1;const I=[...D].sort(),O=[...k].sort();return I.every((j,ce)=>O[ce]===j)}return D===k}function Kt(D){return D.length>0?D[D.length-1]:null}function yn(D){return(0,A.b)(D)?D:(0,u.QGY)(D)?(0,S.D)(Promise.resolve(D)):(0,v.of)(D)}const Je={exact:function Hn(D,k,I){if(!Ve(D.segments,k.segments)||!Ke(D.segments,k.segments,I)||D.numberOfChildren!==k.numberOfChildren)return!1;for(const O in k.children)if(!D.children[O]||!Hn(D.children[O],k.children[O],I))return!1;return!0},subset:Gt},Ot={exact:function Tn(D,k){return _t(D,k)},subset:function dt(D,k){return Object.keys(k).length<=Object.keys(D).length&&Object.keys(k).every(I=>Nt(D[I],k[I]))},ignored:()=>!0};function Xt(D,k,I){return Je[I.paths](D.root,k.root,I.matrixParams)&&Ot[I.queryParams](D.queryParams,k.queryParams)&&!("exact"===I.fragment&&D.fragment!==k.fragment)}function Gt(D,k,I){return It(D,k,k.segments,I)}function It(D,k,I,O){if(D.segments.length>I.length){const j=D.segments.slice(0,I.length);return!(!Ve(j,I)||k.hasChildren()||!Ke(j,I,O))}if(D.segments.length===I.length){if(!Ve(D.segments,I)||!Ke(D.segments,I,O))return!1;for(const j in k.children)if(!D.children[j]||!Gt(D.children[j],k.children[j],O))return!1;return!0}{const j=I.slice(0,D.segments.length),ce=I.slice(D.segments.length);return!!(Ve(D.segments,j)&&Ke(D.segments,j,O)&&D.children[Ae])&&It(D.children[Ae],k,ce,O)}}function Ke(D,k,I){return k.every((O,j)=>Ot[I](D[j].parameters,O.parameters))}class V{constructor(k=new H([],{}),I={},O=null){this.root=k,this.queryParams=I,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return rt.serialize(this)}}class H{constructor(k,I){this.segments=k,this.children=I,this.parent=null,Object.values(I).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qt(this)}}class re{constructor(k,I){this.path=k,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return At(this)}}function Ve(D,k){return D.length===k.length&&D.every((I,O)=>I.path===k[O].path)}let ke=(()=>{class D{static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=u.Yz7({token:D,factory:function(){return new ht},providedIn:"root"})}return D})();class ht{parse(k){const I=new W(k);return new V(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(k){const I=`/${Lt(k.root,!0)}`,O=function Fe(D){const k=Object.keys(D).map(I=>{const O=D[I];return Array.isArray(O)?O.map(j=>`${Pn(I)}=${Pn(j)}`).join("&"):`${Pn(I)}=${Pn(O)}`}).filter(I=>!!I);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${I}${O}${"string"==typeof k.fragment?`#${function Wn(D){return encodeURI(D)}(k.fragment)}`:""}`}}const rt=new ht;function qt(D){return D.segments.map(k=>At(k)).join("/")}function Lt(D,k){if(!D.hasChildren())return qt(D);if(k){const I=D.children[Ae]?Lt(D.children[Ae],!1):"",O=[];return Object.entries(D.children).forEach(([j,ce])=>{j!==Ae&&O.push(`${j}:${Lt(ce,!1)}`)}),O.length>0?`${I}(${O.join("//")})`:I}{const I=function pt(D,k){let I=[];return Object.entries(D.children).forEach(([O,j])=>{O===Ae&&(I=I.concat(k(j,O)))}),Object.entries(D.children).forEach(([O,j])=>{O!==Ae&&(I=I.concat(k(j,O)))}),I}(D,(O,j)=>j===Ae?[Lt(D.children[Ae],!1)]:[`${j}:${Lt(O,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Ae]?`${qt(D)}/${I[0]}`:`${qt(D)}/(${I.join("//")})`}}function hn(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pn(D){return hn(D).replace(/%3B/gi,";")}function Kn(D){return hn(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tt(D){return decodeURIComponent(D)}function An(D){return Tt(D.replace(/\+/g,"%20"))}function At(D){return`${Kn(D.path)}${function nt(D){return Object.keys(D).map(k=>`;${Kn(k)}=${Kn(D[k])}`).join("")}(D.parameters)}`}const Ee=/^[^\/()?;#]+/;function We(D){const k=D.match(Ee);return k?k[0]:""}const yt=/^[^\/()?;=#]+/,Q=/^[^=?&#]+/,M=/^[^&#]+/;class W{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new H([],{}):new H([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(k.length>0||Object.keys(I).length>0)&&(O[Ae]=new H(k,I)),O}parseSegment(){const k=We(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(k),new re(Tt(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const I=function he(D){const k=D.match(yt);return k?k[0]:""}(this.remaining);if(!I)return;this.capture(I);let O="";if(this.consumeOptional("=")){const j=We(this.remaining);j&&(O=j,this.capture(O))}k[Tt(I)]=Tt(O)}parseQueryParam(k){const I=function F(D){const k=D.match(Q);return k?k[0]:""}(this.remaining);if(!I)return;this.capture(I);let O="";if(this.consumeOptional("=")){const $e=function x(D){const k=D.match(M);return k?k[0]:""}(this.remaining);$e&&(O=$e,this.capture(O))}const j=An(I),ce=An(O);if(k.hasOwnProperty(j)){let $e=k[j];Array.isArray($e)||($e=[$e],k[j]=$e),$e.push(ce)}else k[j]=ce}parseParens(k){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=We(this.remaining),j=this.remaining[O.length];if("/"!==j&&")"!==j&&";"!==j)throw new u.vHH(4010,!1);let ce;O.indexOf(":")>-1?(ce=O.slice(0,O.indexOf(":")),this.capture(ce),this.capture(":")):k&&(ce=Ae);const $e=this.parseChildren();I[ce]=1===Object.keys($e).length?$e[Ae]:new H([],$e),this.consumeOptional("//")}return I}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new u.vHH(4011,!1)}}function _e(D){return D.segments.length>0?new H([],{[Ae]:D}):D}function xt(D){const k={};for(const O of Object.keys(D.children)){const ce=xt(D.children[O]);if(O===Ae&&0===ce.segments.length&&ce.hasChildren())for(const[$e,Ut]of Object.entries(ce.children))k[$e]=Ut;else(ce.segments.length>0||ce.hasChildren())&&(k[O]=ce)}return function Jt(D){if(1===D.numberOfChildren&&D.children[Ae]){const k=D.children[Ae];return new H(D.segments.concat(k.segments),k.children)}return D}(new H(D.segments,k))}function un(D){return D instanceof V}function Cn(D){let k;const j=_e(function I(ce){const $e={};for(const kt of ce.children){const Rn=I(kt);$e[kt.outlet]=Rn}const Ut=new H(ce.url,$e);return ce===D&&(k=Ut),Ut}(D.root));return k??j}function Gn(D,k,I,O){let j=D;for(;j.parent;)j=j.parent;if(0===k.length)return ct(j,j,j,I,O);const ce=function bt(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Ue(!0,0,D);let k=0,I=!1;const O=D.reduce((j,ce,$e)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const Ut={};return Object.entries(ce.outlets).forEach(([kt,Rn])=>{Ut[kt]="string"==typeof Rn?Rn.split("/"):Rn}),[...j,{outlets:Ut}]}if(ce.segmentPath)return[...j,ce.segmentPath]}return"string"!=typeof ce?[...j,ce]:0===$e?(ce.split("/").forEach((Ut,kt)=>{0==kt&&"."===Ut||(0==kt&&""===Ut?I=!0:".."===Ut?k++:""!=Ut&&j.push(Ut))}),j):[...j,ce]},[]);return new Ue(I,k,O)}(k);if(ce.toRoot())return ct(j,j,new H([],{}),I,O);const $e=function ae(D,k,I){if(D.isAbsolute)return new Rt(k,!0,0);if(!I)return new Rt(k,!1,NaN);if(null===I.parent)return new Rt(I,!0,0);const O=ot(D.commands[0])?0:1;return function mt(D,k,I){let O=D,j=k,ce=I;for(;ce>j;){if(ce-=j,O=O.parent,!O)throw new u.vHH(4005,!1);j=O.segments.length}return new Rt(O,!1,j-ce)}(I,I.segments.length-1+O,D.numberOfDoubleDots)}(ce,j,D),Ut=$e.processChildren?Xe($e.segmentGroup,$e.index,ce.commands):we($e.segmentGroup,$e.index,ce.commands);return ct(j,$e.segmentGroup,Ut,I,O)}function ot(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Ge(D){return"object"==typeof D&&null!=D&&D.outlets}function ct(D,k,I,O,j){let $e,ce={};O&&Object.entries(O).forEach(([kt,Rn])=>{ce[kt]=Array.isArray(Rn)?Rn.map(fi=>`${fi}`):`${Rn}`}),$e=D===k?I:je(D,k,I);const Ut=_e(xt($e));return new V(Ut,ce,j)}function je(D,k,I){const O={};return Object.entries(D.children).forEach(([j,ce])=>{O[j]=ce===k?I:je(ce,k,I)}),new H(D.segments,O)}class Ue{constructor(k,I,O){if(this.isAbsolute=k,this.numberOfDoubleDots=I,this.commands=O,k&&O.length>0&&ot(O[0]))throw new u.vHH(4003,!1);const j=O.find(Ge);if(j&&j!==Kt(O))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rt{constructor(k,I,O){this.segmentGroup=k,this.processChildren=I,this.index=O}}function we(D,k,I){if(D||(D=new H([],{})),0===D.segments.length&&D.hasChildren())return Xe(D,k,I);const O=function Ft(D,k,I){let O=0,j=k;const ce={match:!1,pathIndex:0,commandIndex:0};for(;j<D.segments.length;){if(O>=I.length)return ce;const $e=D.segments[j],Ut=I[O];if(Ge(Ut))break;const kt=`${Ut}`,Rn=O<I.length-1?I[O+1]:null;if(j>0&&void 0===kt)break;if(kt&&Rn&&"object"==typeof Rn&&void 0===Rn.outlets){if(!ei(kt,Rn,$e))return ce;O+=2}else{if(!ei(kt,{},$e))return ce;O++}j++}return{match:!0,pathIndex:j,commandIndex:O}}(D,k,I),j=I.slice(O.commandIndex);if(O.match&&O.pathIndex<D.segments.length){const ce=new H(D.segments.slice(0,O.pathIndex),{});return ce.children[Ae]=new H(D.segments.slice(O.pathIndex),D.children),Xe(ce,0,j)}return O.match&&0===j.length?new H(D.segments,{}):O.match&&!D.hasChildren()?nn(D,k,I):O.match?Xe(D,0,j):nn(D,k,I)}function Xe(D,k,I){if(0===I.length)return new H(D.segments,{});{const O=function X(D){return Ge(D[0])?D[0].outlets:{[Ae]:D}}(I),j={};if(Object.keys(O).some(ce=>ce!==Ae)&&D.children[Ae]&&1===D.numberOfChildren&&0===D.children[Ae].segments.length){const ce=Xe(D.children[Ae],k,I);return new H(D.segments,ce.children)}return Object.entries(O).forEach(([ce,$e])=>{"string"==typeof $e&&($e=[$e]),null!==$e&&(j[ce]=we(D.children[ce],k,$e))}),Object.entries(D.children).forEach(([ce,$e])=>{void 0===O[ce]&&(j[ce]=$e)}),new H(D.segments,j)}}function nn(D,k,I){const O=D.segments.slice(0,k);let j=0;for(;j<I.length;){const ce=I[j];if(Ge(ce)){const kt=Bn(ce.outlets);return new H(O,kt)}if(0===j&&ot(I[0])){O.push(new re(D.segments[k].path,Ln(I[0]))),j++;continue}const $e=Ge(ce)?ce.outlets[Ae]:`${ce}`,Ut=j<I.length-1?I[j+1]:null;$e&&Ut&&ot(Ut)?(O.push(new re($e,Ln(Ut))),j+=2):(O.push(new re($e,{})),j++)}return new H(O,{})}function Bn(D){const k={};return Object.entries(D).forEach(([I,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(k[I]=nn(new H([],{}),0,O))}),k}function Ln(D){const k={};return Object.entries(D).forEach(([I,O])=>k[I]=`${O}`),k}function ei(D,k,I){return D==I.path&&_t(k,I.parameters)}const ci="imperative";class _i{constructor(k,I){this.id=k,this.url=I}}class Nn extends _i{constructor(k,I,O="imperative",j=null){super(k,I),this.type=0,this.navigationTrigger=O,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vi extends _i{constructor(k,I,O){super(k,I),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ur extends _i{constructor(k,I,O,j){super(k,I),this.reason=O,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ji extends _i{constructor(k,I,O,j){super(k,I),this.reason=O,this.code=j,this.type=16}}class Hi extends _i{constructor(k,I,O,j){super(k,I),this.error=O,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pr extends _i{constructor(k,I,O,j){super(k,I),this.urlAfterRedirects=O,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class go extends _i{constructor(k,I,O,j){super(k,I),this.urlAfterRedirects=O,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wo extends _i{constructor(k,I,O,j,ce){super(k,I),this.urlAfterRedirects=O,this.state=j,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ar extends _i{constructor(k,I,O,j){super(k,I),this.urlAfterRedirects=O,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sa extends _i{constructor(k,I,O,j){super(k,I),this.urlAfterRedirects=O,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ts{constructor(k){this.route=k,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ks{constructor(k){this.route=k,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class As{constructor(k){this.snapshot=k,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ys{constructor(k){this.snapshot=k,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class us{constructor(k){this.snapshot=k,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(k){this.snapshot=k,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class da{constructor(k,I,O){this.routerEvent=k,this.position=I,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class br{}class ze{constructor(k){this.url=k}}class Et{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mt,this.attachRef=null}}let Mt=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(I,O){const j=this.getOrCreateContext(I);j.outlet=O,this.contexts.set(I,j)}onChildOutletDestroyed(I){const O=this.getContext(I);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let O=this.getContext(I);return O||(O=new Et,this.contexts.set(I,O)),O}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();class dn{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const I=this.pathFromRoot(k);return I.length>1?I[I.length-2]:null}children(k){const I=_n(k,this._root);return I?I.children.map(O=>O.value):[]}firstChild(k){const I=_n(k,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(k){const I=ri(k,this._root);return I.length<2?[]:I[I.length-2].children.map(j=>j.value).filter(j=>j!==k)}pathFromRoot(k){return ri(k,this._root).map(I=>I.value)}}function _n(D,k){if(D===k.value)return k;for(const I of k.children){const O=_n(D,I);if(O)return O}return null}function ri(D,k){if(D===k.value)return[k];for(const I of k.children){const O=ri(D,I);if(O.length)return O.unshift(k),O}return[]}class ti{constructor(k,I){this.value=k,this.children=I}toString(){return`TreeNode(${this.value})`}}function Ii(D){const k={};return D&&D.children.forEach(I=>k[I.value.outlet]=I),k}class mr extends dn{constructor(k,I){super(k),this.snapshot=I,fs(this,k)}toString(){return this.snapshot.toString()}}function Fn(D,k){const I=function Si(D,k){const $e=new ds([],{},{},"",{},Ae,k,null,{});return new hs("",new ti($e,[]))}(0,k),O=new te.X([new re("",{})]),j=new te.X({}),ce=new te.X({}),$e=new te.X({}),Ut=new te.X(""),kt=new Ci(O,j,$e,Ut,ce,Ae,k,I.root);return kt.snapshot=I.root,new mr(new ti(kt,[]),I)}class Ci{constructor(k,I,O,j,ce,$e,Ut,kt){this.urlSubject=k,this.paramsSubject=I,this.queryParamsSubject=O,this.fragmentSubject=j,this.dataSubject=ce,this.outlet=$e,this.component=Ut,this._futureSnapshot=kt,this.title=this.dataSubject?.pipe((0,me.U)(Rn=>Rn[Dt]))??(0,v.of)(void 0),this.url=k,this.params=I,this.queryParams=O,this.fragment=j,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,me.U)(k=>Be(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,me.U)(k=>Be(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function co(D,k="emptyOnly"){const I=D.pathFromRoot;let O=0;if("always"!==k)for(O=I.length-1;O>=1;){const j=I[O],ce=I[O-1];if(j.routeConfig&&""===j.routeConfig.path)O--;else{if(ce.component)break;O--}}return function ir(D){return D.reduce((k,I)=>({params:{...k.params,...I.params},data:{...k.data,...I.data},resolve:{...I.data,...k.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(O))}class ds{get title(){return this.data?.[Dt]}constructor(k,I,O,j,ce,$e,Ut,kt,Rn){this.url=k,this.params=I,this.queryParams=O,this.fragment=j,this.data=ce,this.outlet=$e,this.component=Ut,this.routeConfig=kt,this._resolve=Rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hs extends dn{constructor(k,I){super(I),this.url=k,fs(this,I)}toString(){return ps(this._root)}}function fs(D,k){k.value._routerState=D,k.children.forEach(I=>fs(D,I))}function ps(D){const k=D.children.length>0?` { ${D.children.map(ps).join(", ")} } `:"";return`${D.value}${k}`}function ha(D){if(D.snapshot){const k=D.snapshot,I=D._futureSnapshot;D.snapshot=I,_t(k.queryParams,I.queryParams)||D.queryParamsSubject.next(I.queryParams),k.fragment!==I.fragment&&D.fragmentSubject.next(I.fragment),_t(k.params,I.params)||D.paramsSubject.next(I.params),function it(D,k){if(D.length!==k.length)return!1;for(let I=0;I<D.length;++I)if(!_t(D[I],k[I]))return!1;return!0}(k.url,I.url)||D.urlSubject.next(I.url),_t(k.data,I.data)||D.dataSubject.next(I.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function zi(D,k){const I=_t(D.params,k.params)&&function ut(D,k){return Ve(D,k)&&D.every((I,O)=>_t(I.parameters,k[O].parameters))}(D.url,k.url);return I&&!(!D.parent!=!k.parent)&&(!D.parent||zi(D.parent,k.parent))}let wn=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Mt),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(Di,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:O,previousValue:j}=I.name;if(O)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,O){this.activated=I,this._activatedRoute=O,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,O){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=I;const j=this.location,$e=I.snapshot.component,Ut=this.parentContexts.getOrCreateContext(this.name).children,kt=new ii(I,Ut,j.injector);this.activated=j.createComponent($e,{index:j.length,injector:kt,environmentInjector:O??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275dir=u.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]})}return D})();class ii{constructor(k,I,O){this.route=k,this.childContexts=I,this.parent=O}get(k,I){return k===Ci?this.route:k===Mt?this.childContexts:this.parent.get(k,I)}}const Di=new u.OlP("");let Er=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:O}=I,j=(0,fe.a)([O.queryParams,O.params,O.data]).pipe((0,ye.w)(([ce,$e,Ut],kt)=>(Ut={...ce,...$e,...Ut},0===kt?(0,v.of)(Ut):Promise.resolve(Ut)))).subscribe(ce=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(I);const $e=(0,u.qFp)(O.component);if($e)for(const{templateName:Ut}of $e.inputs)I.activatedComponentRef.setInput(Ut,ce[Ut]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,j)}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac})}return D})();function Gi(D,k,I){if(I&&D.shouldReuseRoute(k.value,I.value.snapshot)){const O=I.value;O._futureSnapshot=k.value;const j=function Oo(D,k,I){return k.children.map(O=>{for(const j of I.children)if(D.shouldReuseRoute(O.value,j.value.snapshot))return Gi(D,O,j);return Gi(D,O)})}(D,k,I);return new ti(O,j)}{if(D.shouldAttach(k.value)){const ce=D.retrieve(k.value);if(null!==ce){const $e=ce.route;return $e.value._futureSnapshot=k.value,$e.children=k.children.map(Ut=>Gi(D,Ut)),$e}}const O=function Ni(D){return new Ci(new te.X(D.url),new te.X(D.params),new te.X(D.queryParams),new te.X(D.fragment),new te.X(D.data),D.outlet,D.component,D)}(k.value),j=k.children.map(ce=>Gi(D,ce));return new ti(O,j)}}const Or="ngNavigationCancelingError";function wr(D,k){const{redirectTo:I,navigationBehaviorOptions:O}=un(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,j=$n(!1,0,k);return j.url=I,j.navigationBehaviorOptions=O,j}function $n(D,k,I){const O=new Error("NavigationCancelingError: "+(D||""));return O[Or]=!0,O.cancellationCode=k,I&&(O.url=I),O}function Ir(D){return D&&D[Or]}let Ko=(()=>{class D{static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275cmp=u.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(O,j){1&O&&u._UZ(0,"router-outlet")},dependencies:[wn],encapsulation:2})}return D})();function qo(D){const k=D.children&&D.children.map(qo),I=k?{...D,children:k}:{...D};return!I.component&&!I.loadComponent&&(k||I.loadChildren)&&I.outlet&&I.outlet!==Ae&&(I.component=Ko),I}function Xn(D){return D.outlet||Ae}function yo(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let k=D.parent;k;k=k.parent){const I=k.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class gs{constructor(k,I,O,j,ce){this.routeReuseStrategy=k,this.futureState=I,this.currState=O,this.forwardEvent=j,this.inputBindingEnabled=ce}activate(k){const I=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,O,k),ha(this.futureState.root),this.activateChildRoutes(I,O,k)}deactivateChildRoutes(k,I,O){const j=Ii(I);k.children.forEach(ce=>{const $e=ce.value.outlet;this.deactivateRoutes(ce,j[$e],O),delete j[$e]}),Object.values(j).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,O)})}deactivateRoutes(k,I,O){const j=k.value,ce=I?I.value:null;if(j===ce)if(j.component){const $e=O.getContext(j.outlet);$e&&this.deactivateChildRoutes(k,I,$e.children)}else this.deactivateChildRoutes(k,I,O);else ce&&this.deactivateRouteAndItsChildren(I,O)}deactivateRouteAndItsChildren(k,I){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,I):this.deactivateRouteAndOutlet(k,I)}detachAndStoreRouteSubtree(k,I){const O=I.getContext(k.value.outlet),j=O&&k.value.component?O.children:I,ce=Ii(k);for(const $e of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[$e],j);if(O&&O.outlet){const $e=O.outlet.detach(),Ut=O.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:$e,route:k,contexts:Ut})}}deactivateRouteAndOutlet(k,I){const O=I.getContext(k.value.outlet),j=O&&k.value.component?O.children:I,ce=Ii(k);for(const $e of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[$e],j);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(k,I,O){const j=Ii(I);k.children.forEach(ce=>{this.activateRoutes(ce,j[ce.value.outlet],O),this.forwardEvent(new Ss(ce.value.snapshot))}),k.children.length&&this.forwardEvent(new Ys(k.value.snapshot))}activateRoutes(k,I,O){const j=k.value,ce=I?I.value:null;if(ha(j),j===ce)if(j.component){const $e=O.getOrCreateContext(j.outlet);this.activateChildRoutes(k,I,$e.children)}else this.activateChildRoutes(k,I,O);else if(j.component){const $e=O.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Ut=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),$e.children.onOutletReAttached(Ut.contexts),$e.attachRef=Ut.componentRef,$e.route=Ut.route.value,$e.outlet&&$e.outlet.attach(Ut.componentRef,Ut.route.value),ha(Ut.route.value),this.activateChildRoutes(k,null,$e.children)}else{const Ut=yo(j.snapshot);$e.attachRef=null,$e.route=j,$e.injector=Ut,$e.outlet&&$e.outlet.activateWith(j,$e.injector),this.activateChildRoutes(k,null,$e.children)}}else this.activateChildRoutes(k,null,O)}}class io{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class _s{constructor(k,I){this.component=k,this.route=I}}function ji(D,k,I){const O=D._root;return Ki(O,k?k._root:null,I,[O.value])}function dr(D,k){const I=Symbol(),O=k.get(D,I);return O===I?"function"!=typeof D||(0,u.Z0I)(D)?k.get(D):D:O}function Ki(D,k,I,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const ce=Ii(k);return D.children.forEach($e=>{(function Bc(D,k,I,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const ce=D.value,$e=k?k.value:null,Ut=I?I.getContext(D.value.outlet):null;if($e&&ce.routeConfig===$e.routeConfig){const kt=function vs(D,k,I){if("function"==typeof I)return I(D,k);switch(I){case"pathParamsChange":return!Ve(D.url,k.url);case"pathParamsOrQueryParamsChange":return!Ve(D.url,k.url)||!_t(D.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zi(D,k)||!_t(D.queryParams,k.queryParams);default:return!zi(D,k)}}($e,ce,ce.routeConfig.runGuardsAndResolvers);kt?j.canActivateChecks.push(new io(O)):(ce.data=$e.data,ce._resolvedData=$e._resolvedData),Ki(D,k,ce.component?Ut?Ut.children:null:I,O,j),kt&&Ut&&Ut.outlet&&Ut.outlet.isActivated&&j.canDeactivateChecks.push(new _s(Ut.outlet.component,$e))}else $e&&ys(k,Ut,j),j.canActivateChecks.push(new io(O)),Ki(D,null,ce.component?Ut?Ut.children:null:I,O,j)})($e,ce[$e.value.outlet],I,O.concat([$e.value]),j),delete ce[$e.value.outlet]}),Object.entries(ce).forEach(([$e,Ut])=>ys(Ut,I.getContext($e),j)),j}function ys(D,k,I){const O=Ii(D),j=D.value;Object.entries(O).forEach(([ce,$e])=>{ys($e,j.component?k?k.children.getContext(ce):null:k,I)}),I.canDeactivateChecks.push(new _s(j.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,j))}function Nr(D){return"function"==typeof D}function le(D){return D instanceof ge.K||"EmptyError"===D?.name}const Ye=Symbol("INITIAL_VALUE");function Sn(){return(0,ye.w)(D=>(0,fe.a)(D.map(k=>k.pipe((0,lt.q)(1),(0,st.O)(Ye)))).pipe((0,me.U)(k=>{for(const I of k)if(!0!==I){if(I===Ye)return Ye;if(!1===I||I instanceof V)return I}return!0}),(0,se.h)(k=>k!==Ye),(0,lt.q)(1)))}function ec(D){return(0,q.z)((0,Ze.b)(k=>{if(un(k))throw wr(0,k)}),(0,me.U)(k=>!0===k))}class tc{constructor(k){this.segmentGroup=k||null}}class Qo{constructor(k){this.urlTree=k}}function Zr(D){return(0,ne._)(new tc(D))}function qs(D){return(0,ne._)(new Qo(D))}class Eo{constructor(k,I){this.urlSerializer=k,this.urlTree=I}noMatchError(k){return new u.vHH(4002,!1)}lineralizeSegments(k,I){let O=[],j=I.root;for(;;){if(O=O.concat(j.segments),0===j.numberOfChildren)return(0,v.of)(O);if(j.numberOfChildren>1||!j.children[Ae])return(0,ne._)(new u.vHH(4e3,!1));j=j.children[Ae]}}applyRedirectCommands(k,I,O){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),k,O)}applyRedirectCreateUrlTree(k,I,O,j){const ce=this.createSegmentGroup(k,I.root,O,j);return new V(ce,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(k,I){const O={};return Object.entries(k).forEach(([j,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const Ut=ce.substring(1);O[j]=I[Ut]}else O[j]=ce}),O}createSegmentGroup(k,I,O,j){const ce=this.createSegments(k,I.segments,O,j);let $e={};return Object.entries(I.children).forEach(([Ut,kt])=>{$e[Ut]=this.createSegmentGroup(k,kt,O,j)}),new H(ce,$e)}createSegments(k,I,O,j){return I.map(ce=>ce.path.startsWith(":")?this.findPosParam(k,ce,j):this.findOrReturn(ce,O))}findPosParam(k,I,O){const j=O[I.path.substring(1)];if(!j)throw new u.vHH(4001,!1);return j}findOrReturn(k,I){let O=0;for(const j of I){if(j.path===k.path)return I.splice(O),j;O++}return k}}const gr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Os(D,k,I,O,j){const ce=ga(D,k,I);return ce.matched?(O=function xi(D,k){return D.providers&&!D._injector&&(D._injector=(0,u.MMx)(D.providers,k,`Route: ${D.path}`)),D._injector??k}(k,O),function Uc(D,k,I,O){const j=k.canMatch;if(!j||0===j.length)return(0,v.of)(!0);const ce=j.map($e=>{const Ut=dr($e,D);return yn(function $(D){return D&&Nr(D.canMatch)}(Ut)?Ut.canMatch(k,I):D.runInContext(()=>Ut(k,I)))});return(0,v.of)(ce).pipe(Sn(),ec())}(O,k,I).pipe((0,me.U)($e=>!0===$e?ce:{...gr}))):(0,v.of)(ce)}function ga(D,k,I){if(""===k.path)return"full"===k.pathMatch&&(D.hasChildren()||I.length>0)?{...gr}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const j=(k.matcher||ve)(I,D,k);if(!j)return{...gr};const ce={};Object.entries(j.posParams??{}).forEach(([Ut,kt])=>{ce[Ut]=kt.path});const $e=j.consumed.length>0?{...ce,...j.consumed[j.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:j.consumed,remainingSegments:I.slice(j.consumed.length),parameters:$e,positionalParamSegments:j.posParams??{}}}function _a(D,k,I,O){return I.length>0&&function Pa(D,k,I){return I.some(O=>ks(D,k,O)&&Xn(O)!==Ae)}(D,I,O)?{segmentGroup:new H(k,Hu(O,new H(I,D.children))),slicedSegments:[]}:0===I.length&&function Ol(D,k,I){return I.some(O=>ks(D,k,O))}(D,I,O)?{segmentGroup:new H(D.segments,Ma(D,0,I,O,D.children)),slicedSegments:I}:{segmentGroup:new H(D.segments,D.children),slicedSegments:I}}function Ma(D,k,I,O,j){const ce={};for(const $e of O)if(ks(D,I,$e)&&!j[Xn($e)]){const Ut=new H([],{});ce[Xn($e)]=Ut}return{...j,...ce}}function Hu(D,k){const I={};I[Ae]=k;for(const O of D)if(""===O.path&&Xn(O)!==Ae){const j=new H([],{});I[Xn(O)]=j}return I}function ks(D,k,I){return(!(D.hasChildren()||k.length>0)||"full"!==I.pathMatch)&&""===I.path}class va{constructor(k,I,O,j,ce,$e,Ut){this.injector=k,this.configLoader=I,this.rootComponentType=O,this.config=j,this.urlTree=ce,this.paramsInheritanceStrategy=$e,this.urlSerializer=Ut,this.allowRedirects=!0,this.applyRedirects=new Eo(this.urlSerializer,this.urlTree)}noMatchError(k){return new u.vHH(4002,!1)}recognize(){const k=_a(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,k,Ae).pipe((0,Oe.K)(I=>{if(I instanceof Qo)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof tc?this.noMatchError(I):I}),(0,me.U)(I=>{const O=new ds([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ae,this.rootComponentType,null,{}),j=new ti(O,I),ce=new hs("",j),$e=function pn(D,k,I=null,O=null){return Gn(Cn(D),k,I,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return $e.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize($e),this.inheritParamsAndData(ce._root),{state:ce,tree:$e}}))}match(k){return this.processSegmentGroup(this.injector,this.config,k.root,Ae).pipe((0,Oe.K)(O=>{throw O instanceof tc?this.noMatchError(O):O}))}inheritParamsAndData(k){const I=k.value,O=co(I,this.paramsInheritanceStrategy);I.params=Object.freeze(O.params),I.data=Object.freeze(O.data),k.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(k,I,O,j){return 0===O.segments.length&&O.hasChildren()?this.processChildren(k,I,O):this.processSegment(k,I,O,O.segments,j,!0)}processChildren(k,I,O){const j=[];for(const ce of Object.keys(O.children))"primary"===ce?j.unshift(ce):j.push(ce);return(0,S.D)(j).pipe((0,qe.b)(ce=>{const $e=O.children[ce],Ut=function Zo(D,k){const I=D.filter(O=>Xn(O)===k);return I.push(...D.filter(O=>Xn(O)!==k)),I}(I,ce);return this.processSegmentGroup(k,Ut,$e,ce)}),(0,zt.R)((ce,$e)=>(ce.push(...$e),ce)),(0,Qt.d)(null),function tn(D,k){const I=arguments.length>=2;return O=>O.pipe(D?(0,se.h)((j,ce)=>D(j,ce,O)):mn.y,jt(1),I?(0,Qt.d)(k):(0,gn.T)(()=>new ge.K))}(),(0,Te.z)(ce=>{if(null===ce)return Zr(O);const $e=jc(ce);return function rc(D){D.sort((k,I)=>k.value.outlet===Ae?-1:I.value.outlet===Ae?1:k.value.outlet.localeCompare(I.value.outlet))}($e),(0,v.of)($e)}))}processSegment(k,I,O,j,ce,$e){return(0,S.D)(I).pipe((0,qe.b)(Ut=>this.processSegmentAgainstRoute(Ut._injector??k,I,Ut,O,j,ce,$e).pipe((0,Oe.K)(kt=>{if(kt instanceof tc)return(0,v.of)(null);throw kt}))),(0,Ce.P)(Ut=>!!Ut),(0,Oe.K)(Ut=>{if(le(Ut))return function nc(D,k,I){return 0===k.length&&!D.children[I]}(O,j,ce)?(0,v.of)([]):Zr(O);throw Ut}))}processSegmentAgainstRoute(k,I,O,j,ce,$e,Ut){return function $u(D,k,I,O){return!!(Xn(D)===O||O!==Ae&&ks(k,I,D))&&("**"===D.path||ga(k,D,I).matched)}(O,j,ce,$e)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(k,j,O,ce,$e,Ut):Ut&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,j,I,O,ce,$e):Zr(j):Zr(j)}expandSegmentAgainstRouteUsingRedirect(k,I,O,j,ce,$e){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,O,j,$e):this.expandRegularSegmentAgainstRouteUsingRedirect(k,I,O,j,ce,$e)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,I,O,j){const ce=this.applyRedirects.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?qs(ce):this.applyRedirects.lineralizeSegments(O,ce).pipe((0,Te.z)($e=>{const Ut=new H($e,{});return this.processSegment(k,I,Ut,$e,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,I,O,j,ce,$e){const{matched:Ut,consumedSegments:kt,remainingSegments:Rn,positionalParamSegments:fi}=ga(I,j,ce);if(!Ut)return Zr(I);const or=this.applyRedirects.applyRedirectCommands(kt,j.redirectTo,fi);return j.redirectTo.startsWith("/")?qs(or):this.applyRedirects.lineralizeSegments(j,or).pipe((0,Te.z)(Vi=>this.processSegment(k,O,I,Vi.concat(Rn),$e,!1)))}matchSegmentAgainstRoute(k,I,O,j,ce,$e){let Ut;if("**"===O.path){const kt=j.length>0?Kt(j).parameters:{},Rn=new ds(j,kt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hc(O),Xn(O),O.component??O._loadedComponent??null,O,$c(O));Ut=(0,v.of)({snapshot:Rn,consumedSegments:[],remainingSegments:[]}),I.children={}}else Ut=Os(I,O,j,k).pipe((0,me.U)(({matched:kt,consumedSegments:Rn,remainingSegments:fi,parameters:or})=>kt?{snapshot:new ds(Rn,or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hc(O),Xn(O),O.component??O._loadedComponent??null,O,$c(O)),consumedSegments:Rn,remainingSegments:fi}:null));return Ut.pipe((0,ye.w)(kt=>null===kt?Zr(I):this.getChildConfig(k=O._injector??k,O,j).pipe((0,ye.w)(({routes:Rn})=>{const fi=O._loadedInjector??k,{snapshot:or,consumedSegments:Vi,remainingSegments:Js}=kt,{segmentGroup:dc,slicedSegments:Jc}=_a(I,Vi,Js,Rn);if(0===Jc.length&&dc.hasChildren())return this.processChildren(fi,Rn,dc).pipe((0,me.U)(fc=>null===fc?null:[new ti(or,fc)]));if(0===Rn.length&&0===Jc.length)return(0,v.of)([new ti(or,[])]);const hc=Xn(O)===ce;return this.processSegment(fi,Rn,dc,Jc,hc?Ae:ce,!0).pipe((0,me.U)(fc=>[new ti(or,fc)]))}))))}getChildConfig(k,I,O){return I.children?(0,v.of)({routes:I.children,injector:k}):I.loadChildren?void 0!==I._loadedRoutes?(0,v.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Ra(D,k,I,O){const j=k.canLoad;if(void 0===j||0===j.length)return(0,v.of)(!0);const ce=j.map($e=>{const Ut=dr($e,D);return yn(function lo(D){return D&&Nr(D.canLoad)}(Ut)?Ut.canLoad(k,I):D.runInContext(()=>Ut(k,I)))});return(0,v.of)(ce).pipe(Sn(),ec())}(k,I,O).pipe((0,Te.z)(j=>j?this.configLoader.loadChildren(k,I).pipe((0,Ze.b)(ce=>{I._loadedRoutes=ce.routes,I._loadedInjector=ce.injector})):function xr(D){return(0,ne._)($n(!1,3))}())):(0,v.of)({routes:[],injector:k})}}function Zs(D){const k=D.value.routeConfig;return k&&""===k.path}function jc(D){const k=[],I=new Set;for(const O of D){if(!Zs(O)){k.push(O);continue}const j=k.find(ce=>O.value.routeConfig===ce.value.routeConfig);void 0!==j?(j.children.push(...O.children),I.add(j)):k.push(O)}for(const O of I){const j=jc(O.children);k.push(new ti(O.value,j))}return k.filter(O=>!I.has(O))}function Hc(D){return D.data||{}}function $c(D){return D.resolve||{}}function ka(D){return"string"==typeof D.title||null===D.title}function oc(D){return(0,ye.w)(k=>{const I=D(k);return I?(0,S.D)(I).pipe((0,me.U)(()=>k)):(0,v.of)(k)})}const Ns=new u.OlP("ROUTES");let sc=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,v.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const O=yn(I.loadComponent()).pipe((0,me.U)(B),(0,Ze.b)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=ce}),(0,Se.x)(()=>{this.componentLoaders.delete(I)})),j=new Me.c(O,()=>new Ie.x).pipe((0,Le.x)());return this.componentLoaders.set(I,j),j}loadChildren(I,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,v.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const ce=function R(D,k,I,O){return yn(D.loadChildren()).pipe((0,me.U)(B),(0,Te.z)(j=>j instanceof u.YKP||Array.isArray(j)?(0,v.of)(j):(0,S.D)(k.compileModuleAsync(j))),(0,me.U)(j=>{O&&O(D);let ce,$e,Ut=!1;return Array.isArray(j)?($e=j,!0):(ce=j.create(I).injector,$e=ce.get(Ns,[],{optional:!0,self:!0}).flat()),{routes:$e.map(qo),injector:ce}}))}(O,this.compiler,I,this.onLoadEndListener).pipe((0,Se.x)(()=>{this.childrenLoaders.delete(O)})),$e=new Me.c(ce,()=>new Ie.x).pipe((0,Le.x)());return this.childrenLoaders.set(O,$e),$e}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function B(D){return function J(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let G=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ie.x,this.transitionAbortSubject=new Ie.x,this.configLoader=(0,u.f3M)(sc),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(ke),this.rootContexts=(0,u.f3M)(Mt),this.inputBindingEnabled=null!==(0,u.f3M)(Di,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,v.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new Ks(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new Ts(j))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:O})}setupNavigations(I,O,j){return this.transitions=new te.X({id:0,currentUrlTree:O,currentRawUrl:O,currentBrowserUrl:O,extractedUrl:I.urlHandlingStrategy.extract(O),urlAfterRedirects:I.urlHandlingStrategy.extract(O),rawUrl:O,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ci,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,se.h)(ce=>0!==ce.id),(0,me.U)(ce=>({...ce,extractedUrl:I.urlHandlingStrategy.extract(ce.rawUrl)})),(0,ye.w)(ce=>{this.currentTransition=ce;let $e=!1,Ut=!1;return(0,v.of)(ce).pipe((0,Ze.b)(kt=>{this.currentNavigation={id:kt.id,initialUrl:kt.rawUrl,extractedUrl:kt.extractedUrl,trigger:kt.source,extras:kt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ye.w)(kt=>{const Rn=kt.currentBrowserUrl.toString(),fi=!I.navigated||kt.extractedUrl.toString()!==Rn||Rn!==kt.currentUrlTree.toString();if(!fi&&"reload"!==(kt.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const Vi="";return this.events.next(new Ji(kt.id,this.urlSerializer.serialize(kt.rawUrl),Vi,0)),kt.resolve(null),pe.E}if(I.urlHandlingStrategy.shouldProcessUrl(kt.rawUrl))return(0,v.of)(kt).pipe((0,ye.w)(Vi=>{const Js=this.transitions?.getValue();return this.events.next(new Nn(Vi.id,this.urlSerializer.serialize(Vi.extractedUrl),Vi.source,Vi.restoredState)),Js!==this.transitions?.getValue()?pe.E:Promise.resolve(Vi)}),function Oa(D,k,I,O,j,ce){return(0,Te.z)($e=>function ic(D,k,I,O,j,ce,$e="emptyOnly"){return new va(D,k,I,O,j,$e,ce).recognize()}(D,k,I,O,$e.extractedUrl,j,ce).pipe((0,me.U)(({state:Ut,tree:kt})=>({...$e,targetSnapshot:Ut,urlAfterRedirects:kt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,Ze.b)(Vi=>{ce.targetSnapshot=Vi.targetSnapshot,ce.urlAfterRedirects=Vi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Vi.urlAfterRedirects};const Js=new Pr(Vi.id,this.urlSerializer.serialize(Vi.extractedUrl),this.urlSerializer.serialize(Vi.urlAfterRedirects),Vi.targetSnapshot);this.events.next(Js)}));if(fi&&I.urlHandlingStrategy.shouldProcessUrl(kt.currentRawUrl)){const{id:Vi,extractedUrl:Js,source:dc,restoredState:Jc,extras:hc}=kt,fc=new Nn(Vi,this.urlSerializer.serialize(Js),dc,Jc);this.events.next(fc);const lp=Fn(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...kt,targetSnapshot:lp,urlAfterRedirects:Js,extras:{...hc,skipLocationChange:!1,replaceUrl:!1}},(0,v.of)(ce)}{const Vi="";return this.events.next(new Ji(kt.id,this.urlSerializer.serialize(kt.extractedUrl),Vi,1)),kt.resolve(null),pe.E}}),(0,Ze.b)(kt=>{const Rn=new go(kt.id,this.urlSerializer.serialize(kt.extractedUrl),this.urlSerializer.serialize(kt.urlAfterRedirects),kt.targetSnapshot);this.events.next(Rn)}),(0,me.U)(kt=>(this.currentTransition=ce={...kt,guards:ji(kt.targetSnapshot,kt.currentSnapshot,this.rootContexts)},ce)),function li(D,k){return(0,Te.z)(I=>{const{targetSnapshot:O,currentSnapshot:j,guards:{canActivateChecks:ce,canDeactivateChecks:$e}}=I;return 0===$e.length&&0===ce.length?(0,v.of)({...I,guardsResult:!0}):function bo(D,k,I,O){return(0,S.D)(D).pipe((0,Te.z)(j=>function ma(D,k,I,O,j){const ce=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,v.of)(!0);const $e=ce.map(Ut=>{const kt=yo(k)??j,Rn=dr(Ut,kt);return yn(function Ms(D){return D&&Nr(D.canDeactivate)}(Rn)?Rn.canDeactivate(D,k,I,O):kt.runInContext(()=>Rn(D,k,I,O))).pipe((0,Ce.P)())});return(0,v.of)($e).pipe(Sn())}(j.component,j.route,I,k,O)),(0,Ce.P)(j=>!0!==j,!0))}($e,O,j,D).pipe((0,Te.z)(Ut=>Ut&&function bs(D){return"boolean"==typeof D}(Ut)?function pa(D,k,I,O){return(0,S.D)(k).pipe((0,qe.b)(j=>(0,Z.z)(function ju(D,k){return null!==D&&k&&k(new As(D)),(0,v.of)(!0)}(j.route.parent,O),function Ja(D,k){return null!==D&&k&&k(new us(D)),(0,v.of)(!0)}(j.route,O),function Ps(D,k,I){const O=k[k.length-1],ce=k.slice(0,k.length-1).reverse().map($e=>function Uu(D){const k=D.routeConfig?D.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:D,guards:k}:null}($e)).filter($e=>null!==$e).map($e=>(0,oe.P)(()=>{const Ut=$e.guards.map(kt=>{const Rn=yo($e.node)??I,fi=dr(kt,Rn);return yn(function zu(D){return D&&Nr(D.canActivateChild)}(fi)?fi.canActivateChild(O,D):Rn.runInContext(()=>fi(O,D))).pipe((0,Ce.P)())});return(0,v.of)(Ut).pipe(Sn())}));return(0,v.of)(ce).pipe(Sn())}(D,j.path,I),function dh(D,k,I){const O=k.routeConfig?k.routeConfig.canActivate:null;if(!O||0===O.length)return(0,v.of)(!0);const j=O.map(ce=>(0,oe.P)(()=>{const $e=yo(k)??I,Ut=dr(ce,$e);return yn(function Pl(D){return D&&Nr(D.canActivate)}(Ut)?Ut.canActivate(k,D):$e.runInContext(()=>Ut(k,D))).pipe((0,Ce.P)())}));return(0,v.of)(j).pipe(Sn())}(D,j.route,I))),(0,Ce.P)(j=>!0!==j,!0))}(O,ce,D,k):(0,v.of)(Ut)),(0,me.U)(Ut=>({...I,guardsResult:Ut})))})}(this.environmentInjector,kt=>this.events.next(kt)),(0,Ze.b)(kt=>{if(ce.guardsResult=kt.guardsResult,un(kt.guardsResult))throw wr(0,kt.guardsResult);const Rn=new Wo(kt.id,this.urlSerializer.serialize(kt.extractedUrl),this.urlSerializer.serialize(kt.urlAfterRedirects),kt.targetSnapshot,!!kt.guardsResult);this.events.next(Rn)}),(0,se.h)(kt=>!!kt.guardsResult||(this.cancelNavigationTransition(kt,"",3),!1)),oc(kt=>{if(kt.guards.canActivateChecks.length)return(0,v.of)(kt).pipe((0,Ze.b)(Rn=>{const fi=new ar(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(fi)}),(0,ye.w)(Rn=>{let fi=!1;return(0,v.of)(Rn).pipe(function Wu(D,k){return(0,Te.z)(I=>{const{targetSnapshot:O,guards:{canActivateChecks:j}}=I;if(!j.length)return(0,v.of)(I);let ce=0;return(0,S.D)(j).pipe((0,qe.b)($e=>function hh(D,k,I,O){const j=D.routeConfig,ce=D._resolve;return void 0!==j?.title&&!ka(j)&&(ce[Dt]=j.title),function Wc(D,k,I,O){const j=function Gc(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===j.length)return(0,v.of)({});const ce={};return(0,S.D)(j).pipe((0,Te.z)($e=>function Nl(D,k,I,O){const j=yo(k)??O,ce=dr(D,j);return yn(ce.resolve?ce.resolve(k,I):j.runInContext(()=>ce(k,I)))}(D[$e],k,I,O).pipe((0,Ce.P)(),(0,Ze.b)(Ut=>{ce[$e]=Ut}))),jt(1),(0,bn.h)(ce),(0,Oe.K)($e=>le($e)?pe.E:(0,ne._)($e)))}(ce,D,k,O).pipe((0,me.U)($e=>(D._resolvedData=$e,D.data=co(D,I).resolve,j&&ka(j)&&(D.data[Dt]=j.title),null)))}($e.route,O,D,k)),(0,Ze.b)(()=>ce++),jt(1),(0,Te.z)($e=>ce===j.length?(0,v.of)(I):pe.E))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,Ze.b)({next:()=>fi=!0,complete:()=>{fi||this.cancelNavigationTransition(Rn,"",2)}}))}),(0,Ze.b)(Rn=>{const fi=new Sa(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(fi)}))}),oc(kt=>{const Rn=fi=>{const or=[];fi.routeConfig?.loadComponent&&!fi.routeConfig._loadedComponent&&or.push(this.configLoader.loadComponent(fi.routeConfig).pipe((0,Ze.b)(Vi=>{fi.component=Vi}),(0,me.U)(()=>{})));for(const Vi of fi.children)or.push(...Rn(Vi));return or};return(0,fe.a)(Rn(kt.targetSnapshot.root)).pipe((0,Qt.d)(),(0,lt.q)(1))}),oc(()=>this.afterPreactivation()),(0,me.U)(kt=>{const Rn=function Go(D,k,I){const O=Gi(D,k._root,I?I._root:void 0);return new mr(O,k)}(I.routeReuseStrategy,kt.targetSnapshot,kt.currentRouterState);return this.currentTransition=ce={...kt,targetRouterState:Rn},ce}),(0,Ze.b)(()=>{this.events.next(new br)}),((D,k,I,O)=>(0,me.U)(j=>(new gs(k,j.targetRouterState,j.currentRouterState,I,O).activate(D),j)))(this.rootContexts,I.routeReuseStrategy,kt=>this.events.next(kt),this.inputBindingEnabled),(0,lt.q)(1),(0,Ze.b)({next:kt=>{$e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vi(kt.id,this.urlSerializer.serialize(kt.extractedUrl),this.urlSerializer.serialize(kt.urlAfterRedirects))),I.titleStrategy?.updateTitle(kt.targetRouterState.snapshot),kt.resolve(!0)},complete:()=>{$e=!0}}),(0,Re.R)(this.transitionAbortSubject.pipe((0,Ze.b)(kt=>{throw kt}))),(0,Se.x)(()=>{$e||Ut||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),(0,Oe.K)(kt=>{if(Ut=!0,Ir(kt))this.events.next(new ur(ce.id,this.urlSerializer.serialize(ce.extractedUrl),kt.message,kt.cancellationCode)),function ms(D){return Ir(D)&&un(D.url)}(kt)?this.events.next(new ze(kt.url)):ce.resolve(!1);else{this.events.next(new Hi(ce.id,this.urlSerializer.serialize(ce.extractedUrl),kt,ce.targetSnapshot??void 0));try{ce.resolve(I.errorHandler(kt))}catch(Rn){ce.reject(Rn)}}return pe.E}))}))}cancelNavigationTransition(I,O,j){const ce=new ur(I.id,this.urlSerializer.serialize(I.extractedUrl),O,j);this.events.next(ce),I.resolve(!1)}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function He(D){return D!==ci}let Pt=(()=>{class D{buildTitle(I){let O,j=I.root;for(;void 0!==j;)O=this.getResolvedTitleForRoute(j)??O,j=j.children.find(ce=>ce.outlet===Ae);return O}getResolvedTitleForRoute(I){return I.data[Dt]}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=u.Yz7({token:D,factory:function(){return(0,u.f3M)(en)},providedIn:"root"})}return D})(),en=(()=>{class D extends Pt{constructor(I){super(),this.title=I}updateTitle(I){const O=this.buildTitle(I);void 0!==O&&this.title.setTitle(O)}static#e=this.\u0275fac=function(O){return new(O||D)(u.LFG(et.Dx))};static#t=this.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),Un=(()=>{class D{static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=u.Yz7({token:D,factory:function(){return(0,u.f3M)(Fi)},providedIn:"root"})}return D})();class $i{shouldDetach(k){return!1}store(k,I){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,I){return k.routeConfig===I.routeConfig}}let Fi=(()=>{class D extends $i{static#e=this.\u0275fac=function(){let I;return function(j){return(I||(I=u.n5z(D)))(j||D)}}();static#t=this.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const Ti=new u.OlP("",{providedIn:"root",factory:()=>({})});let si=(()=>{class D{static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=u.Yz7({token:D,factory:function(){return(0,u.f3M)(Yi)},providedIn:"root"})}return D})(),Yi=(()=>{class D{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,O){return I}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();var Li=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Li||{});function fr(D,k){D.events.pipe((0,se.h)(I=>I instanceof vi||I instanceof ur||I instanceof Hi||I instanceof Ji),(0,me.U)(I=>I instanceof vi||I instanceof Ji?Li.COMPLETE:I instanceof ur&&(0===I.code||1===I.code)?Li.REDIRECTING:Li.FAILED),(0,se.h)(I=>I!==Li.REDIRECTING),(0,lt.q)(1)).subscribe(()=>{k()})}function Xo(D){throw D}function ko(D,k,I){return k.parse("/")}const Fr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dr=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this._events=new Ie.x,this.options=(0,u.f3M)(Ti,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||Xo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ko,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(si),this.routeReuseStrategy=(0,u.f3M)(Un),this.titleStrategy=(0,u.f3M)(Pt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(Ns,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(G),this.urlSerializer=(0,u.f3M)(ke),this.location=(0,u.f3M)(xe.Ye),this.componentInputBindingEnabled=!!(0,u.f3M)(Di,{optional:!0}),this.eventsSubscription=new Ne.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new V,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Fn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(O=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(No(O)&&this._events.next(O));if(O instanceof Nn)He(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(O instanceof Ji)this.rawUrlTree=j.rawUrl;else if(O instanceof Pr){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(ce,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(O instanceof br)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(O instanceof ur)0!==O.code&&1!==O.code&&(this.navigated=!0),(3===O.code||2===O.code)&&this.restoreHistory(j);else if(O instanceof ze){const ce=this.urlHandlingStrategy.merge(O.url,j.currentRawUrl),$e={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||He(j.source)};this.scheduleNavigation(ce,ci,null,$e,{resolve:j.resolve,reject:j.reject,promise:j.promise})}O instanceof Hi&&this.restoreHistory(j,!0),O instanceof vi&&(this.navigated=!0),No(O)&&this._events.next(O)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ci,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const O="popstate"===I.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,O,I.state)},0)}))}navigateToSyncWithBrowser(I,O,j){const ce={replaceUrl:!0},$e=j?.navigationId?j:null;if(j){const kt={...j};delete kt.navigationId,delete kt.\u0275routerPageId,0!==Object.keys(kt).length&&(ce.state=kt)}const Ut=this.parseUrl(I);this.scheduleNavigation(Ut,O,$e,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(qo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,O={}){const{relativeTo:j,queryParams:ce,fragment:$e,queryParamsHandling:Ut,preserveFragment:kt}=O,Rn=kt?this.currentUrlTree.fragment:$e;let or,fi=null;switch(Ut){case"merge":fi={...this.currentUrlTree.queryParams,...ce};break;case"preserve":fi=this.currentUrlTree.queryParams;break;default:fi=ce||null}null!==fi&&(fi=this.removeEmptyProps(fi));try{or=Cn(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),or=this.currentUrlTree.root}return Gn(or,I,fi,Rn??null)}navigateByUrl(I,O={skipLocationChange:!1}){const j=un(I)?I:this.parseUrl(I),ce=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ce,ci,null,O)}navigate(I,O={skipLocationChange:!1}){return function Qr(D){for(let k=0;k<D.length;k++)if(null==D[k])throw new u.vHH(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,O),O)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let O;try{O=this.urlSerializer.parse(I)}catch(j){O=this.malformedUriErrorHandler(j,this.urlSerializer,I)}return O}isActive(I,O){let j;if(j=!0===O?{...Fr}:!1===O?{...Lr}:O,un(I))return Xt(this.currentUrlTree,I,j);const ce=this.parseUrl(I);return Xt(this.currentUrlTree,ce,j)}removeEmptyProps(I){return Object.keys(I).reduce((O,j)=>{const ce=I[j];return null!=ce&&(O[j]=ce),O},{})}scheduleNavigation(I,O,j,ce,$e){if(this.disposed)return Promise.resolve(!1);let Ut,kt,Rn;$e?(Ut=$e.resolve,kt=$e.reject,Rn=$e.promise):Rn=new Promise((or,Vi)=>{Ut=or,kt=Vi});const fi=this.pendingTasks.add();return fr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(fi))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:ce,resolve:Ut,reject:kt,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(or=>Promise.reject(or))}setBrowserUrl(I,O){const j=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(j)||O.extras.replaceUrl){const $e={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(j,"",$e)}else{const ce={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId+1)};this.location.go(j,"",ce)}}restoreHistory(I,O=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,O){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:O}:{navigationId:I}}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function No(D){return!(D instanceof br||D instanceof ze)}class Ll{}let rp=(()=>{class D{constructor(I,O,j,ce,$e){this.router=I,this.injector=j,this.preloadingStrategy=ce,this.loader=$e}setUpPreloading(){this.subscription=this.router.events.pipe((0,se.h)(I=>I instanceof vi),(0,qe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,O){const j=[];for(const ce of O){ce.providers&&!ce._injector&&(ce._injector=(0,u.MMx)(ce.providers,I,`Route: ${ce.path}`));const $e=ce._injector??I,Ut=ce._loadedInjector??$e;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&j.push(this.preloadConfig($e,ce)),(ce.children||ce._loadedRoutes)&&j.push(this.processRoutes(Ut,ce.children??ce._loadedRoutes))}return(0,S.D)(j).pipe((0,tt.J)())}preloadConfig(I,O){return this.preloadingStrategy.preload(O,()=>{let j;j=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(I,O):(0,v.of)(null);const ce=j.pipe((0,Te.z)($e=>null===$e?(0,v.of)(void 0):(O._loadedRoutes=$e.routes,O._loadedInjector=$e.injector,this.processRoutes($e.injector??I,$e.routes))));if(O.loadComponent&&!O._loadedComponent){const $e=this.loader.loadComponent(O);return(0,S.D)([ce,$e]).pipe((0,tt.J)())}return ce})}static#e=this.\u0275fac=function(O){return new(O||D)(u.LFG(Dr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Ll),u.LFG(sc))};static#t=this.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const ya=new u.OlP("");let ro=(()=>{class D{constructor(I,O,j,ce,$e={}){this.urlSerializer=I,this.transitions=O,this.viewportScroller=j,this.zone=ce,this.options=$e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$e.scrollPositionRestoration=$e.scrollPositionRestoration||"disabled",$e.anchorScrolling=$e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof Nn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof vi?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof Ji&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof da&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new da(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(O){u.$Z()};static#t=this.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac})}return D})();function Qs(D,k){return{\u0275kind:D,\u0275providers:k}}function Ul(){const D=(0,u.f3M)(u.zs3);return k=>{const I=D.get(u.z2F);if(k!==I.components[0])return;const O=D.get(Dr),j=D.get(Kc);1===D.get(Yc)&&O.initialNavigation(),D.get(fh,null,u.XFs.Optional)?.setUpPreloading(),D.get(ya,null,u.XFs.Optional)?.init(),O.resetRootComponentType(I.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const Kc=new u.OlP("",{factory:()=>new Ie.x}),Yc=new u.OlP("",{providedIn:"root",factory:()=>1}),fh=new u.OlP("");function ph(D){return Qs(0,[{provide:fh,useExisting:rp},{provide:Ll,useExisting:D}])}const cp=new u.OlP("ROUTER_FORROOT_GUARD"),uc=[xe.Ye,{provide:ke,useClass:ht},Dr,Mt,{provide:Ci,useFactory:function Vl(D){return D.routerState.root},deps:[Dr]},sc,[]];function Zc(){return new u.PXZ("Router",Dr)}let rn=(()=>{class D{constructor(I){}static forRoot(I,O){return{ngModule:D,providers:[uc,[],{provide:Ns,multi:!0,useValue:I},{provide:cp,useFactory:$r,deps:[[Dr,new u.FiY,new u.tp0]]},{provide:Ti,useValue:O||{}},O?.useHash?{provide:xe.S$,useClass:xe.Do}:{provide:xe.S$,useClass:xe.b0},{provide:ya,useFactory:()=>{const D=(0,u.f3M)(xe.EM),k=(0,u.f3M)(u.R0b),I=(0,u.f3M)(Ti),O=(0,u.f3M)(G),j=(0,u.f3M)(ke);return I.scrollOffset&&D.setOffset(I.scrollOffset),new ro(j,O,D,k,I)}},O?.preloadingStrategy?ph(O.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Zc},O?.initialNavigation?zl(O):[],O?.bindToComponentInputs?Qs(8,[Er,{provide:Di,useExisting:Er}]).\u0275providers:[],[{provide:Na,useFactory:Ul},{provide:u.tb,multi:!0,useExisting:Na}]]}}static forChild(I){return{ngModule:D,providers:[{provide:Ns,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(O){return new(O||D)(u.LFG(cp,8))};static#t=this.\u0275mod=u.oAB({type:D});static#n=this.\u0275inj=u.cJS({})}return D})();function $r(D){return"guarded"}function zl(D){return["disabled"===D.initialNavigation?Qs(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const k=(0,u.f3M)(Dr);return()=>{k.setUpLocationChangeListener()}}},{provide:Yc,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Qs(2,[{provide:Yc,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:k=>{const I=k.get(xe.V_,Promise.resolve());return()=>I.then(()=>new Promise(O=>{const j=k.get(Dr),ce=k.get(Kc);fr(j,()=>{O(!0)}),k.get(G).afterPreactivation=()=>(O(!0),ce.closed?(0,v.of)(void 0):ce),j.initialNavigation()}))}}]).\u0275providers:[]]}const Na=new u.OlP("")},3106:(Qe,ue,b)=>{b.d(ue,{Z:()=>Ne});var u=b(9058),A=b(4537),S=b(534),v=b(7879);class te{constructor(me,ye){this._delegate=me,this.firebase=ye,(0,S._addComponent)(me,new A.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,S.deleteApp)(this._delegate)))}_getService(me,ye=S._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(me);return!st.isInitialized()&&"EXPLICIT"===(null===(lt=st.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&st.initialize(),st.getImmediate({identifier:ye})}_removeServiceInstance(me,ye=S._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(ye)}_addComponent(me){(0,S._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,S._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function oe(){const xe=function Z(xe){const me={},ye={__esModule:!0,initializeApp:function se(Ze,Oe={}){const zt=S.initializeApp(Ze,Oe);if((0,u.r3)(me,zt.name))return me[zt.name];const Qt=new xe(zt,ye);return me[zt.name]=Qt,Qt},app:st,registerVersion:S.registerVersion,setLogLevel:S.setLogLevel,onLog:S.onLog,apps:null,SDK_VERSION:S.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Ze){const Oe=Ze.name,zt=Oe.replace("-compat","");if(S._registerComponent(Ze)&&"PUBLIC"===Ze.type){const Qt=(Vt=st())=>{if("function"!=typeof Vt[zt])throw ge.create("invalid-app-argument",{appName:Oe});return Vt[zt]()};void 0!==Ze.serviceProps&&(0,u.ZB)(Qt,Ze.serviceProps),ye[zt]=Qt,xe.prototype[zt]=function(...Vt){return this._getService.bind(this,Oe).apply(this,Ze.multipleInstances?Vt:[])}}return"PUBLIC"===Ze.type?ye[zt]:null},removeApp:function lt(Ze){delete me[Ze]},useAsService:function qe(Ze,Oe){return"serverAuth"===Oe?null:Oe},modularAPIs:S}};function st(Ze){if(!(0,u.r3)(me,Ze=Ze||S._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Ze});return me[Ze]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function Te(){return Object.keys(me).map(Ze=>me[Ze])}}),st.App=xe,ye}(te);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function me(ye){(0,u.ZB)(xe,ye)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),xe}(),ne=new v.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=q;!function Ie(xe){(0,S.registerVersion)("@firebase/app-compat","0.2.23",xe)}()},534:(Qe,ue,b)=>{b.r(ue),b.d(ue,{FirebaseError:()=>v.ZR,SDK_VERSION:()=>Pn,_DEFAULT_ENTRY_NAME:()=>Ke,_addComponent:()=>ut,_addOrOverwriteComponent:()=>Ve,_apps:()=>H,_clearComponents:()=>rt,_components:()=>re,_getProvider:()=>ke,_registerComponent:()=>pt,_removeServiceInstance:()=>ht,deleteApp:()=>An,getApp:()=>Kn,getApps:()=>Tt,initializeApp:()=>Wn,onLog:()=>Fe,registerVersion:()=>nt,setLogLevel:()=>Ee});var u=b(5861),A=b(4537),S=b(7879),v=b(9058);const te=(je,Ue)=>Ue.some(bt=>je instanceof bt);let fe,ge;const q=new WeakMap,ne=new WeakMap,pe=new WeakMap,Me=new WeakMap,Ie=new WeakMap;let me={get(je,Ue,bt){if(je instanceof IDBTransaction){if("done"===Ue)return ne.get(je);if("objectStoreNames"===Ue)return je.objectStoreNames||pe.get(je);if("store"===Ue)return bt.objectStoreNames[1]?void 0:bt.objectStore(bt.objectStoreNames[0])}return se(je[Ue])},set:(je,Ue,bt)=>(je[Ue]=bt,!0),has:(je,Ue)=>je instanceof IDBTransaction&&("done"===Ue||"store"===Ue)||Ue in je};function st(je){return"function"==typeof je?function lt(je){return je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(je)?function(...Ue){return je.apply(Te(this),Ue),se(q.get(this))}:function(...Ue){return se(je.apply(Te(this),Ue))}:function(Ue,...bt){const Rt=je.call(Te(this),Ue,...bt);return pe.set(Rt,Ue.sort?Ue.sort():[Ue]),se(Rt)}}(je):(je instanceof IDBTransaction&&function xe(je){if(ne.has(je))return;const Ue=new Promise((bt,Rt)=>{const ae=()=>{je.removeEventListener("complete",mt),je.removeEventListener("error",X),je.removeEventListener("abort",X)},mt=()=>{bt(),ae()},X=()=>{Rt(je.error||new DOMException("AbortError","AbortError")),ae()};je.addEventListener("complete",mt),je.addEventListener("error",X),je.addEventListener("abort",X)});ne.set(je,Ue)}(je),te(je,function Z(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(je,me):je)}function se(je){if(je instanceof IDBRequest)return function Ne(je){const Ue=new Promise((bt,Rt)=>{const ae=()=>{je.removeEventListener("success",mt),je.removeEventListener("error",X)},mt=()=>{bt(se(je.result)),ae()},X=()=>{Rt(je.error),ae()};je.addEventListener("success",mt),je.addEventListener("error",X)});return Ue.then(bt=>{bt instanceof IDBCursor&&q.set(bt,je)}).catch(()=>{}),Ie.set(Ue,je),Ue}(je);if(Me.has(je))return Me.get(je);const Ue=st(je);return Ue!==je&&(Me.set(je,Ue),Ie.set(Ue,je)),Ue}const Te=je=>Ie.get(je),Ze=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],zt=new Map;function Qt(je,Ue){if(!(je instanceof IDBDatabase)||Ue in je||"string"!=typeof Ue)return;if(zt.get(Ue))return zt.get(Ue);const bt=Ue.replace(/FromIndex$/,""),Rt=Ue!==bt,ae=Oe.includes(bt);if(!(bt in(Rt?IDBIndex:IDBObjectStore).prototype)||!ae&&!Ze.includes(bt))return;const mt=function(){var X=(0,u.Z)(function*(we,...Xe){const Ft=this.transaction(we,ae?"readwrite":"readonly");let nn=Ft.store;return Rt&&(nn=nn.index(Xe.shift())),(yield Promise.all([nn[bt](...Xe),ae&&Ft.done]))[0]});return function(Xe){return X.apply(this,arguments)}}();return zt.set(Ue,mt),mt}!function ye(je){me=je(me)}(je=>({...je,get:(Ue,bt,Rt)=>Qt(Ue,bt)||je.get(Ue,bt,Rt),has:(Ue,bt)=>!!Qt(Ue,bt)||je.has(Ue,bt)}));class Vt{constructor(Ue){this.container=Ue}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function cn(je){const Ue=je.getComponent();return"VERSION"===Ue?.type}(bt)){const Rt=bt.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(bt=>bt).join(" ")}}const jt="@firebase/app",mn=new S.Yd("@firebase/app"),Ke="[DEFAULT]",V={[jt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},H=new Map,re=new Map;function ut(je,Ue){try{je.container.addComponent(Ue)}catch(bt){mn.debug(`Component ${Ue.name} failed to register with FirebaseApp ${je.name}`,bt)}}function Ve(je,Ue){je.container.addOrOverwriteComponent(Ue)}function pt(je){const Ue=je.name;if(re.has(Ue))return mn.debug(`There were multiple attempts to register component ${Ue}.`),!1;re.set(Ue,je);for(const bt of H.values())ut(bt,je);return!0}function ke(je,Ue){const bt=je.container.getProvider("heartbeat").getImmediate({optional:!0});return bt&&bt.triggerHeartbeat(),je.container.getProvider(Ue)}function ht(je,Ue,bt=Ke){ke(je,Ue).clearInstance(bt)}function rt(){re.clear()}const Lt=new v.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(Ue,bt,Rt){this._isDeleted=!1,this._options=Object.assign({},Ue),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new A.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ue){this._isDeleted=Ue}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}const Pn="10.6.0";function Wn(je,Ue={}){let bt=je;"object"!=typeof Ue&&(Ue={name:Ue});const Rt=Object.assign({name:Ke,automaticDataCollectionEnabled:!1},Ue),ae=Rt.name;if("string"!=typeof ae||!ae)throw Lt.create("bad-app-name",{appName:String(ae)});if(bt||(bt=(0,v.aH)()),!bt)throw Lt.create("no-options");const mt=H.get(ae);if(mt){if((0,v.vZ)(bt,mt.options)&&(0,v.vZ)(Rt,mt.config))return mt;throw Lt.create("duplicate-app",{appName:ae})}const X=new A.H0(ae);for(const Xe of re.values())X.addComponent(Xe);const we=new hn(bt,Rt,X);return H.set(ae,we),we}function Kn(je=Ke){const Ue=H.get(je);if(!Ue&&je===Ke&&(0,v.aH)())return Wn();if(!Ue)throw Lt.create("no-app",{appName:je});return Ue}function Tt(){return Array.from(H.values())}function An(je){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(je){const Ue=je.name;H.has(Ue)&&(H.delete(Ue),yield Promise.all(je.container.getProviders().map(bt=>bt.delete())),je.isDeleted=!0)})).apply(this,arguments)}function nt(je,Ue,bt){var Rt;let ae=null!==(Rt=V[je])&&void 0!==Rt?Rt:je;bt&&(ae+=`-${bt}`);const mt=ae.match(/\s|\//),X=Ue.match(/\s|\//);if(mt||X){const we=[`Unable to register library "${ae}" with version "${Ue}":`];return mt&&we.push(`library name "${ae}" contains illegal characters (whitespace or "/")`),mt&&X&&we.push("and"),X&&we.push(`version name "${Ue}" contains illegal characters (whitespace or "/")`),void mn.warn(we.join(" "))}pt(new A.wA(`${ae}-version`,()=>({library:ae,version:Ue}),"VERSION"))}function Fe(je,Ue){if(null!==je&&"function"!=typeof je)throw Lt.create("invalid-log-argument");(0,S.Am)(je,Ue)}function Ee(je){(0,S.Ub)(je)}const We="firebase-heartbeat-database",yt=1,he="firebase-heartbeat-store";let Q=null;function F(){return Q||(Q=function Ce(je,Ue,{blocked:bt,upgrade:Rt,blocking:ae,terminated:mt}={}){const X=indexedDB.open(je,Ue),we=se(X);return Rt&&X.addEventListener("upgradeneeded",Xe=>{Rt(se(X.result),Xe.oldVersion,Xe.newVersion,se(X.transaction),Xe)}),bt&&X.addEventListener("blocked",Xe=>bt(Xe.oldVersion,Xe.newVersion,Xe)),we.then(Xe=>{mt&&Xe.addEventListener("close",()=>mt()),ae&&Xe.addEventListener("versionchange",Ft=>ae(Ft.oldVersion,Ft.newVersion,Ft))}).catch(()=>{}),we}(We,yt,{upgrade:(je,Ue)=>{0===Ue&&je.createObjectStore(he)}}).catch(je=>{throw Lt.create("idb-open",{originalErrorMessage:je.message})})),Q}function x(){return(x=(0,u.Z)(function*(je){try{return yield(yield F()).transaction(he).objectStore(he).get(xt(je))}catch(Ue){if(Ue instanceof v.ZR)mn.warn(Ue.message);else{const bt=Lt.create("idb-get",{originalErrorMessage:Ue?.message});mn.warn(bt.message)}}})).apply(this,arguments)}function W(je,Ue){return _e.apply(this,arguments)}function _e(){return(_e=(0,u.Z)(function*(je,Ue){try{const Rt=(yield F()).transaction(he,"readwrite");yield Rt.objectStore(he).put(Ue,xt(je)),yield Rt.done}catch(bt){if(bt instanceof v.ZR)mn.warn(bt.message);else{const Rt=Lt.create("idb-set",{originalErrorMessage:bt?.message});mn.warn(Rt.message)}}})).apply(this,arguments)}function xt(je){return`${je.name}!${je.options.appId}`}class pn{constructor(Ue){this.container=Ue,this._heartbeatsCache=null;const bt=this.container.getProvider("app").getImmediate();this._storage=new ot(bt),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var Ue=this;return(0,u.Z)(function*(){var bt;const ae=Ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=Cn();if(null==(null===(bt=Ue._heartbeatsCache)||void 0===bt?void 0:bt.heartbeats)&&(Ue._heartbeatsCache=yield Ue._heartbeatsCachePromise),Ue._heartbeatsCache.lastSentHeartbeatDate!==mt&&!Ue._heartbeatsCache.heartbeats.some(X=>X.date===mt))return Ue._heartbeatsCache.heartbeats.push({date:mt,agent:ae}),Ue._heartbeatsCache.heartbeats=Ue._heartbeatsCache.heartbeats.filter(X=>{const we=new Date(X.date).valueOf();return Date.now()-we<=2592e6}),Ue._storage.overwrite(Ue._heartbeatsCache)})()}getHeartbeatsHeader(){var Ue=this;return(0,u.Z)(function*(){var bt;if(null===Ue._heartbeatsCache&&(yield Ue._heartbeatsCachePromise),null==(null===(bt=Ue._heartbeatsCache)||void 0===bt?void 0:bt.heartbeats)||0===Ue._heartbeatsCache.heartbeats.length)return"";const Rt=Cn(),{heartbeatsToSend:ae,unsentEntries:mt}=function Gn(je,Ue=1024){const bt=[];let Rt=je.slice();for(const ae of je){const mt=bt.find(X=>X.agent===ae.agent);if(mt){if(mt.dates.push(ae.date),Ge(bt)>Ue){mt.dates.pop();break}}else if(bt.push({agent:ae.agent,dates:[ae.date]}),Ge(bt)>Ue){bt.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:bt,unsentEntries:Rt}}(Ue._heartbeatsCache.heartbeats),X=(0,v.L)(JSON.stringify({version:2,heartbeats:ae}));return Ue._heartbeatsCache.lastSentHeartbeatDate=Rt,mt.length>0?(Ue._heartbeatsCache.heartbeats=mt,yield Ue._storage.overwrite(Ue._heartbeatsCache)):(Ue._heartbeatsCache.heartbeats=[],Ue._storage.overwrite(Ue._heartbeatsCache)),X})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class ot{constructor(Ue){this.app=Ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,v.hl)()&&(0,v.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ue=this;return(0,u.Z)(function*(){return(yield Ue._canUseIndexedDBPromise)&&(yield function M(je){return x.apply(this,arguments)}(Ue.app))||{heartbeats:[]}})()}overwrite(Ue){var bt=this;return(0,u.Z)(function*(){var Rt;if(yield bt._canUseIndexedDBPromise){const mt=yield bt.read();return W(bt.app,{lastSentHeartbeatDate:null!==(Rt=Ue.lastSentHeartbeatDate)&&void 0!==Rt?Rt:mt.lastSentHeartbeatDate,heartbeats:Ue.heartbeats})}})()}add(Ue){var bt=this;return(0,u.Z)(function*(){var Rt;if(yield bt._canUseIndexedDBPromise){const mt=yield bt.read();return W(bt.app,{lastSentHeartbeatDate:null!==(Rt=Ue.lastSentHeartbeatDate)&&void 0!==Rt?Rt:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...Ue.heartbeats]})}})()}}function Ge(je){return(0,v.L)(JSON.stringify({version:2,heartbeats:je})).length}!function ct(je){pt(new A.wA("platform-logger",Ue=>new Vt(Ue),"PRIVATE")),pt(new A.wA("heartbeat",Ue=>new pn(Ue),"PRIVATE")),nt(jt,"0.9.23",je),nt(jt,"0.9.23","esm2017"),nt("fire-js","")}("")},4537:(Qe,ue,b)=>{b.d(ue,{H0:()=>Z,wA:()=>S});var u=b(5861),A=b(9058);class S{constructor(q,ne,pe){this.name=q,this.instanceFactory=ne,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const v="[DEFAULT]";class te{constructor(q,ne){this.name=q,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const ne=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(ne)){const pe=new A.BH;if(this.instancesDeferred.set(ne,pe),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:ne});Me&&pe.resolve(Me)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(q){var ne;const pe=this.normalizeInstanceIdentifier(q?.identifier),Me=null!==(ne=q?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Ie){if(Me)return null;throw Ie}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ge(oe){return"EAGER"===oe.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:v})}catch{}for(const[ne,pe]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(ne);try{const Ie=this.getOrInitializeService({instanceIdentifier:Me});pe.resolve(Ie)}catch{}}}}clearInstance(q=v){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,u.Z)(function*(){const ne=Array.from(q.instances.values());yield Promise.all([...ne.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...ne.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=v){return this.instances.has(q)}getOptions(q=v){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:ne={}}=q,pe=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:pe,options:ne});for(const[Ie,Ne]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(Ie)&&Ne.resolve(Me);return Me}onInit(q,ne){var pe;const Me=this.normalizeInstanceIdentifier(ne),Ie=null!==(pe=this.onInitCallbacks.get(Me))&&void 0!==pe?pe:new Set;Ie.add(q),this.onInitCallbacks.set(Me,Ie);const Ne=this.instances.get(Me);return Ne&&q(Ne,Me),()=>{Ie.delete(q)}}invokeOnInitCallbacks(q,ne){const pe=this.onInitCallbacks.get(ne);if(pe)for(const Me of pe)try{Me(q,ne)}catch{}}getOrInitializeService({instanceIdentifier:q,options:ne={}}){let pe=this.instances.get(q);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=q,oe===v?void 0:oe),options:ne}),this.instances.set(q,pe),this.instancesOptions.set(q,ne),this.invokeOnInitCallbacks(pe,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,pe)}catch{}var oe;return pe||null}normalizeInstanceIdentifier(q=v){return this.component?this.component.multipleInstances?q:v:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Z{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const ne=this.getProvider(q.name);if(ne.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);ne.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const ne=new te(q,this);return this.providers.set(q,ne),ne}getProviders(){return Array.from(this.providers.values())}}},7879:(Qe,ue,b)=>{b.d(ue,{Am:()=>oe,Ub:()=>Z,Yd:()=>ge,in:()=>A});const u=[];var A=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(A||{});const S={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},v=A.INFO,te={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},fe=(q,ne,...pe)=>{if(ne<q.logLevel)return;const Me=(new Date).toISOString(),Ie=te[ne];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ie](`[${Me}]  ${q.name}:`,...pe)};class ge{constructor(ne){this.name=ne,this._logLevel=v,this._logHandler=fe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in A))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?S[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...ne),this._logHandler(this,A.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...ne),this._logHandler(this,A.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,A.INFO,...ne),this._logHandler(this,A.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,A.WARN,...ne),this._logHandler(this,A.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,A.ERROR,...ne),this._logHandler(this,A.ERROR,...ne)}}function Z(q){u.forEach(ne=>{ne.setLogLevel(q)})}function oe(q,ne){for(const pe of u){let Me=null;ne&&ne.level&&(Me=S[ne.level]),pe.userLogHandler=null===q?null:(Ie,Ne,...xe)=>{const me=xe.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Ne>=(Me??Ie.logLevel)&&q({level:A[Ne].toLowerCase(),message:me,args:xe,type:Ie.name})}}}},7632:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5879),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4221),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6232),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5592),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2096),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3019),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2381),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(7328),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3020),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2181),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7398),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6328),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5178),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3620),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6306),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8180),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9773),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4664),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(836),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3093),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2460),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6699),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1993);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ue,b){if(this.action=ue,this.timestamp=b,this.type=PERFORM_ACTION,typeof ue.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ue){this.timestamp=ue,this.type=RESET}}class Rollback{constructor(ue){this.timestamp=ue,this.type=ROLLBACK}}class Commit{constructor(ue){this.timestamp=ue,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ue){this.id=ue,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ue,b,u=!0){this.start=ue,this.end=b,this.active=u,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ue){this.index=ue,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ue){this.actionId=ue,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ue){this.nextLiftedState=ue,this.type=IMPORT_STATE}}class LockChanges{constructor(ue){this.status=ue,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ue){this.status=ue,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Qe){const ue={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},b="function"==typeof Qe?Qe():Qe,A=b.features||!!b.logOnly&&{pause:!0,export:!0,test:!0}||ue.features;!0===A.import&&(A.import="custom");const S=Object.assign({},ue,{features:A},b);if(S.maxAge&&S.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${S.maxAge}`);return S}function difference(Qe,ue){return Qe.filter(b=>ue.indexOf(b)<0)}function unliftState(Qe){const{computedStates:ue,currentStateIndex:b}=Qe;if(b>=ue.length){const{state:A}=ue[ue.length-1];return A}const{state:u}=ue[b];return u}function unliftAction(Qe){return Qe.actionsById[Qe.nextActionId-1]}function liftAction(Qe){return new PerformAction(Qe,+Date.now())}function sanitizeActions(Qe,ue){return Object.keys(ue).reduce((b,u)=>{const A=Number(u);return b[A]=sanitizeAction(Qe,ue[A],A),b},{})}function sanitizeAction(Qe,ue,b){return{...ue,action:Qe(ue.action,b)}}function sanitizeStates(Qe,ue){return ue.map((b,u)=>({state:sanitizeState(Qe,b.state,u),error:b.error}))}function sanitizeState(Qe,ue,b){return Qe(ue,b)}function shouldFilterActions(Qe){return Qe.predicate||Qe.actionsSafelist||Qe.actionsBlocklist}function filterLiftedState(Qe,ue,b,u){const A=[],S={},v=[];return Qe.stagedActionIds.forEach((te,fe)=>{const ge=Qe.actionsById[te];ge&&(fe&&isActionFiltered(Qe.computedStates[fe],ge,ue,b,u)||(S[te]=ge,A.push(te),v.push(Qe.computedStates[fe])))}),{...Qe,stagedActionIds:A,actionsById:S,computedStates:v}}function isActionFiltered(Qe,ue,b,u,A){const S=b&&!b(Qe,ue.action),v=u&&!ue.action.type.match(u.map(fe=>escapeRegExp(fe)).join("|")),te=A&&ue.action.type.match(A.map(fe=>escapeRegExp(fe)).join("|"));return S||v||te}function escapeRegExp(Qe){return Qe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function injectZoneConfig(Qe){return{ngZone:Qe?(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.f3M)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R0b):null,connectInZone:Qe}}let DevtoolsDispatcher=(()=>{class Qe extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{static#e=this.\u0275fac=function(){let b;return function(A){return(b||(b=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Qe)))(A||Qe)}}();static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Qe,factory:Qe.\u0275fac})}return Qe})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Qe,ue,b){this.config=ue,this.dispatcher=b,this.zoneConfig=injectZoneConfig(this.config.connectInZone),this.devtoolsExtension=Qe,this.createActionStreams()}notify(Qe,ue){if(this.devtoolsExtension)if(Qe.type===PERFORM_ACTION){if(ue.isLocked||ue.isPaused)return;const b=unliftState(ue);if(shouldFilterActions(this.config)&&isActionFiltered(b,Qe,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const u=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,b,ue.currentStateIndex):b,A=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Qe,ue.nextActionId):Qe;this.sendToReduxDevtools(()=>this.extensionConnection.send(A,u))}else{const b={...ue,stagedActionIds:ue.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ue.actionsById):ue.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ue.computedStates):ue.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,b,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Qe=>{const ue=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ue,ue.init(),ue.subscribe(b=>Qe.next(b)),ue.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Qe=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ue=Qe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(te=>te.type===ExtensionActionTypes.START)),b=Qe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(te=>te.type===ExtensionActionTypes.STOP)),u=Qe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(te=>te.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(te=>this.unwrapAction(te.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(te=>te.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(fe=>fe.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>te),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(te)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(te))),S=Qe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(te=>te.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(te=>this.unwrapAction(te.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(b)),v=u.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(b));this.start$=ue.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(b)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>S)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>v))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Qe){const ue={name:Qe.name,features:Qe.features,serialize:Qe.serialize,autoPause:Qe.autoPause??!1,trace:Qe.trace??!1,traceLimit:Qe.traceLimit??75};return!1!==Qe.maxAge&&(ue.maxAge=Qe.maxAge),ue}sendToReduxDevtools(Qe){try{Qe()}catch(ue){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ue)}}static#_=this.\u0275fac=function Qe(ue){return new(ue||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac})}return DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Qe,ue,b,u,A){if(u)return{state:b,error:"Interrupted by an error up the chain"};let v,S=b;try{S=Qe(b,ue)}catch(te){v=te.toString(),A.handleError(te)}return{state:S,error:v}}function recomputeStates(Qe,ue,b,u,A,S,v,te,fe){if(ue>=Qe.length&&Qe.length===S.length)return Qe;const ge=Qe.slice(0,ue),Z=S.length-(fe?1:0);for(let oe=ue;oe<Z;oe++){const q=S[oe],ne=A[q].action,pe=ge[oe-1],Me=pe?pe.state:u,Ie=pe?pe.error:void 0,xe=v.indexOf(q)>-1?pe:computeNextEntry(b,ne,Me,Ie,te);ge.push(xe)}return fe&&ge.push(Qe[Qe.length-1]),ge}function liftInitialState(Qe,ue){return{monitorState:ue(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Qe,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Qe,ue,b,u,A={}){return S=>(v,te)=>{let{monitorState:fe,actionsById:ge,nextActionId:Z,stagedActionIds:oe,skippedActionIds:q,committedState:ne,currentStateIndex:pe,computedStates:Me,isLocked:Ie,isPaused:Ne}=v||ue;function xe(lt){let st=lt,se=oe.slice(1,st+1);for(let Te=0;Te<se.length;Te++){if(Me[Te+1].error){st=Te,se=oe.slice(1,st+1);break}delete ge[se[Te]]}q=q.filter(Te=>-1===se.indexOf(Te)),oe=[0,...oe.slice(st+1)],ne=Me[st].state,Me=Me.slice(st),pe=pe>st?pe-st:0}function me(){ge={0:liftAction(INIT_ACTION)},Z=1,oe=[0],q=[],ne=Me[pe].state,pe=0,Me=[]}v||(ge=Object.create(ge));let ye=0;switch(te.type){case LOCK_CHANGES:Ie=te.status,ye=1/0;break;case PAUSE_RECORDING:Ne=te.status,Ne?(oe=[...oe,Z],ge[Z]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),Z++,ye=oe.length-1,Me=Me.concat(Me[Me.length-1]),pe===oe.length-2&&pe++,ye=1/0):me();break;case RESET:ge={0:liftAction(INIT_ACTION)},Z=1,oe=[0],q=[],ne=Qe,pe=0,Me=[];break;case COMMIT:me();break;case ROLLBACK:ge={0:liftAction(INIT_ACTION)},Z=1,oe=[0],q=[],pe=0,Me=[];break;case TOGGLE_ACTION:{const{id:lt}=te;q=-1===q.indexOf(lt)?[lt,...q]:q.filter(se=>se!==lt),ye=oe.indexOf(lt);break}case SET_ACTIONS_ACTIVE:{const{start:lt,end:st,active:se}=te,Te=[];for(let Ce=lt;Ce<st;Ce++)Te.push(Ce);q=se?difference(q,Te):[...q,...Te],ye=oe.indexOf(lt);break}case JUMP_TO_STATE:pe=te.index,ye=1/0;break;case JUMP_TO_ACTION:{const lt=oe.indexOf(te.actionId);-1!==lt&&(pe=lt),ye=1/0;break}case SWEEP:oe=difference(oe,q),q=[],pe=Math.min(pe,oe.length-1);break;case PERFORM_ACTION:{if(Ie)return v||ue;if(Ne||v&&isActionFiltered(v.computedStates[pe],te,A.predicate,A.actionsSafelist,A.actionsBlocklist)){const st=Me[Me.length-1];Me=[...Me.slice(0,-1),computeNextEntry(S,te.action,st.state,st.error,b)],ye=1/0;break}A.maxAge&&oe.length===A.maxAge&&xe(1),pe===oe.length-1&&pe++;const lt=Z++;ge[lt]=te,oe=[...oe,lt],ye=oe.length-1;break}case IMPORT_STATE:({monitorState:fe,actionsById:ge,nextActionId:Z,stagedActionIds:oe,skippedActionIds:q,committedState:ne,currentStateIndex:pe,computedStates:Me,isLocked:Ie,isPaused:Ne}=te.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:ye=0,A.maxAge&&oe.length>A.maxAge&&(Me=recomputeStates(Me,ye,S,ne,ge,oe,q,b,Ne),xe(oe.length-A.maxAge),ye=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Me.filter(st=>st.error).length>0)ye=0,A.maxAge&&oe.length>A.maxAge&&(Me=recomputeStates(Me,ye,S,ne,ge,oe,q,b,Ne),xe(oe.length-A.maxAge),ye=1/0);else{if(!Ne&&!Ie){pe===oe.length-1&&pe++;const st=Z++;ge[st]=new PerformAction(te,+Date.now()),oe=[...oe,st],ye=oe.length-1,Me=recomputeStates(Me,ye,S,ne,ge,oe,q,b,Ne)}Me=Me.map(st=>({...st,state:S(st.state,RECOMPUTE_ACTION)})),pe=oe.length-1,A.maxAge&&oe.length>A.maxAge&&xe(oe.length-A.maxAge),ye=1/0}break;default:ye=1/0}return Me=recomputeStates(Me,ye,S,ne,ge,oe,q,b,Ne),fe=u(fe,te),{monitorState:fe,actionsById:ge,nextActionId:Z,stagedActionIds:oe,skippedActionIds:q,committedState:ne,currentStateIndex:pe,computedStates:Me,isLocked:Ie,isPaused:Ne}}}let StoreDevtools=(()=>{class Qe{constructor(b,u,A,S,v,te,fe,ge){const Z=liftInitialState(fe,ge.monitor),oe=liftReducerWith(fe,Z,te,ge.monitor,ge),q=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(u.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),S.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),b,S.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ne=A.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(oe)),pe=injectZoneConfig(ge.connectInZone),Me=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1);this.liftedStateSubscription=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ne),emitInZone(pe),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:xe},[me,ye])=>{let lt=ye(xe,me);return me.type!==PERFORM_ACTION&&shouldFilterActions(ge)&&(lt=filterLiftedState(lt,ge.predicate,ge.actionsSafelist,ge.actionsBlocklist)),S.notify(me,lt),{state:lt,action:me}},{state:Z,action:null})).subscribe(({state:xe,action:me})=>{Me.next(xe),me.type===PERFORM_ACTION&&v.next(me.action)}),this.extensionStartSubscription=S.start$.pipe(emitInZone(pe)).subscribe(()=>{this.refresh()});const Ie=Me.asObservable(),Ne=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(Ne,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(Ne,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=b,this.liftedState=Ie,this.state=Ne}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(b){this.dispatcher.next(b)}next(b){this.dispatcher.next(b)}error(b){}complete(){}performAction(b){this.dispatch(new PerformAction(b,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(b){this.dispatch(new ToggleAction(b))}jumpToAction(b){this.dispatch(new JumpToAction(b))}jumpToState(b){this.dispatch(new JumpToState(b))}importState(b){this.dispatch(new ImportState(b))}lockChanges(b){this.dispatch(new LockChanges(b))}pauseRecording(b){this.dispatch(new PauseRecording(b))}static#e=this.\u0275fac=function(u){return new(u||Qe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))};static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Qe,factory:Qe.\u0275fac})}return Qe})();function emitInZone({ngZone:Qe,connectInZone:ue}){return b=>ue?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(u=>b.subscribe({next:A=>Qe.run(()=>u.next(A)),error:A=>Qe.run(()=>u.error(A)),complete:()=>Qe.run(()=>u.complete())})):b}const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Qe,ue){return!!Qe||ue.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Qe="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Qe]<"u"?window[Qe]:null}function provideStoreDevtools(Qe={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Qe},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(Qe){return Qe.state}let StoreDevtoolsModule=(()=>{class Qe{static instrument(b={}){return{ngModule:Qe,providers:[provideStoreDevtools(b)]}}static#e=this.\u0275fac=function(u){return new(u||Qe)};static#t=this.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Qe});static#n=this.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({})}return Qe})()},4221:(Qe,ue,b)=>{b.d(ue,{UO:()=>Oe,qg:()=>Ze,Y6:()=>cn,mK:()=>Gt,n$:()=>dt,Y$:()=>H,FR:()=>ut,yh:()=>ht,CK:()=>us,Aw:()=>Ss,cr:()=>Ys,wb:()=>It,PH:()=>Ne,ZF:()=>pn,Lq:()=>br,P1:()=>xt,on:()=>da,Ky:()=>xe});var u=b(5879),A=b(5619),S=b(5592),v=b(8645),te=b(2381),fe=b(3093),ge=b(2460),Z=b(6699),oe=b(7398),ne=b(3997),pe=b(1993);const Me={};function Ne(ze,Yt){if(Me[ze]=(Me[ze]||0)+1,"function"==typeof Yt)return ye(ze,(...Mt)=>({...Yt(...Mt),type:ze}));switch(Yt?Yt._as:"empty"){case"empty":return ye(ze,()=>({type:ze}));case"props":return ye(ze,Mt=>({...Mt,type:ze}));default:throw new Error("Unexpected config.")}}function xe(){return{_as:"props",_p:void 0}}function ye(ze,Yt){return Object.defineProperty(Yt,"type",{value:ze,writable:!1})}const Ze="@ngrx/store/init";let Oe=(()=>{class ze extends A.X{constructor(){super({type:Ze})}next(Et){if("function"==typeof Et)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Et>"u")throw new TypeError("Actions must be objects");if(typeof Et.type>"u")throw new TypeError("Actions must have a type property");super.next(Et)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(Mt){return new(Mt||ze)};static#t=this.\u0275prov=u.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();const zt=[Oe],Qt=new u.OlP("@ngrx/store Internal Root Guard"),Vt=new u.OlP("@ngrx/store Internal Initial State"),cn=new u.OlP("@ngrx/store Initial State"),jt=new u.OlP("@ngrx/store Reducer Factory"),gn=new u.OlP("@ngrx/store Internal Reducer Factory Provider"),mn=new u.OlP("@ngrx/store Initial Reducers"),tn=new u.OlP("@ngrx/store Internal Initial Reducers"),bn=new u.OlP("@ngrx/store Store Features"),Se=new u.OlP("@ngrx/store Internal Store Reducers"),Le=new u.OlP("@ngrx/store Internal Feature Reducers"),Re=new u.OlP("@ngrx/store Internal Feature Configs"),tt=new u.OlP("@ngrx/store Internal Store Features"),et=new u.OlP("@ngrx/store Internal Feature Reducers Token"),Ae=new u.OlP("@ngrx/store Feature Reducers"),Dt=new u.OlP("@ngrx/store User Provided Meta Reducers"),be=new u.OlP("@ngrx/store Meta Reducers"),Be=new u.OlP("@ngrx/store Internal Resolved Meta Reducers"),ve=new u.OlP("@ngrx/store User Runtime Checks Config"),it=new u.OlP("@ngrx/store Internal User Runtime Checks Config"),_t=new u.OlP("@ngrx/store Internal Runtime Checks"),Nt=new u.OlP("@ngrx/store Check if Action types are unique");function Je(ze,Yt={}){const Et=Object.keys(ze),Mt={};for(let _n=0;_n<Et.length;_n++){const ri=Et[_n];"function"==typeof ze[ri]&&(Mt[ri]=ze[ri])}const dn=Object.keys(Mt);return function(ri,ti){ri=void 0===ri?Yt:ri;let Ii=!1;const mr={};for(let Fn=0;Fn<dn.length;Fn++){const Si=dn[Fn],co=ri[Si],ir=(0,Mt[Si])(co,ti);mr[Si]=ir,Ii=Ii||ir!==co}return Ii?mr:ri}}function Xt(...ze){return function(Yt){if(0===ze.length)return Yt;const Et=ze[ze.length-1];return ze.slice(0,-1).reduceRight((dn,_n)=>_n(dn),Et(Yt))}}function Tn(ze,Yt){return Array.isArray(Yt)&&Yt.length>0&&(ze=Xt.apply(null,[...Yt,ze])),(Et,Mt)=>{const dn=ze(Et);return(_n,ri)=>dn(_n=void 0===_n?Mt:_n,ri)}}new u.OlP("@ngrx/store Root Store Provider"),new u.OlP("@ngrx/store Feature State Provider");class dt extends S.y{}class Gt extends Oe{}const It="@ngrx/store/update-reducers";let Ke=(()=>{class ze extends A.X{get currentReducers(){return this.reducers}constructor(Et,Mt,dn,_n){super(_n(dn,Mt)),this.dispatcher=Et,this.initialState=Mt,this.reducers=dn,this.reducerFactory=_n}addFeature(Et){this.addFeatures([Et])}addFeatures(Et){const Mt=Et.reduce((dn,{reducers:_n,reducerFactory:ri,metaReducers:ti,initialState:Ii,key:mr})=>{const Fn="function"==typeof _n?function Hn(ze){const Yt=Array.isArray(ze)&&ze.length>0?Xt(...ze):Et=>Et;return(Et,Mt)=>(Et=Yt(Et),(dn,_n)=>Et(dn=void 0===dn?Mt:dn,_n))}(ti)(_n,Ii):Tn(ri,ti)(_n,Ii);return dn[mr]=Fn,dn},{});this.addReducers(Mt)}removeFeature(Et){this.removeFeatures([Et])}removeFeatures(Et){this.removeReducers(Et.map(Mt=>Mt.key))}addReducer(Et,Mt){this.addReducers({[Et]:Mt})}addReducers(Et){this.reducers={...this.reducers,...Et},this.updateReducers(Object.keys(Et))}removeReducer(Et){this.removeReducers([Et])}removeReducers(Et){Et.forEach(Mt=>{this.reducers=function Ot(ze,Yt){return Object.keys(ze).filter(Et=>Et!==Yt).reduce((Et,Mt)=>Object.assign(Et,{[Mt]:ze[Mt]}),{})}(this.reducers,Mt)}),this.updateReducers(Et)}updateReducers(Et){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:It,features:Et})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(Mt){return new(Mt||ze)(u.LFG(Gt),u.LFG(cn),u.LFG(mn),u.LFG(jt))};static#t=this.\u0275prov=u.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();const V=[Ke,{provide:dt,useExisting:Ke},{provide:Gt,useExisting:Oe}];let H=(()=>{class ze extends v.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(){let Et;return function(dn){return(Et||(Et=u.n5z(ze)))(dn||ze)}}();static#t=this.\u0275prov=u.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();const re=[H];class ut extends S.y{}let Ve=(()=>{class ze extends A.X{static#e=this.INIT=Ze;constructor(Et,Mt,dn,_n){super(_n);const mr=Et.pipe((0,fe.Q)(te.N)).pipe((0,ge.M)(Mt)).pipe((0,Z.R)(pt,{state:_n}));this.stateSubscription=mr.subscribe(({state:Fn,action:Si})=>{this.next(Fn),dn.next(Si)}),this.state=(0,pe.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(Mt){return new(Mt||ze)(u.LFG(Oe),u.LFG(dt),u.LFG(H),u.LFG(cn))};static#n=this.\u0275prov=u.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();function pt(ze={state:void 0},[Yt,Et]){const{state:Mt}=ze;return{state:Et(Mt,Yt),action:Yt}}const ke=[Ve,{provide:ut,useExisting:Ve}];let ht=(()=>{class ze extends S.y{constructor(Et,Mt,dn){super(),this.actionsObserver=Mt,this.reducerManager=dn,this.source=Et,this.state=Et.state}select(Et,...Mt){return qt.call(null,Et,...Mt)(this)}selectSignal(Et,Mt){return(0,u.Flj)(()=>Et(this.state()),Mt)}lift(Et){const Mt=new ze(this,this.actionsObserver,this.reducerManager);return Mt.operator=Et,Mt}dispatch(Et){this.actionsObserver.next(Et)}next(Et){this.actionsObserver.next(Et)}error(Et){this.actionsObserver.error(Et)}complete(){this.actionsObserver.complete()}addReducer(Et,Mt){this.reducerManager.addReducer(Et,Mt)}removeReducer(Et){this.reducerManager.removeReducer(Et)}static#e=this.\u0275fac=function(Mt){return new(Mt||ze)(u.LFG(ut),u.LFG(Oe),u.LFG(Ke))};static#t=this.\u0275prov=u.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();const rt=[ht];function qt(ze,Yt,...Et){return function(dn){let _n;if("string"==typeof ze){const ri=[Yt,...Et].filter(Boolean);_n=dn.pipe(function q(...ze){const Yt=ze.length;if(0===Yt)throw new Error("list of properties cannot be empty.");return(0,oe.U)(Et=>{let Mt=Et;for(let dn=0;dn<Yt;dn++){const _n=Mt?.[ze[dn]];if(!(typeof _n<"u"))return;Mt=_n}return Mt})}(ze,...ri))}else{if("function"!=typeof ze)throw new TypeError(`Unexpected type '${typeof ze}' in select operator, expected 'string' or 'function'`);_n=dn.pipe((0,oe.U)(ri=>ze(ri,Yt)))}return _n.pipe((0,ne.x)())}}const Lt="https://ngrx.io/guide/store/configuration/runtime-checks";function hn(ze){return void 0===ze}function Pn(ze){return null===ze}function Wn(ze){return Array.isArray(ze)}function At(ze){return"object"==typeof ze&&null!==ze}function Ee(ze){return"function"==typeof ze}let he=!1;function M(ze,Yt){return ze===Yt}function _e(ze,Yt=M,Et=M){let _n,Mt=null,dn=null;return{memoized:function mr(){if(void 0!==_n)return _n.result;if(!Mt)return dn=ze.apply(null,arguments),Mt=arguments,dn;if(!function x(ze,Yt,Et){for(let Mt=0;Mt<ze.length;Mt++)if(!Et(ze[Mt],Yt[Mt]))return!0;return!1}(arguments,Mt,Yt))return dn;const Fn=ze.apply(null,arguments);return Mt=arguments,Et(dn,Fn)?dn:(dn=Fn,Fn)},reset:function ri(){Mt=null,dn=null},setResult:function ti(Fn=void 0){_n={result:Fn}},clearResult:function Ii(){_n=void 0}}}function xt(...ze){return function un(ze,Yt={stateFn:Jt}){return function(...Et){let Mt=Et;if(Array.isArray(Mt[0])){const[Fn,...Si]=Mt;Mt=[...Fn,...Si]}else 1===Mt.length&&function Cn(ze){return!!ze&&"object"==typeof ze&&Object.values(ze).every(Yt=>"function"==typeof Yt)}(Mt[0])&&(Mt=function Gn(ze){const Yt=Object.values(ze),Et=Object.keys(ze);return[...Yt,(...dn)=>Et.reduce((_n,ri,ti)=>({..._n,[ri]:dn[ti]}),{})]}(Mt[0]));const dn=Mt.slice(0,Mt.length-1),_n=Mt[Mt.length-1],ri=dn.filter(Fn=>Fn.release&&"function"==typeof Fn.release),ti=ze(function(...Fn){return _n.apply(null,Fn)}),Ii=_e(function(Fn,Si){return Yt.stateFn.apply(null,[Fn,dn,Si,ti])});return Object.assign(Ii.memoized,{release:function mr(){Ii.reset(),ti.reset(),ri.forEach(Fn=>Fn.release())},projector:ti.memoized,setResult:Ii.setResult,clearResult:Ii.clearResult})}}(_e)(...ze)}function Jt(ze,Yt,Et,Mt){if(void 0===Et){const _n=Yt.map(ri=>ri(ze));return Mt.memoized.apply(null,_n)}const dn=Yt.map(_n=>_n(ze,Et));return Mt.memoized.apply(null,[...dn,Et])}function pn(ze){return xt(Yt=>{const Et=Yt[ze];return!function F(){return he}()&&(0,u.X6Q)()&&!(ze in Yt)&&console.warn(`@ngrx/store: The feature name "${ze}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${ze}', ...) or StoreModule.forFeature('${ze}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Et},Yt=>Yt)}function je(ze){return ze instanceof u.OlP?(0,u.f3M)(ze):ze}function Ue(ze,Yt){return Yt.map((Et,Mt)=>{if(ze[Mt]instanceof u.OlP){const dn=(0,u.f3M)(ze[Mt]);return{key:Et.key,reducerFactory:dn.reducerFactory?dn.reducerFactory:Je,metaReducers:dn.metaReducers?dn.metaReducers:[],initialState:dn.initialState}}return Et})}function bt(ze){return ze.map(Yt=>Yt instanceof u.OlP?(0,u.f3M)(Yt):Yt)}function Rt(ze){return"function"==typeof ze?ze():ze}function ae(ze,Yt){return ze.concat(Yt)}function mt(){if((0,u.f3M)(ht,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function we(ze){Object.freeze(ze);const Yt=Ee(ze);return Object.getOwnPropertyNames(ze).forEach(Et=>{if(!Et.startsWith("\u0275")&&function yt(ze,Yt){return Object.prototype.hasOwnProperty.call(ze,Yt)}(ze,Et)&&(!Yt||"caller"!==Et&&"callee"!==Et&&"arguments"!==Et)){const Mt=ze[Et];(At(Mt)||Ee(Mt))&&!Object.isFrozen(Mt)&&we(Mt)}}),ze}function Ft(ze,Yt=[]){return(hn(ze)||Pn(ze))&&0===Yt.length?{path:["root"],value:ze}:Object.keys(ze).reduce((Mt,dn)=>{if(Mt)return Mt;const _n=ze[dn];return function We(ze){return Ee(ze)&&ze.hasOwnProperty("\u0275cmp")}(_n)?Mt:!(hn(_n)||Pn(_n)||function An(ze){return"number"==typeof ze}(_n)||function Tt(ze){return"boolean"==typeof ze}(_n)||function Kn(ze){return"string"==typeof ze}(_n)||Wn(_n))&&(function Fe(ze){if(!function nt(ze){return At(ze)&&!Wn(ze)}(ze))return!1;const Yt=Object.getPrototypeOf(ze);return Yt===Object.prototype||null===Yt}(_n)?Ft(_n,[...Yt,dn]):{path:[...Yt,dn],value:_n})},!1)}function nn(ze,Yt){if(!1===ze)return;const Et=ze.path.join("."),Mt=new Error(`Detected unserializable ${Yt} at "${Et}". ${Lt}#strict${Yt}serializability`);throw Mt.value=ze.value,Mt.unserializablePath=Et,Mt}function Ln(ze){return(0,u.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ze}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ei({strictActionSerializability:ze,strictStateSerializability:Yt}){return Et=>ze||Yt?function Xe(ze,Yt){return function(Et,Mt){Yt.action(Mt)&&nn(Ft(Mt),"action");const dn=ze(Et,Mt);return Yt.state()&&nn(Ft(dn),"state"),dn}}(Et,{action:Mt=>ze&&!_i(Mt),state:()=>Yt}):Et}function ci({strictActionImmutability:ze,strictStateImmutability:Yt}){return Et=>ze||Yt?function X(ze,Yt){return function(Et,Mt){const dn=Yt.action(Mt)?we(Mt):Mt,_n=ze(Et,dn);return Yt.state()?we(_n):_n}}(Et,{action:Mt=>ze&&!_i(Mt),state:()=>Yt}):Et}function _i(ze){return ze.type.startsWith("@ngrx")}function Nn({strictActionWithinNgZone:ze}){return Yt=>ze?function Bn(ze,Yt){return function(Et,Mt){if(Yt.action(Mt)&&!u.R0b.isInAngularZone())throw new Error(`Action '${Mt.type}' running outside NgZone. ${Lt}#strictactionwithinngzone`);return ze(Et,Mt)}}(Yt,{action:Et=>ze&&!_i(Et)}):Yt}function vi(ze){return[{provide:it,useValue:ze},{provide:ve,useFactory:Ji,deps:[it]},{provide:_t,deps:[ve],useFactory:Ln},{provide:be,multi:!0,deps:[_t],useFactory:ci},{provide:be,multi:!0,deps:[_t],useFactory:ei},{provide:be,multi:!0,deps:[_t],useFactory:Nn}]}function ur(){return[{provide:Nt,multi:!0,deps:[_t],useFactory:Hi}]}function Ji(ze){return ze}function Hi(ze){if(!ze.strictActionTypeUniqueness)return;const Yt=Object.entries(Me).filter(([,Et])=>Et>1).map(([Et])=>Et);if(Yt.length)throw new Error(`Action types are registered more than once, ${Yt.map(Et=>`"${Et}"`).join(", ")}. ${Lt}#strictactiontypeuniqueness`)}function go(ze={},Yt={}){return[{provide:Qt,useFactory:mt},{provide:Vt,useValue:Yt.initialState},{provide:cn,useFactory:Rt,deps:[Vt]},{provide:tn,useValue:ze},{provide:Se,useExisting:ze instanceof u.OlP?ze:tn},{provide:mn,deps:[tn,[new u.tBr(Se)]],useFactory:je},{provide:Dt,useValue:Yt.metaReducers?Yt.metaReducers:[]},{provide:Be,deps:[be,Dt],useFactory:ae},{provide:gn,useValue:Yt.reducerFactory?Yt.reducerFactory:Je},{provide:jt,deps:[gn,Be],useFactory:Tn},zt,V,re,ke,rt,vi(Yt.runtimeChecks),ur()]}function As(ze,Yt,Et={}){return[{provide:Re,multi:!0,useValue:ze instanceof Object?{}:Et},{provide:bn,multi:!0,useValue:{key:ze instanceof Object?ze.name:ze,reducerFactory:Et instanceof u.OlP||!Et.reducerFactory?Je:Et.reducerFactory,metaReducers:Et instanceof u.OlP||!Et.metaReducers?[]:Et.metaReducers,initialState:Et instanceof u.OlP||!Et.initialState?void 0:Et.initialState}},{provide:tt,deps:[Re,bn],useFactory:Ue},{provide:Le,multi:!0,useValue:ze instanceof Object?ze.reducer:Yt},{provide:et,multi:!0,useExisting:Yt instanceof u.OlP?Yt:Le},{provide:Ae,multi:!0,deps:[Le,[new u.tBr(et)]],useFactory:bt},ur()]}let Ys=(()=>{class ze{constructor(Et,Mt,dn,_n,ri,ti){}static#e=this.\u0275fac=function(Mt){return new(Mt||ze)(u.LFG(Oe),u.LFG(dt),u.LFG(H),u.LFG(ht),u.LFG(Qt,8),u.LFG(Nt,8))};static#t=this.\u0275mod=u.oAB({type:ze});static#n=this.\u0275inj=u.cJS({})}return ze})(),us=(()=>{class ze{constructor(Et,Mt,dn,_n,ri){this.features=Et,this.featureReducers=Mt,this.reducerManager=dn;const ti=Et.map((Ii,mr)=>{const Si=Mt.shift()[mr];return{...Ii,reducers:Si,initialState:Rt(Ii.initialState)}});dn.addFeatures(ti)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(Mt){return new(Mt||ze)(u.LFG(tt),u.LFG(Ae),u.LFG(Ke),u.LFG(Ys),u.LFG(Nt,8))};static#t=this.\u0275mod=u.oAB({type:ze});static#n=this.\u0275inj=u.cJS({})}return ze})(),Ss=(()=>{class ze{static forRoot(Et,Mt){return{ngModule:Ys,providers:[...go(Et,Mt)]}}static forFeature(Et,Mt,dn={}){return{ngModule:us,providers:[...As(Et,Mt,dn)]}}static#e=this.\u0275fac=function(Mt){return new(Mt||ze)};static#t=this.\u0275mod=u.oAB({type:ze});static#n=this.\u0275inj=u.cJS({})}return ze})();function da(...ze){return{reducer:ze.pop(),types:ze.map(Mt=>Mt.type)}}function br(ze,...Yt){const Et=new Map;for(const Mt of Yt)for(const dn of Mt.types){const _n=Et.get(dn);Et.set(dn,_n?(ti,Ii)=>Mt.reducer(_n(ti,Ii),Ii):Mt.reducer)}return function(Mt=ze,dn){const _n=Et.get(dn.type);return _n?_n(Mt,dn):Mt}}},6365:(Qe,ue,b)=>{b.r(ue);var u=b(5861),A=b(3106),S=b(4562),v=b(9058),ge=(b(534),b(7879),b(4537));function Z(){return window}function ne(){return ne=(0,u.Z)(function*(F,M,x){var W;const{BuildInfo:_e}=Z();(0,S.au)(M.sessionId,"AuthEvent did not contain a session ID");const xt=yield function ye(F){return lt.apply(this,arguments)}(M.sessionId),Jt={};return(0,S.av)()?Jt.ibi=_e.packageName:(0,S.aw)()?Jt.apn=_e.packageName:(0,S.ax)(F,"operation-not-supported-in-this-environment"),_e.displayName&&(Jt.appDisplayName=_e.displayName),Jt.sessionId=xt,(0,S.ay)(F,x,M.type,void 0,null!==(W=M.eventId)&&void 0!==W?W:void 0,Jt)}),ne.apply(this,arguments)}function Me(){return(Me=(0,u.Z)(function*(F){const{BuildInfo:M}=Z(),x={};(0,S.av)()?x.iosBundleId=M.packageName:(0,S.aw)()?x.androidPackageName=M.packageName:(0,S.ax)(F,"operation-not-supported-in-this-environment"),yield(0,S.az)(F,x)})).apply(this,arguments)}function xe(){return(xe=(0,u.Z)(function*(F,M,x){const{cordova:W}=Z();let _e=()=>{};try{yield new Promise((xt,Jt)=>{let un=null;function pn(){var ot;xt();const Ge=null===(ot=W.plugins.browsertab)||void 0===ot?void 0:ot.close;"function"==typeof Ge&&Ge(),"function"==typeof x?.close&&x.close()}function Cn(){un||(un=window.setTimeout(()=>{Jt((0,S.aB)(F,"redirect-cancelled-by-user"))},2e3))}function Gn(){"visible"===document?.visibilityState&&Cn()}M.addPassiveListener(pn),document.addEventListener("resume",Cn,!1),(0,S.aw)()&&document.addEventListener("visibilitychange",Gn,!1),_e=()=>{M.removePassiveListener(pn),document.removeEventListener("resume",Cn,!1),document.removeEventListener("visibilitychange",Gn,!1),un&&window.clearTimeout(un)}})}finally{_e()}})).apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(F){const M=function st(F){if((0,S.au)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const M=new ArrayBuffer(F.length),x=new Uint8Array(M);for(let W=0;W<F.length;W++)x[W]=F.charCodeAt(W);return x}(F),x=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(x)).map(_e=>_e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Te extends S.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInialized(),this.passiveListeners.forEach(x=>x(M)),super.onEvent(M)}initialized(){var M=this;return(0,u.Z)(function*(){yield M.initPromise})()}}function Ze(F){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,u.Z)(function*(F){const M=yield Vt()._get(cn(F));return M&&(yield Vt()._remove(cn(F))),M})).apply(this,arguments)}function Qt(){const F=[];for(let x=0;x<20;x++){const W=Math.floor(62*Math.random());F.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(W))}return F.join("")}function Vt(){return(0,S.aE)(S.b)}function cn(F){return(0,S.aF)("authEvent",F.config.apiKey,F.name)}function mn(F){if(!F?.includes("?"))return{};const[M,...x]=F.split("?");return(0,v.zd)(x.join("?"))}const Se=class bn{constructor(){this._redirectPersistence=S.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=S.aG,this._overrideRedirectResult=S.aH}_initialize(M){var x=this;return(0,u.Z)(function*(){const W=M._key();let _e=x.eventManagers.get(W);return _e||(_e=new Te(M),x.eventManagers.set(W,_e),x.attachCallbackListeners(M,_e)),_e})()}_openPopup(M){(0,S.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,x,W,_e){var xt=this;return(0,u.Z)(function*(){!function me(F){var M,x,W,_e,xt,Jt,un,pn,Cn,Gn;const ot=Z();(0,S.aC)("function"==typeof(null===(M=ot?.universalLinks)||void 0===M?void 0:M.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,S.aC)(typeof(null===(x=ot?.BuildInfo)||void 0===x?void 0:x.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,S.aC)("function"==typeof(null===(xt=null===(_e=null===(W=ot?.cordova)||void 0===W?void 0:W.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===xt?void 0:xt.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,S.aC)("function"==typeof(null===(pn=null===(un=null===(Jt=ot?.cordova)||void 0===Jt?void 0:Jt.plugins)||void 0===un?void 0:un.browsertab)||void 0===pn?void 0:pn.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,S.aC)("function"==typeof(null===(Gn=null===(Cn=ot?.cordova)||void 0===Cn?void 0:Cn.InAppBrowser)||void 0===Gn?void 0:Gn.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const Jt=yield xt._initialize(M);yield Jt.initialized(),Jt.resetRedirect(),(0,S.aI)(),yield xt._originValidation(M);const un=function Ce(F,M,x=null){return{type:M,eventId:x,urlResponse:null,sessionId:Qt(),postBody:null,tenantId:F.tenantId,error:(0,S.aB)(F,"no-auth-event")}}(M,W,_e);yield function qe(F,M){return Vt()._set(cn(F),M)}(M,un);const pn=yield function q(F,M,x){return ne.apply(this,arguments)}(M,un,x),Cn=yield function Ie(F){const{cordova:M}=Z();return new Promise(x=>{M.plugins.browsertab.isAvailable(W=>{let _e=null;W?M.plugins.browsertab.openUrl(F):_e=M.InAppBrowser.open(F,(0,S.aA)()?"_blank":"_system","location=yes"),x(_e)})})}(pn);return function Ne(F,M,x){return xe.apply(this,arguments)}(M,Jt,Cn)})()}_isIframeWebStorageSupported(M,x){throw new Error("Method not implemented.")}_originValidation(M){const x=M._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function pe(F){return Me.apply(this,arguments)}(M)),this.originValidationPromises[x]}attachCallbackListeners(M,x){const{universalLinks:W,handleOpenURL:_e,BuildInfo:xt}=Z(),Jt=setTimeout((0,u.Z)(function*(){yield Ze(M),x.onEvent(Le())}),500),un=function(){var Gn=(0,u.Z)(function*(ot){clearTimeout(Jt);const Ge=yield Ze(M);let ct=null;Ge&&ot?.url&&(ct=function zt(F,M){var x,W;const _e=function gn(F){const M=mn(F),x=M.link?decodeURIComponent(M.link):void 0,W=mn(x).link,_e=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return mn(_e).link||_e||W||x||F}(M);if(_e.includes("/__/auth/callback")){const xt=mn(_e),Jt=xt.firebaseError?function jt(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(xt.firebaseError)):null,un=null===(W=null===(x=Jt?.code)||void 0===x?void 0:x.split("auth/"))||void 0===W?void 0:W[1],pn=un?(0,S.aB)(un):null;return pn?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:pn,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:_e,postBody:null}}return null}(Ge,ot.url)),x.onEvent(ct||Le())});return function(Ge){return Gn.apply(this,arguments)}}();typeof W<"u"&&"function"==typeof W.subscribe&&W.subscribe(null,un);const pn=_e,Cn=`${xt.packageName.toLowerCase()}://`;Z().handleOpenURL=function(){var Gn=(0,u.Z)(function*(ot){if(ot.toLowerCase().startsWith(Cn)&&un({url:ot}),"function"==typeof pn)try{pn(ot)}catch(Ge){console.error(Ge)}});return function(ot){return Gn.apply(this,arguments)}}()}};function Le(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,S.aB)("no-auth-event")}}function Dt(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function Be(F=(0,v.z$)()){return!("file:"!==Dt()&&"ionic:"!==Dt()&&"capacitor:"!==Dt()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kt(){try{const F=self.localStorage,M=S.aN();if(F)return F.setItem(M,"1"),F.removeItem(M),!function Nt(F=(0,v.z$)()){return function it(){return(0,v.w1)()&&11===document?.documentMode}()||function _t(F=(0,v.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,v.hl)()}catch{return yn()&&(0,v.hl)()}return!1}function yn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Je(){return(function be(){return"http:"===Dt()||"https:"===Dt()}()||(0,v.ru)()||Be())&&!function ve(){return(0,v.b$)()||(0,v.UG)()}()&&Kt()&&!yn()}function Ot(){return Be()&&typeof document<"u"}function Tn(){return(Tn=(0,u.Z)(function*(){return!!Ot()&&new Promise(F=>{const M=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),F(!0)})})})).apply(this,arguments)}const dt={LOCAL:"local",NONE:"none",SESSION:"session"},Gt=S.aC,It="persistence";function V(F){return H.apply(this,arguments)}function H(){return(H=(0,u.Z)(function*(F){yield F._initializationPromise;const M=ut(),x=S.aF(It,F.config.apiKey,F.name);M&&M.setItem(x,F._getPersistence())})).apply(this,arguments)}function ut(){var F;try{return(null===(F=function Hn(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const Ve=S.aC;class pt{constructor(){this.browserResolver=S.aE(S.k),this.cordovaResolver=S.aE(Se),this.underlyingResolver=null,this._redirectPersistence=S.a,this._completeRedirectFn=S.aG,this._overrideRedirectResult=S.aH}_initialize(M){var x=this;return(0,u.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,x,W,_e){var xt=this;return(0,u.Z)(function*(){return yield xt.selectUnderlyingResolver(),xt.assertedUnderlyingResolver._openPopup(M,x,W,_e)})()}_openRedirect(M,x,W,_e){var xt=this;return(0,u.Z)(function*(){return yield xt.selectUnderlyingResolver(),xt.assertedUnderlyingResolver._openRedirect(M,x,W,_e)})()}_isIframeWebStorageSupported(M,x){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,x)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Ot()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ve(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,u.Z)(function*(){if(M.underlyingResolver)return;const x=yield function Xt(){return Tn.apply(this,arguments)}();M.underlyingResolver=x?M.cordovaResolver:M.browserResolver})()}}function ke(F){return F.unwrap()}function rt(F){return Lt(F)}function Lt(F){const{_tokenResponse:M}=F instanceof v.ZR?F.customData:F;if(!M)return null;if(!(F instanceof v.ZR)&&"temporaryProof"in M&&"phoneNumber"in M)return S.P.credentialFromResult(F);const x=M.providerId;if(!x||x===S.p.PASSWORD)return null;let W;switch(x){case S.p.GOOGLE:W=S.X;break;case S.p.FACEBOOK:W=S.W;break;case S.p.GITHUB:W=S.Y;break;case S.p.TWITTER:W=S.$;break;default:const{oauthIdToken:_e,oauthAccessToken:xt,oauthTokenSecret:Jt,pendingToken:un,nonce:pn}=M;return xt||Jt||_e||un?un?x.startsWith("saml.")?S.aQ._create(x,un):S.N._fromParams({providerId:x,signInMethod:x,pendingToken:un,idToken:_e,accessToken:xt}):new S.Z(x).credential({idToken:_e,accessToken:xt,rawNonce:pn}):null}return F instanceof v.ZR?W.credentialFromError(F):W.credentialFromResult(F)}function hn(F,M){return M.catch(x=>{throw x instanceof v.ZR&&function qt(F,M){var x;const W=null===(x=M.customData)||void 0===x?void 0:x._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new Kn(F,S.as(F,M));else if(W){const _e=Lt(M),xt=M;_e&&(xt.credential=_e,xt.tenantId=W.tenantId||void 0,xt.email=W.email||void 0,xt.phoneNumber=W.phoneNumber||void 0)}}(F,x),x}).then(x=>{const _e=x.user;return{operationType:x.operationType,credential:rt(x),additionalUserInfo:S.aq(x),user:Tt.getOrCreate(_e)}})}function Pn(F,M){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(F,M){const x=yield M;return{verificationId:x.verificationId,confirm:W=>hn(F,x.confirm(W))}})).apply(this,arguments)}class Kn{constructor(M,x){this.resolver=x,this.auth=function ht(F){return F.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return hn(ke(this.auth),this.resolver.resolveSignIn(M))}}class Tt{constructor(M){this._delegate=M,this.multiFactor=S.at(M)}static getOrCreate(M){return Tt.USER_MAP.has(M)||Tt.USER_MAP.set(M,new Tt(M)),Tt.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var x=this;return(0,u.Z)(function*(){return hn(x.auth,S.a2(x._delegate,M))})()}linkWithPhoneNumber(M,x){var W=this;return(0,u.Z)(function*(){return Pn(W.auth,S.l(W._delegate,M,x))})()}linkWithPopup(M){var x=this;return(0,u.Z)(function*(){return hn(x.auth,S.d(x._delegate,M,pt))})()}linkWithRedirect(M){var x=this;return(0,u.Z)(function*(){return yield V(S.aJ(x.auth)),S.g(x._delegate,M,pt)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var x=this;return(0,u.Z)(function*(){return hn(x.auth,S.a3(x._delegate,M))})()}reauthenticateWithPhoneNumber(M,x){return Pn(this.auth,S.r(this._delegate,M,x))}reauthenticateWithPopup(M){return hn(this.auth,S.e(this._delegate,M,pt))}reauthenticateWithRedirect(M){var x=this;return(0,u.Z)(function*(){return yield V(S.aJ(x.auth)),S.h(x._delegate,M,pt)})()}sendEmailVerification(M){return S.ag(this._delegate,M)}unlink(M){var x=this;return(0,u.Z)(function*(){return yield S.ap(x._delegate,M),x})()}updateEmail(M){return S.al(this._delegate,M)}updatePassword(M){return S.am(this._delegate,M)}updatePhoneNumber(M){return S.u(this._delegate,M)}updateProfile(M){return S.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,x){return S.ah(this._delegate,M,x)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tt.USER_MAP=new WeakMap;const An=S.aC;let At=(()=>{class F{constructor(x,W){if(this.app=x,W.isInitialized())return this._delegate=W.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_e}=x.options;An(_e,"invalid-api-key",{appName:x.name}),An(_e,"invalid-api-key",{appName:x.name});const xt=typeof window<"u"?pt:void 0;this._delegate=W.initialize({options:{persistence:Fe(_e,x.name),popupRedirectResolver:xt}}),this._delegate._updateErrorMap(S.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(x){this._delegate.languageCode=x}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(x){this._delegate.tenantId=x}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(x,W){S.K(this._delegate,x,W)}applyActionCode(x){return S.a7(this._delegate,x)}checkActionCode(x){return S.a8(this._delegate,x)}confirmPasswordReset(x,W){return S.a6(this._delegate,x,W)}createUserWithEmailAndPassword(x,W){var _e=this;return(0,u.Z)(function*(){return hn(_e._delegate,S.aa(_e._delegate,x,W))})()}fetchProvidersForEmail(x){return this.fetchSignInMethodsForEmail(x)}fetchSignInMethodsForEmail(x){return S.af(this._delegate,x)}isSignInWithEmailLink(x){return S.ad(this._delegate,x)}getRedirectResult(){var x=this;return(0,u.Z)(function*(){An(Je(),x._delegate,"operation-not-supported-in-this-environment");const W=yield S.j(x._delegate,pt);return W?hn(x._delegate,Promise.resolve(W)):{credential:null,user:null}})()}addFrameworkForLogging(x){!function Re(F,M){(0,S.aJ)(F)._logFramework(M)}(this._delegate,x)}onAuthStateChanged(x,W,_e){const{next:xt,error:Jt,complete:un}=nt(x,W,_e);return this._delegate.onAuthStateChanged(xt,Jt,un)}onIdTokenChanged(x,W,_e){const{next:xt,error:Jt,complete:un}=nt(x,W,_e);return this._delegate.onIdTokenChanged(xt,Jt,un)}sendSignInLinkToEmail(x,W){return S.ac(this._delegate,x,W)}sendPasswordResetEmail(x,W){return S.a5(this._delegate,x,W||void 0)}setPersistence(x){var W=this;return(0,u.Z)(function*(){let _e;switch(function Ke(F,M){Gt(Object.values(dt).includes(M),F,"invalid-persistence-type"),(0,v.b$)()?Gt(M!==dt.SESSION,F,"unsupported-persistence-type"):(0,v.UG)()?Gt(M===dt.NONE,F,"unsupported-persistence-type"):yn()?Gt(M===dt.NONE||M===dt.LOCAL&&(0,v.hl)(),F,"unsupported-persistence-type"):Gt(M===dt.NONE||Kt(),F,"unsupported-persistence-type")}(W._delegate,x),x){case dt.SESSION:_e=S.a;break;case dt.LOCAL:_e=(yield S.aE(S.i)._isAvailable())?S.i:S.b;break;case dt.NONE:_e=S.U;break;default:return S.ax("argument-error",{appName:W._delegate.name})}return W._delegate.setPersistence(_e)})()}signInAndRetrieveDataWithCredential(x){return this.signInWithCredential(x)}signInAnonymously(){return hn(this._delegate,S.a0(this._delegate))}signInWithCredential(x){return hn(this._delegate,S.a1(this._delegate,x))}signInWithCustomToken(x){return hn(this._delegate,S.a4(this._delegate,x))}signInWithEmailAndPassword(x,W){return hn(this._delegate,S.ab(this._delegate,x,W))}signInWithEmailLink(x,W){return hn(this._delegate,S.ae(this._delegate,x,W))}signInWithPhoneNumber(x,W){return Pn(this._delegate,S.s(this._delegate,x,W))}signInWithPopup(x){var W=this;return(0,u.Z)(function*(){return An(Je(),W._delegate,"operation-not-supported-in-this-environment"),hn(W._delegate,S.c(W._delegate,x,pt))})()}signInWithRedirect(x){var W=this;return(0,u.Z)(function*(){return An(Je(),W._delegate,"operation-not-supported-in-this-environment"),yield V(W._delegate),S.f(W._delegate,x,pt)})()}updateCurrentUser(x){return this._delegate.updateCurrentUser(x)}verifyPasswordResetCode(x){return S.a9(this._delegate,x)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=dt,F})();function nt(F,M,x){let W=F;"function"!=typeof F&&({next:W,error:M,complete:x}=F);const _e=W;return{next:Jt=>_e(Jt&&Tt.getOrCreate(Jt)),error:M,complete:x}}function Fe(F,M){const x=function re(F,M){const x=ut();if(!x)return[];const W=S.aF(It,F,M);switch(x.getItem(W)){case dt.NONE:return[S.U];case dt.LOCAL:return[S.i,S.a];case dt.SESSION:return[S.a];default:return[]}}(F,M);if(typeof self<"u"&&!x.includes(S.i)&&x.push(S.i),typeof window<"u")for(const W of[S.b,S.a])x.includes(W)||x.push(W);return x.includes(S.U)||x.push(S.U),x}class Ee{constructor(){this.providerId="phone",this._delegate=new S.P(ke(A.Z.auth()))}static credential(M,x){return S.P.credential(M,x)}verifyPhoneNumber(M,x){return this._delegate.verifyPhoneNumber(M,x)}unwrap(){return this._delegate}}Ee.PHONE_SIGN_IN_METHOD=S.P.PHONE_SIGN_IN_METHOD,Ee.PROVIDER_ID=S.P.PROVIDER_ID;const We=S.aC;class yt{constructor(M,x,W=A.Z.app()){var _e;We(null===(_e=W.options)||void 0===_e?void 0:_e.apiKey,"invalid-api-key",{appName:W.name}),this._delegate=new S.R(W.auth(),M,x),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q(F){F.INTERNAL.registerComponent(new ge.wA("auth-compat",M=>{const x=M.getProvider("app-compat").getImmediate(),W=M.getProvider("auth");return new At(x,W)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:S.A.EMAIL_SIGNIN,PASSWORD_RESET:S.A.PASSWORD_RESET,RECOVER_EMAIL:S.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:S.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:S.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:S.A.VERIFY_EMAIL}},EmailAuthProvider:S.V,FacebookAuthProvider:S.W,GithubAuthProvider:S.Y,GoogleAuthProvider:S.X,OAuthProvider:S.Z,SAMLAuthProvider:S._,PhoneAuthProvider:Ee,PhoneMultiFactorGenerator:S.m,RecaptchaVerifier:yt,TwitterAuthProvider:S.$,Auth:At,AuthCredential:S.L,Error:v.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.4.9")}(A.Z)},5861:(Qe,ue,b)=>{function u(S,v,te,fe,ge,Z,oe){try{var q=S[Z](oe),ne=q.value}catch(pe){return void te(pe)}q.done?v(ne):Promise.resolve(ne).then(fe,ge)}function A(S){return function(){var v=this,te=arguments;return new Promise(function(fe,ge){var Z=S.apply(v,te);function oe(ne){u(Z,fe,ge,oe,q,"next",ne)}function q(ne){u(Z,fe,ge,oe,q,"throw",ne)}oe(void 0)})}}b.d(ue,{Z:()=>A})},7582:(Qe,ue,b)=>{function v(Se,Le){var Re={};for(var tt in Se)Object.prototype.hasOwnProperty.call(Se,tt)&&Le.indexOf(tt)<0&&(Re[tt]=Se[tt]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(tt=Object.getOwnPropertySymbols(Se);et<tt.length;et++)Le.indexOf(tt[et])<0&&Object.prototype.propertyIsEnumerable.call(Se,tt[et])&&(Re[tt[et]]=Se[tt[et]])}return Re}function pe(Se,Le,Re,tt){return new(Re||(Re=Promise))(function(Ae,Dt){function be(it){try{ve(tt.next(it))}catch(_t){Dt(_t)}}function Be(it){try{ve(tt.throw(it))}catch(_t){Dt(_t)}}function ve(it){it.done?Ae(it.value):function et(Ae){return Ae instanceof Re?Ae:new Re(function(Dt){Dt(Ae)})}(it.value).then(be,Be)}ve((tt=tt.apply(Se,Le||[])).next())})}function se(Se){return this instanceof se?(this.v=Se,this):new se(Se)}function Te(Se,Le,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,tt=Re.apply(Se,Le||[]),Ae=[];return et={},Dt("next"),Dt("throw"),Dt("return"),et[Symbol.asyncIterator]=function(){return this},et;function Dt(Nt){tt[Nt]&&(et[Nt]=function(Kt){return new Promise(function(yn,Je){Ae.push([Nt,Kt,yn,Je])>1||be(Nt,Kt)})})}function be(Nt,Kt){try{!function Be(Nt){Nt.value instanceof se?Promise.resolve(Nt.value.v).then(ve,it):_t(Ae[0][2],Nt)}(tt[Nt](Kt))}catch(yn){_t(Ae[0][3],yn)}}function ve(Nt){be("next",Nt)}function it(Nt){be("throw",Nt)}function _t(Nt,Kt){Nt(Kt),Ae.shift(),Ae.length&&be(Ae[0][0],Ae[0][1])}}function qe(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Le=Se[Symbol.asyncIterator];return Le?Le.call(Se):(Se=function xe(Se){var Le="function"==typeof Symbol&&Symbol.iterator,Re=Le&&Se[Le],tt=0;if(Re)return Re.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&tt>=Se.length&&(Se=void 0),{value:Se&&Se[tt++],done:!Se}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),Re={},tt("next"),tt("throw"),tt("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function tt(Ae){Re[Ae]=Se[Ae]&&function(Dt){return new Promise(function(be,Be){!function et(Ae,Dt,be,Be){Promise.resolve(Be).then(function(ve){Ae({value:ve,done:be})},Dt)}(be,Be,(Dt=Se[Ae](Dt)).done,Dt.value)})}}}b.d(ue,{FC:()=>Te,KL:()=>qe,_T:()=>v,mG:()=>pe,qq:()=>se}),"function"==typeof SuppressedError&&SuppressedError}},Qe=>{Qe(Qe.s=5356)}]);