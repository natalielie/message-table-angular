"use strict";(self.webpackChunkmessage_table_angular=self.webpackChunkmessage_table_angular||[]).push([[453],{1453:(_t,Me,g)=>{g.r(Me),g.d(Me,{LazyLoadingModule:()=>Ht});var p=g(4190),ue=g(3365),l=g(3566),y=g(5313),Ne=g(8645),Fe=g(9773),j=g(7700),E=g(6223),me=g(6306),B=g(2096),n=g(5879),T=g(7398),pe=g(8504),ee=g(5592),te=g(6814),S=g(1920),Z=g(7217),Y=(g(6365),g(2459)),rt=g(3019),ce=g(3093),$=g(4664),De=g(940),it=g(1374),Oe=g(4674);function he(a,e){return(0,Oe.m)(e)?(0,$.w)(()=>a,e):(0,$.w)(()=>a)}var ve=g(5137),_e=g(2181);g(7142);const Ue=new n.OlP("angularfire2.auth.use-emulator"),ke=new n.OlP("angularfire2.auth.settings"),ne=new n.OlP("angularfire2.auth.tenant-id"),Ze=new n.OlP("angularfire2.auth.langugage-code"),We=new n.OlP("angularfire2.auth.use-device-language"),Ge=new n.OlP("angularfire.auth.persistence"),Ce=(a,e,t,s,d,f,I,A)=>(0,Z.cc)(`${a.name}.auth`,"AngularFireAuth",a.name,()=>{const F=e.runOutsideAngular(()=>a.auth());if(t&&F.useEmulator(...t),s&&(F.tenantId=s),F.languageCode=d,f&&F.useDeviceLanguage(),I)for(const[K,X]of Object.entries(I))F.settings[K]=X;return A&&F.setPersistence(A),F},[t,s,d,f,I,A]);let Be=(()=>{class a{authState;idToken;user;idTokenResult;credential;constructor(t,s,d,f,I,A,F,K,X,le,ct,vt){const et=new Ne.x,de=(0,B.of)(void 0).pipe((0,ce.Q)(I.outsideAngular),(0,$.w)(()=>f.runOutsideAngular(()=>Promise.resolve().then(g.bind(g,6365)))),(0,T.U)(()=>(0,Z.on)(t,f,s)),(0,T.U)(H=>Ce(H,f,A,K,X,le,F,ct)),(0,De.d)({bufferSize:1,refCount:!1}));if((0,te.PM)(d))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,B.of)(null);else{de.pipe((0,it.P)()).subscribe();const H=de.pipe((0,$.w)(x=>x.getRedirectResult().then(U=>U,()=>null)),S.iC,(0,De.d)({bufferSize:1,refCount:!1})),tt=de.pipe((0,$.w)(x=>new ee.y(U=>({unsubscribe:f.runOutsideAngular(()=>x.onAuthStateChanged(k=>U.next(k),k=>U.error(k),()=>U.complete()))})))),nt=de.pipe((0,$.w)(x=>new ee.y(U=>({unsubscribe:f.runOutsideAngular(()=>x.onIdTokenChanged(k=>U.next(k),k=>U.error(k),()=>U.complete()))}))));this.authState=H.pipe(he(tt),(0,ve.R)(I.outsideAngular),(0,ce.Q)(I.insideAngular)),this.user=H.pipe(he(nt),(0,ve.R)(I.outsideAngular),(0,ce.Q)(I.insideAngular)),this.idToken=this.user.pipe((0,$.w)(x=>x?(0,Y.D)(x.getIdToken()):(0,B.of)(null))),this.idTokenResult=this.user.pipe((0,$.w)(x=>x?(0,Y.D)(x.getIdTokenResult()):(0,B.of)(null))),this.credential=(0,rt.T)(H,et,this.authState.pipe((0,_e.h)(x=>!x))).pipe((0,T.U)(x=>x?.user?x:null),(0,ve.R)(I.outsideAngular),(0,ce.Q)(I.insideAngular))}return(0,Z.pX)(this,de,f,{spy:{apply:(H,tt,nt)=>{(H.startsWith("signIn")||H.startsWith("createUser"))&&nt.then(x=>et.next(x))}}})}static \u0275fac=function(s){return new(s||a)(n.LFG(Z.Dh),n.LFG(Z.xv,8),n.LFG(n.Lbi),n.LFG(n.R0b),n.LFG(S.HU),n.LFG(Ue,8),n.LFG(ke,8),n.LFG(ne,8),n.LFG(Ze,8),n.LFG(We,8),n.LFG(Ge,8),n.LFG(S.Rf,8))};static \u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})();var st=g(6321),we=g(7921),V=g(9384),Ie=g(6699),Ye=g(3997),at=g(3106),c=g(5776),$e=g(9058),ot=g(4537);function re(a,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new c.WA("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ae(){if(typeof Uint8Array>"u")throw new c.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ze(){if(!(0,c.Me)())throw new c.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Q{constructor(e){this._delegate=e}static fromBase64String(e){return ze(),new Q(c.Jj.fromBase64String(e))}static fromUint8Array(e){return Ae(),new Q(c.Jj.fromUint8Array(e))}toBase64(){return ze(),this._delegate.toBase64()}toUint8Array(){return Ae(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ee(a){return function M(a,e){if("object"!=typeof a||null===a)return!1;const t=a;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(a,["next","error","complete"])}class ie{enableIndexedDbPersistence(e,t){return(0,c.ST)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return(0,c.fH)(e._delegate)}clearIndexedDbPersistence(e){return(0,c.Fc)(e._delegate)}}class Se{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof c.l7||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&(0,c.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){(0,c.at)(this._delegate,e,t,s)}enableNetwork(){return(0,c.Ix)(this._delegate)}disableNetwork(){return(0,c.TF)(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,(0,c.Wi)("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,c.Mx)(this._delegate)}onSnapshotsInSync(e){return(0,c.sc)(this._delegate,e)}get app(){if(!this._appCompat)throw new c.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new z(this,(0,c.hJ)(this._delegate,e))}catch(t){throw w(t,"collection()","Firestore.collection()")}}doc(e){try{return new N(this,(0,c.JU)(this._delegate,e))}catch(t){throw w(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new P(this,(0,c.B$)(this._delegate,e))}catch(t){throw w(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return(0,c.i3)(this._delegate,t=>e(new fe(this,t)))}batch(){return(0,c.qY)(this._delegate),new He(new c.PU(this._delegate,e=>(0,c.GL)(this._delegate,e)))}loadBundle(e){return(0,c.Pb)(this._delegate,e)}namedQuery(e){return(0,c.L$)(this._delegate,e).then(t=>t?new P(this,t):null)}}class ge extends c.u7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Q(new c.Jj(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return N.forKey(t,this.firestore,null)}}class fe{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ge(e)}get(e){const t=q(e);return this._delegate.get(t).then(s=>new se(this._firestore,new c.xU(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const d=q(e);return s?(re("Transaction.set",s),this._delegate.set(d,t,s)):this._delegate.set(d,t),this}update(e,t,s,...d){const f=q(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,s,...d),this}delete(e){const t=q(e);return this._delegate.delete(t),this}}class He{constructor(e){this._delegate=e}set(e,t,s){const d=q(e);return s?(re("WriteBatch.set",s),this._delegate.set(d,t,s)):this._delegate.set(d,t),this}update(e,t,s,...d){const f=q(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,s,...d),this}delete(e){const t=q(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class J{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new c.$q(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ae(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=J.INSTANCES;let d=s.get(e);d||(d=new WeakMap,s.set(e,d));let f=d.get(t);return f||(f=new J(e,new ge(e),t),d.set(t,f)),f}}J.INSTANCES=new WeakMap;class N{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ge(e)}static forPath(e,t,s){if(e.length%2!=0)throw new c.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new N(t,new c.my(t._delegate,s,new c.Ky(e)))}static forKey(e,t,s){return new N(t,new c.my(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new z(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new z(this.firestore,(0,c.hJ)(this._delegate,e))}catch(t){throw w(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$e.m9)(e))instanceof c.my&&(0,c.Eo)(this._delegate,e)}set(e,t){t=re("DocumentReference.set",t);try{return t?(0,c.pl)(this._delegate,e,t):(0,c.pl)(this._delegate,e)}catch(s){throw w(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?(0,c.r7)(this._delegate,e):(0,c.r7)(this._delegate,e,t,...s)}catch(d){throw w(d,"updateDoc()","DocumentReference.update()")}}delete(){return(0,c.oe)(this._delegate)}onSnapshot(...e){const t=be(e),s=Ve(e,d=>new se(this.firestore,new c.xU(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return(0,c.cf)(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?(0,c.kl)(this._delegate):"server"===e?.source?(0,c.Xk)(this._delegate):(0,c.QT)(this._delegate),t.then(s=>new se(this.firestore,new c.xU(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new N(this.firestore,this._delegate.withConverter(e?J.getInstance(this.firestore,e):null))}}function w(a,e,t){return a.message=a.message.replace(e,t),a}function be(a){for(const e of a)if("object"==typeof e&&!Ee(e))return e;return{}}function Ve(a,e){var t,s;let d;return d=Ee(a[0])?a[0]:Ee(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:f=>{d.next&&d.next(e(f))},error:null===(t=d.error)||void 0===t?void 0:t.bind(d),complete:null===(s=d.complete)||void 0===s?void 0:s.bind(d)}}class se{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new N(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return(0,c.qK)(this._delegate,e._delegate)}}class ae extends se{data(e){const t=this._delegate.data(e);return this._delegate._converter||(0,c.K9)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class P{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ge(e)}where(e,t,s){try{return new P(this.firestore,(0,c.IO)(this._delegate,(0,c.ar)(e,t,s)))}catch(d){throw w(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new P(this.firestore,(0,c.IO)(this._delegate,(0,c.Xo)(e,t)))}catch(s){throw w(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new P(this.firestore,(0,c.IO)(this._delegate,(0,c.b9)(e)))}catch(t){throw w(t,"limit()","Query.limit()")}}limitToLast(e){try{return new P(this.firestore,(0,c.IO)(this._delegate,(0,c.vh)(e)))}catch(t){throw w(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new P(this.firestore,(0,c.IO)(this._delegate,(0,c.e0)(...e)))}catch(t){throw w(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new P(this.firestore,(0,c.IO)(this._delegate,(0,c.TQ)(...e)))}catch(t){throw w(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new P(this.firestore,(0,c.IO)(this._delegate,(0,c.Lx)(...e)))}catch(t){throw w(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new P(this.firestore,(0,c.IO)(this._delegate,(0,c.Wu)(...e)))}catch(t){throw w(t,"endAt()","Query.endAt()")}}isEqual(e){return(0,c.iE)(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?(0,c.UQ)(this._delegate):"server"===e?.source?(0,c.zN)(this._delegate):(0,c.PL)(this._delegate),t.then(s=>new oe(this.firestore,new c.W(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=be(e),s=Ve(e,d=>new oe(this.firestore,new c.W(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return(0,c.cf)(this._delegate,t,s)}withConverter(e){return new P(this.firestore,this._delegate.withConverter(e?J.getInstance(this.firestore,e):null))}}class R{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ae(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oe{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new P(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ae(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new R(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new ae(this._firestore,s))})}isEqual(e){return(0,c.qK)(this._delegate,e._delegate)}}class z extends P{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new N(this.firestore,e):null}doc(e){try{return new N(this.firestore,void 0===e?(0,c.JU)(this._delegate):(0,c.JU)(this._delegate,e))}catch(t){throw w(t,"doc()","CollectionReference.doc()")}}add(e){return(0,c.ET)(this._delegate,e).then(t=>new N(this.firestore,t))}isEqual(e){return(0,c.Eo)(this._delegate,e._delegate)}withConverter(e){return new z(this.firestore,this._delegate.withConverter(e?J.getInstance(this.firestore,e):null))}}function q(a){return(0,c.Cf)(a,c.my)}class D{constructor(...e){this._delegate=new c.Lz(...e)}static documentId(){return new D(c.Xb.keyField().canonicalString())}isEqual(e){return(e=(0,$e.m9)(e))instanceof c.Lz&&this._delegate._internalPath.isEqual(e._internalPath)}}class O{constructor(e){this._delegate=e}static serverTimestamp(){const e=(0,c.Bt)();return e._methodName="FieldValue.serverTimestamp",new O(e)}static delete(){const e=(0,c.AK)();return e._methodName="FieldValue.delete",new O(e)}static arrayUnion(...e){const t=(0,c.vr)(...e);return t._methodName="FieldValue.arrayUnion",new O(t)}static arrayRemove(...e){const t=(0,c.Ab)(...e);return t._methodName="FieldValue.arrayRemove",new O(t)}static increment(e){const t=(0,c.nP)(e);return t._methodName="FieldValue.increment",new O(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Qe={Firestore:Se,GeoPoint:c.F8,Timestamp:c.EK,Blob:Q,Transaction:fe,WriteBatch:He,DocumentReference:N,DocumentSnapshot:se,Query:P,QueryDocumentSnapshot:ae,QuerySnapshot:oe,CollectionReference:z,FieldPath:D,FieldValue:O,setLogLevel:function Pe(a){(0,c.Ub)(a)},CACHE_SIZE_UNLIMITED:c.IX};function Ke(a,e){return function Te(a,e=st.z){return new ee.y(t=>{let s;return null!=e?e.schedule(()=>{s=a.onSnapshot({includeMetadataChanges:!0},t)}):s=a.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(a,e)}function Re(a,e){return Ke(a,e).pipe((0,T.U)(t=>({payload:t,type:"query"})))}!function lt(a){(function qe(a,e){a.INTERNAL.registerComponent(new ot.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),d=t.getProvider("firestore").getImmediate();return e(s,d)},"PUBLIC").setServiceProps(Object.assign({},Qe)))})(a,(e,t)=>new Se(e,t,new ie)),a.registerVersion("@firebase/firestore-compat","0.3.22")}(at.Z);class je{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:d,query:f}=G(s,t);return new v(d,f,this.afs)}snapshotChanges(){return function dt(a,e){return Ke(a,e).pipe((0,we.O)(void 0),(0,V.G)(),(0,T.U)(t=>{const[s,d]=t;return d.exists?s?.exists?{payload:d,type:"modified"}:{payload:d,type:"added"}:{payload:d,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(S.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,T.U)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,Y.D)(this.ref.get(e)).pipe(S.iC)}}function o(a,e){return Re(a,e).pipe((0,we.O)(void 0),(0,V.G)(),(0,T.U)(t=>{const[s,d]=t,f=d.payload.docChanges(),I=f.map(A=>({type:A.type,payload:A}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(d.payload.metadata)&&d.payload.docs.forEach((A,F)=>{const K=f.find(le=>le.doc.ref.isEqual(A.ref)),X=s?.payload.docs.find(le=>le.ref.isEqual(A.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(A.metadata)||!K&&X&&JSON.stringify(X.metadata)===JSON.stringify(A.metadata)||I.push({type:"modified",payload:{oldIndex:F,newIndex:F,type:"modified",doc:A}})}),I}))}function i(a,e,t){return o(a,t).pipe((0,Ie.R)((s,d)=>function r(a,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(a=function h(a,e){switch(e.type){case"added":if(!a[e.newIndex]||!a[e.newIndex].doc.ref.isEqual(e.doc.ref))return u(a,e.newIndex,0,e);break;case"modified":if(null==a[e.oldIndex]||a[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=a.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return u(a,e.newIndex,1,e)}break;case"removed":if(a[e.oldIndex]&&a[e.oldIndex].doc.ref.isEqual(e.doc.ref))return u(a,e.oldIndex,1)}return a}(a,s))}),a}(s,d.map(f=>f.payload),e),[]),(0,Ye.x)(),(0,T.U)(s=>s.map(d=>({type:d.type,payload:d}))))}function u(a,e,t,...s){const d=a.slice();return d.splice(e,t,...s),d}function m(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class v{ref;query;afs;constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=o(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,T.U)(s=>s.filter(d=>e.indexOf(d.type)>-1)))),t.pipe((0,we.O)(void 0),(0,V.G)(),(0,_e.h)(([s,d])=>d.length>0||!s),(0,T.U)(([,s])=>s),S.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ie.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=m(e);return i(this.query,t,this.afs.schedulers.outsideAngular).pipe(S.iC)}valueChanges(e={}){return Re(this.query,this.afs.schedulers.outsideAngular).pipe((0,T.U)(t=>t.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),S.iC)}get(e){return(0,Y.D)(this.query.get(e)).pipe(S.iC)}add(e){return this.ref.add(e)}doc(e){return new je(this.ref.doc(e),this.afs)}}class C{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?o(this.query,this.afs.schedulers.outsideAngular).pipe((0,T.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,_e.h)(t=>t.length>0),S.iC):o(this.query,this.afs.schedulers.outsideAngular).pipe(S.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ie.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=m(e);return i(this.query,t,this.afs.schedulers.outsideAngular).pipe(S.iC)}valueChanges(e={}){return Re(this.query,this.afs.schedulers.outsideAngular).pipe((0,T.U)(s=>s.payload.docs.map(d=>e.idField?{[e.idField]:d.id,...d.data()}:d.data())),S.iC)}get(e){return(0,Y.D)(this.query.get(e)).pipe(S.iC)}}const b=new n.OlP("angularfire2.enableFirestorePersistence"),L=new n.OlP("angularfire2.firestore.persistenceSettings"),W=new n.OlP("angularfire2.firestore.settings"),_=new n.OlP("angularfire2.firestore.use-emulator");function G(a,e=(t=>t)){return{query:e(a),ref:a}}let Xe=(()=>{class a{schedulers;firestore;persistenceEnabled$;constructor(t,s,d,f,I,A,F,K,X,le,ct,vt,et,de,H,tt,nt){this.schedulers=F;const x=(0,Z.on)(t,A,s),U=X;le&&Ce(x,A,ct,et,de,H,vt,tt),[this.firestore,this.persistenceEnabled$]=(0,Z.cc)(`${x.name}.firestore`,"AngularFirestore",x.name,()=>{const k=A.runOutsideAngular(()=>x.firestore());if(f&&k.settings(f),U&&k.useEmulator(...U),d&&!(0,te.PM)(I)){const Vt=()=>{try{return(0,Y.D)(k.enablePersistence(K||void 0).then(()=>!0,()=>!1))}catch(Qt){return typeof console<"u"&&console.warn(Qt),(0,B.of)(!1)}};return[k,A.runOutsideAngular(Vt)]}return[k,(0,B.of)(!1)]},[f,U,d])}collection(t,s){let d;d="string"==typeof t?this.firestore.collection(t):t;const{ref:f,query:I}=G(d,s),A=this.schedulers.ngZone.run(()=>f);return new v(A,I,this)}collectionGroup(t,s){const d=s||(I=>I),f=this.firestore.collectionGroup(t);return new C(d(f),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const d=this.schedulers.ngZone.run(()=>s);return new je(d,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||a)(n.LFG(Z.Dh),n.LFG(Z.xv,8),n.LFG(b,8),n.LFG(W,8),n.LFG(n.Lbi),n.LFG(n.R0b),n.LFG(S.HU),n.LFG(L,8),n.LFG(_,8),n.LFG(Be,8),n.LFG(Ue,8),n.LFG(ke,8),n.LFG(ne,8),n.LFG(Ze,8),n.LFG(We,8),n.LFG(Ge,8),n.LFG(S.Rf,8))};static \u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})();var yt=g(1839);let ft=(()=>{class a{constructor(t,s){this.fbs=t,this.loaderService=s}getMessages(){return this.loaderService.showLoader(),this.fbs.collection("messages").snapshotChanges().pipe((0,T.U)(t=>t.map(s=>{const d=s.payload.doc.data();return d.id=s.payload.doc.id,{...d}},this.loaderService.hideLoader())),(0,me.K)(t=>(console.error("An error occurred:",t),(0,pe._)("Something went wrong"))))}sendMessage(t){return this.loaderService.showLoader(),new ee.y(s=>{this.loaderService.showLoader(),this.fbs.collection("messages").add({name:t.name,text:t.text,date:(new Date).toString()}).then(()=>{s.next(!0),s.complete()}).catch(d=>{console.error("Error adding document: ",d),s.next(!1),s.complete()})})}deleteMessage(t){return this.loaderService.showLoader(),new ee.y(s=>{this.loaderService.showLoader(),this.fbs.collection("messages").doc(t).delete().then(()=>{s.next(!0),s.complete(),this.loaderService.hideLoader()}).catch(d=>{console.error("Error deleting document: ",d),s.next(!1),s.complete(),this.loaderService.hideLoader()})})}static#e=this.\u0275fac=function(s){return new(s||a)(n.LFG(Xe),n.LFG(yt.D))};static#t=this.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Ct=g(2939),mt=g(2296),ut=g(4170),wt=g(4516),It=g(6263);const xt=["messageForm"];function At(a,e){1&a&&(n.TgZ(0,"mat-error",18),n._uU(1," Message name is required "),n.qZA())}function Et(a,e){1&a&&(n.TgZ(0,"mat-error",18),n._uU(1," Message text is required "),n.qZA())}function St(a,e){1&a&&(n.TgZ(0,"mat-error",18),n._uU(1," Message text length should not be more than 255 symbols "),n.qZA())}function Pt(a,e){if(1&a){const t=n.EpF();n.TgZ(0,"div",2)(1,"h1",3)(2,"strong"),n._uU(3,"New Message"),n.qZA()(),n.TgZ(4,"div",4)(5,"button",5),n.NdJ("click",function(){n.CHM(t);const d=n.oxw();return n.KtG(d.closeDialog())}),n._uU(6,"\xd7"),n.qZA()(),n.TgZ(7,"div",6)(8,"div",7)(9,"form",8),n.NdJ("ngSubmit",function(){n.CHM(t);const d=n.oxw();return n.KtG(d.onSubmit())}),n.TgZ(10,"mat-form-field",9)(11,"mat-label"),n._uU(12,"Message"),n.qZA(),n._UZ(13,"input",10),n.YNc(14,At,2,0,"mat-error",11),n.qZA(),n.TgZ(15,"mat-form-field",12),n._UZ(16,"textarea",13,14),n.YNc(18,Et,2,0,"mat-error",11),n.YNc(19,St,2,0,"mat-error",11),n.qZA(),n.TgZ(20,"div",15)(21,"button",16),n._uU(22," Submit "),n.qZA()()(),n.TgZ(23,"div",15)(24,"button",17),n.NdJ("click",function(){n.CHM(t);const d=n.oxw();return n.KtG(d.closeDialog())}),n._uU(25," Cancel "),n.qZA()()()()()}if(2&a){const t=n.oxw();n.xp6(9),n.Q6J("formGroup",t.messageForm),n.xp6(5),n.Q6J("ngIf",t.messageForm.controls.name.invalid&&(t.messageForm.controls.name.dirty||t.messageForm.controls.name.touched)),n.xp6(4),n.Q6J("ngIf",t.messageForm.controls.text.value.length<1&&(t.messageForm.controls.text.dirty||t.messageForm.controls.text.touched)),n.xp6(1),n.Q6J("ngIf",t.messageForm.controls.text.value.length>255&&(t.messageForm.controls.text.dirty||t.messageForm.controls.text.touched)),n.xp6(2),n.Q6J("disabled",!t.messageForm.valid)}}function bt(a,e){if(1&a){const t=n.EpF();n.TgZ(0,"div",19)(1,"h1",3)(2,"strong"),n._uU(3,"Delete Message"),n.qZA()(),n.TgZ(4,"div",6)(5,"p"),n._uU(6," Sure to delete "),n.TgZ(7,"b"),n._uU(8),n.qZA(),n._uU(9,"? "),n.qZA()(),n.TgZ(10,"div",20)(11,"button",21),n.NdJ("click",function(){n.CHM(t);const d=n.oxw();return n.KtG(d.deleteMessage())}),n._uU(12," Delete "),n.qZA(),n.TgZ(13,"button",22),n.NdJ("click",function(){n.CHM(t);const d=n.oxw();return n.KtG(d.closeDialog())}),n._uU(14,"Cancel"),n.qZA()()()}if(2&a){const t=n.oxw();n.xp6(8),n.Oqu(t.data.name)}}let pt=(()=>{class a{constructor(t,s,d,f,I){this.dialogRef=t,this.data=s,this.firebaseService=d,this.formBuilder=f,this._snackBar=I,this.action="Ok",this.snackbarDuration=3e3,this.messageForm=this.formBuilder.group({name:new E.NI("",[E.kI.required]),text:new E.NI("",[E.kI.required,E.kI.maxLength(255)])}),this.destroy$=new Ne.x,s&&(this.messageData=s)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onSubmit(){this.messageForm.valid&&this.firebaseService.sendMessage(this.messageForm.value).pipe((0,Fe.R)(this.destroy$),(0,me.K)(()=>(0,B.of)(this.resultText="Message was not send, try again",this.openSnackBar(this.resultText,this.action)))).subscribe(()=>{this.closeDialog(),this.resultText="Message was sent!",this.openSnackBar(this.resultText,this.action)})}deleteMessage(){this.firebaseService.deleteMessage(this.messageData.id).pipe((0,Fe.R)(this.destroy$),(0,me.K)(()=>(0,B.of)(this.resultText="Message was not removed, try again",this.openSnackBar(this.resultText,this.action)))).subscribe(()=>{this.closeDialog(),this.resultText="Message was removed",this.openSnackBar(this.resultText,this.action)})}closeDialog(){this.formReference?.resetForm(),this.dialogRef.close()}openSnackBar(t,s){this._snackBar.open(t,s,{duration:this.snackbarDuration})}static#e=this.\u0275fac=function(s){return new(s||a)(n.Y36(j.so),n.Y36(j.WI),n.Y36(ft),n.Y36(E.qu),n.Y36(Ct.ux))};static#t=this.\u0275cmp=n.Xpm({type:a,selectors:[["app-dialog-box"]],viewQuery:function(s,d){if(1&s&&n.Gf(xt,5),2&s){let f;n.iGM(f=n.CRH())&&(d.formReference=f.first)}},decls:2,vars:2,consts:[["class","create-message",4,"ngIf"],["class","delete-message",4,"ngIf"],[1,"create-message"],["mat-dialog-title",""],[1,"btn-close-wrapper"],["mat-button","",1,"btn","btn-close",3,"click"],["mat-dialog-content",""],[1,"card-body"],[1,"form",3,"formGroup","ngSubmit"],["appearance","outline",1,"name","field"],["matInput","","value","","formControlName","name"],["class","text-danger",4,"ngIf"],["appearance","outline",1,"text","field"],["matInput","","cdkTextareaAutosize","","placeholder","Write your message here...","value","","formControlName","text","cdkAutosizeMinRows","7","cdkAutosizeMaxRows","10"],["autosize","cdkTextareaAutosize"],[1,"button-wrapper"],["mat-raised-button","","color","primary","type","submit",1,"btn","btn-submit",3,"disabled"],["mat-raised-button","",1,"btn","btn-cancel",3,"click"],[1,"text-danger"],[1,"delete-message"],["mat-dialog-actions","",1,"button-wrapper-delete"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"]],template:function(s,d){1&s&&(n.YNc(0,Pt,26,5,"div",0),n.YNc(1,bt,15,1,"div",1)),2&s&&(n.Q6J("ngIf",!d.messageData),n.xp6(1),n.Q6J("ngIf",d.messageData))},dependencies:[te.O5,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,mt.lW,ut.KE,ut.hX,ut.TO,wt.Nt,It.IC,j.uh,j.xY,j.H8],styles:[".button-wrapper[_ngcontent-%COMP%]{margin-top:38px;gap:20px;display:flex;justify-content:center}.btn-cancel[_ngcontent-%COMP%]{position:absolute;top:84%;right:30%}.btn-submit[_ngcontent-%COMP%]{margin-right:30%}.btn-close[_ngcontent-%COMP%]{font-size:25px}.btn-close-wrapper[_ngcontent-%COMP%]{position:absolute;right:45px;top:15px;width:30px;height:30px}.button-wrapper-delete[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:10px;gap:20px}.card-body[_ngcontent-%COMP%]{display:flex;margin:0 5%}.name.field[_ngcontent-%COMP%]{margin-bottom:10px}mat-form-field[_ngcontent-%COMP%]{width:400px}.text[_ngcontent-%COMP%]{height:200px}button[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return a})();var Tt=g(617);function Rt(a,e){1&a&&(n.TgZ(0,"th",25),n._uU(1,"ID"),n.qZA())}function Mt(a,e){if(1&a&&(n.TgZ(0,"td",26),n._uU(1),n.qZA()),2&a){const t=e.$implicit;n.xp6(1),n.hij(" ",t.id," ")}}function Nt(a,e){1&a&&(n.TgZ(0,"th",27),n._uU(1," Creation Date "),n.qZA())}function Ft(a,e){if(1&a&&(n.TgZ(0,"td",26),n._uU(1),n.ALo(2,"date"),n.qZA()),2&a){const t=e.$implicit;n.xp6(1),n.hij(" ",n.xi3(2,1,t.date,"medium")," ")}}function Dt(a,e){1&a&&(n.TgZ(0,"th",28),n._uU(1," Name "),n.qZA())}function Ot(a,e){if(1&a&&(n.TgZ(0,"td",26),n._uU(1),n.qZA()),2&a){const t=e.$implicit;n.xp6(1),n.Oqu(t.name)}}function Lt(a,e){1&a&&(n.TgZ(0,"th",29),n._uU(1," Message Text "),n.qZA())}function Ut(a,e){if(1&a&&(n.TgZ(0,"td",30),n._uU(1),n.qZA()),2&a){const t=e.$implicit,s=n.oxw();n.xp6(1),n.hij(" ",s.showMessageText(t.text)," ")}}function kt(a,e){1&a&&(n.TgZ(0,"th",31),n._uU(1," Action "),n.qZA())}function Zt(a,e){if(1&a){const t=n.EpF();n.TgZ(0,"td",32)(1,"div",33)(2,"button",34),n.NdJ("click",function(){const f=n.CHM(t).$implicit,I=n.oxw();return n.KtG(I.openDialog(f))}),n.TgZ(3,"div",4)(4,"mat-icon"),n._uU(5,"delete"),n.qZA()()()()()}}function Wt(a,e){1&a&&n._UZ(0,"tr",35)}function Gt(a,e){1&a&&n._UZ(0,"tr",36)}function Bt(a,e){1&a&&(n.ynx(0,37),n.TgZ(1,"h2"),n._uU(2,"There's no message yet"),n.qZA(),n.BQk())}const Yt=function(){return[5,10,20,50]};let $t=(()=>{class a{constructor(t,s){this.dialog=t,this.firebaseService=s,this.displayedColumns=["id","date","name","text","action"],this.dataSource=new y.by([]),this.maxMessageLength=100,this.dialogDeleteWidth="400px",this.dialogCreateWidth="500px",this.dialogCreateHeight="500px",this.page=0,this.pageSize=5,this.destroy$=new Ne.x}ngOnInit(){this.firebaseService.getMessages().pipe((0,Fe.R)(this.destroy$)).subscribe(t=>{this.dataSource.data=t,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.paginator&&(this.paginator.pageIndex=this.page,this.paginator.pageSize=this.pageSize)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}openDialog(t=null){let s;s=this.dialog.open(pt,t?{width:this.dialogDeleteWidth,data:t}:{width:this.dialogCreateWidth,height:this.dialogCreateHeight})}showMessageText(t){return t.length<=this.maxMessageLength?t:`${t.substring(0,this.maxMessageLength)}...`}static#e=this.\u0275fac=function(s){return new(s||a)(n.Y36(j.uw),n.Y36(ft))};static#t=this.\u0275cmp=n.Xpm({type:a,selectors:[["app-messages-page"]],viewQuery:function(s,d){if(1&s&&(n.Gf(ue.NW,5),n.Gf(l.YE,5)),2&s){let f;n.iGM(f=n.CRH())&&(d.paginator=f.first),n.iGM(f=n.CRH())&&(d.sort=f.first)}},decls:31,vars:6,consts:[[1,"title-wrapper"],[1,"title-holder"],[1,"list-title"],["mat--raised-button","","color","primary","mat-flat-button","",1,"go-to-create-page",3,"click"],[1,"mat-icon"],[1,"table-holder"],[1,"container","table"],["matSort","","matSortActive","date","matSortDirection","desc",1,"message-table","mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["class","header id-column","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["class","header date-column","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["class","header name-column","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","text"],["class","header text-column","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-column-cell",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","class","header action-column",4,"matHeaderCellDef"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-message",4,"ngIf"],[3,"pageSizeOptions"],["mat-header-cell","",1,"header","id-column"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"header","date-column"],["mat-header-cell","",1,"header","name-column"],["mat-header-cell","",1,"header","text-column"],["mat-cell","",1,"text-column-cell"],["mat-header-cell","",1,"header","action-column"],["mat-cell","",1,"action-link"],[1,"btn-wrapper"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-message"]],template:function(s,d){1&s&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),n._uU(3,"Message Box"),n.qZA()()(),n.TgZ(4,"button",3),n.NdJ("click",function(){return d.openDialog()}),n.TgZ(5,"div",4)(6,"mat-icon"),n._uU(7,"send"),n.qZA()()(),n.TgZ(8,"div",5)(9,"div",6)(10,"div")(11,"mat-table",7),n.ynx(12,8),n.YNc(13,Rt,2,0,"th",9),n.YNc(14,Mt,2,1,"td",10),n.BQk(),n.ynx(15,11),n.YNc(16,Nt,2,0,"th",12),n.YNc(17,Ft,3,4,"td",10),n.BQk(),n.ynx(18,13),n.YNc(19,Dt,2,0,"th",14),n.YNc(20,Ot,2,1,"td",10),n.BQk(),n.ynx(21,15),n.YNc(22,Lt,2,0,"th",16),n.YNc(23,Ut,2,1,"td",17),n.BQk(),n.ynx(24,18),n.YNc(25,kt,2,0,"th",19),n.YNc(26,Zt,6,0,"td",20),n.BQk(),n.YNc(27,Wt,1,0,"tr",21),n.YNc(28,Gt,1,0,"tr",22),n.qZA(),n.YNc(29,Bt,3,0,"ng-container",23),n._UZ(30,"mat-paginator",24),n.qZA()()()),2&s&&(n.xp6(11),n.Q6J("dataSource",d.dataSource),n.xp6(16),n.Q6J("matHeaderRowDef",d.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",d.displayedColumns),n.xp6(1),n.Q6J("ngIf",0===d.dataSource.data.length),n.xp6(1),n.Q6J("pageSizeOptions",n.DdM(5,Yt)))},dependencies:[te.O5,mt.lW,Tt.Hw,l.YE,l.nU,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,ue.NW,te.uU],styles:[".list-title[_ngcontent-%COMP%]{float:left;margin:50px 80px}.table-holder[_ngcontent-%COMP%]{display:table;width:90%;margin:5%}.go-to-create-page[_ngcontent-%COMP%]{float:right;margin:50px 100px}.container[_ngcontent-%COMP%]{margin-bottom:50px}mat-table[_ngcontent-%COMP%]{width:100%;display:table}.header[_ngcontent-%COMP%]{font-size:20px}button[_ngcontent-%COMP%]{margin:5px}td[_ngcontent-%COMP%]{text-align:center;padding:10px}th[_ngcontent-%COMP%]{text-align:center;padding:30px}.text-column-cell[_ngcontent-%COMP%]{max-width:300px;max-height:300px;overflow-wrap:break-word}.id-column[_ngcontent-%COMP%], .date-column[_ngcontent-%COMP%]{width:15%}.name-column[_ngcontent-%COMP%], .text-column[_ngcontent-%COMP%]{width:20%}.action-column[_ngcontent-%COMP%]{width:10%}h2[_ngcontent-%COMP%]{margin:50px 40%}.mat-icon[_ngcontent-%COMP%]{display:flex;flex-wrap:initial}"]})}return a})();const zt=[{path:g(5030).w,component:$t}];let Ht=(()=>{class a{static#e=this.\u0275fac=function(s){return new(s||a)};static#t=this.\u0275mod=n.oAB({type:a});static#n=this.\u0275inj=n.cJS({imports:[p.Bz.forChild(zt),p.Bz]})}return a})()},6365:(_t,Me,g)=>{g.r(Me);var p=g(5861),ue=g(3106),l=g(4562),y=g(9058),j=(g(534),g(7879),g(4537));function E(){return window}function n(){return n=(0,p.Z)(function*(o,i,r){var u;const{BuildInfo:h}=E();(0,l.au)(i.sessionId,"AuthEvent did not contain a session ID");const m=yield function ht(o){return Y.apply(this,arguments)}(i.sessionId),v={};return(0,l.av)()?v.ibi=h.packageName:(0,l.aw)()?v.apn=h.packageName:(0,l.ax)(o,"operation-not-supported-in-this-environment"),h.displayName&&(v.appDisplayName=h.displayName),v.sessionId=m,(0,l.ay)(o,r,i.type,void 0,null!==(u=i.eventId)&&void 0!==u?u:void 0,v)}),n.apply(this,arguments)}function pe(){return(pe=(0,p.Z)(function*(o){const{BuildInfo:i}=E(),r={};(0,l.av)()?r.iosBundleId=i.packageName:(0,l.aw)()?r.androidPackageName=i.packageName:(0,l.ax)(o,"operation-not-supported-in-this-environment"),yield(0,l.az)(o,r)})).apply(this,arguments)}function S(){return(S=(0,p.Z)(function*(o,i,r){const{cordova:u}=E();let h=()=>{};try{yield new Promise((m,v)=>{let C=null;function b(){var _;m();const G=null===(_=u.plugins.browsertab)||void 0===_?void 0:_.close;"function"==typeof G&&G(),"function"==typeof r?.close&&r.close()}function L(){C||(C=window.setTimeout(()=>{v((0,l.aB)(o,"redirect-cancelled-by-user"))},2e3))}function W(){"visible"===document?.visibilityState&&L()}i.addPassiveListener(b),document.addEventListener("resume",L,!1),(0,l.aw)()&&document.addEventListener("visibilitychange",W,!1),h=()=>{i.removePassiveListener(b),document.removeEventListener("resume",L,!1),document.removeEventListener("visibilitychange",W,!1),C&&window.clearTimeout(C)}})}finally{h()}})).apply(this,arguments)}function Y(){return(Y=(0,p.Z)(function*(o){const i=function rt(o){if((0,l.au)(/[0-9a-zA-Z]+/.test(o),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(o);const i=new ArrayBuffer(o.length),r=new Uint8Array(i);for(let u=0;u<o.length;u++)r[u]=o.charCodeAt(u);return r}(o),r=yield crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(r)).map(h=>h.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class $ extends l.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(i=>{this.resolveInialized=i})}addPassiveListener(i){this.passiveListeners.add(i)}removePassiveListener(i){this.passiveListeners.delete(i)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(i){return this.resolveInialized(),this.passiveListeners.forEach(r=>r(i)),super.onEvent(i)}initialized(){var i=this;return(0,p.Z)(function*(){yield i.initPromise})()}}function Oe(o){return he.apply(this,arguments)}function he(){return(he=(0,p.Z)(function*(o){const i=yield Le()._get(ye(o));return i&&(yield Le()._remove(ye(o))),i})).apply(this,arguments)}function _e(){const o=[];for(let r=0;r<20;r++){const u=Math.floor(62*Math.random());o.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(u))}return o.join("")}function Le(){return(0,l.aE)(l.b)}function ye(o){return(0,l.aF)("authEvent",o.config.apiKey,o.name)}function ne(o){if(!o?.includes("?"))return{};const[i,...r]=o.split("?");return(0,y.zd)(r.join("?"))}const Ge=class We{constructor(){this._redirectPersistence=l.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=l.aG,this._overrideRedirectResult=l.aH}_initialize(i){var r=this;return(0,p.Z)(function*(){const u=i._key();let h=r.eventManagers.get(u);return h||(h=new $(i),r.eventManagers.set(u,h),r.attachCallbackListeners(i,h)),h})()}_openPopup(i){(0,l.ax)(i,"operation-not-supported-in-this-environment")}_openRedirect(i,r,u,h){var m=this;return(0,p.Z)(function*(){!function Z(o){var i,r,u,h,m,v,C,b,L,W;const _=E();(0,l.aC)("function"==typeof(null===(i=_?.universalLinks)||void 0===i?void 0:i.subscribe),o,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,l.aC)(typeof(null===(r=_?.BuildInfo)||void 0===r?void 0:r.packageName)<"u",o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,l.aC)("function"==typeof(null===(m=null===(h=null===(u=_?.cordova)||void 0===u?void 0:u.plugins)||void 0===h?void 0:h.browsertab)||void 0===m?void 0:m.openUrl),o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,l.aC)("function"==typeof(null===(b=null===(C=null===(v=_?.cordova)||void 0===v?void 0:v.plugins)||void 0===C?void 0:C.browsertab)||void 0===b?void 0:b.isAvailable),o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,l.aC)("function"==typeof(null===(W=null===(L=_?.cordova)||void 0===L?void 0:L.InAppBrowser)||void 0===W?void 0:W.open),o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(i);const v=yield m._initialize(i);yield v.initialized(),v.resetRedirect(),(0,l.aI)(),yield m._originValidation(i);const C=function De(o,i,r=null){return{type:i,eventId:r,urlResponse:null,sessionId:_e(),postBody:null,tenantId:o.tenantId,error:(0,l.aB)(o,"no-auth-event")}}(i,u,h);yield function it(o,i){return Le()._set(ye(o),i)}(i,C);const b=yield function B(o,i,r){return n.apply(this,arguments)}(i,C,r),L=yield function ee(o){const{cordova:i}=E();return new Promise(r=>{i.plugins.browsertab.isAvailable(u=>{let h=null;u?i.plugins.browsertab.openUrl(o):h=i.InAppBrowser.open(o,(0,l.aA)()?"_blank":"_system","location=yes"),r(h)})})}(b);return function te(o,i,r){return S.apply(this,arguments)}(i,v,L)})()}_isIframeWebStorageSupported(i,r){throw new Error("Method not implemented.")}_originValidation(i){const r=i._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=function T(o){return pe.apply(this,arguments)}(i)),this.originValidationPromises[r]}attachCallbackListeners(i,r){const{universalLinks:u,handleOpenURL:h,BuildInfo:m}=E(),v=setTimeout((0,p.Z)(function*(){yield Oe(i),r.onEvent(Ce())}),500),C=function(){var W=(0,p.Z)(function*(_){clearTimeout(v);const G=yield Oe(i);let Xe=null;G&&_?.url&&(Xe=function ve(o,i){var r,u;const h=function ke(o){const i=ne(o),r=i.link?decodeURIComponent(i.link):void 0,u=ne(r).link,h=i.deep_link_id?decodeURIComponent(i.deep_link_id):void 0;return ne(h).link||h||u||r||o}(i);if(h.includes("/__/auth/callback")){const m=ne(h),v=m.firebaseError?function Ue(o){try{return JSON.parse(o)}catch{return null}}(decodeURIComponent(m.firebaseError)):null,C=null===(u=null===(r=v?.code)||void 0===r?void 0:r.split("auth/"))||void 0===u?void 0:u[1],b=C?(0,l.aB)(C):null;return b?{type:o.type,eventId:o.eventId,tenantId:o.tenantId,error:b,urlResponse:null,sessionId:null,postBody:null}:{type:o.type,eventId:o.eventId,tenantId:o.tenantId,sessionId:o.sessionId,urlResponse:h,postBody:null}}return null}(G,_.url)),r.onEvent(Xe||Ce())});return function(G){return W.apply(this,arguments)}}();typeof u<"u"&&"function"==typeof u.subscribe&&u.subscribe(null,C);const b=h,L=`${m.packageName.toLowerCase()}://`;E().handleOpenURL=function(){var W=(0,p.Z)(function*(_){if(_.toLowerCase().startsWith(L)&&C({url:_}),"function"==typeof b)try{b(_)}catch(G){console.error(G)}});return function(_){return W.apply(this,arguments)}}()}};function Ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,l.aB)("no-auth-event")}}function V(){var o;return(null===(o=self?.location)||void 0===o?void 0:o.protocol)||null}function Ye(o=(0,y.z$)()){return!("file:"!==V()&&"ionic:"!==V()&&"capacitor:"!==V()||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Je(){try{const o=self.localStorage,i=l.aN();if(o)return o.setItem(i,"1"),o.removeItem(i),!function ot(o=(0,y.z$)()){return function c(){return(0,y.w1)()&&11===document?.documentMode}()||function $e(o=(0,y.z$)()){return/Edge\/\d+/.test(o)}(o)}()||(0,y.hl)()}catch{return xe()&&(0,y.hl)()}return!1}function xe(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function re(){return(function Ie(){return"http:"===V()||"https:"===V()}()||(0,y.ru)()||Ye())&&!function at(){return(0,y.b$)()||(0,y.UG)()}()&&Je()&&!xe()}function Ae(){return Ye()&&typeof document<"u"}function Q(){return(Q=(0,p.Z)(function*(){return!!Ae()&&new Promise(o=>{const i=setTimeout(()=>{o(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(i),o(!0)})})})).apply(this,arguments)}const M={LOCAL:"local",NONE:"none",SESSION:"session"},ie=l.aC,Se="persistence";function Pe(o){return fe.apply(this,arguments)}function fe(){return(fe=(0,p.Z)(function*(o){yield o._initializationPromise;const i=J(),r=l.aF(Se,o.config.apiKey,o.name);i&&i.setItem(r,o._getPersistence())})).apply(this,arguments)}function J(){var o;try{return(null===(o=function Ee(){return typeof window<"u"?window:null}())||void 0===o?void 0:o.sessionStorage)||null}catch{return null}}const N=l.aC;class w{constructor(){this.browserResolver=l.aE(l.k),this.cordovaResolver=l.aE(Ge),this.underlyingResolver=null,this._redirectPersistence=l.a,this._completeRedirectFn=l.aG,this._overrideRedirectResult=l.aH}_initialize(i){var r=this;return(0,p.Z)(function*(){return yield r.selectUnderlyingResolver(),r.assertedUnderlyingResolver._initialize(i)})()}_openPopup(i,r,u,h){var m=this;return(0,p.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._openPopup(i,r,u,h)})()}_openRedirect(i,r,u,h){var m=this;return(0,p.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._openRedirect(i,r,u,h)})()}_isIframeWebStorageSupported(i,r){this.assertedUnderlyingResolver._isIframeWebStorageSupported(i,r)}_originValidation(i){return this.assertedUnderlyingResolver._originValidation(i)}get _shouldInitProactively(){return Ae()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return N(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var i=this;return(0,p.Z)(function*(){if(i.underlyingResolver)return;const r=yield function ze(){return Q.apply(this,arguments)}();i.underlyingResolver=r?i.cordovaResolver:i.browserResolver})()}}function be(o){return o.unwrap()}function se(o){return P(o)}function P(o){const{_tokenResponse:i}=o instanceof y.ZR?o.customData:o;if(!i)return null;if(!(o instanceof y.ZR)&&"temporaryProof"in i&&"phoneNumber"in i)return l.P.credentialFromResult(o);const r=i.providerId;if(!r||r===l.p.PASSWORD)return null;let u;switch(r){case l.p.GOOGLE:u=l.X;break;case l.p.FACEBOOK:u=l.W;break;case l.p.GITHUB:u=l.Y;break;case l.p.TWITTER:u=l.$;break;default:const{oauthIdToken:h,oauthAccessToken:m,oauthTokenSecret:v,pendingToken:C,nonce:b}=i;return m||v||h||C?C?r.startsWith("saml.")?l.aQ._create(r,C):l.N._fromParams({providerId:r,signInMethod:r,pendingToken:C,idToken:h,accessToken:m}):new l.Z(r).credential({idToken:h,accessToken:m,rawNonce:b}):null}return o instanceof y.ZR?u.credentialFromError(o):u.credentialFromResult(o)}function R(o,i){return i.catch(r=>{throw r instanceof y.ZR&&function ae(o,i){var r;const u=null===(r=i.customData)||void 0===r?void 0:r._tokenResponse;if("auth/multi-factor-auth-required"===i?.code)i.resolver=new q(o,l.as(o,i));else if(u){const h=P(i),m=i;h&&(m.credential=h,m.tenantId=u.tenantId||void 0,m.email=u.email||void 0,m.phoneNumber=u.phoneNumber||void 0)}}(o,r),r}).then(r=>{const h=r.user;return{operationType:r.operationType,credential:se(r),additionalUserInfo:l.aq(r),user:D.getOrCreate(h)}})}function oe(o,i){return z.apply(this,arguments)}function z(){return(z=(0,p.Z)(function*(o,i){const r=yield i;return{verificationId:r.verificationId,confirm:u=>R(o,r.confirm(u))}})).apply(this,arguments)}class q{constructor(i,r){this.resolver=r,this.auth=function Ve(o){return o.wrapped()}(i)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(i){return R(be(this.auth),this.resolver.resolveSignIn(i))}}class D{constructor(i){this._delegate=i,this.multiFactor=l.at(i)}static getOrCreate(i){return D.USER_MAP.has(i)||D.USER_MAP.set(i,new D(i)),D.USER_MAP.get(i)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(i){return this._delegate.getIdTokenResult(i)}getIdToken(i){return this._delegate.getIdToken(i)}linkAndRetrieveDataWithCredential(i){return this.linkWithCredential(i)}linkWithCredential(i){var r=this;return(0,p.Z)(function*(){return R(r.auth,l.a2(r._delegate,i))})()}linkWithPhoneNumber(i,r){var u=this;return(0,p.Z)(function*(){return oe(u.auth,l.l(u._delegate,i,r))})()}linkWithPopup(i){var r=this;return(0,p.Z)(function*(){return R(r.auth,l.d(r._delegate,i,w))})()}linkWithRedirect(i){var r=this;return(0,p.Z)(function*(){return yield Pe(l.aJ(r.auth)),l.g(r._delegate,i,w)})()}reauthenticateAndRetrieveDataWithCredential(i){return this.reauthenticateWithCredential(i)}reauthenticateWithCredential(i){var r=this;return(0,p.Z)(function*(){return R(r.auth,l.a3(r._delegate,i))})()}reauthenticateWithPhoneNumber(i,r){return oe(this.auth,l.r(this._delegate,i,r))}reauthenticateWithPopup(i){return R(this.auth,l.e(this._delegate,i,w))}reauthenticateWithRedirect(i){var r=this;return(0,p.Z)(function*(){return yield Pe(l.aJ(r.auth)),l.h(r._delegate,i,w)})()}sendEmailVerification(i){return l.ag(this._delegate,i)}unlink(i){var r=this;return(0,p.Z)(function*(){return yield l.ap(r._delegate,i),r})()}updateEmail(i){return l.al(this._delegate,i)}updatePassword(i){return l.am(this._delegate,i)}updatePhoneNumber(i){return l.u(this._delegate,i)}updateProfile(i){return l.ak(this._delegate,i)}verifyBeforeUpdateEmail(i,r){return l.ah(this._delegate,i,r)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}D.USER_MAP=new WeakMap;const O=l.aC;let Qe=(()=>{class o{constructor(r,u){if(this.app=r,u.isInitialized())return this._delegate=u.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:h}=r.options;O(h,"invalid-api-key",{appName:r.name}),O(h,"invalid-api-key",{appName:r.name});const m=typeof window<"u"?w:void 0;this._delegate=u.initialize({options:{persistence:lt(h,r.name),popupRedirectResolver:m}}),this._delegate._updateErrorMap(l.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?D.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(r){this._delegate.languageCode=r}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(r){this._delegate.tenantId=r}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(r,u){l.K(this._delegate,r,u)}applyActionCode(r){return l.a7(this._delegate,r)}checkActionCode(r){return l.a8(this._delegate,r)}confirmPasswordReset(r,u){return l.a6(this._delegate,r,u)}createUserWithEmailAndPassword(r,u){var h=this;return(0,p.Z)(function*(){return R(h._delegate,l.aa(h._delegate,r,u))})()}fetchProvidersForEmail(r){return this.fetchSignInMethodsForEmail(r)}fetchSignInMethodsForEmail(r){return l.af(this._delegate,r)}isSignInWithEmailLink(r){return l.ad(this._delegate,r)}getRedirectResult(){var r=this;return(0,p.Z)(function*(){O(re(),r._delegate,"operation-not-supported-in-this-environment");const u=yield l.j(r._delegate,w);return u?R(r._delegate,Promise.resolve(u)):{credential:null,user:null}})()}addFrameworkForLogging(r){!function Be(o,i){(0,l.aJ)(o)._logFramework(i)}(this._delegate,r)}onAuthStateChanged(r,u,h){const{next:m,error:v,complete:C}=qe(r,u,h);return this._delegate.onAuthStateChanged(m,v,C)}onIdTokenChanged(r,u,h){const{next:m,error:v,complete:C}=qe(r,u,h);return this._delegate.onIdTokenChanged(m,v,C)}sendSignInLinkToEmail(r,u){return l.ac(this._delegate,r,u)}sendPasswordResetEmail(r,u){return l.a5(this._delegate,r,u||void 0)}setPersistence(r){var u=this;return(0,p.Z)(function*(){let h;switch(function ge(o,i){ie(Object.values(M).includes(i),o,"invalid-persistence-type"),(0,y.b$)()?ie(i!==M.SESSION,o,"unsupported-persistence-type"):(0,y.UG)()?ie(i===M.NONE,o,"unsupported-persistence-type"):xe()?ie(i===M.NONE||i===M.LOCAL&&(0,y.hl)(),o,"unsupported-persistence-type"):ie(i===M.NONE||Je(),o,"unsupported-persistence-type")}(u._delegate,r),r){case M.SESSION:h=l.a;break;case M.LOCAL:h=(yield l.aE(l.i)._isAvailable())?l.i:l.b;break;case M.NONE:h=l.U;break;default:return l.ax("argument-error",{appName:u._delegate.name})}return u._delegate.setPersistence(h)})()}signInAndRetrieveDataWithCredential(r){return this.signInWithCredential(r)}signInAnonymously(){return R(this._delegate,l.a0(this._delegate))}signInWithCredential(r){return R(this._delegate,l.a1(this._delegate,r))}signInWithCustomToken(r){return R(this._delegate,l.a4(this._delegate,r))}signInWithEmailAndPassword(r,u){return R(this._delegate,l.ab(this._delegate,r,u))}signInWithEmailLink(r,u){return R(this._delegate,l.ae(this._delegate,r,u))}signInWithPhoneNumber(r,u){return oe(this._delegate,l.s(this._delegate,r,u))}signInWithPopup(r){var u=this;return(0,p.Z)(function*(){return O(re(),u._delegate,"operation-not-supported-in-this-environment"),R(u._delegate,l.c(u._delegate,r,w))})()}signInWithRedirect(r){var u=this;return(0,p.Z)(function*(){return O(re(),u._delegate,"operation-not-supported-in-this-environment"),yield Pe(u._delegate),l.f(u._delegate,r,w)})()}updateCurrentUser(r){return this._delegate.updateCurrentUser(r)}verifyPasswordResetCode(r){return l.a9(this._delegate,r)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return o.Persistence=M,o})();function qe(o,i,r){let u=o;"function"!=typeof o&&({next:u,error:i,complete:r}=o);const h=u;return{next:v=>h(v&&D.getOrCreate(v)),error:i,complete:r}}function lt(o,i){const r=function He(o,i){const r=J();if(!r)return[];const u=l.aF(Se,o,i);switch(r.getItem(u)){case M.NONE:return[l.U];case M.LOCAL:return[l.i,l.a];case M.SESSION:return[l.a];default:return[]}}(o,i);if(typeof self<"u"&&!r.includes(l.i)&&r.push(l.i),typeof window<"u")for(const u of[l.b,l.a])r.includes(u)||r.push(u);return r.includes(l.U)||r.push(l.U),r}class Te{constructor(){this.providerId="phone",this._delegate=new l.P(be(ue.Z.auth()))}static credential(i,r){return l.P.credential(i,r)}verifyPhoneNumber(i,r){return this._delegate.verifyPhoneNumber(i,r)}unwrap(){return this._delegate}}Te.PHONE_SIGN_IN_METHOD=l.P.PHONE_SIGN_IN_METHOD,Te.PROVIDER_ID=l.P.PROVIDER_ID;const Ke=l.aC;class dt{constructor(i,r,u=ue.Z.app()){var h;Ke(null===(h=u.options)||void 0===h?void 0:h.apiKey,"invalid-api-key",{appName:u.name}),this._delegate=new l.R(u.auth(),i,r),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function je(o){o.INTERNAL.registerComponent(new j.wA("auth-compat",i=>{const r=i.getProvider("app-compat").getImmediate(),u=i.getProvider("auth");return new Qe(r,u)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:l.A.EMAIL_SIGNIN,PASSWORD_RESET:l.A.PASSWORD_RESET,RECOVER_EMAIL:l.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:l.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:l.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:l.A.VERIFY_EMAIL}},EmailAuthProvider:l.V,FacebookAuthProvider:l.W,GithubAuthProvider:l.Y,GoogleAuthProvider:l.X,OAuthProvider:l.Z,SAMLAuthProvider:l._,PhoneAuthProvider:Te,PhoneMultiFactorGenerator:l.m,RecaptchaVerifier:dt,TwitterAuthProvider:l.$,Auth:Qe,AuthCredential:l.L,Error:y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),o.registerVersion("@firebase/auth-compat","0.4.9")}(ue.Z)}}]);