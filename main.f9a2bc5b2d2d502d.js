"use strict";(self.webpackChunkmessage_table_angular=self.webpackChunkmessage_table_angular||[]).push([[179],{4562:(on,et,T)=>{T.d(et,{$:()=>Ms,A:()=>de,G:()=>Fe,K:()=>Gr,L:()=>oo,N:()=>co,P:()=>ks,R:()=>Ig,U:()=>vn,V:()=>xo,W:()=>sr,X:()=>br,Y:()=>tf,Z:()=>uo,_:()=>Ss,a:()=>Ja,a0:()=>$a,a1:()=>pa,a2:()=>El,a3:()=>Ga,a4:()=>Ka,a5:()=>qa,a6:()=>su,a7:()=>Bc,a8:()=>wl,a9:()=>To,aA:()=>he,aB:()=>Ne,aC:()=>ke,aD:()=>vo,aE:()=>Xe,aF:()=>kn,aG:()=>Zc,aH:()=>Js,aI:()=>rc,aJ:()=>Ln,aN:()=>Cl,aQ:()=>Xi,aa:()=>Za,ab:()=>au,ac:()=>$u,ad:()=>ss,ae:()=>fo,af:()=>Pa,ag:()=>No,ah:()=>R,ak:()=>Ge,al:()=>nn,am:()=>Wn,ap:()=>pe,aq:()=>$i,as:()=>Rs,at:()=>Nn,au:()=>an,av:()=>Pt,aw:()=>Ke,ax:()=>fe,ay:()=>ea,az:()=>Rl,b:()=>Ys,c:()=>Ty,d:()=>Xs,e:()=>Sr,f:()=>Xd,g:()=>oc,h:()=>Zu,i:()=>bi,j:()=>eh,k:()=>gu,l:()=>Fp,m:()=>Up,p:()=>X,r:()=>Ku,s:()=>qd,u:()=>go,y:()=>zt});var h=T(5861),k=T(9058),z=T(534),I=T(7879),ge=T(7582),Ae=T(4537);const X={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Qe=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new I.Yd("@firebase/auth");function ct(C,...y){Ee.logLevel<=I.in.ERROR&&Ee.error(`Auth (${z.SDK_VERSION}): ${C}`,...y)}function fe(C,...y){throw it(C,...y)}function Ne(C,...y){return it(C,...y)}function xe(C,y,b){const M=Object.assign(Object.assign({},Qe()),{[y]:b});return new k.LL("auth","Firebase",M).create(y,{appName:C.name})}function He(C,y,b){if(!(y instanceof b))throw b.name!==y.constructor.name&&fe(C,"argument-error"),xe(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(C,...y){if("string"!=typeof C){const b=y[0],M=[...y.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(b,...M)}return Ue.create(C,...y)}function ke(C,y,...b){if(!C)throw it(y,...b)}function $t(C){const y="INTERNAL ASSERTION FAILED: "+C;throw ct(y),new Error(y)}function an(C,y){C||$t(y)}function Gt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function _n(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ut{constructor(y,b){this.shortDelay=y,this.longDelay=b,an(b>y,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function bn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_n()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tn(C,y){an(C.emulator,"Emulator should always be set here");const{url:b}=C.emulator;return y?`${b}${y.startsWith("/")?y.slice(1):y}`:b}class Ie{static initialize(y,b,M){this.fetchImpl=y,b&&(this.headersImpl=b),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void $t("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void $t("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void $t("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Se=new Ut(3e4,6e4);function st(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function ot(C,y,b,M){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*(C,y,b,M,J={}){return Nt(C,J,(0,h.Z)(function*(){let ce={},yt={};M&&("GET"===y?yt=M:ce={body:JSON.stringify(M)});const Ht=(0,k.xO)(Object.assign({key:C.config.apiKey},yt)).slice(1),pn=yield C._getAdditionalHeaders();return pn["Content-Type"]="application/json",C.languageCode&&(pn["X-Firebase-Locale"]=C.languageCode),Ie.fetch()(dt(C,C.config.apiHost,b,Ht),Object.assign({method:y,headers:pn,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function Nt(C,y,b){return De.apply(this,arguments)}function De(){return(De=(0,h.Z)(function*(C,y,b){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},Le),y);try{const J=new Kt(C),ce=yield Promise.race([b(),J.promise]);J.clearNetworkTimeout();const yt=yield ce.json();if("needConfirmation"in yt)throw qt(C,"account-exists-with-different-credential",yt);if(ce.ok&&!("errorMessage"in yt))return yt;{const Ht=ce.ok?yt.errorMessage:yt.error.message,[pn,Hn]=Ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pn)throw qt(C,"credential-already-in-use",yt);if("EMAIL_EXISTS"===pn)throw qt(C,"email-already-in-use",yt);if("USER_DISABLED"===pn)throw qt(C,"user-disabled",yt);const qn=M[pn]||pn.toLowerCase().replace(/[_\s]+/g,"-");if(Hn)throw xe(C,qn,Hn);fe(C,qn)}}catch(J){if(J instanceof k.ZR)throw J;fe(C,"network-request-failed",{message:String(J)})}})).apply(this,arguments)}function We(C,y,b,M){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,h.Z)(function*(C,y,b,M,J={}){const ce=yield ot(C,y,b,M,J);return"mfaPendingCredential"in ce&&fe(C,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function dt(C,y,b,M){const J=`${y}${b}?${M}`;return C.config.emulator?tn(C.config,J):`${C.config.apiScheme}://${J}`}function wt(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kt{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((b,M)=>{this.timer=setTimeout(()=>M(Ne(this.auth,"network-request-failed")),Se.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qt(C,y,b){const M={appName:C.name};b.email&&(M.email=b.email),b.phoneNumber&&(M.phoneNumber=b.phoneNumber);const J=Ne(C,y,M);return J.customData._tokenResponse=b,J}function An(C){return void 0!==C&&void 0!==C.getResponse}function at(C){return void 0!==C&&void 0!==C.enterprise}class Bt{constructor(y){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=y.recaptchaEnforcementState}getProviderEnforcementState(y){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const b of this.recaptchaEnforcementState)if(b.provider&&b.provider===y)return wt(b.enforcementState);return null}isProviderEnabled(y){return"ENFORCE"===this.getProviderEnforcementState(y)||"AUDIT"===this.getProviderEnforcementState(y)}}function zn(){return(zn=(0,h.Z)(function*(C){return(yield ot(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qn(C,y){return gi.apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(C,y){return ot(C,"GET","/v2/recaptchaConfig",st(C,y))})).apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function H(){return(H=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ue(){return(ue=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function pt(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function Ve(){return(Ve=(0,h.Z)(function*(C,y=!1){const b=(0,k.m9)(C),M=yield b.getIdToken(y),J=ut(M);ke(J&&J.exp&&J.auth_time&&J.iat,b.auth,"internal-error");const ce="object"==typeof J.firebase?J.firebase:void 0,yt=ce?.sign_in_provider;return{claims:J,token:M,authTime:pt(gt(J.auth_time)),issuedAtTime:pt(gt(J.iat)),expirationTime:pt(gt(J.exp)),signInProvider:yt||null,signInSecondFactor:ce?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(C){return 1e3*Number(C)}function ut(C){const[y,b,M]=C.split(".");if(void 0===y||void 0===b||void 0===M)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,k.tV)(b);return J?JSON.parse(J):(ct("Failed to decode base64 JWT payload"),null)}catch(J){return ct("Caught error parsing JWT payload as JSON",J?.toString()),null}}function Wt(C,y){return In.apply(this,arguments)}function In(){return(In=(0,h.Z)(function*(C,y,b=!1){if(b)return y;try{return yield y}catch(M){throw M instanceof k.ZR&&function Un({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}class Xn{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var b;if(y){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const J=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(y=!1){var b=this;if(!this.isRunning)return;const M=this.getInterval(y);this.timerId=setTimeout((0,h.Z)(function*(){yield b.iteration()}),M)}iteration(){var y=this;return(0,h.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&y.schedule(!0))}y.schedule()})()}}class Fn{constructor(y,b){this.createdAt=y,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=pt(this.lastLoginAt),this.creationTime=pt(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mt(C){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,h.Z)(function*(C){var y;const b=C.auth,M=yield C.getIdToken(),J=yield Wt(C,function Q(C,y){return ue.apply(this,arguments)}(b,{idToken:M}));ke(J?.users.length,b,"internal-error");const ce=J.users[0];C._notifyReloadListener(ce);const yt=null!==(y=ce.providerUserInfo)&&void 0!==y&&y.length?function Te(C){return C.map(y=>{var{providerId:b}=y,M=(0,ge._T)(y,["providerId"]);return{providerId:b,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(ce.providerUserInfo):[],Ht=function ze(C,y){return[...C.filter(M=>!y.some(J=>J.providerId===M.providerId)),...y]}(C.providerData,yt),qn=!!C.isAnonymous&&!(C.email&&ce.passwordHash||Ht?.length),Oi={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:Ht,metadata:new Fn(ce.createdAt,ce.lastLoginAt),isAnonymous:qn};Object.assign(C,Oi)}),Vn.apply(this,arguments)}function lt(){return(lt=(0,h.Z)(function*(C){const y=(0,k.m9)(C);yield Mt(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function xt(){return(xt=(0,h.Z)(function*(C,y){const b=yield Nt(C,{},(0,h.Z)(function*(){const M=(0,k.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:J,apiKey:ce}=C.config,yt=dt(C,J,"/v1/token",`key=${ce}`),Ht=yield C._getAdditionalHeaders();return Ht["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()(yt,{method:"POST",headers:Ht,body:M})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}function ie(){return(ie=(0,h.Z)(function*(C,y){return ot(C,"POST","/v2/accounts:revokeToken",st(C,y))})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ke(y.idToken,"internal-error"),ke(typeof y.idToken<"u","internal-error"),ke(typeof y.refreshToken<"u","internal-error");const b="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Zt(C){const y=ut(C);return ke(y,"internal-error"),ke(typeof y.exp<"u","internal-error"),ke(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,b)}getToken(y,b=!1){var M=this;return(0,h.Z)(function*(){return ke(!M.accessToken||M.refreshToken,y,"user-token-expired"),b||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(y,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,b){var M=this;return(0,h.Z)(function*(){const{accessToken:J,refreshToken:ce,expiresIn:yt}=yield function Ze(C,y){return xt.apply(this,arguments)}(y,b);M.updateTokensAndExpiration(J,ce,Number(yt))})()}updateTokensAndExpiration(y,b,M){this.refreshToken=b||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(y,b){const{refreshToken:M,accessToken:J,expirationTime:ce}=b,yt=new Y;return M&&(ke("string"==typeof M,"internal-error",{appName:y}),yt.refreshToken=M),J&&(ke("string"==typeof J,"internal-error",{appName:y}),yt.accessToken=J),ce&&(ke("number"==typeof ce,"internal-error",{appName:y}),yt.expirationTime=ce),yt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return $t("not implemented")}}function $(C,y){ke("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class B{constructor(y){var{uid:b,auth:M,stsTokenManager:J}=y,ce=(0,ge._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=M,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Fn(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(y){var b=this;return(0,h.Z)(function*(){const M=yield Wt(b,b.stsTokenManager.getToken(b.auth,y));return ke(M,b.auth,"internal-error"),b.accessToken!==M&&(b.accessToken=M,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),M})()}getIdTokenResult(y){return function It(C){return Ve.apply(this,arguments)}(this,y)}reload(){return function kt(C){return lt.apply(this,arguments)}(this)}_assign(y){this!==y&&(ke(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(b=>Object.assign({},b)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const b=new B(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(y){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,b=!1){var M=this;return(0,h.Z)(function*(){let J=!1;y.idToken&&y.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(y),J=!0),b&&(yield Mt(M)),yield M.auth._persistUserIfCurrent(M),J&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var y=this;return(0,h.Z)(function*(){const b=yield y.getIdToken();return yield Wt(y,function ai(C,y){return sn.apply(this,arguments)}(y.auth,{idToken:b})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,b){var M,J,ce,yt,Ht,pn,Hn,qn;const Oi=null!==(M=b.displayName)&&void 0!==M?M:void 0,Fs=null!==(J=b.email)&&void 0!==J?J:void 0,nl=null!==(ce=b.phoneNumber)&&void 0!==ce?ce:void 0,yf=null!==(yt=b.photoURL)&&void 0!==yt?yt:void 0,Pl=null!==(Ht=b.tenantId)&&void 0!==Ht?Ht:void 0,kl=null!==(pn=b._redirectEventId)&&void 0!==pn?pn:void 0,$p=null!==(Hn=b.createdAt)&&void 0!==Hn?Hn:void 0,Ol=null!==(qn=b.lastLoginAt)&&void 0!==qn?qn:void 0,{uid:td,emailVerified:nd,isAnonymous:Rg,providerData:id,stsTokenManager:sh}=b;ke(td&&sh,y,"internal-error");const Rb=Y.fromJSON(this.name,sh);ke("string"==typeof td,y,"internal-error"),$(Oi,y.name),$(Fs,y.name),ke("boolean"==typeof nd,y,"internal-error"),ke("boolean"==typeof Rg,y,"internal-error"),$(nl,y.name),$(yf,y.name),$(Pl,y.name),$(kl,y.name),$($p,y.name),$(Ol,y.name);const Pg=new B({uid:td,auth:y,email:Fs,emailVerified:nd,displayName:Oi,isAnonymous:Rg,photoURL:yf,phoneNumber:nl,tenantId:Pl,stsTokenManager:Rb,createdAt:$p,lastLoginAt:Ol});return id&&Array.isArray(id)&&(Pg.providerData=id.map(Yr=>Object.assign({},Yr))),kl&&(Pg._redirectEventId=kl),Pg}static _fromIdTokenResponse(y,b,M=!1){return(0,h.Z)(function*(){const J=new Y;J.updateFromServerResponse(b);const ce=new B({uid:b.localId,auth:y,stsTokenManager:J,isAnonymous:M});return yield Mt(ce),ce})()}}const _e=new Map;function Xe(C){an(C instanceof Function,"Expected a class definition");let y=_e.get(C);return y?(an(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,_e.set(C,y),y)}const vn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(b,M){var J=this;return(0,h.Z)(function*(){J.storage[b]=M})()}_get(b){var M=this;return(0,h.Z)(function*(){const J=M.storage[b];return void 0===J?null:J})()}_remove(b){var M=this;return(0,h.Z)(function*(){delete M.storage[b]})()}_addListener(b,M){}_removeListener(b,M){}}return C.type="NONE",C})();function kn(C,y,b){return`firebase:${C}:${y}:${b}`}class Rn{constructor(y,b,M){this.persistence=y,this.auth=b,this.userKey=M;const{config:J,name:ce}=this.auth;this.fullUserKey=kn(this.userKey,J.apiKey,ce),this.fullPersistenceKey=kn("persistence",J.apiKey,ce),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,h.Z)(function*(){const b=yield y.persistence._get(y.fullUserKey);return b?B._fromJSON(y.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var b=this;return(0,h.Z)(function*(){if(b.persistence===y)return;const M=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=y,M?b.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,b,M="authUser"){return(0,h.Z)(function*(){if(!b.length)return new Rn(Xe(vn),y,M);const J=(yield Promise.all(b.map(function(){var Hn=(0,h.Z)(function*(qn){if(yield qn._isAvailable())return qn});return function(qn){return Hn.apply(this,arguments)}}()))).filter(Hn=>Hn);let ce=J[0]||Xe(vn);const yt=kn(M,y.config.apiKey,y.name);let Ht=null;for(const Hn of b)try{const qn=yield Hn._get(yt);if(qn){const Oi=B._fromJSON(y,qn);Hn!==ce&&(Ht=Oi),ce=Hn;break}}catch{}const pn=J.filter(Hn=>Hn._shouldAllowMigration);return ce._shouldAllowMigration&&pn.length?(ce=pn[0],Ht&&(yield ce._set(yt,Ht.toJSON())),yield Promise.all(b.map(function(){var Hn=(0,h.Z)(function*(qn){if(qn!==ce)try{yield qn._remove(yt)}catch{}});return function(qn){return Hn.apply(this,arguments)}}())),new Rn(ce,y,M)):new Rn(ce,y,M)})()}}function Gn(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(ft(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ti(y))return"Firefox";if(y.includes("silk/"))return"Silk";if($e(y))return"Blackberry";if(Dt(y))return"Webos";if(Et(y))return"Safari";if((y.includes("chrome/")||tt(y))&&!y.includes("edge/"))return"Chrome";if(Ke(y))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function ti(C=(0,k.z$)()){return/firefox\//i.test(C)}function Et(C=(0,k.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function tt(C=(0,k.z$)()){return/crios\//i.test(C)}function ft(C=(0,k.z$)()){return/iemobile/i.test(C)}function Ke(C=(0,k.z$)()){return/android/i.test(C)}function $e(C=(0,k.z$)()){return/blackberry/i.test(C)}function Dt(C=(0,k.z$)()){return/webos/i.test(C)}function Pt(C=(0,k.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function he(C=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function we(C=(0,k.z$)()){return Pt(C)||Ke(C)||Dt(C)||$e(C)||/windows phone/i.test(C)||ft(C)}function jt(C,y=[]){let b;switch(C){case"Browser":b=Gn((0,k.z$)());break;case"Worker":b=`${Gn((0,k.z$)())}-${C}`;break;default:b=C}const M=y.length?y.join(","):"FirebaseCore-web";return`${b}/JsCore/${z.SDK_VERSION}/${M}`}class cn{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,b){const M=ce=>new Promise((yt,Ht)=>{try{yt(y(ce))}catch(pn){Ht(pn)}});M.onAbort=b,this.queue.push(M);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(y){var b=this;return(0,h.Z)(function*(){if(b.auth.currentUser===y)return;const M=[];try{for(const J of b.queue)yield J(y),J.onAbort&&M.push(J.onAbort)}catch(J){M.reverse();for(const ce of M)try{ce()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:J?.message})}})()}}function Tn(){return(Tn=(0,h.Z)(function*(C,y={}){return ot(C,"GET","/v2/passwordPolicy",st(C,y))})).apply(this,arguments)}class ci{constructor(y){var b,M,J,ce;const yt=y.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(b=yt.minPasswordLength)&&void 0!==b?b:6,yt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=yt.maxPasswordLength),void 0!==yt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=yt.containsLowercaseCharacter),void 0!==yt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=yt.containsUppercaseCharacter),void 0!==yt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=yt.containsNumericCharacter),void 0!==yt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=yt.containsNonAlphanumericCharacter),this.enforcementState=y.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(J=null===(M=y.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==J?J:"",this.forceUpgradeOnSignin=null!==(ce=y.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=y.schemaVersion}validatePassword(y){var b,M,J,ce,yt,Ht;const pn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(y,pn),this.validatePasswordCharacterOptions(y,pn),pn.isValid&&(pn.isValid=null===(b=pn.meetsMinPasswordLength)||void 0===b||b),pn.isValid&&(pn.isValid=null===(M=pn.meetsMaxPasswordLength)||void 0===M||M),pn.isValid&&(pn.isValid=null===(J=pn.containsLowercaseLetter)||void 0===J||J),pn.isValid&&(pn.isValid=null===(ce=pn.containsUppercaseLetter)||void 0===ce||ce),pn.isValid&&(pn.isValid=null===(yt=pn.containsNumericCharacter)||void 0===yt||yt),pn.isValid&&(pn.isValid=null===(Ht=pn.containsNonAlphanumericCharacter)||void 0===Ht||Ht),pn}validatePasswordLengthOptions(y,b){const M=this.customStrengthOptions.minPasswordLength,J=this.customStrengthOptions.maxPasswordLength;M&&(b.meetsMinPasswordLength=y.length>=M),J&&(b.meetsMaxPasswordLength=y.length<=J)}validatePasswordCharacterOptions(y,b){let M;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let J=0;J<y.length;J++)M=y.charAt(J),this.updatePasswordCharacterOptionsStatuses(b,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(y,b,M,J,ce){this.customStrengthOptions.containsLowercaseLetter&&(y.containsLowercaseLetter||(y.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(y.containsUppercaseLetter||(y.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(y.containsNumericCharacter||(y.containsNumericCharacter=J)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(y.containsNonAlphanumericCharacter||(y.containsNonAlphanumericCharacter=ce))}}class Ai{constructor(y,b,M,J){this.app=y,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=M,this.config=J,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Di(this),this.idTokenSubscription=new Di(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=J.sdkClientVersion}_initializeWithPersistence(y,b){var M=this;return b&&(this._popupRedirectResolver=Xe(b)),this._initializationPromise=this.queue((0,h.Z)(function*(){var J,ce;if(!M._deleted&&(M.persistenceManager=yield Rn.create(M,y),!M._deleted)){if(null!==(J=M._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(b),M.lastNotifiedUid=(null===(ce=M.currentUser)||void 0===ce?void 0:ce.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,h.Z)(function*(){if(y._deleted)return;const b=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||b){if(y.currentUser&&b&&y.currentUser.uid===b.uid)return y._currentUser._assign(b),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(b,!0)}})()}initializeCurrentUser(y){var b=this;return(0,h.Z)(function*(){var M;const J=yield b.assertedPersistence.getCurrentUser();let ce=J,yt=!1;if(y&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Ht=null===(M=b.redirectUser)||void 0===M?void 0:M._redirectEventId,pn=ce?._redirectEventId,Hn=yield b.tryRedirectSignIn(y);(!Ht||Ht===pn)&&Hn?.user&&(ce=Hn.user,yt=!0)}if(!ce)return b.directlySetCurrentUser(null);if(!ce._redirectEventId){if(yt)try{yield b.beforeStateQueue.runMiddleware(ce)}catch(Ht){ce=J,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Ht))}return ce?b.reloadAndSetCurrentUserOrClear(ce):b.directlySetCurrentUser(null)}return ke(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===ce._redirectEventId?b.directlySetCurrentUser(ce):b.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(y){var b=this;return(0,h.Z)(function*(){let M=null;try{M=yield b._popupRedirectResolver._completeRedirectFn(b,y,!0)}catch{yield b._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(y){var b=this;return(0,h.Z)(function*(){try{yield Mt(y)}catch(M){if("auth/network-request-failed"!==M?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function en(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,h.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var b=this;return(0,h.Z)(function*(){const M=y?(0,k.m9)(y):null;return M&&ke(M.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(M&&M._clone(b))})()}_updateCurrentUser(y,b=!1){var M=this;return(0,h.Z)(function*(){if(!M._deleted)return y&&ke(M.tenantId===y.tenantId,M,"tenant-id-mismatch"),b||(yield M.beforeStateQueue.runMiddleware(y)),M.queue((0,h.Z)(function*(){yield M.directlySetCurrentUser(y),M.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,h.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var b=this;return this.queue((0,h.Z)(function*(){yield b.assertedPersistence.setPersistence(Xe(y))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(y){var b=this;return(0,h.Z)(function*(){b._getPasswordPolicyInternal()||(yield b._updatePasswordPolicy());const M=b._getPasswordPolicyInternal();return M.schemaVersion!==b.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(b._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(y)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var y=this;return(0,h.Z)(function*(){const b=yield function $n(C){return Tn.apply(this,arguments)}(y),M=new ci(b);null===y.tenantId?y._projectPasswordPolicy=M:y._tenantPasswordPolicies[y.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new k.LL("auth","Firebase",y())}onAuthStateChanged(y,b,M){return this.registerStateListener(this.authStateSubscription,y,b,M)}beforeAuthStateChanged(y,b){return this.beforeStateQueue.pushCallback(y,b)}onIdTokenChanged(y,b,M){return this.registerStateListener(this.idTokenSubscription,y,b,M)}authStateReady(){return new Promise((y,b)=>{if(this.currentUser)y();else{const M=this.onAuthStateChanged(()=>{M(),y()},b)}})}revokeAccessToken(y){var b=this;return(0,h.Z)(function*(){if(b.currentUser){const M=yield b.currentUser.getIdToken(),J={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:y,idToken:M};null!=b.tenantId&&(J.tenantId=b.tenantId),yield function ve(C,y){return ie.apply(this,arguments)}(b,J)}})()}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,b){var M=this;return(0,h.Z)(function*(){const J=yield M.getOrInitRedirectPersistenceManager(b);return null===y?J.removeCurrentUser():J.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var b=this;return(0,h.Z)(function*(){if(!b.redirectPersistenceManager){const M=y&&Xe(y)||b._popupRedirectResolver;ke(M,b,"argument-error"),b.redirectPersistenceManager=yield Rn.create(b,[Xe(M._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(y){var b=this;return(0,h.Z)(function*(){var M,J;return b._isInitialized&&(yield b.queue((0,h.Z)(function*(){}))),(null===(M=b._currentUser)||void 0===M?void 0:M._redirectEventId)===y?b._currentUser:(null===(J=b.redirectUser)||void 0===J?void 0:J._redirectEventId)===y?b.redirectUser:null})()}_persistUserIfCurrent(y){var b=this;return(0,h.Z)(function*(){if(y===b.currentUser)return b.queue((0,h.Z)(function*(){return b.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(b=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,b,M,J){if(this._deleted)return()=>{};const ce="function"==typeof b?b:b.next.bind(b);let yt=!1;const Ht=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(Ht,this,"internal-error"),Ht.then(()=>{yt||ce(this.currentUser)}),"function"==typeof b){const pn=y.addObserver(b,M,J);return()=>{yt=!0,pn()}}{const pn=y.addObserver(b);return()=>{yt=!0,pn()}}}directlySetCurrentUser(y){var b=this;return(0,h.Z)(function*(){b.currentUser&&b.currentUser!==y&&b._currentUser._stopProactiveRefresh(),y&&b.isProactiveRefreshEnabled&&y._startProactiveRefresh(),b.currentUser=y,y?yield b.assertedPersistence.setCurrentUser(y):yield b.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=jt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,h.Z)(function*(){var b;const M={"X-Client-Version":y.clientVersion};y.app.options.appId&&(M["X-Firebase-gmpid"]=y.app.options.appId);const J=yield null===(b=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();J&&(M["X-Firebase-Client"]=J);const ce=yield y._getAppCheckToken();return ce&&(M["X-Firebase-AppCheck"]=ce),M})()}_getAppCheckToken(){var y=this;return(0,h.Z)(function*(){var b;const M=yield null===(b=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return M?.error&&function bt(C,...y){Ee.logLevel<=I.in.WARN&&Ee.warn(`Auth (${z.SDK_VERSION}): ${C}`,...y)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function Ln(C){return(0,k.m9)(C)}class Di{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,k.ne)(b=>this.observer=b)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fr(C){return new Promise((y,b)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=y,M.onerror=J=>{const ce=Ne("internal-error");ce.customData=J,b(ce)},M.type="text/javascript",M.charset="UTF-8",function Br(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(M)})}function Wi(C){return`__${C}${Math.floor(1e6*Math.random())}`}class pr{constructor(y){this.type="recaptcha-enterprise",this.auth=Ln(y)}verify(y="verify",b=!1){var M=this;return(0,h.Z)(function*(){function ce(){return ce=(0,h.Z)(function*(Ht){if(!b){if(null==Ht.tenantId&&null!=Ht._agentRecaptchaConfig)return Ht._agentRecaptchaConfig.siteKey;if(null!=Ht.tenantId&&void 0!==Ht._tenantRecaptchaConfigs[Ht.tenantId])return Ht._tenantRecaptchaConfigs[Ht.tenantId].siteKey}return new Promise(function(){var pn=(0,h.Z)(function*(Hn,qn){Qn(Ht,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Oi=>{if(void 0!==Oi.recaptchaKey){const Fs=new Bt(Oi);return null==Ht.tenantId?Ht._agentRecaptchaConfig=Fs:Ht._tenantRecaptchaConfigs[Ht.tenantId]=Fs,Hn(Fs.siteKey)}qn(new Error("recaptcha Enterprise site key undefined"))}).catch(Oi=>{qn(Oi)})});return function(Hn,qn){return pn.apply(this,arguments)}}())}),ce.apply(this,arguments)}function yt(Ht,pn,Hn){const qn=window.grecaptcha;at(qn)?qn.enterprise.ready(()=>{qn.enterprise.execute(Ht,{action:y}).then(Oi=>{pn(Oi)}).catch(()=>{pn("NO_RECAPTCHA")})}):Hn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ht,pn)=>{(function J(Ht){return ce.apply(this,arguments)})(M.auth).then(Hn=>{if(!b&&at(window.grecaptcha))yt(Hn,Ht,pn);else{if(typeof window>"u")return void pn(new Error("RecaptchaVerifier is only supported in browser"));fr("https://www.google.com/recaptcha/enterprise.js?render="+Hn).then(()=>{yt(Hn,Ht,pn)}).catch(qn=>{pn(qn)})}}).catch(Hn=>{pn(Hn)})})})()}}function js(C,y,b){return oa.apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(C,y,b,M=!1){const J=new pr(C);let ce;try{ce=yield J.verify(b)}catch{ce=yield J.verify(b,!0)}const yt=Object.assign({},y);return Object.assign(yt,M?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(yt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(yt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),yt})).apply(this,arguments)}function za(C,y,b,M){return sa.apply(this,arguments)}function sa(){return sa=(0,h.Z)(function*(C,y,b,M){var J;if(null!==(J=C._getRecaptchaConfig())&&void 0!==J&&J.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ce=yield js(C,y,b,"getOobCode"===b);return M(C,ce)}return M(C,y).catch(function(){var ce=(0,h.Z)(function*(yt){if("auth/missing-recaptcha-token"===yt.code){console.log(`${b} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ht=yield js(C,y,b,"getOobCode"===b);return M(C,Ht)}return Promise.reject(yt)});return function(yt){return ce.apply(this,arguments)}}())}),sa.apply(this,arguments)}function Gr(C,y,b){const M=Ln(C);ke(M._canInitEmulator,M,"emulator-config-failed"),ke(/^https?:\/\//.test(y),M,"invalid-emulator-scheme");const J=!!b?.disableWarnings,ce=ca(y),{host:yt,port:Ht}=function Eo(C){const y=ca(C),b=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!b)return{host:"",port:null};const M=b[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(M);if(J){const ce=J[1];return{host:ce,port:la(M.substr(ce.length+1))}}{const[ce,yt]=M.split(":");return{host:ce,port:la(yt)}}}(y);M.config.emulator={url:`${ce}//${yt}${null===Ht?"":`:${Ht}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:yt,port:Ht,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function Bo(){function C(){const y=document.createElement("p"),b=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function ca(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function la(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class oo{constructor(y,b){this.providerId=y,this.signInMethod=b}toJSON(){return $t("not implemented")}_getIdTokenResponse(y){return $t("not implemented")}_linkToIdToken(y,b){return $t("not implemented")}_getReauthenticationResolver(y){return $t("not implemented")}}function Zr(C,y){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:resetPassword",st(C,y))})).apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ds(C,y){return _i.apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:signUp",y)})).apply(this,arguments)}function Li(){return(Li=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:update",st(C,y))})).apply(this,arguments)}function Qr(C,y){return vr.apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(C,y){return We(C,"POST","/v1/accounts:signInWithPassword",st(C,y))})).apply(this,arguments)}function ko(C,y){return ns.apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:sendOobCode",st(C,y))})).apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(C,y){return ko(C,y)})).apply(this,arguments)}function Uo(C,y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,h.Z)(function*(C,y){return ko(C,y)})).apply(this,arguments)}function Cn(C,y){return ii.apply(this,arguments)}function ii(){return(ii=(0,h.Z)(function*(C,y){return ko(C,y)})).apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(C,y){return ko(C,y)})).apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(C,y){return We(C,"POST","/v1/accounts:signInWithEmailLink",st(C,y))})).apply(this,arguments)}function Si(){return(Si=(0,h.Z)(function*(C,y){return We(C,"POST","/v1/accounts:signInWithEmailLink",st(C,y))})).apply(this,arguments)}class Ur extends oo{constructor(y,b,M,J=null){super("password",M),this._email=y,this._password=b,this._tenantId=J}static _fromEmailAndPassword(y,b){return new Ur(y,b,"password")}static _fromEmailAndCode(y,b,M=null){return new Ur(y,b,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(y){var b=this;return(0,h.Z)(function*(){switch(b.signInMethod){case"password":return za(y,{returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qr);case"emailLink":return function is(C,y){return nr.apply(this,arguments)}(y,{email:b._email,oobCode:b._password});default:fe(y,"internal-error")}})()}_linkToIdToken(y,b){var M=this;return(0,h.Z)(function*(){switch(M.signInMethod){case"password":return za(y,{idToken:b,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ds);case"emailLink":return function so(C,y){return Si.apply(this,arguments)}(y,{idToken:b,email:M._email,oobCode:M._password});default:fe(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function or(C,y){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(C,y){return We(C,"POST","/v1/accounts:signInWithIdp",st(C,y))})).apply(this,arguments)}class co extends oo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const b=new co(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(b.idToken=y.idToken),y.accessToken&&(b.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(b.nonce=y.nonce),y.pendingToken&&(b.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(b.accessToken=y.oauthToken,b.secret=y.oauthTokenSecret):fe("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:M,signInMethod:J}=b,ce=(0,ge._T)(b,["providerId","signInMethod"]);if(!M||!J)return null;const yt=new co(M,J);return yt.idToken=ce.idToken||void 0,yt.accessToken=ce.accessToken||void 0,yt.secret=ce.secret,yt.nonce=ce.nonce,yt.pendingToken=ce.pendingToken||null,yt}_getIdTokenResponse(y){return or(y,this.buildRequest())}_linkToIdToken(y,b){const M=this.buildRequest();return M.idToken=b,or(y,M)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,or(y,b)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),y.postBody=(0,k.xO)(b)}return y}}function Hi(){return(Hi=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:sendVerificationCode",st(C,y))})).apply(this,arguments)}function zo(){return(zo=(0,h.Z)(function*(C,y){return We(C,"POST","/v1/accounts:signInWithPhoneNumber",st(C,y))})).apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(C,y){const b=yield We(C,"POST","/v1/accounts:signInWithPhoneNumber",st(C,y));if(b.temporaryProof)throw qt(C,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const rs={USER_NOT_FOUND:"user-not-found"};function lo(){return(lo=(0,h.Z)(function*(C,y){return We(C,"POST","/v1/accounts:signInWithPhoneNumber",st(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),rs)})).apply(this,arguments)}class jr extends oo{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,b){return new jr({verificationId:y,verificationCode:b})}static _fromTokenResponse(y,b){return new jr({phoneNumber:y,temporaryProof:b})}_getIdTokenResponse(y){return function ja(C,y){return zo.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,b){return function zr(C,y){return Fr.apply(this,arguments)}(y,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Co(C,y){return lo.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:b,verificationId:M,verificationCode:J}=this.params;return y&&b?{temporaryProof:y,phoneNumber:b}:{sessionInfo:M,code:J}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:b,verificationCode:M,phoneNumber:J,temporaryProof:ce}=y;return M||b||J||ce?new jr({verificationId:b,verificationCode:M,phoneNumber:J,temporaryProof:ce}):null}}class As{constructor(y){var b,M,J,ce,yt,Ht;const pn=(0,k.zd)((0,k.pd)(y)),Hn=null!==(b=pn.apiKey)&&void 0!==b?b:null,qn=null!==(M=pn.oobCode)&&void 0!==M?M:null,Oi=function Ts(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=pn.mode)&&void 0!==J?J:null);ke(Hn&&qn&&Oi,"argument-error"),this.apiKey=Hn,this.operation=Oi,this.code=qn,this.continueUrl=null!==(ce=pn.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(yt=pn.languageCode)&&void 0!==yt?yt:null,this.tenantId=null!==(Ht=pn.tenantId)&&void 0!==Ht?Ht:null}static parseLink(y){const b=function Jn(C){const y=(0,k.zd)((0,k.pd)(C)).link,b=y?(0,k.zd)((0,k.pd)(y)).deep_link_id:null,M=(0,k.zd)((0,k.pd)(C)).deep_link_id;return(M?(0,k.zd)((0,k.pd)(M)).link:null)||M||b||y||C}(y);try{return new As(b)}catch{return null}}}let xo=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(b,M){return Ur._fromEmailAndPassword(b,M)}static credentialWithLink(b,M){const J=As.parseLink(M);return ke(J,"argument-error"),Ur._fromEmailAndCode(b,J.code,J.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class mr{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ho extends mr{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class uo extends Ho{static credentialFromJSON(y){const b="string"==typeof y?JSON.parse(y):y;return ke("providerId"in b&&"signInMethod"in b,"argument-error"),co._fromParams(b)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return ke(y.idToken||y.accessToken,"argument-error"),co._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return uo.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return uo.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:J,pendingToken:ce,nonce:yt,providerId:Ht}=y;if(!M&&!J&&!b&&!ce||!Ht)return null;try{return new uo(Ht)._credential({idToken:b,accessToken:M,nonce:yt,pendingToken:ce})}catch{return null}}}let sr=(()=>{class C extends Ho{constructor(){super("facebook.com")}static credential(b){return co._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),br=(()=>{class C extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(b,M){return co._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:M})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:M,oauthAccessToken:J}=b;if(!M&&!J)return null;try{return C.credential(M,J)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),tf=(()=>{class C extends Ho{constructor(){super("github.com")}static credential(b){return co._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Xi extends oo{constructor(y,b){super(y,y),this.pendingToken=b}_getIdTokenResponse(y){return or(y,this.buildRequest())}_linkToIdToken(y,b){const M=this.buildRequest();return M.idToken=b,or(y,M)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,or(y,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:M,signInMethod:J,pendingToken:ce}=b;return M&&J&&ce&&M===J?new Xi(M,ce):null}static _create(y,b){return new Xi(y,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ss extends mr{constructor(y){ke(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return Ss.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return Ss.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const b=Xi.fromJSON(y);return ke(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:b,providerId:M}=y;if(!b||!M)return null;try{return Xi._create(M,b)}catch{return null}}}let Ms=(()=>{class C extends Ho{constructor(){super("twitter.com")}static credential(b,M){return co._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:M})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:M,oauthTokenSecret:J}=b;if(!M||!J)return null;try{return C.credential(M,J)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Er(C,y){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(C,y){return We(C,"POST","/v1/accounts:signUp",st(C,y))})).apply(this,arguments)}class Do{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,b,M,J=!1){return(0,h.Z)(function*(){const ce=yield B._fromIdTokenResponse(y,M,J),yt=Ha(M);return new Do({user:ce,providerId:yt,_tokenResponse:M,operationType:b})})()}static _forOperation(y,b,M){return(0,h.Z)(function*(){yield y._updateTokensIfNecessary(M,!0);const J=Ha(M);return new Do({user:y,providerId:J,_tokenResponse:M,operationType:b})})()}}function Ha(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function $a(C){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(C){var y;const b=Ln(C);if(yield b._initializationPromise,null!==(y=b.currentUser)&&void 0!==y&&y.isAnonymous)return new Do({user:b.currentUser,providerId:null,operationType:"signIn"});const M=yield Er(b,{returnSecureToken:!0}),J=yield Do._fromIdTokenResponse(b,"signIn",M,!0);return yield b._updateCurrentUser(J.user),J})).apply(this,arguments)}class Z extends k.ZR{constructor(y,b,M,J){var ce;super(b.code,b.message),this.operationType=M,this.user=J,Object.setPrototypeOf(this,Z.prototype),this.customData={appName:y.name,tenantId:null!==(ce=y.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:b.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(y,b,M,J){return new Z(y,b,M,J)}}function te(C,y,b,M){return("reauthenticate"===y?b._getReauthenticationResolver(C):b._getIdTokenResponse(C)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?Z._fromErrorAndOperation(C,ce,y,M):ce})}function U(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function pe(C,y){return qe.apply(this,arguments)}function qe(){return qe=(0,h.Z)(function*(C,y){const b=(0,k.m9)(C);yield ho(!0,b,y);const{providerUserInfo:M}=yield function Ct(C,y){return H.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[y]}),J=U(M||[]);return b.providerData=b.providerData.filter(ce=>J.has(ce.providerId)),J.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),qe.apply(this,arguments)}function Pn(C,y){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(C,y,b=!1){const M=yield Wt(C,y._linkToIdToken(C.auth,yield C.getIdToken()),b);return Do._forOperation(C,"link",M)})).apply(this,arguments)}function ho(C,y,b){return da.apply(this,arguments)}function da(){return(da=(0,h.Z)(function*(C,y,b){yield Mt(y);const J=!1===C?"provider-already-linked":"no-such-provider";ke(U(y.providerData).has(b)===C,y.auth,J)})).apply(this,arguments)}function ha(C,y){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,h.Z)(function*(C,y,b=!1){const{auth:M}=C,J="reauthenticate";try{const ce=yield Wt(C,te(M,J,y,C),b);ke(ce.idToken,M,"internal-error");const yt=ut(ce.idToken);ke(yt,M,"internal-error");const{sub:Ht}=yt;return ke(C.uid===Ht,M,"user-mismatch"),Do._forOperation(C,J,ce)}catch(ce){throw"auth/user-not-found"===ce?.code&&fe(M,"user-mismatch"),ce}})).apply(this,arguments)}function fa(C,y){return $s.apply(this,arguments)}function $s(){return($s=(0,h.Z)(function*(C,y,b=!1){const M="signIn",J=yield te(C,M,y),ce=yield Do._fromIdTokenResponse(C,M,J);return b||(yield C._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function pa(C,y){return ma.apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(C,y){return fa(Ln(C),y)})).apply(this,arguments)}function El(C,y){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,h.Z)(function*(C,y){const b=(0,k.m9)(C);return yield ho(!1,b,y.providerId),Pn(b,y)})).apply(this,arguments)}function Ga(C,y){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(C,y){return ha((0,k.m9)(C),y)})).apply(this,arguments)}function ms(){return(ms=(0,h.Z)(function*(C,y){return We(C,"POST","/v1/accounts:signInWithCustomToken",st(C,y))})).apply(this,arguments)}function Ka(C,y){return wr.apply(this,arguments)}function wr(){return wr=(0,h.Z)(function*(C,y){const b=Ln(C),M=yield function ro(C,y){return ms.apply(this,arguments)}(b,{token:y,returnSecureToken:!0}),J=yield Do._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(J.user),J}),wr.apply(this,arguments)}class $o{constructor(y,b){this.factorId=y,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(y,b){return"phoneInfo"in b?Ar._fromServerResponse(y,b):"totpInfo"in b?Vc._fromServerResponse(y,b):fe(y,"internal-error")}}class Ar extends $o{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,b){return new Ar(b)}}class Vc extends $o{constructor(y){super("totp",y)}static _fromServerResponse(y,b){return new Vc(b)}}function gs(C,y,b){var M;ke((null===(M=b.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),ke(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=b.url,y.dynamicLinkDomain=b.dynamicLinkDomain,y.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(ke(b.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=b.iOS.bundleId),b.android&&(ke(b.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=b.android.installApp,y.androidMinimumVersionCode=b.android.minimumVersion,y.androidPackageName=b.android.packageName)}function Jr(C){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,h.Z)(function*(C){const y=Ln(C);y._getPasswordPolicyInternal()&&(yield y._updatePasswordPolicy())})).apply(this,arguments)}function qa(C,y,b){return ga.apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(C,y,b){const M=Ln(C),J={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};b&&gs(M,J,b),yield za(M,J,"getOobCode",Uo)})).apply(this,arguments)}function su(C,y,b){return eo.apply(this,arguments)}function eo(){return eo=(0,h.Z)(function*(C,y,b){yield Zr((0,k.m9)(C),{oobCode:y,newPassword:b}).catch(function(){var M=(0,h.Z)(function*(J){throw"auth/password-does-not-meet-requirements"===J.code&&Jr(C),J});return function(J){return M.apply(this,arguments)}}())}),eo.apply(this,arguments)}function Bc(C,y){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,h.Z)(function*(C,y){yield function rr(C,y){return Li.apply(this,arguments)}((0,k.m9)(C),{oobCode:y})}),Bi.apply(this,arguments)}function wl(C,y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,h.Z)(function*(C,y){const b=(0,k.m9)(C),M=yield Zr(b,{oobCode:y}),J=M.requestType;switch(ke(J,b,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(M.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(M.mfaInfo,b,"internal-error");default:ke(M.email,b,"internal-error")}let ce=null;return M.mfaInfo&&(ce=$o._fromServerResponse(Ln(b),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:ce},operation:J}})).apply(this,arguments)}function To(C,y){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(C,y){const{data:b}=yield wl((0,k.m9)(C),y);return b.email})).apply(this,arguments)}function Za(C,y,b){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,h.Z)(function*(C,y,b){const M=Ln(C),yt=yield za(M,{returnSecureToken:!0,email:y,password:b,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Er).catch(pn=>{throw"auth/password-does-not-meet-requirements"===pn.code&&Jr(C),pn}),Ht=yield Do._fromIdTokenResponse(M,"signIn",yt);return yield M._updateCurrentUser(Ht.user),Ht})).apply(this,arguments)}function au(C,y,b){return pa((0,k.m9)(C),xo.credential(y,b)).catch(function(){var M=(0,h.Z)(function*(J){throw"auth/password-does-not-meet-requirements"===J.code&&Jr(C),J});return function(J){return M.apply(this,arguments)}}())}function $u(C,y,b){return os.apply(this,arguments)}function os(){return(os=(0,h.Z)(function*(C,y,b){const M=Ln(C),J={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};(function ce(yt,Ht){ke(Ht.handleCodeInApp,M,"argument-error"),Ht&&gs(M,yt,Ht)})(J,b),yield za(M,J,"getOobCode",Cn)})).apply(this,arguments)}function ss(C,y){const b=As.parseLink(y);return"EMAIL_SIGNIN"===b?.operation}function fo(C,y,b){return _a.apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(C,y,b){const M=(0,k.m9)(C),J=xo.credentialWithLink(y,b||Gt());return ke(J._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),pa(M,J)})).apply(this,arguments)}function Gs(){return(Gs=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:createAuthUri",st(C,y))})).apply(this,arguments)}function Pa(C,y){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,h.Z)(function*(C,y){const M={identifier:y,continueUri:_n()?Gt():"http://localhost"},{signinMethods:J}=yield function Qa(C,y){return Gs.apply(this,arguments)}((0,k.m9)(C),M);return J||[]}),Uc.apply(this,arguments)}function No(C,y){return zc.apply(this,arguments)}function zc(){return zc=(0,h.Z)(function*(C,y){const b=(0,k.m9)(C),J={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&gs(b.auth,J,y);const{email:ce}=yield function Vi(C,y){return ps.apply(this,arguments)}(b.auth,J);ce!==C.email&&(yield C.reload())}),zc.apply(this,arguments)}function R(C,y,b){return oe.apply(this,arguments)}function oe(){return oe=(0,h.Z)(function*(C,y,b){const M=(0,k.m9)(C),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};b&&gs(M.auth,ce,b);const{email:yt}=yield function ji(C,y){return Nr.apply(this,arguments)}(M.auth,ce);yt!==C.email&&(yield C.reload())}),oe.apply(this,arguments)}function ee(){return(ee=(0,h.Z)(function*(C,y){return ot(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ge(C,y){return Vt.apply(this,arguments)}function Vt(){return Vt=(0,h.Z)(function*(C,{displayName:y,photoURL:b}){if(void 0===y&&void 0===b)return;const M=(0,k.m9)(C),ce={idToken:yield M.getIdToken(),displayName:y,photoUrl:b,returnSecureToken:!0},yt=yield Wt(M,function j(C,y){return ee.apply(this,arguments)}(M.auth,ce));M.displayName=yt.displayName||null,M.photoURL=yt.photoUrl||null;const Ht=M.providerData.find(({providerId:pn})=>"password"===pn);Ht&&(Ht.displayName=M.displayName,Ht.photoURL=M.photoURL),yield M._updateTokensIfNecessary(yt)}),Vt.apply(this,arguments)}function nn(C,y){return Gi((0,k.m9)(C),y,null)}function Wn(C,y){return Gi((0,k.m9)(C),null,y)}function Gi(C,y,b){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,h.Z)(function*(C,y,b){const{auth:M}=C,ce={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(ce.email=y),b&&(ce.password=b);const yt=yield Wt(C,function wo(C,y){return ts.apply(this,arguments)}(M,ce));yield C._updateTokensIfNecessary(yt,!0)}),Ui.apply(this,arguments)}class jn{constructor(y,b,M={}){this.isNewUser=y,this.providerId=b,this.profile=M}}class Zi extends jn{constructor(y,b,M,J){super(y,b,M),this.username=J}}class Ii extends jn{constructor(y,b){super(y,"facebook.com",b)}}class ar extends Zi{constructor(y,b){super(y,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class _s extends jn{constructor(y,b){super(y,"google.com",b)}}class Qt extends Zi{constructor(y,b,M){super(y,"twitter.com",b,M)}}function $i(C){const{user:y,_tokenResponse:b}=C;return y.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Ri(C){var y,b;if(!C)return null;const{providerId:M}=C,J=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ce=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&C?.idToken){const yt=null===(b=null===(y=ut(C.idToken))||void 0===y?void 0:y.firebase)||void 0===b?void 0:b.sign_in_provider;if(yt)return new jn(ce,"anonymous"!==yt&&"custom"!==yt?yt:null)}if(!M)return null;switch(M){case"facebook.com":return new Ii(ce,J);case"github.com":return new ar(ce,J);case"google.com":return new _s(ce,J);case"twitter.com":return new Qt(ce,J,C.screenName||null);case"custom":case"anonymous":return new jn(ce,null);default:return new jn(ce,M,J)}}(b)}function zt(C,y,b,M){return(0,k.m9)(C).onAuthStateChanged(y,b,M)}class jc{constructor(y,b,M){this.type=y,this.credential=b,this.user=M}static _fromIdtoken(y,b){return new jc("enroll",y,b)}static _fromMfaPendingCredential(y){return new jc("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var b,M;if(y?.multiFactorSession){if(null!==(b=y.multiFactorSession)&&void 0!==b&&b.pendingCredential)return jc._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(M=y.multiFactorSession)&&void 0!==M&&M.idToken)return jc._fromIdtoken(y.multiFactorSession.idToken)}return null}}class cu{constructor(y,b,M){this.session=y,this.hints=b,this.signInResolver=M}static _fromError(y,b){const M=Ln(y),J=b.customData._serverResponse,ce=(J.mfaInfo||[]).map(Ht=>$o._fromServerResponse(M,Ht));ke(J.mfaPendingCredential,M,"internal-error");const yt=jc._fromMfaPendingCredential(J.mfaPendingCredential);return new cu(yt,ce,function(){var Ht=(0,h.Z)(function*(pn){const Hn=yield pn._process(M,yt);delete J.mfaInfo,delete J.mfaPendingCredential;const qn=Object.assign(Object.assign({},J),{idToken:Hn.idToken,refreshToken:Hn.refreshToken});switch(b.operationType){case"signIn":const Oi=yield Do._fromIdTokenResponse(M,b.operationType,qn);return yield M._updateCurrentUser(Oi.user),Oi;case"reauthenticate":return ke(b.user,M,"internal-error"),Do._forOperation(b.user,b.operationType,qn);default:fe(M,"internal-error")}});return function(pn){return Ht.apply(this,arguments)}}())}resolveSignIn(y){var b=this;return(0,h.Z)(function*(){return b.signInResolver(y)})()}}function Rs(C,y){var b;const M=(0,k.m9)(C),J=y;return ke(y.customData.operationType,M,"argument-error"),ke(null===(b=J.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,M,"argument-error"),cu._fromError(M,J)}class Ks{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(M=>$o._fromServerResponse(y.auth,M)))})}static _fromUser(y){return new Ks(y)}getSession(){var y=this;return(0,h.Z)(function*(){return jc._fromIdtoken(yield y.user.getIdToken(),y.user)})()}enroll(y,b){var M=this;return(0,h.Z)(function*(){const J=y,ce=yield M.getSession(),yt=yield Wt(M.user,J._process(M.user.auth,ce,b));return yield M.user._updateTokensIfNecessary(yt),M.user.reload()})()}unenroll(y){var b=this;return(0,h.Z)(function*(){const M="string"==typeof y?y:y.uid,J=yield b.user.getIdToken();try{const ce=yield Wt(b.user,function li(C,y){return ot(C,"POST","/v2/accounts/mfaEnrollment:withdraw",st(C,y))}(b.user.auth,{idToken:J,mfaEnrollmentId:M}));b.enrolledFactors=b.enrolledFactors.filter(({uid:yt})=>yt!==M),yield b.user._updateTokensIfNecessary(ce),yield b.user.reload()}catch(ce){throw ce}})()}}const Hc=new WeakMap;function Nn(C){const y=(0,k.m9)(C);return Hc.has(y)||Hc.set(y,Ks._fromUser(y)),Hc.get(y)}const Kn="__sak";class lu{constructor(y,b){this.storageRetriever=y,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Kn,"1"),this.storage.removeItem(Kn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,b){return this.storage.setItem(y,JSON.stringify(b)),Promise.resolve()}_get(y){const b=this.storage.getItem(y);return Promise.resolve(b?JSON.parse(b):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ys=(()=>{class C extends lu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,M)=>this.onStorageEvent(b,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pi(){const C=(0,k.z$)();return Et(C)||Pt(C)}()&&function Je(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const M of Object.keys(this.listeners)){const J=this.storage.getItem(M),ce=this.localCache[M];J!==ce&&b(M,ce,J)}}onStorageEvent(b,M=!1){if(!b.key)return void this.forAllChangedKeys((Ht,pn,Hn)=>{this.notifyListeners(Ht,Hn)});const J=b.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ht=this.storage.getItem(J);if(b.newValue!==Ht)null!==b.newValue?this.storage.setItem(J,b.newValue):this.storage.removeItem(J);else if(this.localCache[J]===b.newValue&&!M)return}const ce=()=>{const Ht=this.storage.getItem(J);!M&&this.localCache[J]===Ht||this.notifyListeners(J,Ht)},yt=this.storage.getItem(J);!function re(){return(0,k.w1)()&&10===document.documentMode}()||yt===b.newValue||b.newValue===b.oldValue?ce():setTimeout(ce,10)}notifyListeners(b,M){this.localCache[b]=M;const J=this.listeners[b];if(J)for(const ce of Array.from(J))ce(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,M,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:M,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,M){var J=()=>super._set,ce=this;return(0,h.Z)(function*(){yield J().call(ce,b,M),ce.localCache[b]=JSON.stringify(M)})()}_get(b){var M=()=>super._get,J=this;return(0,h.Z)(function*(){const ce=yield M().call(J,b);return J.localCache[b]=JSON.stringify(ce),ce})()}_remove(b){var M=()=>super._remove,J=this;return(0,h.Z)(function*(){yield M().call(J,b),delete J.localCache[b]})()}}return C.type="LOCAL",C})(),Ja=(()=>{class C extends lu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,M){}_removeListener(b,M){}}return C.type="SESSION",C})();let tc=(()=>{class C{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const M=this.receivers.find(ce=>ce.isListeningto(b));if(M)return M;const J=new C(b);return this.receivers.push(J),J}isListeningto(b){return this.eventTarget===b}handleEvent(b){var M=this;return(0,h.Z)(function*(){const J=b,{eventId:ce,eventType:yt,data:Ht}=J.data,pn=M.handlersMap[yt];if(!pn?.size)return;J.ports[0].postMessage({status:"ack",eventId:ce,eventType:yt});const Hn=Array.from(pn).map(function(){var Oi=(0,h.Z)(function*(Fs){return Fs(J.origin,Ht)});return function(Fs){return Oi.apply(this,arguments)}}()),qn=yield function ec(C){return Promise.all(C.map(function(){var y=(0,h.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(M){return{fulfilled:!1,reason:M}}});return function(b){return y.apply(this,arguments)}}()))}(Hn);J.ports[0].postMessage({status:"done",eventId:ce,eventType:yt,response:qn})})()}_subscribe(b,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(M)}_unsubscribe(b,M){this.handlersMap[b]&&M&&this.handlersMap[b].delete(M),(!M||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Cl(C="",y=10){let b="";for(let M=0;M<y;M++)b+=Math.floor(10*Math.random());return C+b}class dn{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,b,M=50){var J=this;return(0,h.Z)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let yt,Ht;return new Promise((pn,Hn)=>{const qn=Cl("",20);ce.port1.start();const Oi=setTimeout(()=>{Hn(new Error("unsupported_event"))},M);Ht={messageChannel:ce,onMessage(Fs){const nl=Fs;if(nl.data.eventId===qn)switch(nl.data.status){case"ack":clearTimeout(Oi),yt=setTimeout(()=>{Hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(yt),pn(nl.data.response);break;default:clearTimeout(Oi),clearTimeout(yt),Hn(new Error("invalid_response"))}}},J.handlers.add(Ht),ce.port1.addEventListener("message",Ht.onMessage),J.target.postMessage({eventType:y,eventId:qn,data:b},[ce.port2])}).finally(()=>{Ht&&J.removeMessageHandler(Ht)})})()}}function ei(){return window}function po(){return typeof ei().WorkerGlobalScope<"u"&&"function"==typeof ei().importScripts}function $c(){return($c=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xl="firebaseLocalStorageDb",Wc="firebaseLocalStorage",qs="fbase_key";class Dl{constructor(y){this.request=y}toPromise(){return new Promise((y,b)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Hr(C,y){return C.transaction([Wc],y?"readwrite":"readonly").objectStore(Wc)}function F(){const C=indexedDB.open(xl,1);return new Promise((y,b)=>{C.addEventListener("error",()=>{b(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(Wc,{keyPath:qs})}catch(J){b(J)}}),C.addEventListener("success",(0,h.Z)(function*(){const M=C.result;M.objectStoreNames.contains(Wc)?y(M):(M.close(),yield function S(){const C=indexedDB.deleteDatabase(xl);return new Dl(C).toPromise()}(),y(yield F()))}))})}function D(C,y,b){return N.apply(this,arguments)}function N(){return(N=(0,h.Z)(function*(C,y,b){const M=Hr(C,!0).put({[qs]:y,value:b});return new Dl(M).toPromise()})).apply(this,arguments)}function me(){return(me=(0,h.Z)(function*(C,y){const b=Hr(C,!1).get(y),M=yield new Dl(b).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Ye(C,y){const b=Hr(C,!0).delete(y);return new Dl(b).toPromise()}const bi=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,h.Z)(function*(){return b.db||(b.db=yield F()),b.db})()}_withRetries(b){var M=this;return(0,h.Z)(function*(){let J=0;for(;;)try{const ce=yield M._openDb();return yield b(ce)}catch(ce){if(J++>3)throw ce;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,h.Z)(function*(){return po()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,h.Z)(function*(){b.receiver=tc._getInstance(function mo(){return po()?self:null}()),b.receiver._subscribe("keyChanged",function(){var M=(0,h.Z)(function*(J,ce){return{keyProcessed:(yield b._poll()).includes(ce.key)}});return function(J,ce){return M.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var M=(0,h.Z)(function*(J,ce){return["keyChanged"]});return function(J,ce){return M.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,h.Z)(function*(){var M,J;if(b.activeServiceWorker=yield function to(){return $c.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new dn(b.activeServiceWorker);const ce=yield b.sender._send("ping",{},800);ce&&null!==(M=ce[0])&&void 0!==M&&M.fulfilled&&null!==(J=ce[0])&&void 0!==J&&J.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var M=this;return(0,h.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function ka(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:b},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const b=yield F();return yield D(b,Kn,"1"),yield Ye(b,Kn),!0}catch{}return!1})()}_withPendingWrite(b){var M=this;return(0,h.Z)(function*(){M.pendingWrites++;try{yield b()}finally{M.pendingWrites--}})()}_set(b,M){var J=this;return(0,h.Z)(function*(){return J._withPendingWrite((0,h.Z)(function*(){return yield J._withRetries(ce=>D(ce,b,M)),J.localCache[b]=M,J.notifyServiceWorker(b)}))})()}_get(b){var M=this;return(0,h.Z)(function*(){const J=yield M._withRetries(ce=>function G(C,y){return me.apply(this,arguments)}(ce,b));return M.localCache[b]=J,J})()}_remove(b){var M=this;return(0,h.Z)(function*(){return M._withPendingWrite((0,h.Z)(function*(){return yield M._withRetries(J=>Ye(J,b)),delete M.localCache[b],M.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,h.Z)(function*(){const M=yield b._withRetries(yt=>{const Ht=Hr(yt,!1).getAll();return new Dl(Ht).toPromise()});if(!M)return[];if(0!==b.pendingWrites)return[];const J=[],ce=new Set;for(const{fbase_key:yt,value:Ht}of M)ce.add(yt),JSON.stringify(b.localCache[yt])!==JSON.stringify(Ht)&&(b.notifyListeners(yt,Ht),J.push(yt));for(const yt of Object.keys(b.localCache))b.localCache[yt]&&!ce.has(yt)&&(b.notifyListeners(yt,null),J.push(yt));return J})()}notifyListeners(b,M){this.localCache[b]=M;const J=this.listeners[b];if(J)for(const ce of Array.from(J))ce(M)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),ya=1e12;class nc{constructor(y){this.auth=y,this.counter=ya,this._widgets=new Map}render(y,b){const M=this.counter;return this._widgets.set(M,new sf(y,this.auth.name,b||{})),this.counter++,M}reset(y){var b;const M=y||ya;null===(b=this._widgets.get(M))||void 0===b||b.delete(),this._widgets.delete(M)}getResponse(y){var b;return(null===(b=this._widgets.get(y||ya))||void 0===b?void 0:b.getResponse())||""}execute(y){var b=this;return(0,h.Z)(function*(){var M;return null===(M=b._widgets.get(y||ya))||void 0===M||M.execute(),""})()}}class sf{constructor(y,b,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof y?document.getElementById(y):y;ke(J,"argument-error",{appName:b}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mp(C){const y=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)y.push(b.charAt(Math.floor(62*Math.random())));return y.join("")}(50);const{callback:y,"expired-callback":b}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rp=Wi("rcb"),Dy=new Ut(3e4,6e4);class du{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=ei().grecaptcha)||void 0===y||!y.render)}load(y,b=""){return ke(function Kr(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(b),y,"argument-error"),this.shouldResolveImmediately(b)&&An(ei().grecaptcha)?Promise.resolve(ei().grecaptcha):new Promise((M,J)=>{const ce=ei().setTimeout(()=>{J(Ne(y,"network-request-failed"))},Dy.get());ei()[Rp]=()=>{ei().clearTimeout(ce),delete ei()[Rp];const Ht=ei().grecaptcha;if(!Ht||!An(Ht))return void J(Ne(y,"internal-error"));const pn=Ht.render;Ht.render=(Hn,qn)=>{const Oi=pn(Hn,qn);return this.counter++,Oi},this.hostLanguage=b,M(Ht)},fr(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Rp,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(ce),J(Ne(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var b;return!(null===(b=ei().grecaptcha)||void 0===b||!b.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pp{load(y){return(0,h.Z)(function*(){return new nc(y)})()}clearedOneInstance(){}}const kp="recaptcha",Op={theme:"light",type:"image"};class Ig{constructor(y,b,M=Object.assign({},Op)){this.parameters=M,this.type=kp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ln(y),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof b?document.getElementById(b):b;ke(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pp:new du,this.validateStartingState()}verify(){var y=this;return(0,h.Z)(function*(){y.assertNotDestroyed();const b=yield y.render(),M=y.getAssertedRecaptcha();return M.getResponse(b)||new Promise(ce=>{const yt=Ht=>{Ht&&(y.tokenChangeListeners.delete(yt),ce(Ht))};y.tokenChangeListeners.add(yt),y.isInvisible&&M.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return b=>{if(this.tokenChangeListeners.forEach(M=>M(b)),"function"==typeof y)y(b);else if("string"==typeof y){const M=ei()[y];"function"==typeof M&&M(b)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,h.Z)(function*(){if(yield y.init(),!y.widgetId){let b=y.container;if(!y.isInvisible){const M=document.createElement("div");b.appendChild(M),b=M}y.widgetId=y.getAssertedRecaptcha().render(b,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,h.Z)(function*(){ke(_n()&&!po(),y.auth,"internal-error"),yield function Np(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const b=yield function un(C){return zn.apply(this,arguments)}(y.auth);ke(b,y.auth,"internal-error"),y.parameters.sitekey=b})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yd{constructor(y,b){this.verificationId=y,this.onConfirmation=b}confirm(y){const b=jr._fromVerification(this.verificationId,y);return this.onConfirmation(b)}}function qd(C,y,b){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,h.Z)(function*(C,y,b){const M=Ln(C),J=yield hu(M,y,(0,k.m9)(b));return new Yd(J,ce=>pa(M,ce))})).apply(this,arguments)}function Fp(C,y,b){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,h.Z)(function*(C,y,b){const M=(0,k.m9)(C);yield ho(!1,M,"phone");const J=yield hu(M.auth,y,(0,k.m9)(b));return new Yd(J,ce=>El(M,ce))})).apply(this,arguments)}function Ku(C,y,b){return Al.apply(this,arguments)}function Al(){return(Al=(0,h.Z)(function*(C,y,b){const M=(0,k.m9)(C),J=yield hu(M.auth,y,(0,k.m9)(b));return new Yd(J,ce=>Ga(M,ce))})).apply(this,arguments)}function hu(C,y,b){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,h.Z)(function*(C,y,b){var M;const J=yield b.verify();try{let ce;if(ke("string"==typeof J,C,"argument-error"),ke(b.type===kp,C,"argument-error"),ce="string"==typeof y?{phoneNumber:y}:y,"session"in ce){const yt=ce.session;if("phoneNumber"in ce)return ke("enroll"===yt.type,C,"internal-error"),(yield function Ps(C,y){return ot(C,"POST","/v2/accounts/mfaEnrollment:start",st(C,y))}(C,{idToken:yt.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{ke("signin"===yt.type,C,"internal-error");const Ht=(null===(M=ce.multiFactorHint)||void 0===M?void 0:M.uid)||ce.multiFactorUid;return ke(Ht,C,"missing-multi-factor-info"),(yield function Ci(C,y){return ot(C,"POST","/v2/accounts/mfaSignIn:start",st(C,y))}(C,{mfaPendingCredential:yt.credential,mfaEnrollmentId:Ht,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:yt}=yield function Io(C,y){return Hi.apply(this,arguments)}(C,{phoneNumber:ce.phoneNumber,recaptchaToken:J});return yt}}finally{b._reset()}}),Sl.apply(this,arguments)}function go(C,y){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,h.Z)(function*(C,y){yield Pn((0,k.m9)(C),y)})).apply(this,arguments)}let ks=(()=>{class C{constructor(b){this.providerId=C.PROVIDER_ID,this.auth=Ln(b)}verifyPhoneNumber(b,M){return hu(this.auth,b,(0,k.m9)(M))}static credential(b,M){return jr._fromVerification(b,M)}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:M,temporaryProof:J}=b;return M&&J?jr._fromTokenResponse(M,J):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Qs(C,y){return y?Xe(y):(ke(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class ur extends oo{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return or(y,this._buildIdpRequest())}_linkToIdToken(y,b){return or(y,this._buildIdpRequest(b))}_getReauthenticationResolver(y){return or(y,this._buildIdpRequest())}_buildIdpRequest(y){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(b.idToken=y),b}}function Qd(C){return fa(C.auth,new ur(C),C.bypassAuthState)}function _o(C){const{auth:y,user:b}=C;return ke(b,y,"internal-error"),ha(b,new ur(C),C.bypassAuthState)}function ki(C){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(C){const{auth:y,user:b}=C;return ke(b,y,"internal-error"),Pn(b,new ur(C),C.bypassAuthState)})).apply(this,arguments)}class Os{constructor(y,b,M,J,ce=!1){this.auth=y,this.resolver=M,this.user=J,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var y=this;return new Promise(function(){var b=(0,h.Z)(function*(M,J){y.pendingPromise={resolve:M,reject:J};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(ce){y.reject(ce)}});return function(M,J){return b.apply(this,arguments)}}())}onAuthEvent(y){var b=this;return(0,h.Z)(function*(){const{urlResponse:M,sessionId:J,postBody:ce,tenantId:yt,error:Ht,type:pn}=y;if(Ht)return void b.reject(Ht);const Hn={auth:b.auth,requestUri:M,sessionId:J,tenantId:yt||void 0,postBody:ce||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(pn)(Hn))}catch(qn){b.reject(qn)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Qd;case"linkViaPopup":case"linkViaRedirect":return ki;case"reauthViaPopup":case"reauthViaRedirect":return _o;default:fe(this.auth,"internal-error")}}resolve(y){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wo=new Ut(2e3,1e4);function Ty(C,y,b){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,h.Z)(function*(C,y,b){const M=Ln(C);He(C,y,mr);const J=Qs(M,b);return new vs(M,"signInViaPopup",y,J).executeNotNull()})).apply(this,arguments)}function Sr(C,y,b){return af.apply(this,arguments)}function af(){return(af=(0,h.Z)(function*(C,y,b){const M=(0,k.m9)(C);He(M.auth,y,mr);const J=Qs(M.auth,b);return new vs(M.auth,"reauthViaPopup",y,J,M).executeNotNull()})).apply(this,arguments)}function Xs(C,y,b){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(C,y,b){const M=(0,k.m9)(C);He(M.auth,y,mr);const J=Qs(M.auth,b);return new vs(M.auth,"linkViaPopup",y,J,M).executeNotNull()})).apply(this,arguments)}let vs=(()=>{class C extends Os{constructor(b,M,J,ce,yt){super(b,M,ce,yt),this.provider=J,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var b=this;return(0,h.Z)(function*(){const M=yield b.execute();return ke(M,b.auth,"internal-error"),M})()}onExecution(){var b=this;return(0,h.Z)(function*(){an(1===b.filter.length,"Popup operations only handle one event");const M=Cl();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],M),b.authWindow.associatedEvent=M,b.resolver._originValidation(b.auth).catch(J=>{b.reject(J)}),b.resolver._isIframeWebStorageSupported(b.auth,J=>{J||b.reject(Ne(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const b=()=>{var M,J;this.pollId=null!==(J=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,Wo.get())};b()}}return C.currentPopupAction=null,C})();const cf="pendingRedirect",Kc=new Map;class qu extends Os{constructor(y,b,M=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,M),this.eventId=null}execute(){var y=()=>super.execute,b=this;return(0,h.Z)(function*(){let M=Kc.get(b.auth._key());if(!M){try{const ce=(yield function Ay(C,y){return yo.apply(this,arguments)}(b.resolver,b.auth))?yield y().call(b):null;M=()=>Promise.resolve(ce)}catch(J){M=()=>Promise.reject(J)}Kc.set(b.auth._key(),M)}return b.bypassAuthState||Kc.set(b.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(y){var b=()=>super.onAuthEvent,M=this;return(0,h.Z)(function*(){if("signInViaRedirect"===y.type)return b().call(M,y);if("unknown"!==y.type){if(y.eventId){const J=yield M.auth._redirectUserForId(y.eventId);if(J)return M.user=J,b().call(M,y);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function yo(){return(yo=(0,h.Z)(function*(C,y){const b=lr(y),M=At(C);if(!(yield M._isAvailable()))return!1;const J="true"===(yield M._get(b));return yield M._remove(b),J})).apply(this,arguments)}function ic(C,y){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,h.Z)(function*(C,y){return At(C)._set(lr(y),"true")})).apply(this,arguments)}function rc(){Kc.clear()}function Js(C,y){Kc.set(C._key(),y)}function At(C){return Xe(C._redirectPersistence)}function lr(C){return kn(cf,C.config.apiKey,C.name)}function Xd(C,y,b){return function va(C,y,b){return Ml.apply(this,arguments)}(C,y,b)}function Ml(){return(Ml=(0,h.Z)(function*(C,y,b){const M=Ln(C);He(C,y,mr),yield M._initializationPromise;const J=Qs(M,b);return yield ic(J,M),J._openRedirect(M,y,"signInViaRedirect")})).apply(this,arguments)}function Zu(C,y,b){return function qc(C,y,b){return Jd.apply(this,arguments)}(C,y,b)}function Jd(){return(Jd=(0,h.Z)(function*(C,y,b){const M=(0,k.m9)(C);He(M.auth,y,mr),yield M.auth._initializationPromise;const J=Qs(M.auth,b);yield ic(J,M.auth);const ce=yield as(M);return J._openRedirect(M.auth,y,"reauthViaRedirect",ce)})).apply(this,arguments)}function oc(C,y,b){return function ba(C,y,b){return fu.apply(this,arguments)}(C,y,b)}function fu(){return(fu=(0,h.Z)(function*(C,y,b){const M=(0,k.m9)(C);He(M.auth,y,mr),yield M.auth._initializationPromise;const J=Qs(M.auth,b);yield ho(!1,M,y.providerId),yield ic(J,M.auth);const ce=yield as(M);return J._openRedirect(M.auth,y,"linkViaRedirect",ce)})).apply(this,arguments)}function eh(C,y){return Na.apply(this,arguments)}function Na(){return(Na=(0,h.Z)(function*(C,y){return yield Ln(C)._initializationPromise,Zc(C,y,!1)})).apply(this,arguments)}function Zc(C,y){return lf.apply(this,arguments)}function lf(){return(lf=(0,h.Z)(function*(C,y,b=!1){const M=Ln(C),J=Qs(M,y),yt=yield new qu(M,J,b).execute();return yt&&!b&&(delete yt.user._redirectEventId,yield M._persistUserIfCurrent(yt.user),yield M._setRedirectUser(null,y)),yt})).apply(this,arguments)}function as(C){return uf.apply(this,arguments)}function uf(){return(uf=(0,h.Z)(function*(C){const y=Cl(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class vo{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let b=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(y,M)&&(b=!0,this.sendToConsumer(y,M),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function sc(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cr(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=y,b=!0)),b}sendToConsumer(y,b){var M;if(y.error&&!Cr(y)){const J=(null===(M=y.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";b.onError(Ne(this.auth,J))}else b.onAuthEvent(y)}isEventForConsumer(y,b){const M=null===b.eventId||!!y.eventId&&y.eventId===b.eventId;return b.filter.includes(y.type)&&M}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hf(y))}saveEventToCache(y){this.cachedEventUids.add(hf(y)),this.lastProcessedEventTime=Date.now()}}function hf(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function Cr({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===y?.code}function Rl(C){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,h.Z)(function*(C,y={}){return ot(C,"GET","/v1/projects",y)})).apply(this,arguments)}const ac=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cg=/^https?/;function xi(){return(xi=(0,h.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield Rl(C);for(const b of y)try{if(_r(b))return}catch{}fe(C,"unauthorized-domain")})).apply(this,arguments)}function _r(C){const y=Gt(),{protocol:b,hostname:M}=new URL(y);if(C.startsWith("chrome-extension://")){const yt=new URL(C);return""===yt.hostname&&""===M?"chrome-extension:"===b&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===b&&yt.hostname===M}if(!Cg.test(b))return!1;if(ac.test(C))return M===C;const J=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(M)}const Qu=new Ut(3e4,6e4);function Lp(){const C=ei().___jsl;if(C?.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let b=0;b<C.CP.length;b++)C.CP[b]=null}let pf=null;const Sy=new Ut(5e3,15e3),My="__/auth/iframe",pu="emulator/auth/iframe",Ry={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Py=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function So(C){const y=C.config;ke(y.authDomain,C,"auth-domain-config-required");const b=y.emulator?tn(y,pu):`https://${C.config.authDomain}/${My}`,M={apiKey:y.apiKey,appName:C.name,v:z.SDK_VERSION},J=Py.get(C.config.apiHost);J&&(M.eid=J);const ce=C._getFrameworks();return ce.length&&(M.fw=ce.join(",")),`${b}?${(0,k.xO)(M).slice(1)}`}function mu(){return mu=(0,h.Z)(function*(C){const y=yield function Dg(C){return pf=pf||function xg(C){return new Promise((y,b)=>{var M,J,ce;function yt(){Lp(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Lp(),b(Ne(C,"network-request-failed"))},timeout:Qu.get()})}if(null!==(J=null===(M=ei().gapi)||void 0===M?void 0:M.iframes)&&void 0!==J&&J.Iframe)y(gapi.iframes.getContext());else{if(null===(ce=ei().gapi)||void 0===ce||!ce.load){const Ht=Wi("iframefcb");return ei()[Ht]=()=>{gapi.load?yt():b(Ne(C,"network-request-failed"))},fr(`https://apis.google.com/js/api.js?onload=${Ht}`).catch(pn=>b(pn))}yt()}}).catch(y=>{throw pf=null,y})}(C),pf}(C),b=ei().gapi;return ke(b,C,"internal-error"),y.open({where:document.body,url:So(C),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ry,dontclear:!0},M=>new Promise(function(){var J=(0,h.Z)(function*(ce,yt){yield M.restyle({setHideOnLeave:!1});const Ht=Ne(C,"network-request-failed"),pn=ei().setTimeout(()=>{yt(Ht)},Sy.get());function Hn(){ei().clearTimeout(pn),ce(M)}M.ping(Hn).then(Hn,()=>{yt(Ht)})});return function(ce,yt){return J.apply(this,arguments)}}()))}),mu.apply(this,arguments)}const Ag={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wa{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mf="__/auth/handler",ky="emulator/auth/handler",Ns=encodeURIComponent("fac");function ea(C,y,b,M,J,ce){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,h.Z)(function*(C,y,b,M,J,ce){ke(C.config.authDomain,C,"auth-domain-config-required"),ke(C.config.apiKey,C,"invalid-api-key");const yt={apiKey:C.config.apiKey,appName:C.name,authType:b,redirectUrl:M,v:z.SDK_VERSION,eventId:J};if(y instanceof mr){y.setDefaultLanguage(C.languageCode),yt.providerId=y.providerId||"",(0,k.xb)(y.getCustomParameters())||(yt.customParameters=JSON.stringify(y.getCustomParameters()));for(const[qn,Oi]of Object.entries(ce||{}))yt[qn]=Oi}if(y instanceof Ho){const qn=y.getScopes().filter(Oi=>""!==Oi);qn.length>0&&(yt.scopes=qn.join(","))}C.tenantId&&(yt.tid=C.tenantId);const Ht=yt;for(const qn of Object.keys(Ht))void 0===Ht[qn]&&delete Ht[qn];const pn=yield C._getAppCheckToken(),Hn=pn?`#${Ns}=${encodeURIComponent(pn)}`:"";return`${function nh({config:C}){return C.emulator?tn(C,ky):`https://${C.authDomain}/${mf}`}(C)}?${(0,k.xO)(Ht).slice(1)}${Hn}`})).apply(this,arguments)}const ih="webStorageSupport",gu=class Bp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ja,this._completeRedirectFn=Zc,this._overrideRedirectResult=Js}_openPopup(y,b,M,J){var ce=this;return(0,h.Z)(function*(){var yt;an(null===(yt=ce.eventManagers[y._key()])||void 0===yt?void 0:yt.manager,"_initialize() not called before _openPopup()");const Ht=yield ea(y,b,M,Gt(),J);return function th(C,y,b,M=500,J=600){const ce=Math.max((window.screen.availHeight-J)/2,0).toString(),yt=Math.max((window.screen.availWidth-M)/2,0).toString();let Ht="";const pn=Object.assign(Object.assign({},Ag),{width:M.toString(),height:J.toString(),top:ce,left:yt}),Hn=(0,k.z$)().toLowerCase();b&&(Ht=tt(Hn)?"_blank":b),ti(Hn)&&(y=y||"http://localhost",pn.scrollbars="yes");const qn=Object.entries(pn).reduce((Fs,[nl,yf])=>`${Fs}${nl}=${yf},`,"");if(function _t(C=(0,k.z$)()){var y;return Pt(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Hn)&&"_self"!==Ht)return function Vp(C,y){const b=document.createElement("a");b.href=C,b.target=y;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(M)}(y||"",Ht),new wa(null);const Oi=window.open(y||"",Ht,qn);ke(Oi,C,"popup-blocked");try{Oi.focus()}catch{}return new wa(Oi)}(y,Ht,Cl())})()}_openRedirect(y,b,M,J){var ce=this;return(0,h.Z)(function*(){return yield ce._originValidation(y),function uu(C){ei().location.href=C}(yield ea(y,b,M,Gt(),J)),new Promise(()=>{})})()}_initialize(y){const b=y._key();if(this.eventManagers[b]){const{manager:J,promise:ce}=this.eventManagers[b];return J?Promise.resolve(J):(an(ce,"If manager is not set, promise should be"),ce)}const M=this.initAndGetManager(y);return this.eventManagers[b]={promise:M},M.catch(()=>{delete this.eventManagers[b]}),M}initAndGetManager(y){var b=this;return(0,h.Z)(function*(){const M=yield function Tg(C){return mu.apply(this,arguments)}(y),J=new vo(y);return M.register("authEvent",ce=>(ke(ce?.authEvent,y,"invalid-auth-event"),{status:J.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[y._key()]={manager:J},b.iframes[y._key()]=M,J})()}_isIframeWebStorageSupported(y,b){this.iframes[y._key()].send(ih,{type:ih},J=>{var ce;const yt=null===(ce=J?.[0])||void 0===ce?void 0:ce[ih];void 0!==yt&&b(!!yt),fe(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function ff(C){return xi.apply(this,arguments)}(y)),this.originValidationPromises[b]}get _shouldInitProactively(){return we()||Et()||Pt()}};class bs{constructor(y){this.factorId=y}_process(y,b,M){switch(b.type){case"enroll":return this._finalizeEnroll(y,b.credential,M);case"signin":return this._finalizeSignIn(y,b.credential);default:return $t("unexpected MultiFactorSessionType")}}}class gf extends bs{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new gf(y)}_finalizeEnroll(y,b,M){return function nf(C,y){return ot(C,"POST","/v2/accounts/mfaEnrollment:finalize",st(C,y))}(y,{idToken:b,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,b){return function Yi(C,y){return ot(C,"POST","/v2/accounts/mfaSignIn:finalize",st(C,y))}(y,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Up=(()=>{class C{constructor(){}static assertion(b){return gf._fromCredential(b)}}return C.FACTOR_ID="phone",C})();var tl="@firebase/auth";class rh{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var b=this;return(0,h.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const b=this.auth.onIdTokenChanged(M=>{y(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,b),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const b=this.internalListeners.get(y);b&&(this.internalListeners.delete(y),b(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,k.Pz)("authIdTokenMaxAge"),function cc(C){(0,z._registerComponent)(new Ae.wA("auth",(y,{options:b})=>{const M=y.getProvider("app").getImmediate(),J=y.getProvider("heartbeat"),ce=y.getProvider("app-check-internal"),{apiKey:yt,authDomain:Ht}=M.options;ke(yt&&!yt.includes(":"),"invalid-api-key",{appName:M.name});const pn={apiKey:yt,authDomain:Ht,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jt(C)},Hn=new Ai(M,J,ce,pn);return function Lc(C,y){const b=y?.persistence||[],M=(Array.isArray(b)?b:[b]).map(Xe);y?.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(M,y?.popupRedirectResolver)}(Hn,b),Hn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,b,M)=>{y.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new Ae.wA("auth-internal",y=>{const b=Ln(y.getProvider("auth").getImmediate());return new rh(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(tl,"1.4.0",function Oy(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,z.registerVersion)(tl,"1.4.0","esm2017")}("Browser")},5776:(on,et,T)=>{T.d(et,{u7:()=>Q_,Jj:()=>hl,IX:()=>o0,my:()=>io,xU:()=>kc,Lz:()=>xc,WA:()=>hn,F8:()=>up,$q:()=>Or,W:()=>Xl,EK:()=>Nn,PU:()=>ig,l7:()=>yo,Ky:()=>Sn,Xb:()=>gr,Cf:()=>zi,K9:()=>Il,Me:()=>Yu,yq:()=>cr,Wi:()=>G_,ET:()=>y0,Ab:()=>Jl,vr:()=>qh,Fc:()=>q_,hJ:()=>zm,B$:()=>zh,at:()=>Um,oe:()=>_0,AK:()=>rg,TF:()=>zv,JU:()=>jm,ST:()=>Vv,fH:()=>Bv,Ix:()=>s0,Wu:()=>Zv,Lx:()=>qv,qY:()=>Mr,GL:()=>Ld,QT:()=>qm,kl:()=>Ou,Xk:()=>Zm,PL:()=>m0,UQ:()=>J_,zN:()=>Fd,ad:()=>Td,nP:()=>Fu,b9:()=>Ym,vh:()=>Kv,Pb:()=>jv,L$:()=>Hv,cf:()=>Jv,sc:()=>Xm,Xo:()=>Gv,IO:()=>Zl,iE:()=>Fv,Eo:()=>Hm,i3:()=>ry,Bt:()=>Yh,pl:()=>g0,Ub:()=>_s,qK:()=>X_,TQ:()=>u0,e0:()=>Yv,r7:()=>Qm,Mx:()=>jh,ar:()=>Sc});var X,h=T(5861),k=T(534),z=T(4537),I=T(7879),ge=T(9058),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={},be=be||{},ne=Ae||self;function de(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Re(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Fe="closure_uid_"+(1e9*Math.random()>>>0),Qe=0;function Ue(r,e,n){return r.call.apply(r.bind,arguments)}function ye(r,e,n){if(!r)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,c),r.apply(e,f)}}return function(){return r.apply(e,arguments)}}function Ee(r,e,n){return(Ee=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ue:ye).apply(null,arguments)}function bt(r,e){var n=Array.prototype.slice.call(arguments,1);return function(){var c=n.slice();return c.push.apply(c,arguments),r.apply(this,c)}}function ct(r,e){function n(){}n.prototype=e.prototype,r.$=e.prototype,r.prototype=new n,r.prototype.constructor=r,r.ac=function(c,f,m){for(var v=Array(arguments.length-2),P=2;P<arguments.length;P++)v[P-2]=arguments[P];return e.prototype[f].apply(c,v)}}function fe(){this.s=this.s,this.o=this.o}fe.prototype.s=!1,fe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function nt(r){Object.prototype.hasOwnProperty.call(r,Fe)&&r[Fe]||(r[Fe]=++Qe)}(this)},fe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xe=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===e)return n;return-1};function He(r){const e=r.length;if(0<e){const n=Array(e);for(let c=0;c<e;c++)n[c]=r[c];return n}return[]}function it(r,e){for(let n=1;n<arguments.length;n++){const c=arguments[n];if(de(c)){const f=r.length||0,m=c.length||0;r.length=f+m;for(let v=0;v<m;v++)r[f+v]=c[v]}else r.push(c)}}function ke(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return r}();function an(r){return/^[\s\xa0]*$/.test(r)}function Gt(){var r=ne.navigator;return r&&(r=r.userAgent)?r:""}function _n(r){return-1!=Gt().indexOf(r)}function Yt(r){return Yt[" "](r),r}Yt[" "]=function(){};var ot,r,en=_n("Opera"),Ut=_n("Trident")||_n("MSIE"),tn=_n("Edge"),Ie=tn||Ut,Le=_n("Gecko")&&!(-1!=Gt().toLowerCase().indexOf("webkit")&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),Se=-1!=Gt().toLowerCase().indexOf("webkit")&&!_n("Edge");function st(){var r=ne.document;return r?r.documentMode:void 0}e:{var Oe="",Nt=(r=Gt(),Le?/rv:([^\);]+)(\)|;)/.exec(r):tn?/Edge\/([\d\.]+)/.exec(r):Ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Se?/WebKit\/(\S+)/.exec(r):en?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Nt&&(Oe=Nt?Nt[1]:""),Ut){var De=st();if(null!=De&&De>parseFloat(Oe)){ot=String(De);break e}}ot=Oe}var dt=ne.document&&Ut&&(st()||parseInt(ot,10))||void 0;function wt(r,e){if(ke.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Le){e:{try{Yt(e.nodeName);var f=!0;break e}catch{}f=!1}f||(e=null)}}else"mouseover"==n?e=r.fromElement:"mouseout"==n&&(e=r.toElement);this.relatedTarget=e,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Kt[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&wt.$.h.call(this)}}ct(wt,ke);var Kt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),An=0;function at(r,e,n,c,f){this.listener=r,this.proxy=null,this.src=e,this.type=n,this.capture=!!c,this.la=f,this.key=++An,this.fa=this.ia=!1}function Bt(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function un(r,e,n){for(const c in r)e.call(n,r[c],c,r)}function Qn(r){const e={};for(const n in r)e[n]=r[n];return e}const gi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ai(r,e){let n,c;for(let f=1;f<arguments.length;f++){for(n in c=arguments[f],c)r[n]=c[n];for(let m=0;m<gi.length;m++)n=gi[m],Object.prototype.hasOwnProperty.call(c,n)&&(r[n]=c[n])}}function sn(r){this.src=r,this.g={},this.h=0}function Ct(r,e){var n=e.type;if(n in r.g){var m,c=r.g[n],f=xe(c,e);(m=0<=f)&&Array.prototype.splice.call(c,f,1),m&&(Bt(e),0==r.g[n].length&&(delete r.g[n],r.h--))}}function H(r,e,n,c){for(var f=0;f<r.length;++f){var m=r[f];if(!m.fa&&m.listener==e&&m.capture==!!n&&m.la==c)return f}return-1}sn.prototype.add=function(r,e,n,c,f){var m=r.toString();(r=this.g[m])||(r=this.g[m]=[],this.h++);var v=H(r,e,c,f);return-1<v?(e=r[v],n||(e.ia=!1)):((e=new at(e,this.src,m,!!c,f)).ia=n,r.push(e)),e};var Q="closure_lm_"+(1e6*Math.random()|0),ue={};function pt(r,e,n,c,f){if(c&&c.once)return Ve(r,e,n,c,f);if(Array.isArray(e)){for(var m=0;m<e.length;m++)pt(r,e[m],n,c,f);return null}return n=Xn(n),r&&r[qt]?r.O(e,n,Re(c)?!!c.capture:!!c,f):je(r,e,n,!1,c,f)}function je(r,e,n,c,f,m){if(!e)throw Error("Invalid event type");var v=Re(f)?!!f.capture:!!f,P=In(r);if(P||(r[Q]=P=new sn(r)),(n=P.add(e,n,c,v,m)).proxy)return n;if(c=function It(){const e=Wt;return function r(n){return e.call(r.src,r.listener,n)}}(),n.proxy=c,c.src=r,c.listener=n,r.addEventListener)$t||(f=v),void 0===f&&(f=!1),r.addEventListener(e.toString(),c,f);else if(r.attachEvent)r.attachEvent(Zt(e.toString()),c);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(c)}return n}function Ve(r,e,n,c,f){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Ve(r,e[m],n,c,f);return null}return n=Xn(n),r&&r[qt]?r.P(e,n,Re(c)?!!c.capture:!!c,f):je(r,e,n,!0,c,f)}function gt(r,e,n,c,f){if(Array.isArray(e))for(var m=0;m<e.length;m++)gt(r,e[m],n,c,f);else c=Re(c)?!!c.capture:!!c,n=Xn(n),r&&r[qt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(n=H(m=r.g[e],n,c,f))&&(Bt(m[n]),Array.prototype.splice.call(m,n,1),0==m.length&&(delete r.g[e],r.h--))):r&&(r=In(r))&&(e=r.g[e.toString()],r=-1,e&&(r=H(e,n,c,f)),(n=-1<r?e[r]:null)&&ut(n))}function ut(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[qt])Ct(e.i,r);else{var n=r.type,c=r.proxy;e.removeEventListener?e.removeEventListener(n,c,r.capture):e.detachEvent?e.detachEvent(Zt(n),c):e.addListener&&e.removeListener&&e.removeListener(c),(n=In(e))?(Ct(n,r),0==n.h&&(n.src=null,e[Q]=null)):Bt(r)}}}function Zt(r){return r in ue?ue[r]:ue[r]="on"+r}function Wt(r,e){if(r.fa)r=!0;else{e=new wt(e,this);var n=r.listener,c=r.la||r.src;r.ia&&ut(r),r=n.call(c,e)}return r}function In(r){return(r=r[Q])instanceof sn?r:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xn(r){return"function"==typeof r?r:(r[Un]||(r[Un]=function(e){return r.handleEvent(e)}),r[Un])}function Fn(){fe.call(this),this.i=new sn(this),this.S=this,this.J=null}function Mt(r,e){var n,c=r.J;if(c)for(n=[];c;c=c.J)n.push(c);if(r=r.S,c=e.type||e,"string"==typeof e)e=new ke(e,r);else if(e instanceof ke)e.target=e.target||r;else{var f=e;ai(e=new ke(c,r),f)}if(f=!0,n)for(var m=n.length-1;0<=m;m--){var v=e.g=n[m];f=Vn(v,c,!0,e)&&f}if(f=Vn(v=e.g=r,c,!0,e)&&f,f=Vn(v,c,!1,e)&&f,n)for(m=0;m<n.length;m++)f=Vn(v=e.g=n[m],c,!1,e)&&f}function Vn(r,e,n,c){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,m=0;m<e.length;++m){var v=e[m];if(v&&!v.fa&&v.capture==n){var P=v.listener,L=v.la||v.src;v.ia&&Ct(r.i,v),f=!1!==P.call(L,c)&&f}}return f&&!c.defaultPrevented}ct(Fn,fe),Fn.prototype[qt]=!0,Fn.prototype.removeEventListener=function(r,e,n,c){gt(this,r,e,n,c)},Fn.prototype.N=function(){if(Fn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var n=r.g[e],c=0;c<n.length;c++)Bt(n[c]);delete r.g[e],r.h--}}this.J=null},Fn.prototype.O=function(r,e,n,c){return this.i.add(String(r),e,!1,n,c)},Fn.prototype.P=function(r,e,n,c){return this.i.add(String(r),e,!0,n,c)};var kt=ne.JSON.stringify;function ze(){var r=B;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Ze=new class lt{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new xt,r=>r.reset());class xt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ve(r){var e=1;r=r.split(":");const n=[];for(;0<e&&r.length;)n.push(r.shift()),e--;return r.length&&n.push(r.join(":")),n}function ie(r){ne.setTimeout(()=>{throw r},0)}let Y,$=!1,B=new class Te{constructor(){this.h=this.g=null}add(e,n){const c=Ze.get();c.set(e,n),this.h?this.h.next=c:this.g=c,this.h=c}},_e=()=>{const r=ne.Promise.resolve(void 0);Y=()=>{r.then(Xe)}};var Xe=()=>{for(var r;r=ze();){try{r.h.call(r.g)}catch(n){ie(n)}var e=Ze;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}$=!1};function Xt(r,e){Fn.call(this),this.h=r||1,this.g=e||ne,this.j=Ee(this.qb,this),this.l=Date.now()}function vn(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function kn(r,e,n){if("function"==typeof r)n&&(r=Ee(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ee(r.handleEvent,r)}return 2147483647<Number(e)?-1:ne.setTimeout(r,e||0)}function Rn(r){r.g=kn(()=>{r.g=null,r.i&&(r.i=!1,Rn(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ct(Xt,Fn),(X=Xt.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mt(this,"tick"),this.ga&&(vn(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){Xt.$.N.call(this),vn(this),delete this.g};class Gn extends fe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(r){fe.call(this),this.h=r,this.g={}}ct(ti,fe);var Et=[];function tt(r,e,n,c){Array.isArray(n)||(n&&(Et[0]=n.toString()),n=Et);for(var f=0;f<n.length;f++){var m=pt(e,n[f],c||r.handleEvent,!1,r.h||r);if(!m)break;r.g[m.key]=m}}function ft(r){un(r.g,function(e,n){this.g.hasOwnProperty(n)&&ut(e)},r),r.g={}}function Ke(){this.g=!0}function Pt(r,e,n,c){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _t(r,e){if(!r.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var c=n[r];if(!(2>c.length)){var f=c[1];if(Array.isArray(f)&&!(1>f.length)){var m=f[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var v=1;v<f.length;v++)f[v]=""}}}return kt(n)}catch{return e}}(r,n)+(c?" "+c:"")})}ti.prototype.N=function(){ti.$.N.call(this),ft(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ke.prototype.Ea=function(){this.g=!1},Ke.prototype.info=function(){};var re={},we=null;function Je(){return we=we||new Fn}function jt(r){ke.call(this,re.Ta,r)}function cn(r){const e=Je();Mt(e,new jt(e))}function $n(r,e){ke.call(this,re.STAT_EVENT,r),this.stat=e}function Tn(r){const e=Je();Mt(e,new $n(e,r))}function ni(r,e){ke.call(this,re.Ua,r),this.size=e}function ci(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){r()},e)}re.Ta="serverreachability",ct(jt,ke),re.STAT_EVENT="statevent",ct($n,ke),re.Ua="timingevent",ct(ni,ke);var Ai={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ln={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Di(){}function fr(){}Di.prototype.h=null;var fs,Wi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wr(){ke.call(this,"d")}function es(){ke.call(this,"c")}function pr(){}function js(r,e,n,c){this.l=r,this.j=e,this.m=n,this.W=c||1,this.U=new ti(this),this.P=za,this.V=new Xt(r=Ie?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oa}function oa(){this.i=null,this.g="",this.h=!1}ct(Wr,ke),ct(es,ke),ct(pr,Di),pr.prototype.g=function(){return new XMLHttpRequest},pr.prototype.i=function(){return{}},fs=new pr;var za=45e3,sa={},Sa={};function Hs(r,e,n){r.L=1,r.v=ps(Qr(e)),r.s=n,r.S=!0,aa(r,null)}function aa(r,e){r.G=Date.now(),Eo(r),r.A=Qr(r.v);var n=r.A,c=r.W;Array.isArray(c)||(c=[String(c)]),Yn(n.i,"t",c),r.C=0,n=r.l.J,r.h=new oa,r.g=Ar(r.l,n?e:null,!r.s),0<r.O&&(r.M=new Gn(Ee(r.Pa,r,r.g),r.O)),tt(r.U,r.g,"readystatechange",r.nb),e=r.I?Qn(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),cn(),function $e(r,e,n,c,f,m){r.info(function(){if(r.g)if(m)for(var v="",P=m.split("&"),L=0;L<P.length;L++){var K=P[L].split("=");if(1<K.length){var ae=K[0];K=K[1];var Pe=ae.split("_");v=2<=Pe.length&&"type"==Pe[1]?v+(ae+"=")+K+"&":v+(ae+"=redacted&")}}else v=null;else v=m;return"XMLHTTP REQ ("+c+") [attempt "+f+"]: "+e+"\n"+n+"\n"+v})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Lc(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Gr(r,e,n){let f,c=!0;for(;!r.J&&r.C<n.length;){if(f=ca(r,n),f==Sa){4==e&&(r.o=4,Tn(14),c=!1),Pt(r.j,r.m,null,"[Incomplete Response]");break}if(f==sa){r.o=4,Tn(15),Pt(r.j,r.m,n,"[Invalid Chunk]"),c=!1;break}Pt(r.j,r.m,f,null),Tr(r,f)}Lc(r)&&f!=Sa&&f!=sa&&(r.h.g="",r.C=0),4!=e||0!=n.length||r.h.h||(r.o=1,Tn(16),c=!1),r.i=r.i&&c,c?0<n.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wa(e),e.M=!0,Tn(11))):(Pt(r.j,r.m,n,"[Invalid Chunked Response]"),Zr(r),oo(r))}function ca(r,e){var n=r.C,c=e.indexOf("\n",n);return-1==c?Sa:(n=Number(e.substring(n,c)),isNaN(n)?sa:(c+=1)+n>e.length?Sa:(e=e.slice(c,c+n),r.C=c+n,e))}function Eo(r){r.Y=Date.now()+r.P,la(r,r.P)}function la(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ci(Ee(r.lb,r),e)}function Bo(r){r.B&&(ne.clearTimeout(r.B),r.B=null)}function oo(r){0==r.l.H||r.J||ro(r.l,r)}function Zr(r){Bo(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,vn(r.V),ft(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Tr(r,e){try{var n=r.l;if(0!=n.H&&(n.g==r||Fr(n.i,r)))if(!r.K&&Fr(n.i,r)&&3==n.H){try{var c=n.Ja.g.parse(e)}catch{c=null}if(Array.isArray(c)&&3==c.length){var f=c;if(0==f[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<r.G))break e;Oo(n),ho(n)}El(n),Tn(18)}}else n.Fa=f[1],0<n.Fa-n.V&&37500>f[2]&&n.G&&0==n.A&&!n.v&&(n.v=ci(Ee(n.ib,n),6e3));if(1>=zr(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ka(n,11)}else if((r.K||n.g==r)&&Oo(n),!an(e))for(f=n.Ja.g.parse(e),e=0;e<f.length;e++){let K=f[e];if(n.V=K[0],K=K[1],2==n.H)if("c"==K[0]){n.K=K[1],n.pa=K[2];const ae=K[3];null!=ae&&(n.ra=ae,n.l.info("VER="+n.ra));const Pe=K[4];null!=Pe&&(n.Ga=Pe,n.l.info("SVER="+n.Ga));const mt=K[5];null!=mt&&"number"==typeof mt&&0<mt&&(n.L=c=1.5*mt,n.l.info("backChannelRequestTimeoutMs_="+c)),c=n;const Lt=r.g;if(Lt){const yn=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yn){var m=c.i;m.g||-1==yn.indexOf("spdy")&&-1==yn.indexOf("quic")&&-1==yn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(rs(m,m.h),m.h=null))}if(c.F){const xn=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;xn&&(c.Da=xn,Vi(c.I,c.F,xn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-r.G,n.l.info("Handshake RTT: "+n.S+"ms"));var v=r;if((c=n).wa=$o(c,c.J?c.pa:null,c.Y),v.K){Co(c.i,v);var P=v,L=c.L;L&&P.setTimeout(L),P.B&&(Bo(P),Eo(P)),c.g=v}else ma(c);0<n.j.length&&ha(n)}else"stop"!=K[0]&&"close"!=K[0]||Ka(n,7);else 3==n.H&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?Ka(n,7):mi(n):"noop"!=K[0]&&n.h&&n.h.Aa(K),n.A=0)}cn()}catch{}}function Ds(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(de(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var n=function ts(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(de(r)||"string"==typeof r){var e=[];r=r.length;for(var n=0;n<r;n++)e.push(n);return e}e=[],n=0;for(const c in r)e[n++]=c;return e}}}(r),c=function wo(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(de(r)){for(var e=[],n=r.length,c=0;c<n;c++)e.push(r[c]);return e}for(c in e=[],n=0,r)e[n++]=r[c];return e}(r),f=c.length,m=0;m<f;m++)e.call(void 0,c[m],n&&n[m],r)}(X=js.prototype).setTimeout=function(r){this.P=r},X.nb=function(r){r=r.target;const e=this.M;e&&3==Xr(r)?e.l():this.Pa(r)},X.Pa=function(r){try{if(r==this.g)e:{const ae=Xr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ae)&&(3!=ae||Ie||this.g&&(this.h.h||this.g.ja()||Z(this.g)))){this.J||4!=ae||7==e||cn(),Bo(this);var n=this.g.da();this.ca=n;t:if(Lc(this)){var c=Z(this.g);r="";var f=c.length,m=4==Xr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),oo(this);var v="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,r+=this.h.i.decode(c[e],{stream:m&&e==f-1});c.splice(0,f),this.h.g+=r,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==n,function Dt(r,e,n,c,f,m,v){r.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+f+"]: "+e+"\n"+n+"\n"+m+" "+v})}(this.j,this.u,this.A,this.m,this.W,ae,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var P,L=this.g;if((P=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!an(P)){var K=P;break t}}K=null}if(!(n=K)){this.i=!1,this.o=3,Tn(12),Zr(this),oo(this);break e}Pt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tr(this,n)}this.S?(Gr(this,ae,v),Ie&&this.i&&3==ae&&(tt(this.U,this.V,"tick",this.mb),this.V.start())):(Pt(this.j,this.m,v,null),Tr(this,v)),4==ae&&Zr(this),this.i&&!this.J&&(4==ae?ro(this.l,this):(this.i=!1,Eo(this)))}else(function te(r){const e={};r=(r.g&&2<=Xr(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let c=0;c<r.length;c++){if(an(r[c]))continue;var n=ve(r[c]);const f=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const m=e[f]||[];e[f]=m,m.push(n)}!function zn(r,e){for(const n in r)e.call(void 0,r[n],n,r)}(e,function(c){return c.join(", ")})})(this.g),400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Tn(12)):(this.o=0,Tn(13)),Zr(this),oo(this)}}}catch{}},X.mb=function(){if(this.g){var r=Xr(this.g),e=this.g.ja();this.C<e.length&&(Bo(this),Gr(this,r,e),this.i&&4!=r&&Eo(this))}},X.cancel=function(){this.J=!0,Zr(this)},X.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function he(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(cn(),Tn(17)),Zr(this),this.o=2,oo(this)):la(this,this.Y-r)};var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Li(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Li){this.h=r.h,vr(this,r.j),this.s=r.s,this.g=r.g,ko(this,r.m),this.l=r.l;var e=r.i,n=new so;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ns(this,n),this.o=r.o}else r&&(e=String(r).match(_i))?(this.h=!1,vr(this,e[1]||"",!0),this.s=Uo(e[2]||""),this.g=Uo(e[3]||"",!0),ko(this,e[4]),this.l=Uo(e[5]||"",!0),ns(this,e[6]||"",!0),this.o=Uo(e[7]||"")):(this.h=!1,this.i=new so(null,this.h))}function Qr(r){return new Li(r)}function vr(r,e,n){r.j=n?Uo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ko(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ns(r,e,n){e instanceof so?(r.i=e,function co(r,e){e&&!r.j&&(Si(r),r.i=null,r.g.forEach(function(n,c){var f=c.toLowerCase();c!=f&&(Ur(this,c),Yn(this,f,n))},r)),r.j=e}(r.i,r.h)):(n||(e=Mi(e,is)),r.i=new so(e,r.h))}function Vi(r,e,n){r.i.set(e,n)}function ps(r){return Vi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Uo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Mi(r,e,n){return"string"==typeof r?(r=encodeURI(r).replace(e,Cn),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Cn(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Li.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Mi(e,ii,!0),":");var n=this.g;return(n||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Mi(e,ii,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&r.push("/"),r.push(Mi(n,"/"==n.charAt(0)?Nr:ji,!0))),(n=this.i.toString())&&r.push("?",n),(n=this.o)&&r.push("#",Mi(n,nr)),r.join("")};var ii=/[#\/\?@]/g,ji=/[#\?:]/g,Nr=/[#\?]/g,is=/[#\?@]/g,nr=/#/g;function so(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Si(r){r.g||(r.g=new Map,r.h=0,r.i&&function rr(r,e){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var c=r[n].indexOf("="),f=null;if(0<=c){var m=r[n].substring(0,c);f=r[n].substring(c+1)}else m=r[n];e(m,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(r.i,function(e,n){r.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ur(r,e){Si(r),e=ao(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function or(r,e){return Si(r),e=ao(r,e),r.g.has(e)}function Yn(r,e,n){Ur(r,e),0<n.length&&(r.i=null,r.g.set(ao(r,e),He(n)),r.h+=n.length)}function ao(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Hi(r){this.l=r||ja,r=ne.PerformanceNavigationTiming?0<(r=ne.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().dc),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=so.prototype).add=function(r,e){Si(this),this.i=null,r=ao(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(e),this.h+=1,this},X.forEach=function(r,e){Si(this),this.g.forEach(function(n,c){n.forEach(function(f){r.call(e,f,c,this)},this)},this)},X.ta=function(){Si(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let c=0;c<e.length;c++){const f=r[c];for(let m=0;m<f.length;m++)n.push(e[c])}return n},X.Z=function(r){Si(this);let e=[];if("string"==typeof r)or(this,r)&&(e=e.concat(this.g.get(ao(this,r))));else{r=Array.from(this.g.values());for(let n=0;n<r.length;n++)e=e.concat(r[n])}return e},X.set=function(r,e){return Si(this),this.i=null,or(this,r=ao(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},X.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var c=e[n];const m=encodeURIComponent(String(c)),v=this.Z(c);for(c=0;c<v.length;c++){var f=m;""!==v[c]&&(f+="="+encodeURIComponent(String(v[c]))),r.push(f)}}return this.i=r.join("&")};var ja=10;function zo(r){return!!r.h||!!r.g&&r.g.size>=r.j}function zr(r){return r.h?1:r.g?r.g.size:0}function Fr(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function rs(r,e){r.g?r.g.add(e):r.h=e}function Co(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function lo(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const n of r.g.values())e=e.concat(n.F);return e}return He(r.i)}Hi.prototype.cancel=function(){if(this.i=lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var jr=class{stringify(r){return ne.JSON.stringify(r,void 0)}parse(r){return ne.JSON.parse(r,void 0)}};function Ts(){this.g=new jr}function Jn(r,e,n){const c=n||"";try{Ds(r,function(f,m){let v=f;Re(f)&&(v=kt(f)),e.push(c+m+"="+encodeURIComponent(v))})}catch(f){throw e.push(c+"type="+encodeURIComponent("_badmap")),f}}function jo(r,e,n,c,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(c)}catch{}}function xo(r){this.l=r.ec||null,this.j=r.ob||!1}function mr(r,e){Fn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(xo,Di),xo.prototype.g=function(){return new mr(this.l,this.j)},xo.prototype.i=function(r){return function(){return r}}({}),ct(mr,Fn);var Ho=0;function uo(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function sr(r){r.readyState=4,r.l=null,r.j=null,r.A=null,br(r)}function br(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(X=mr.prototype).open=function(r,e){if(this.readyState!=Ho)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,br(this)},X.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sr(this)),this.readyState=Ho},X.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uo(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?sr(this):br(this),3==this.readyState&&uo(this)}},X.Za=function(r){this.g&&(this.response=this.responseText=r,sr(this))},X.Ya=function(r){this.g&&(this.response=r,sr(this))},X.ka=function(){this.g&&sr(this)},X.setRequestHeader=function(r,e){this.v.append(r,e)},X.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var n=e.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=e.next();return r.join("\r\n")},Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var tf=ne.JSON.parse;function yi(r){Fn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xi,this.L=this.M=!1}ct(yi,Fn);var Xi="",bl=/^https?$/i,Ss=["POST","PUT"];function Er(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ua(r),Ha(r)}function ua(r){r.F||(r.F=!0,Mt(r,"complete"),Mt(r,"error"))}function Do(r){if(r.h&&typeof be<"u"&&(!r.C[1]||4!=Xr(r)||2!=r.da()))if(r.v&&4==Xr(r))kn(r.La,0,r);else if(Mt(r,"readystatechange"),4==Xr(r)){r.h=!1;try{const v=r.da();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var c;if(c=0===v){var f=String(r.I).match(_i)[1]||null;!f&&ne.self&&ne.self.location&&(f=ne.self.location.protocol.slice(0,-1)),c=!bl.test(f?f.toLowerCase():"")}n=c}if(n)Mt(r,"complete"),Mt(r,"success");else{r.m=6;try{var m=2<Xr(r)?r.g.statusText:""}catch{m=""}r.j=m+" ["+r.da()+"]",ua(r)}}finally{Ha(r)}}}function Ha(r,e){if(r.g){$a(r);const n=r.g,c=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Mt(r,"ready");try{n.onreadystatechange=c}catch{}}}function $a(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ne.clearTimeout(r.A),r.A=null)}function Xr(r){return r.g?r.g.readyState:0}function Z(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Xi:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function U(r){let e="";return un(r,function(n,c){e+=c,e+=":",e+=n,e+="\r\n"}),e}function pe(r,e,n){e:{for(c in n){var c=!1;break e}c=!0}c||(n=U(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Vi(r,e,n))}function qe(r,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||e}function Pn(r){this.Ga=0,this.j=[],this.l=new Ke,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qe("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qe("baseRetryDelayMs",5e3,r),this.hb=qe("retryDelaySeedMs",1e4,r),this.eb=qe("forwardChannelMaxRetries",2,r),this.xa=qe("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Hi(r&&r.concurrentRequestLimit),this.Ja=new Ts,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mi(r){if(da(r),3==r.H){var e=r.W++,n=Qr(r.I);if(Vi(n,"SID",r.K),Vi(n,"RID",e),Vi(n,"TYPE","terminate"),$s(r,n),(e=new js(r,r.l,e)).L=2,e.v=ps(Qr(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ar(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Eo(e)}wr(r)}function ho(r){r.g&&(Wa(r),r.g.cancel(),r.g=null)}function da(r){ho(r),r.u&&(ne.clearTimeout(r.u),r.u=null),Oo(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ne.clearTimeout(r.m),r.m=null)}function ha(r){if(!zo(r.i)&&!r.m){r.m=!0;var e=r.Na;Y||_e(),$||(Y(),$=!0),B.add(e,r),r.C=0}}function fa(r,e){var n;n=e?e.m:r.W++;const c=Qr(r.I);Vi(c,"SID",r.K),Vi(c,"RID",n),Vi(c,"AID",r.V),$s(r,c),r.o&&r.s&&pe(c,r.o,r.s),n=new js(r,r.l,n,r.C+1),null===r.o&&(n.I=r.s),e&&(r.j=e.F.concat(r.j)),e=pa(r,n,1e3),n.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),rs(r.i,n),Hs(n,c,e)}function $s(r,e){r.na&&un(r.na,function(n,c){Vi(e,c,n)}),r.h&&Ds({},function(n,c){Vi(e,c,n)})}function pa(r,e,n){n=Math.min(r.j.length,n);var c=r.h?Ee(r.h.Va,r.h,r):null;e:{var f=r.j;let m=-1;for(;;){const v=["count="+n];-1==m?0<n?(m=f[0].g,v.push("ofs="+m)):m=0:v.push("ofs="+m);let P=!0;for(let L=0;L<n;L++){let K=f[L].g;const ae=f[L].map;if(K-=m,0>K)m=Math.max(0,f[L].g-100),P=!1;else try{Jn(ae,v,"req"+K+"_")}catch{c&&c(ae)}}if(P){c=v.join("&");break e}}}return r=r.j.splice(0,n),e.F=r,c}function ma(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;Y||_e(),$||(Y(),$=!0),B.add(e,r),r.A=0}}function El(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=ci(Ee(r.Ma,r),ms(r,r.A)),r.A++,0))}function Wa(r){null!=r.B&&(ne.clearTimeout(r.B),r.B=null)}function Ga(r){r.g=new js(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Qr(r.wa);Vi(e,"RID","rpc"),Vi(e,"SID",r.K),Vi(e,"AID",r.V),Vi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Vi(e,"TO",r.qa),Vi(e,"TYPE","xmlhttp"),$s(r,e),r.o&&r.s&&pe(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var n=r.g;r=r.pa,n.L=1,n.v=ps(Qr(e)),n.s=null,n.S=!0,aa(n,r)}function Oo(r){null!=r.v&&(ne.clearTimeout(r.v),r.v=null)}function ro(r,e){var n=null;if(r.g==e){Oo(r),Wa(r),r.g=null;var c=2}else{if(!Fr(r.i,e))return;n=e.F,Co(r.i,e),c=1}if(0!=r.H)if(e.i)if(1==c){n=e.s?e.s.length:0,e=Date.now()-e.G;var f=r.C;Mt(c=Je(),new ni(c,n)),ha(r)}else ma(r);else if(3==(f=e.o)||0==f&&0<e.ca||!(1==c&&function Hu(r,e){return!(zr(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=ci(Ee(r.Na,r,e),ms(r,r.C)),r.C++,0)))}(r,e)||2==c&&El(r)))switch(n&&0<n.length&&(e=r.i,e.i=e.i.concat(n)),f){case 1:Ka(r,5);break;case 4:Ka(r,10);break;case 3:Ka(r,6);break;default:Ka(r,2)}}function ms(r,e){let n=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(n*=2),n*e}function Ka(r,e){if(r.l.info("Error code "+e),2==e){var n=null;r.h&&(n=null);var c=Ee(r.pb,r);n||(n=new Li("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||vr(n,"https"),ps(n)),function As(r,e){const n=new Ke;if(ne.Image){const c=new Image;c.onload=bt(jo,n,c,"TestLoadImage: loaded",!0,e),c.onerror=bt(jo,n,c,"TestLoadImage: error",!1,e),c.onabort=bt(jo,n,c,"TestLoadImage: abort",!1,e),c.ontimeout=bt(jo,n,c,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=r}else e(!1)}(n.toString(),c)}else Tn(2);r.H=0,r.h&&r.h.za(e),wr(r),da(r)}function wr(r){if(r.H=0,r.ma=[],r.h){const e=lo(r.i);(0!=e.length||0!=r.j.length)&&(it(r.ma,e),it(r.ma,r.j),r.i.i.length=0,He(r.j),r.j.length=0),r.h.ya()}}function $o(r,e,n){var c=n instanceof Li?Qr(n):new Li(n);if(""!=c.g)e&&(c.g=e+"."+c.g),ko(c,c.m);else{var f=ne.location;c=f.protocol,e=e?e+"."+f.hostname:f.hostname,f=+f.port;var m=new Li(null);c&&vr(m,c),e&&(m.g=e),f&&ko(m,f),n&&(m.l=n),c=m}return e=r.Da,(n=r.F)&&e&&Vi(c,n,e),Vi(c,"VER",r.ra),$s(r,c),c}function Ar(r,e,n){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yi(n&&r.Ha&&!r.va?new xo({ob:!0}):r.va)).Oa(r.J),e}function Vc(){}function gs(){if(Ut&&!(10<=Number(dt)))throw Error("Environmental error: no available transport.")}function Jr(r,e){Fn.call(this),this.g=new Pn(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!an(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!an(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new ga(this)}function Ya(r){Wr.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const n in e){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function qa(){es.call(this),this.status=1}function ga(r){this.g=r}function eo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Bc(r,e,n){n||(n=0);var c=Array(16);if("string"==typeof e)for(var f=0;16>f;++f)c[f]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(f=0;16>f;++f)c[f]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var m=r.g[3],v=(e=r.g[0])+(m^(n=r.g[1])&((f=r.g[2])^m))+c[0]+3614090360&4294967295;v=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=(n=(f=(m=(e=n+(v<<7&4294967295|v>>>25))+((v=m+(f^e&(n^f))+c[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=f+(n^m&(e^n))+c[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^f&(m^e))+c[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=e+(m^n&(f^m))+c[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=m+(f^e&(n^f))+c[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=f+(n^m&(e^n))+c[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^f&(m^e))+c[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=e+(m^n&(f^m))+c[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=m+(f^e&(n^f))+c[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=f+(n^m&(e^n))+c[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^f&(m^e))+c[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=e+(m^n&(f^m))+c[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=m+(f^e&(n^f))+c[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=f+(n^m&(e^n))+c[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^f&(m^e))+c[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=e+(f^m&(n^f))+c[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=m+(n^f&(e^n))+c[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=f+(e^n&(m^e))+c[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=n+(m^e&(f^m))+c[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=e+(f^m&(n^f))+c[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=m+(n^f&(e^n))+c[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=f+(e^n&(m^e))+c[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=n+(m^e&(f^m))+c[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=e+(f^m&(n^f))+c[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=m+(n^f&(e^n))+c[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=f+(e^n&(m^e))+c[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=n+(m^e&(f^m))+c[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=e+(f^m&(n^f))+c[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=m+(n^f&(e^n))+c[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=f+(e^n&(m^e))+c[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=n+(m^e&(f^m))+c[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=e+(n^f^m)+c[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^n^f)+c[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=f+(m^e^n)+c[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=n+(f^m^e)+c[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^f^m)+c[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^n^f)+c[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=f+(m^e^n)+c[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=n+(f^m^e)+c[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^f^m)+c[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^n^f)+c[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=f+(m^e^n)+c[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=n+(f^m^e)+c[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^f^m)+c[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^n^f)+c[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=f+(m^e^n)+c[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=n+(f^m^e)+c[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=e+(f^(n|~m))+c[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=m+(n^(e|~f))+c[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=f+(e^(m|~n))+c[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=n+(m^(f|~e))+c[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=e+(f^(n|~m))+c[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=m+(n^(e|~f))+c[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=f+(e^(m|~n))+c[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=n+(m^(f|~e))+c[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=e+(f^(n|~m))+c[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=m+(n^(e|~f))+c[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=f+(e^(m|~n))+c[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=n+(m^(f|~e))+c[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((m=(e=n+((v=e+(f^(n|~m))+c[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=m+(n^(e|~f))+c[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((f=m+((v=f+(e^(m|~n))+c[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~e))+c[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(f+(v<<21&4294967295|v>>>11))&4294967295,r.g[2]=r.g[2]+f&4294967295,r.g[3]=r.g[3]+m&4294967295}function Bi(r,e){this.h=e;for(var n=[],c=!0,f=r.length-1;0<=f;f--){var m=0|r[f];c&&m==e||(n[f]=m,c=!1)}this.g=n}(X=yi.prototype).Oa=function(r){this.M=r},X.ha=function(r,e,n,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fs.g(),this.C=function Br(r){return r.h||(r.h=r.i())}(this.u?this.u:fs),this.g.onreadystatechange=Ee(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(m){return void Er(this,m)}if(r=n||"",n=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var f in c)n.set(f,c[f]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const m of c.keys())n.set(m,c.get(m))}c=Array.from(n.keys()).find(m=>"content-type"==m.toLowerCase()),f=ne.FormData&&r instanceof ne.FormData,!(0<=xe(Ss,e))||c||f||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,v]of n)this.g.setRequestHeader(m,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$a(this),0<this.B&&((this.L=function Ms(r){return Ut&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ee(this.ua,this)):this.A=kn(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(m){Er(this,m)}},X.ua=function(){typeof be<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))},X.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Mt(this,"complete"),Mt(this,"abort"),Ha(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ha(this,!0)),yi.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?Do(this):this.kb())},X.kb=function(){Do(this)},X.isActive=function(){return!!this.g},X.da=function(){try{return 2<Xr(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),tf(e)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=Pn.prototype).ra=8,X.H=1,X.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const f=new js(this,this.l,r);let m=this.s;if(this.U&&(m?(m=Qn(m),ai(m,this.U)):m=this.U),null!==this.o||this.O||(f.I=m,m=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var c=this.j[n];if(void 0===(c="__data__"in c.map&&"string"==typeof(c=c.map.__data__)?c.length:void 0))break;if(4096<(e+=c)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pa(this,f,e),Vi(n=Qr(this.I),"RID",r),Vi(n,"CVER",22),this.F&&Vi(n,"X-HTTP-Session-Id",this.F),$s(this,n),m&&(this.O?e="headers="+encodeURIComponent(String(U(m)))+"&"+e:this.o&&pe(n,this.o,m)),rs(this.i,f),this.bb&&Vi(n,"TYPE","init"),this.P?(Vi(n,"$req",e),Vi(n,"SID","null"),f.aa=!0,Hs(f,n,null)):Hs(f,n,e),this.H=2}}else 3==this.H&&(r?fa(this,r):0==this.j.length||zo(this.i)||fa(this))},X.Ma=function(){if(this.u=null,Ga(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=ci(Ee(this.jb,this),r)}},X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tn(10),ho(this),Ga(this))},X.ib=function(){null!=this.v&&(this.v=null,ho(this),El(this),Tn(19))},X.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Tn(2)):(this.l.info("Failed to ping google.com"),Tn(1))},X.isActive=function(){return!!this.h&&this.h.isActive(this)},(X=Vc.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.isActive=function(){return!0},X.Va=function(){},gs.prototype.g=function(r,e){return new Jr(r,e)},ct(Jr,Fn),Jr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,n=this.h||void 0;Tn(0),r.Y=e,r.na=n||{},r.G=r.aa,r.I=$o(r,null,r.Y),ha(r)},Jr.prototype.close=function(){mi(this.g)},Jr.prototype.u=function(r){var e=this.g;if("string"==typeof r){var n={};n.__data__=r,r=n}else this.v&&((n={}).__data__=kt(r),r=n);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&ha(e)},Jr.prototype.N=function(){this.g.h=null,delete this.j,mi(this.g),delete this.g,Jr.$.N.call(this)},ct(Ya,Wr),ct(qa,es),ct(ga,Vc),ga.prototype.Ba=function(){Mt(this.g,"a")},ga.prototype.Aa=function(r){Mt(this.g,new Ya(r))},ga.prototype.za=function(r){Mt(this.g,new qa)},ga.prototype.ya=function(){Mt(this.g,"b")},ct(eo,function su(){this.blockSize=-1}),eo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},eo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var n=e-this.blockSize,c=this.m,f=this.h,m=0;m<e;){if(0==f)for(;m<=n;)Bc(this,r,m),m+=this.blockSize;if("string"==typeof r){for(;m<e;)if(c[f++]=r.charCodeAt(m++),f==this.blockSize){Bc(this,c),f=0;break}}else for(;m<e;)if(c[f++]=r[m++],f==this.blockSize){Bc(this,c),f=0;break}}this.h=f,this.i+=e},eo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var n=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&n,n/=256;for(this.j(r),r=Array(16),e=n=0;4>e;++e)for(var c=0;32>c;c+=8)r[n++]=this.g[e]>>>c&255;return r};var wl={};function Ma(r){return-128<=r&&128>r?function bn(r,e){var n=wl;return Object.prototype.hasOwnProperty.call(n,r)?n[r]:n[r]=e(r)}(r,function(e){return new Bi([0|e],0>e?-1:0)}):new Bi([0|r],0>r?-1:0)}function To(r){if(isNaN(r)||!isFinite(r))return Ra;if(0>r)return fo(To(-r));for(var e=[],n=1,c=0;r>=n;c++)e[c]=r/n|0,n*=Za;return new Bi(e,0)}var Za=4294967296,Ra=Ma(0),au=Ma(1),$u=Ma(16777216);function os(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function ss(r){return-1==r.h}function fo(r){for(var e=r.g.length,n=[],c=0;c<e;c++)n[c]=~r.g[c];return new Bi(n,~r.h).add(au)}function _a(r,e){return r.add(fo(e))}function Qa(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Gs(r,e){this.g=r,this.h=e}function Pa(r,e){if(os(e))throw Error("division by zero");if(os(r))return new Gs(Ra,Ra);if(ss(r))return e=Pa(fo(r),e),new Gs(fo(e.g),fo(e.h));if(ss(e))return e=Pa(r,fo(e)),new Gs(fo(e.g),e.h);if(30<r.g.length){if(ss(r)||ss(e))throw Error("slowDivide_ only works with positive integers.");for(var n=au,c=e;0>=c.X(r);)n=Uc(n),c=Uc(c);var f=No(n,1),m=No(c,1);for(c=No(c,2),n=No(n,2);!os(c);){var v=m.add(c);0>=v.X(r)&&(f=f.add(n),m=v),c=No(c,1),n=No(n,1)}return e=_a(r,f.R(e)),new Gs(f,e)}for(f=Ra;0<=r.X(e);){for(n=Math.max(1,Math.floor(r.ea()/e.ea())),c=48>=(c=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,c-48),v=(m=To(n)).R(e);ss(v)||0<v.X(r);)v=(m=To(n-=c)).R(e);os(m)&&(m=au),f=f.add(m),r=_a(r,v)}return new Gs(f,r)}function Uc(r){for(var e=r.g.length+1,n=[],c=0;c<e;c++)n[c]=r.D(c)<<1|r.D(c-1)>>>31;return new Bi(n,r.h)}function No(r,e){var n=e>>5;e%=32;for(var c=r.g.length-n,f=[],m=0;m<c;m++)f[m]=0<e?r.D(m+n)>>>e|r.D(m+n+1)<<32-e:r.D(m+n);return new Bi(f,r.h)}(X=Bi.prototype).ea=function(){if(ss(this))return-fo(this).ea();for(var r=0,e=1,n=0;n<this.g.length;n++){var c=this.D(n);r+=(0<=c?c:Za+c)*e,e*=Za}return r},X.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(os(this))return"0";if(ss(this))return"-"+fo(this).toString(r);for(var e=To(Math.pow(r,6)),n=this,c="";;){var f=Pa(n,e).g,m=((0<(n=_a(n,f.R(e))).g.length?n.g[0]:n.h)>>>0).toString(r);if(os(n=f))return m+c;for(;6>m.length;)m="0"+m;c=m+c}},X.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},X.X=function(r){return ss(r=_a(this,r))?-1:os(r)?0:1},X.abs=function(){return ss(this)?fo(this):this},X.add=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],c=0,f=0;f<=e;f++){var m=c+(65535&this.D(f))+(65535&r.D(f)),v=(m>>>16)+(this.D(f)>>>16)+(r.D(f)>>>16);c=v>>>16,n[f]=(v&=65535)<<16|(m&=65535)}return new Bi(n,-2147483648&n[n.length-1]?-1:0)},X.R=function(r){if(os(this)||os(r))return Ra;if(ss(this))return ss(r)?fo(this).R(fo(r)):fo(fo(this).R(r));if(ss(r))return fo(this.R(fo(r)));if(0>this.X($u)&&0>r.X($u))return To(this.ea()*r.ea());for(var e=this.g.length+r.g.length,n=[],c=0;c<2*e;c++)n[c]=0;for(c=0;c<this.g.length;c++)for(var f=0;f<r.g.length;f++){var m=this.D(c)>>>16,v=65535&this.D(c),P=r.D(f)>>>16,L=65535&r.D(f);n[2*c+2*f]+=v*L,Qa(n,2*c+2*f),n[2*c+2*f+1]+=m*L,Qa(n,2*c+2*f+1),n[2*c+2*f+1]+=v*P,Qa(n,2*c+2*f+1),n[2*c+2*f+2]+=m*P,Qa(n,2*c+2*f+2)}for(c=0;c<e;c++)n[c]=n[2*c+1]<<16|n[2*c];for(c=e;c<2*e;c++)n[c]=0;return new Bi(n,0)},X.gb=function(r){return Pa(this,r).h},X.and=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],c=0;c<e;c++)n[c]=this.D(c)&r.D(c);return new Bi(n,this.h&r.h)},X.or=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],c=0;c<e;c++)n[c]=this.D(c)|r.D(c);return new Bi(n,this.h|r.h)},X.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],c=0;c<e;c++)n[c]=this.D(c)^r.D(c);return new Bi(n,this.h^r.h)},gs.prototype.createWebChannel=gs.prototype.g,Jr.prototype.send=Jr.prototype.u,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,Ln.COMPLETE="complete",fr.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",Fn.prototype.listen=Fn.prototype.O,yi.prototype.listenOnce=yi.prototype.P,yi.prototype.getLastError=yi.prototype.Sa,yi.prototype.getLastErrorCode=yi.prototype.Ia,yi.prototype.getStatus=yi.prototype.da,yi.prototype.getResponseJson=yi.prototype.Wa,yi.prototype.getResponseText=yi.prototype.ja,yi.prototype.send=yi.prototype.ha,yi.prototype.setWithCredentials=yi.prototype.Oa,eo.prototype.digest=eo.prototype.l,eo.prototype.reset=eo.prototype.reset,eo.prototype.update=eo.prototype.j,Bi.prototype.add=Bi.prototype.add,Bi.prototype.multiply=Bi.prototype.R,Bi.prototype.modulo=Bi.prototype.gb,Bi.prototype.compare=Bi.prototype.X,Bi.prototype.toNumber=Bi.prototype.ea,Bi.prototype.toString=Bi.prototype.toString,Bi.prototype.getBits=Bi.prototype.D,Bi.fromNumber=To,Bi.fromString=function Ws(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return fo(Ws(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=To(Math.pow(e,8)),c=Ra,f=0;f<r.length;f+=8){var m=Math.min(8,r.length-f),v=parseInt(r.substring(f,f+m),e);8>m?(m=To(Math.pow(e,m)),c=c.R(m).add(To(v))):c=(c=c.R(n)).add(To(v))}return c};var zc=Me.createWebChannelTransport=function(){return new gs},R=Me.getStatEventTarget=function(){return Je()},oe=Me.ErrorCode=Ai,j=Me.EventType=Ln,ee=Me.Event=re,Ge=Me.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vt=Me.FetchXmlHttpFactory=xo,nn=Me.WebChannel=fr,Wn=Me.XhrIo=yi,Gi=Me.Md5=eo,Ui=Me.Integer=Bi;const Ri="@firebase/firestore";class jn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");let Zi="10.5.2";const Ii=new I.Yd("@firebase/firestore");function ar(){return Ii.logLevel}function _s(r){Ii.setLogLevel(r)}function Qt(r,...e){if(Ii.logLevel<=I.in.DEBUG){const n=e.map(Lr);Ii.debug(`Firestore (${Zi}): ${r}`,...n)}}function $i(r,...e){if(Ii.logLevel<=I.in.ERROR){const n=e.map(Lr);Ii.error(`Firestore (${Zi}): ${r}`,...n)}}function cr(r,...e){if(Ii.logLevel<=I.in.WARN){const n=e.map(Lr);Ii.warn(`Firestore (${Zi}): ${r}`,...n)}}function Lr(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function En(r="Unexpected state"){const e=`FIRESTORE (${Zi}) INTERNAL ASSERTION FAILED: `+r;throw $i(e),new Error(e)}function On(r,e){r||En()}function Il(r,e){r||En()}function fn(r,e){return r}const zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hn extends ge.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Sp{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class Xa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ao{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var c=this;let f=this.i;const m=K=>this.i!==f?(f=this.i,n(K)):Promise.resolve();let v=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Ki,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const K=v;e.enqueueRetryable((0,h.Z)(function*(){yield K.promise,yield m(c.currentUser)}))},L=K=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(K=>L(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?L(K):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Ki)}},0),P()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(c=>this.i!==e?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(On("string"==typeof c.accessToken),new Sp(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return On(null===e||"string"==typeof e),new jn(e)}}class jc{constructor(e,n,c){this.l=e,this.h=n,this.P=c,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cu{constructor(e,n,c){this.l=e,this.h=n,this.P=c}getToken(){return Promise.resolve(new jc(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ps{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const c=m=>{null!=m.error&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const v=m.token!==this.R;return this.R=m.token,Qt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>c(m))};const f=m=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>f(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?f(m):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(On("string"==typeof n.token),this.R=n.token,new Rs(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wg(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let c=0;c<r;c++)n[c]=Math.floor(256*Math.random());return n}class Wu{static newId(){const n=62*Math.floor(256/62);let c="";for(;c.length<20;){const f=wg(40);for(let m=0;m<f.length;++m)c.length<20&&f[m]<n&&(c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(f[m]%62))}return c}}function li(r,e){return r<e?-1:r>e?1:0}function Ks(r,e,n){return r.length===e.length&&r.every((c,f)=>n(c,e[f]))}function Hc(r){return r+"\0"}class Nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new hn(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new hn(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new hn(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new hn(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),c=Math.floor(1e6*(e-1e3*n));return new Nn(n,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?li(this.nanoseconds,e.nanoseconds):li(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kn(e)}static min(){return new Kn(new Nn(0,0))}static max(){return new Kn(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lu{constructor(e,n,c){void 0===n?n=0:n>e.length&&En(),void 0===c?c=e.length-n:c>e.length-n&&En(),this.segments=e,this.offset=n,this.len=c}get length(){return this.len}isEqual(e){return 0===lu.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lu?e.forEach(c=>{n.push(c)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,c=this.limit();n<c;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const c=Math.min(e.length,n.length);for(let f=0;f<c;f++){const m=e.get(f),v=n.get(f);if(m<v)return-1;if(m>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pi extends lu{construct(e,n,c){return new Pi(e,n,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const c of e){if(c.indexOf("//")>=0)throw new hn(zt.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);n.push(...c.split("/").filter(f=>f.length>0))}return new Pi(n)}static emptyPath(){return new Pi([])}}const Gu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends lu{construct(e,n,c){return new gr(e,n,c)}static isValidIdentifier(e){return Gu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const n=[];let c="",f=0;const m=()=>{if(0===c.length)throw new hn(zt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(c),c=""};let v=!1;for(;f<e.length;){const P=e[f];if("\\"===P){if(f+1===e.length)throw new hn(zt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[f+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new hn(zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=L,f+=2}else"`"===P?(v=!v,f++):"."!==P||v?(c+=P,f++):(m(),f++)}if(m(),v)throw new hn(zt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}class Sn{constructor(e){this.path=e}static fromPath(e){return new Sn(Pi.fromString(e))}static fromName(e){return new Sn(Pi.fromString(e).popFirst(5))}static empty(){return new Sn(Pi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Pi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Sn(new Pi(e.slice()))}}class Ys{constructor(e,n,c,f){this.indexId=e,this.collectionGroup=n,this.fields=c,this.indexState=f}}function rf(r){return r.fields.find(e=>2===e.kind)}function Ja(r){return r.fields.filter(e=>2!==e.kind)}Ys.UNKNOWN_ID=-1;class tc{constructor(e,n){this.fieldPath=e,this.kind=n}}class dn{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new dn(0,po.min())}}function ei(r,e){const n=r.toTimestamp().seconds,c=r.toTimestamp().nanoseconds+1,f=Kn.fromTimestamp(1e9===c?new Nn(n+1,0):new Nn(n,c));return new po(f,Sn.empty(),e)}function uu(r){return new po(r.readTime,r.key,-1)}class po{constructor(e,n,c){this.readTime=e,this.documentKey=n,this.largestBatchId=c}static min(){return new po(Kn.min(),Sn.empty(),-1)}static max(){return new po(Kn.max(),Sn.empty(),-1)}}function to(r,e){let n=r.readTime.compareTo(e.readTime);return 0!==n?n:(n=Sn.comparator(r.documentKey,e.documentKey),0!==n?n:li(r.largestBatchId,e.largestBatchId))}const $c="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ka{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mo(r){return xl.apply(this,arguments)}function xl(){return xl=(0,h.Z)(function*(r){if(r.code!==zt.FAILED_PRECONDITION||r.message!==$c)throw r;Qt("LocalStore","Unexpectedly lost primary lease")}),xl.apply(this,arguments)}class Rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&En(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Rt((c,f)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(c,f)},this.catchCallback=m=>{this.wrapFailure(n,m).next(c,f)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Rt?n:Rt.resolve(n)}catch(n){return Rt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Rt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Rt.reject(n)}static resolve(e){return new Rt((n,c)=>{n(e)})}static reject(e){return new Rt((n,c)=>{c(e)})}static waitFor(e){return new Rt((n,c)=>{let f=0,m=0,v=!1;e.forEach(P=>{++f,P.next(()=>{++m,v&&m===f&&n()},L=>c(L))}),v=!0,m===f&&n()})}static or(e){let n=Rt.resolve(!1);for(const c of e)n=n.next(f=>f?Rt.resolve(f):c());return n}static forEach(e,n){const c=[];return e.forEach((f,m)=>{c.push(n.call(this,f,m))}),this.waitFor(c)}static mapArray(e,n){return new Rt((c,f)=>{const m=e.length,v=new Array(m);let P=0;for(let L=0;L<m;L++){const K=L;n(e[K]).next(ae=>{v[K]=ae,++P,P===m&&c(v)},ae=>f(ae))}})}static doWhile(e,n){return new Rt((c,f)=>{const m=()=>{!0===e()?n().next(()=>{m()},f):c()};m()})}}class Wc{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ki,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Hr(e,n.error)):this.V.resolve()},this.transaction.onerror=c=>{const f=G(c.target.error);this.V.reject(new Hr(e,f))}}static open(e,n,c,f){try{return new Wc(n,e.transaction(f,c))}catch(m){throw new Hr(n,m)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new F(n)}}class qs{constructor(e,n,c){this.name=e,this.version=n,this.p=c,12.2===qs.S((0,ge.z$)())&&$i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qt("SimpleDb","Removing database:",e),D(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ge.hl)())return!1;if(qs.C())return!0;const e=(0,ge.z$)(),n=qs.S(e),c=0<n&&n<10,f=qs.v(e),m=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||c||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static v(e){const n=e.match(/Android ([\d.]+)/i),c=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(c)}O(e){var n=this;return(0,h.Z)(function*(){return n.db||(Qt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((c,f)=>{const m=indexedDB.open(n.name,n.version);m.onsuccess=v=>{c(v.target.result)},m.onblocked=()=>{f(new Hr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=v=>{const P=v.target.error;f("VersionError"===P.name?new hn(zt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new hn(zt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Hr(e,P))},m.onupgradeneeded=v=>{Qt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',v.oldVersion),n.p.N(v.target.result,m.transaction,v.oldVersion,n.version).next(()=>{Qt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=c=>n.B(c)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,c,f){var m=this;return(0,h.Z)(function*(){const v="readonly"===n;let P=0;for(;;){++P;try{m.db=yield m.O(e);const L=Wc.open(m.db,e,v?"readonly":"readwrite",c),K=f(L).next(ae=>(L.g(),ae)).catch(ae=>(L.abort(ae),Rt.reject(ae))).toPromise();return K.catch(()=>{}),yield L.m,K}catch(L){const K=L,ae="FirebaseError"!==K.name&&P<3;if(Qt("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ae),m.close(),!ae)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Dl{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return D(this.k.delete())}}class Hr extends hn{constructor(e,n){super(zt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function S(r){return"IndexedDbTransactionError"===r.name}class F{constructor(e){this.store=e}put(e,n){let c;return void 0!==n?(Qt("SimpleDb","PUT",this.store.name,e,n),c=this.store.put(n,e)):(Qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),c=this.store.put(e)),D(c)}add(e){return Qt("SimpleDb","ADD",this.store.name,e,e),D(this.store.add(e))}get(e){return D(this.store.get(e)).next(n=>(void 0===n&&(n=null),Qt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Qt("SimpleDb","DELETE",this.store.name,e),D(this.store.delete(e))}count(){return Qt("SimpleDb","COUNT",this.store.name),D(this.store.count())}W(e,n){const c=this.options(e,n);if(c.index||"function"!=typeof this.store.getAll){const f=this.cursor(c),m=[];return this.G(f,(v,P)=>{m.push(P)}).next(()=>m)}{const f=this.store.getAll(c.range);return new Rt((m,v)=>{f.onerror=P=>{v(P.target.error)},f.onsuccess=P=>{m(P.target.result)}})}}j(e,n){const c=this.store.getAll(e,null===n?void 0:n);return new Rt((f,m)=>{c.onerror=v=>{m(v.target.error)},c.onsuccess=v=>{f(v.target.result)}})}H(e,n){Qt("SimpleDb","DELETE ALL",this.store.name);const c=this.options(e,n);c.J=!1;const f=this.cursor(c);return this.G(f,(m,v,P)=>P.delete())}Y(e,n){let c;n?c=e:(c={},n=e);const f=this.cursor(c);return this.G(f,n)}Z(e){const n=this.cursor({});return new Rt((c,f)=>{n.onerror=m=>{const v=G(m.target.error);f(v)},n.onsuccess=m=>{const v=m.target.result;v?e(v.primaryKey,v.value).next(P=>{P?v.continue():c()}):c()}})}G(e,n){const c=[];return new Rt((f,m)=>{e.onerror=v=>{m(v.target.error)},e.onsuccess=v=>{const P=v.target.result;if(!P)return void f();const L=new Dl(P),K=n(P.primaryKey,P.value,L);if(K instanceof Rt){const ae=K.catch(Pe=>(L.done(),Rt.reject(Pe)));c.push(ae)}L.isDone?f():null===L.$?P.continue():P.continue(L.$)}}).next(()=>Rt.waitFor(c))}options(e,n){let c;return void 0!==e&&("string"==typeof e?c=e:n=e),{index:c,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const c=this.store.index(e.index);return e.J?c.openKeyCursor(e.range,n):c.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function D(r){return new Rt((e,n)=>{r.onsuccess=c=>{e(c.target.result)},r.onerror=c=>{const f=G(c.target.error);n(f)}})}let N=!1;function G(r){const e=qs.S((0,ge.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const c=new hn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return N||(N=!0,setTimeout(()=>{throw c},0)),c}}return r}class me{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Qt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,h.Z)(function*(){n.task=null;try{Qt("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(c){S(c)?Qt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",c):yield mo(c)}yield n.ee(6e4)}))}}class Ye{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,h.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",c=>n.ne(c,e))})()}ne(e,n){const c=new Set;let f=n,m=!0;return Rt.doWhile(()=>!0===m&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!c.has(v))return Qt("IndexBackiller",`Processing collection: ${v}`),this.re(e,v,f).next(P=>{f-=P,c.add(v)});m=!1})).next(()=>n-f)}re(e,n,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(f=>this.localStore.localDocuments.getNextDocuments(e,n,f,c).next(m=>{const v=m.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.ie(f,m)).next(P=>(Qt("IndexBackiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,n,P))).next(()=>v.size)}))}ie(e,n){let c=e;return n.changes.forEach((f,m)=>{const v=uu(m);to(v,c)>0&&(c=v)}),new po(c.readTime,c.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Ot=(()=>{class r{constructor(n,c){this.previousValue=n,c&&(c.sequenceNumberHandler=f=>this.se(f),this.oe=f=>c.writeSequenceNumber(f))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return r._e=-1,r})();function Ft(r){return null==r}function Mn(r){return 0===r&&1/r==-1/0}function bi(r){return"number"==typeof r&&Number.isInteger(r)&&!Mn(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Ci(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Zs(e)),e=Yi(r.get(n),e);return Zs(e)}function Yi(r,e){let n=e;const c=r.length;for(let f=0;f<c;f++){const m=r.charAt(f);switch(m){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=m}}return n}function Zs(r){return r+"\x01\x01"}function Fo(r){const e=r.length;if(On(e>=2),2===e)return On("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Pi.emptyPath();const n=e-2,c=[];let f="";for(let m=0;m<e;){const v=r.indexOf("\x01",m);switch((v<0||v>n)&&En(),r.charAt(v+1)){case"\x01":const P=r.substring(m,v);let L;0===f.length?L=P:(f+=P,L=f,f=""),c.push(L);break;case"\x10":f+=r.substring(m,v),f+="\0";break;case"\x11":f+=r.substring(m,v+1);break;default:En()}m=v+2}return new Pi(c)}const Gc=["userId","batchId"];function ya(r,e){return[r,Ci(e)]}function nc(r,e,n){return[r,Ci(e),n]}const sf={},Mp=["prefixPath","collectionGroup","readTime","documentId"],Rp=["prefixPath","collectionGroup","documentId"],Dy=["collectionGroup","readTime","prefixPath","documentId"],ys=["canonicalId","targetId"],du=["targetId","path"],Kr=["path","targetId"],Pp=["collectionId","parent"],kp=["indexId","uid"],Op=["uid","sequenceNumber"],Ig=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Np=["indexId","uid","orderedDocumentKey"],Yd=["userId","collectionPath","documentId"],qd=["userId","collectionPath","largestBatchId"],Oa=["userId","collectionGroup","largestBatchId"],Fp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Tl=[...Fp,"documentOverlays"],Ku=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Al=Ku,hu=[...Al,"indexConfiguration","indexState","indexEntries"];class Sl extends ka{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function go(r,e){const n=fn(r);return qs.M(n.ae,e)}function Zd(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ks(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Qs(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ur{constructor(e,n){this.comparator=e,this.root=n||_o.EMPTY}insert(e,n){return new ur(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_o.BLACK,null,null))}remove(e){return new ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_o.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const c=this.comparator(e,n.key);if(0===c)return n.value;c<0?n=n.left:c>0&&(n=n.right)}return null}indexOf(e){let n=0,c=this.root;for(;!c.isEmpty();){const f=this.comparator(e,c.key);if(0===f)return n+c.left.size;f<0?c=c.left:(n+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,c)=>(e(n,c),!1))}toString(){const e=[];return this.inorderTraversal((n,c)=>(e.push(`${n}:${c}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,n,c,f){this.isReverse=f,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=n?c(e.key,n):1,n&&f&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _o{constructor(e,n,c,f,m){this.key=e,this.value=n,this.color=c??_o.RED,this.left=f??_o.EMPTY,this.right=m??_o.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,c,f,m){return new _o(e??this.key,n??this.value,c??this.color,f??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,c){let f=this;const m=c(e,f.key);return f=m<0?f.copy(null,null,null,f.left.insert(e,n,c),null):0===m?f.copy(null,n,null,null,null):f.copy(null,null,null,null,f.right.insert(e,n,c)),f.fixUp()}removeMin(){if(this.left.isEmpty())return _o.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let c,f=this;if(n(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,n),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===n(e,f.key)){if(f.right.isEmpty())return _o.EMPTY;c=f.right.min(),f=f.copy(c.key,c.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,n))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw En();const e=this.left.check();if(e!==this.right.check())throw En();return e+(this.isRed()?0:1)}}_o.EMPTY=null,_o.RED=!0,_o.BLACK=!1,_o.EMPTY=new class{constructor(){this.size=0}get key(){throw En()}get value(){throw En()}get color(){throw En()}get left(){throw En()}get right(){throw En()}copy(e,n,c,f,m){return this}insert(e,n,c){return new _o(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ki{constructor(e){this.comparator=e,this.data=new ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,c)=>(e(n),!1))}forEachInRange(e,n){const c=this.data.getIteratorFrom(e[0]);for(;c.hasNext();){const f=c.getNext();if(this.comparator(f.key,e[1])>=0)return;n(f.key)}}forEachWhile(e,n){let c;for(c=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();c.hasNext();)if(!e(c.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ji(this.data.getIterator())}getIteratorFrom(e){return new Ji(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(c=>{n=n.add(c)}),n}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const n=this.data.getIterator(),c=e.data.getIterator();for(;n.hasNext();){const f=n.getNext().key,m=c.getNext().key;if(0!==this.comparator(f,m))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ki(this.comparator);return n.data=e,n}}class Ji{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Os(r){return r.hasNext()?r.getNext():void 0}class Wo{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Wo([])}unionWith(e){let n=new ki(gr.comparator);for(const c of this.fields)n=n.add(c);for(const c of e)n=n.add(c);return new Wo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,(n,c)=>n.isEqual(c))}}class Ty extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Yu(){return typeof atob<"u"}class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(f){try{return atob(f)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new Ty("Invalid base64 string: "+m):m}}(e);return new Sr(n)}static fromUint8Array(e){const n=function(f){let m="";for(let v=0;v<f.length;++v)m+=String.fromCharCode(f[v]);return m}(e);return new Sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const c=new Uint8Array(n.length);for(let f=0;f<n.length;f++)c[f]=n.charCodeAt(f);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return li(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const af=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(r){if(On(!!r),"string"==typeof r){let e=0;const n=af.exec(r);if(On(!!n),n[1]){let f=n[1];f=(f+"000000000").substr(0,9),e=Number(f)}const c=new Date(r);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:Ir(r.seconds),nanos:Ir(r.nanos)}}function Ir(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function vs(r){return"string"==typeof r?Sr.fromBase64String(r):Sr.fromUint8Array(r)}function cf(r){var e,n;return"server_timestamp"===(null===(n=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kc(r){const e=r.mapValue.fields.__previous_value__;return cf(e)?Kc(e):e}function qu(r){const e=Xs(r.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}class Ay{constructor(e,n,c,f,m,v,P,L,K){this.databaseId=e,this.appId=n,this.persistenceKey=c,this.host=f,this.ssl=m,this.forceLongPolling=v,this.autoDetectLongPolling=P,this.longPollingOptions=L,this.useFetchStreams=K}}class yo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}const ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yc={nullValue:"NULL_VALUE"};function rc(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cf(r)?4:Zc(r)?9007199254740991:10:En()}function Js(r,e){if(r===e)return!0;const n=rc(r);if(n!==rc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return qu(r).isEqual(qu(e));case 3:return function(f,m){if("string"==typeof f.timestampValue&&"string"==typeof m.timestampValue&&f.timestampValue.length===m.timestampValue.length)return f.timestampValue===m.timestampValue;const v=Xs(f.timestampValue),P=Xs(m.timestampValue);return v.seconds===P.seconds&&v.nanos===P.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return m=e,vs(r.bytesValue).isEqual(vs(m.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(f,m){return Ir(f.geoPointValue.latitude)===Ir(m.geoPointValue.latitude)&&Ir(f.geoPointValue.longitude)===Ir(m.geoPointValue.longitude)}(r,e);case 2:return function(f,m){if("integerValue"in f&&"integerValue"in m)return Ir(f.integerValue)===Ir(m.integerValue);if("doubleValue"in f&&"doubleValue"in m){const v=Ir(f.doubleValue),P=Ir(m.doubleValue);return v===P?Mn(v)===Mn(P):isNaN(v)&&isNaN(P)}return!1}(r,e);case 9:return Ks(r.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:return function(f,m){const v=f.mapValue.fields||{},P=m.mapValue.fields||{};if(Zd(v)!==Zd(P))return!1;for(const L in v)if(v.hasOwnProperty(L)&&(void 0===P[L]||!Js(v[L],P[L])))return!1;return!0}(r,e);default:return En()}var m}function At(r,e){return void 0!==(r.values||[]).find(n=>Js(n,e))}function lr(r,e){if(r===e)return 0;const n=rc(r),c=rc(e);if(n!==c)return li(n,c);switch(n){case 0:case 9007199254740991:return 0;case 1:return li(r.booleanValue,e.booleanValue);case 2:return function(m,v){const P=Ir(m.integerValue||m.doubleValue),L=Ir(v.integerValue||v.doubleValue);return P<L?-1:P>L?1:P===L?0:isNaN(P)?isNaN(L)?0:-1:1}(r,e);case 3:return Xd(r.timestampValue,e.timestampValue);case 4:return Xd(qu(r),qu(e));case 5:return li(r.stringValue,e.stringValue);case 6:return function(m,v){const P=vs(m),L=vs(v);return P.compareTo(L)}(r.bytesValue,e.bytesValue);case 7:return function(m,v){const P=m.split("/"),L=v.split("/");for(let K=0;K<P.length&&K<L.length;K++){const ae=li(P[K],L[K]);if(0!==ae)return ae}return li(P.length,L.length)}(r.referenceValue,e.referenceValue);case 8:return function(m,v){const P=li(Ir(m.latitude),Ir(v.latitude));return 0!==P?P:li(Ir(m.longitude),Ir(v.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(m,v){const P=m.values||[],L=v.values||[];for(let K=0;K<P.length&&K<L.length;++K){const ae=lr(P[K],L[K]);if(ae)return ae}return li(P.length,L.length)}(r.arrayValue,e.arrayValue);case 10:return function(m,v){if(m===ic.mapValue&&v===ic.mapValue)return 0;if(m===ic.mapValue)return 1;if(v===ic.mapValue)return-1;const P=m.fields||{},L=Object.keys(P),K=v.fields||{},ae=Object.keys(K);L.sort(),ae.sort();for(let Pe=0;Pe<L.length&&Pe<ae.length;++Pe){const mt=li(L[Pe],ae[Pe]);if(0!==mt)return mt;const Lt=lr(P[L[Pe]],K[ae[Pe]]);if(0!==Lt)return Lt}return li(L.length,ae.length)}(r.mapValue,e.mapValue);default:throw En()}}function Xd(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return li(r,e);const n=Xs(r),c=Xs(e),f=li(n.seconds,c.seconds);return 0!==f?f:li(n.nanos,c.nanos)}function va(r){return Ml(r)}function Ml(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const c=Xs(n);return`time(${c.seconds},${c.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?vs(r.bytesValue).toBase64():"referenceValue"in r?Sn.fromName(r.referenceValue).toString():"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let c="[",f=!0;for(const m of n.values||[])f?f=!1:c+=",",c+=Ml(m);return c+"]"}(r.arrayValue):"mapValue"in r?function(n){const c=Object.keys(n.fields||{}).sort();let f="{",m=!0;for(const v of c)m?m=!1:f+=",",f+=`${v}:${Ml(n.fields[v])}`;return f+"}"}(r.mapValue):En()}function qc(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jd(r){return!!r&&"integerValue"in r}function oc(r){return!!r&&"arrayValue"in r}function ba(r){return!!r&&"nullValue"in r}function fu(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function eh(r){return!!r&&"mapValue"in r}function Na(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ks(r.mapValue.fields,(n,c)=>e.mapValue.fields[n]=Na(c)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Na(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Zc(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function lf(r){return"nullValue"in r?Yc:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?qc(yo.empty(),Sn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:En()}function as(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?qc(yo.empty(),Sn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?ic:En()}function uf(r,e){const n=lr(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function df(r,e){const n=lr(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class vo{constructor(e){this.value=e}static empty(){return new vo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let c=0;c<e.length-1;++c)if(n=(n.mapValue.fields||{})[e.get(c)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Na(n)}setAll(e){let n=gr.emptyPath(),c={},f=[];e.forEach((v,P)=>{if(!n.isImmediateParentOf(P)){const L=this.getFieldsMap(n);this.applyChanges(L,c,f),c={},f=[],n=P.popLast()}v?c[P.lastSegment()]=Na(v):f.push(P.lastSegment())});const m=this.getFieldsMap(n);this.applyChanges(m,c,f)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let c=0;c<e.length;++c){let f=n.mapValue.fields[e.get(c)];eh(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},n.mapValue.fields[e.get(c)]=f),n=f}return n.mapValue.fields}applyChanges(e,n,c){ks(n,(f,m)=>e[f]=m);for(const f of c)delete e[f]}clone(){return new vo(Na(this.value))}}function hf(r){const e=[];return ks(r.fields,(n,c)=>{const f=new gr([n]);if(eh(c)){const m=hf(c.mapValue).fields;if(0===m.length)e.push(f);else for(const v of m)e.push(f.child(v))}else e.push(f)}),new Wo(e)}class Cr{constructor(e,n,c,f,m,v,P){this.key=e,this.documentType=n,this.version=c,this.readTime=f,this.createTime=m,this.data=v,this.documentState=P}static newInvalidDocument(e){return new Cr(e,0,Kn.min(),Kn.min(),Kn.min(),vo.empty(),0)}static newFoundDocument(e,n,c,f){return new Cr(e,1,n,Kn.min(),c,f,0)}static newNoDocument(e,n){return new Cr(e,2,n,Kn.min(),Kn.min(),vo.empty(),0)}static newUnknownDocument(e,n){return new Cr(e,3,n,Kn.min(),Kn.min(),vo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Kn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sc{constructor(e,n){this.position=e,this.inclusive=n}}function Rl(r,e,n){let c=0;for(let f=0;f<r.position.length;f++){const m=e[f],v=r.position[f];if(c=m.field.isKeyField()?Sn.comparator(Sn.fromName(v.referenceValue),n.key):lr(v,n.data.field(m.field)),"desc"===m.dir&&(c*=-1),0!==c)break}return c}function Qc(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Js(r.position[n],e.position[n]))return!1;return!0}class ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cg(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ff{}class xi extends ff{constructor(e,n,c){super(),this.field=e,this.op=n,this.value=c}static create(e,n,c){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,c):new Ry(e,n,c):"array-contains"===n?new mu(e,c):"in"===n?new Ag(e,c):"not-in"===n?new Ea(e,c):"array-contains-any"===n?new Xu(e,c):new xi(e,n,c)}static createKeyFieldInFilter(e,n,c){return"in"===n?new Py(e,c):new So(e,c)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(lr(n,this.value)):null!==n&&rc(this.value)===rc(n)&&this.matchesComparison(lr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return En()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends ff{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new _r(e,n)}matches(e){return Qu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Qu(r){return"and"===r.op}function Lp(r){return"or"===r.op}function xg(r){return pf(r)&&Qu(r)}function pf(r){for(const e of r.filters)if(e instanceof _r)return!1;return!0}function Dg(r){if(r instanceof xi)return r.field.canonicalString()+r.op.toString()+va(r.value);if(xg(r))return r.filters.map(e=>Dg(e)).join(",");{const e=r.filters.map(n=>Dg(n)).join(",");return`${r.op}(${e})`}}function Sy(r,e){return r instanceof xi?(c=r,(f=e)instanceof xi&&c.op===f.op&&c.field.isEqual(f.field)&&Js(c.value,f.value)):r instanceof _r?function(c,f){return f instanceof _r&&c.op===f.op&&c.filters.length===f.filters.length&&c.filters.reduce((m,v,P)=>m&&Sy(v,f.filters[P]),!0)}(r,e):void En();var c,f}function My(r,e){const n=r.filters.concat(e);return _r.create(n,r.op)}function pu(r){return r instanceof xi?`${(n=r).field.canonicalString()} ${n.op} ${va(n.value)}`:r instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(pu).join(" ,")+"}"}(r):"Filter";var n}class Ry extends xi{constructor(e,n,c){super(e,n,c),this.key=Sn.fromName(c.referenceValue)}matches(e){const n=Sn.comparator(e.key,this.key);return this.matchesComparison(n)}}class Py extends xi{constructor(e,n){super(e,"in",n),this.keys=Tg(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class So extends xi{constructor(e,n){super(e,"not-in",n),this.keys=Tg(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Tg(r,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(c=>Sn.fromName(c.referenceValue))}class mu extends xi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oc(n)&&At(n.arrayValue,this.value)}}class Ag extends xi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&At(this.value.arrayValue,n)}}class Ea extends xi{constructor(e,n){super(e,"not-in",n)}matches(e){if(At(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!At(this.value.arrayValue,n)}}class Xu extends xi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(c=>At(this.value.arrayValue,c))}}class Sg{constructor(e,n=null,c=[],f=[],m=null,v=null,P=null){this.path=e,this.collectionGroup=n,this.orderBy=c,this.filters=f,this.limit=m,this.startAt=v,this.endAt=P,this.ce=null}}function Ju(r,e=null,n=[],c=[],f=null,m=null,v=null){return new Sg(r,e,n,c,f,m,v)}function wa(r){const e=fn(r);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(c=>Dg(c)).join(","),n+="|ob:",n+=e.orderBy.map(c=>{return(m=c).field.canonicalString()+m.dir;var m}).join(","),Ft(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(c=>va(c)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(c=>va(c)).join(",")),e.ce=n}return e.ce}function th(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Cg(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Sy(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Qc(r.startAt,e.startAt)&&Qc(r.endAt,e.endAt)}function Vp(r){return Sn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function mf(r,e){return r.filters.filter(n=>n instanceof xi&&n.field.isEqual(e))}function ky(r,e,n){let c=Yc,f=!0;for(const m of mf(r,e)){let v=Yc,P=!0;switch(m.op){case"<":case"<=":v=lf(m.value);break;case"==":case"in":case">=":v=m.value;break;case">":v=m.value,P=!1;break;case"!=":case"not-in":v=Yc}uf({value:c,inclusive:f},{value:v,inclusive:P})<0&&(c=v,f=P)}if(null!==n)for(let m=0;m<r.orderBy.length;++m)if(r.orderBy[m].field.isEqual(e)){const v=n.position[m];uf({value:c,inclusive:f},{value:v,inclusive:n.inclusive})<0&&(c=v,f=n.inclusive);break}return{value:c,inclusive:f}}function Ns(r,e,n){let c=ic,f=!0;for(const m of mf(r,e)){let v=ic,P=!0;switch(m.op){case">=":case">":v=as(m.value),P=!1;break;case"==":case"in":case"<=":v=m.value;break;case"<":v=m.value,P=!1;break;case"!=":case"not-in":v=ic}df({value:c,inclusive:f},{value:v,inclusive:P})>0&&(c=v,f=P)}if(null!==n)for(let m=0;m<r.orderBy.length;++m)if(r.orderBy[m].field.isEqual(e)){const v=n.position[m];df({value:c,inclusive:f},{value:v,inclusive:n.inclusive})>0&&(c=v,f=n.inclusive);break}return{value:c,inclusive:f}}class ea{constructor(e,n=null,c=[],f=[],m=null,v="F",P=null,L=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=c,this.filters=f,this.limit=m,this.limitType=v,this.startAt=P,this.endAt=L,this.le=null,this.he=null,this.Pe=null}}function Xc(r,e,n,c,f,m,v,P){return new ea(r,e,n,c,f,m,v,P)}function nh(r){return new ea(r)}function ih(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Bp(r){return null!==r.collectionGroup}function gu(r){const e=fn(r);if(null===e.le){e.le=[];const n=new Set;for(const m of e.explicitOrderBy)e.le.push(m),n.add(m.field.canonicalString());const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(v){let P=new ki(gr.comparator);return v.filters.forEach(L=>{L.getFlattenedFilters().forEach(K=>{K.isInequality()&&(P=P.add(K.field))})}),P})(e).forEach(m=>{n.has(m.canonicalString())||m.isKeyField()||e.le.push(new ac(m,c))}),n.has(gr.keyField().canonicalString())||e.le.push(new ac(gr.keyField(),c))}return e.le}function bs(r){const e=fn(r);return e.he||(e.he=function gf(r,e){if("F"===r.limitType)return Ju(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(f=>new ac(f.field,"desc"===f.dir?"asc":"desc"));const n=r.endAt?new sc(r.endAt.position,r.endAt.inclusive):null,c=r.startAt?new sc(r.startAt.position,r.startAt.inclusive):null;return Ju(r.path,r.collectionGroup,e,r.filters,r.limit,n,c)}}(e,gu(r))),e.he}function Up(r,e){const n=r.filters.concat([e]);return new ea(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function zp(r,e,n){return new ea(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Jc(r,e){return th(bs(r),bs(e))&&r.limitType===e.limitType}function ed(r){return`${wa(bs(r))}|lt:${r.limitType}`}function el(r){return`Query(target=${function(n){let c=n.path.canonicalString();return null!==n.collectionGroup&&(c+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(c+=`, filters: [${n.filters.map(f=>pu(f)).join(", ")}]`),Ft(n.limit)||(c+=", limit: "+n.limit),n.orderBy.length>0&&(c+=`, orderBy: [${n.orderBy.map(f=>{return`${(v=f).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),n.startAt&&(c+=", startAt: ",c+=n.startAt.inclusive?"b:":"a:",c+=n.startAt.position.map(f=>va(f)).join(",")),n.endAt&&(c+=", endAt: ",c+=n.endAt.inclusive?"a:":"b:",c+=n.endAt.position.map(f=>va(f)).join(",")),`Target(${c})`}(bs(r))}; limitType=${r.limitType})`}function tl(r,e){return e.isFoundDocument()&&function(c,f){const m=f.key.path;return null!==c.collectionGroup?f.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(m):Sn.isDocumentKey(c.path)?c.path.isEqual(m):c.path.isImmediateParentOf(m)}(r,e)&&function(c,f){for(const m of gu(c))if(!m.field.isKeyField()&&null===f.data.field(m.field))return!1;return!0}(r,e)&&function(c,f){for(const m of c.filters)if(!m.matches(f))return!1;return!0}(r,e)&&(f=e,!((c=r).startAt&&!function(v,P,L){const K=Rl(v,P,L);return v.inclusive?K<=0:K<0}(c.startAt,gu(c),f)||c.endAt&&!function(v,P,L){const K=Rl(v,P,L);return v.inclusive?K>=0:K>0}(c.endAt,gu(c),f)));var c,f}function jp(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rh(r){return(e,n)=>{let c=!1;for(const f of gu(r)){const m=Oy(f,e,n);if(0!==m)return m;c=c||f.field.isKeyField()}return 0}}function Oy(r,e,n){const c=r.field.isKeyField()?Sn.comparator(e.key,n.key):function(m,v,P){const L=v.data.field(m),K=P.data.field(m);return null!==L&&null!==K?lr(L,K):En()}(r.field,e,n);switch(r.dir){case"asc":return c;case"desc":return-1*c;default:return En()}}class cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),c=this.inner[n];if(void 0!==c)for(const[f,m]of c)if(this.equalsFn(f,e))return m}has(e){return void 0!==this.get(e)}set(e,n){const c=this.mapKeyFn(e),f=this.inner[c];if(void 0===f)return this.inner[c]=[[e,n]],void this.innerSize++;for(let m=0;m<f.length;m++)if(this.equalsFn(f[m][0],e))return void(f[m]=[e,n]);f.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),c=this.inner[n];if(void 0===c)return!1;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return 1===c.length?delete this.inner[n]:c.splice(f,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(n,c)=>{for(const[f,m]of c)e(f,m)})}isEmpty(){return Qs(this.inner)}size(){return this.innerSize}}const Hp=new ur(Sn.comparator);function Go(){return Hp}const _f=new ur(Sn.comparator);function oh(...r){let e=_f;for(const n of r)e=e.insert(n.key,n);return e}function Mg(r){let e=_f;return r.forEach((n,c)=>e=e.insert(n,c.overlayedDocument)),e}function C(){return b()}function y(){return b()}function b(){return new cc(r=>r.toString(),(r,e)=>r.isEqual(e))}const M=new ur(Sn.comparator),J=new ki(Sn.comparator);function ce(...r){let e=J;for(const n of r)e=e.add(n);return e}const yt=new ki(li);function Ht(){return yt}function pn(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mn(e)?"-0":e}}function Hn(r){return{integerValue:""+r}}function qn(r,e){return bi(e)?Hn(e):pn(r,e)}class Oi{constructor(){this._=void 0}}function Fs(r,e,n){return r instanceof Pl?function(f,m){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:f.seconds,nanos:f.nanoseconds}}}};return m&&cf(m)&&(m=Kc(m)),m&&(v.fields.__previous_value__=m),{mapValue:v}}(n,e):r instanceof kl?$p(r,e):r instanceof Ol?td(r,e):function(f,m){const v=yf(f,m),P=Rg(v)+Rg(f.Ie);return Jd(v)&&Jd(f.Ie)?Hn(P):pn(f.serializer,P)}(r,e)}function nl(r,e,n){return r instanceof kl?$p(r,e):r instanceof Ol?td(r,e):n}function yf(r,e){return r instanceof nd?Jd(c=e)||(m=c)&&"doubleValue"in m?e:{integerValue:0}:null;var c,m}class Pl extends Oi{}class kl extends Oi{constructor(e){super(),this.elements=e}}function $p(r,e){const n=id(e);for(const c of r.elements)n.some(f=>Js(f,c))||n.push(c);return{arrayValue:{values:n}}}class Ol extends Oi{constructor(e){super(),this.elements=e}}function td(r,e){let n=id(e);for(const c of r.elements)n=n.filter(f=>!Js(f,c));return{arrayValue:{values:n}}}class nd extends Oi{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Rg(r){return Ir(r.integerValue||r.doubleValue)}function id(r){return oc(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class sh{constructor(e,n){this.field=e,this.transform=n}}class Pg{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ny(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class kg{}function Wp(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new _u(r.key,Yr.none()):new il(r.key,r.data,Yr.none());{const n=r.data,c=vo.empty();let f=new ki(gr.comparator);for(let m of e.fields)if(!f.has(m)){let v=n.field(m);null===v&&m.length>1&&(m=m.popLast(),v=n.field(m)),null===v?c.delete(m):c.set(m,v),f=f.add(m)}return new Nl(r.key,c,new Wo(f.toArray()),Yr.none())}}function Og(r,e,n){r instanceof il?function(f,m,v){const P=f.value.clone(),L=Gp(f.fieldTransforms,m,v.transformResults);P.setAll(L),m.convertToFoundDocument(v.version,P).setHasCommittedMutations()}(r,e,n):r instanceof Nl?function(f,m,v){if(!Ny(f.precondition,m))return void m.convertToUnknownDocument(v.version);const P=Gp(f.fieldTransforms,m,v.transformResults),L=m.data;L.setAll(Ly(f)),L.setAll(P),m.convertToFoundDocument(v.version,L).setHasCommittedMutations()}(r,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function vf(r,e,n,c){return r instanceof il?function(m,v,P,L){if(!Ny(m.precondition,v))return P;const K=m.value.clone(),ae=Kp(m.fieldTransforms,L,v);return K.setAll(ae),v.convertToFoundDocument(v.version,K).setHasLocalMutations(),null}(r,e,n,c):r instanceof Nl?function(m,v,P,L){if(!Ny(m.precondition,v))return P;const K=Kp(m.fieldTransforms,L,v),ae=v.data;return ae.setAll(Ly(m)),ae.setAll(K),v.convertToFoundDocument(v.version,ae).setHasLocalMutations(),null===P?null:P.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(Pe=>Pe.field))}(r,e,n,c):(P=n,Ny(r.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):P);var v,P}function Pb(r,e){let n=null;for(const c of r.fieldTransforms){const f=e.data.field(c.field),m=yf(c.transform,f||null);null!=m&&(null===n&&(n=vo.empty()),n.set(c.field,m))}return n||null}function Fy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(f=e.fieldTransforms,!!(void 0===(c=r.fieldTransforms)&&void 0===f||c&&f&&Ks(c,f,(m,v)=>function Rb(r,e){return r.field.isEqual(e.field)&&(f=e.transform,(c=r.transform)instanceof kl&&f instanceof kl||c instanceof Ol&&f instanceof Ol?Ks(c.elements,f.elements,Js):c instanceof nd&&f instanceof nd?Js(c.Ie,f.Ie):c instanceof Pl&&f instanceof Pl);var c,f}(m,v))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var c,f}class il extends kg{constructor(e,n,c,f=[]){super(),this.key=e,this.value=n,this.precondition=c,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class Nl extends kg{constructor(e,n,c,f,m=[]){super(),this.key=e,this.data=n,this.fieldMask=c,this.precondition=f,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Ly(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const c=r.data.field(n);e.set(n,c)}}),e}function Gp(r,e,n){const c=new Map;On(r.length===n.length);for(let f=0;f<n.length;f++){const m=r[f],v=m.transform,P=e.data.field(m.field);c.set(m.field,nl(v,P,n[f]))}return c}function Kp(r,e,n){const c=new Map;for(const f of r){const m=f.transform,v=n.data.field(f.field);c.set(f.field,Fs(m,v,e))}return c}class _u extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vy extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class By{constructor(e,n,c,f){this.batchId=e,this.localWriteTime=n,this.baseMutations=c,this.mutations=f}applyToRemoteDocument(e,n){const c=n.mutationResults;for(let f=0;f<this.mutations.length;f++){const m=this.mutations[f];m.key.isEqual(e.key)&&Og(m,e,c[f])}}applyToLocalView(e,n){for(const c of this.baseMutations)c.key.isEqual(e.key)&&(n=vf(c,e,n,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(e.key)&&(n=vf(c,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const c=y();return this.mutations.forEach(f=>{const m=e.get(f.key),v=m.overlayedDocument;let P=this.applyToLocalView(v,m.mutatedFields);P=n.has(f.key)?null:P;const L=Wp(v,P);null!==L&&c.set(f.key,L),v.isValidDocument()||v.convertToNoDocument(Kn.min())}),c}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,(n,c)=>Fy(n,c))&&Ks(this.baseMutations,e.baseMutations,(n,c)=>Fy(n,c))}}class Uy{constructor(e,n,c,f){this.batch=e,this.commitVersion=n,this.mutationResults=c,this.docVersions=f}static from(e,n,c){On(e.mutations.length===c.length);let f=M;const m=e.mutations;for(let v=0;v<m.length;v++)f=f.insert(m[v].key,c[v].version);return new Uy(e,n,c,f)}}class Ng{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yE{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lo,er;function jy(r){switch(r){default:return En();case zt.CANCELLED:case zt.UNKNOWN:case zt.DEADLINE_EXCEEDED:case zt.RESOURCE_EXHAUSTED:case zt.INTERNAL:case zt.UNAVAILABLE:case zt.UNAUTHENTICATED:return!1;case zt.INVALID_ARGUMENT:case zt.NOT_FOUND:case zt.ALREADY_EXISTS:case zt.PERMISSION_DENIED:case zt.FAILED_PRECONDITION:case zt.ABORTED:case zt.OUT_OF_RANGE:case zt.UNIMPLEMENTED:case zt.DATA_LOSS:return!0}}function kb(r){if(void 0===r)return $i("GRPC error has no .code"),zt.UNKNOWN;switch(r){case Lo.OK:return zt.OK;case Lo.CANCELLED:return zt.CANCELLED;case Lo.UNKNOWN:return zt.UNKNOWN;case Lo.DEADLINE_EXCEEDED:return zt.DEADLINE_EXCEEDED;case Lo.RESOURCE_EXHAUSTED:return zt.RESOURCE_EXHAUSTED;case Lo.INTERNAL:return zt.INTERNAL;case Lo.UNAVAILABLE:return zt.UNAVAILABLE;case Lo.UNAUTHENTICATED:return zt.UNAUTHENTICATED;case Lo.INVALID_ARGUMENT:return zt.INVALID_ARGUMENT;case Lo.NOT_FOUND:return zt.NOT_FOUND;case Lo.ALREADY_EXISTS:return zt.ALREADY_EXISTS;case Lo.PERMISSION_DENIED:return zt.PERMISSION_DENIED;case Lo.FAILED_PRECONDITION:return zt.FAILED_PRECONDITION;case Lo.ABORTED:return zt.ABORTED;case Lo.OUT_OF_RANGE:return zt.OUT_OF_RANGE;case Lo.UNIMPLEMENTED:return zt.UNIMPLEMENTED;case Lo.DATA_LOSS:return zt.DATA_LOSS;default:return En()}}(er=Lo||(Lo={}))[er.OK=0]="OK",er[er.CANCELLED=1]="CANCELLED",er[er.UNKNOWN=2]="UNKNOWN",er[er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",er[er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",er[er.NOT_FOUND=5]="NOT_FOUND",er[er.ALREADY_EXISTS=6]="ALREADY_EXISTS",er[er.PERMISSION_DENIED=7]="PERMISSION_DENIED",er[er.UNAUTHENTICATED=16]="UNAUTHENTICATED",er[er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",er[er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",er[er.ABORTED=10]="ABORTED",er[er.OUT_OF_RANGE=11]="OUT_OF_RANGE",er[er.UNIMPLEMENTED=12]="UNIMPLEMENTED",er[er.INTERNAL=13]="INTERNAL",er[er.UNAVAILABLE=14]="UNAVAILABLE",er[er.DATA_LOSS=15]="DATA_LOSS";function ta(){return new TextEncoder}const Hy=new Ui([4294967295,4294967295],0);function $y(r){const e=ta().encode(r),n=new Gi;return n.update(e),new Uint8Array(n.digest())}function Lg(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),c=e.getUint32(4,!0),f=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Ui([n,c],0),new Ui([f,m],0)]}class Ko{constructor(e,n,c){if(this.bitmap=e,this.padding=n,this.hashCount=c,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(c<0)throw new yu(`Invalid hash count: ${c}`);if(e.length>0&&0===this.hashCount)throw new yu(`Invalid hash count: ${c}`);if(0===e.length&&0!==n)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ui.fromNumber(this.Te)}de(e,n,c){let f=e.add(n.multiply(Ui.fromNumber(c)));return 1===f.compare(Hy)&&(f=new Ui([f.getBits(0),f.getBits(1)],0)),f.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=$y(e),[c,f]=Lg(n);for(let m=0;m<this.hashCount;m++){const v=this.de(c,f,m);if(!this.Ae(v))return!1}return!0}static create(e,n,c){const f=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),v=new Ko(m,f,n);return c.forEach(P=>v.insert(P)),v}insert(e){if(0===this.Te)return;const n=$y(e),[c,f]=Lg(n);for(let m=0;m<this.hashCount;m++){const v=this.de(c,f,m);this.Re(v)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bf{constructor(e,n,c,f,m){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=c,this.documentUpdates=f,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,n,c){const f=new Map;return f.set(e,Ef.createSynthesizedTargetChangeForCurrentChange(e,n,c)),new bf(Kn.min(),f,new ur(li),Go(),ce())}}class Ef{constructor(e,n,c,f,m){this.resumeToken=e,this.current=n,this.addedDocuments=c,this.modifiedDocuments=f,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,n,c){return new Ef(c,n,ce(),ce(),ce())}}class Vg{constructor(e,n,c,f){this.Ve=e,this.removedTargetIds=n,this.key=c,this.me=f}}class Wy{constructor(e,n){this.targetId=e,this.fe=n}}class Ob{constructor(e,n,c=Sr.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=n,this.resumeToken=c,this.cause=f}}class Gy{constructor(){this.ge=0,this.pe=Nb(),this.ye=Sr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ce(),n=ce(),c=ce();return this.pe.forEach((f,m)=>{switch(m){case 0:e=e.add(f);break;case 2:n=n.add(f);break;case 1:c=c.add(f);break;default:En()}}),new Ef(this.ye,this.we,e,n,c)}Fe(){this.Se=!1,this.pe=Nb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class vE{constructor(e){this.Le=e,this.ke=new Map,this.qe=Go(),this.Qe=Ky(),this.Ke=new ur(li)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const c=this.ze(n);switch(e.state){case 0:this.je(n)&&c.Ce(e.resumeToken);break;case 1:c.Ne(),c.be||c.Fe(),c.Ce(e.resumeToken);break;case 2:c.Ne(),c.be||this.removeTarget(n);break;case 3:this.je(n)&&(c.Be(),c.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),c.Ce(e.resumeToken));break;default:En()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((c,f)=>{this.je(f)&&n(f)})}Je(e){const n=e.targetId,c=e.fe.count,f=this.Ye(n);if(f){const m=f.target;if(Vp(m))if(0===c){const v=new Sn(m.path);this.We(n,v,Cr.newNoDocument(v,Kn.min()))}else On(1===c);else{const v=this.Ze(n);if(v!==c){const P=this.Xe(e),L=P?this.et(P,e,v):1;0!==L&&(this.He(n),this.Ke=this.Ke.insert(n,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:c="",padding:f=0},hashCount:m=0}=n;let v,P;try{v=vs(c).toUint8Array()}catch(L){if(L instanceof Ty)return cr("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{P=new Ko(v,f,m)}catch(L){return cr(L instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===P.Te?null:P}et(e,n,c){return n.fe.count===c-this.rt(e,n.targetId)?0:2}rt(e,n){const c=this.Le.getRemoteKeysForTarget(n);let f=0;return c.forEach(m=>{const v=this.Le.nt(),P=`projects/${v.projectId}/databases/${v.database}/documents/${m.path.canonicalString()}`;e.mightContain(P)||(this.We(n,m,null),f++)}),f}it(e){const n=new Map;this.ke.forEach((m,v)=>{const P=this.Ye(v);if(P){if(m.current&&Vp(P.target)){const L=new Sn(P.target.path);null!==this.qe.get(L)||this.st(v,L)||this.We(v,L,Cr.newNoDocument(L,e))}m.De&&(n.set(v,m.ve()),m.Fe())}});let c=ce();this.Qe.forEach((m,v)=>{let P=!0;v.forEachWhile(L=>{const K=this.Ye(L);return!K||"TargetPurposeLimboResolution"===K.purpose||(P=!1,!1)}),P&&(c=c.add(m))}),this.qe.forEach((m,v)=>v.setReadTime(e));const f=new bf(e,n,this.Ke,this.qe,c);return this.qe=Go(),this.Qe=Ky(),this.Ke=new ur(li),f}Ue(e,n){if(!this.je(e))return;const c=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,c),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,c){if(!this.je(e))return;const f=this.ze(e);this.st(e,n)?f.Me(n,1):f.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),c&&(this.qe=this.qe.insert(n,c))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Gy,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ki(li),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Qt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Gy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ky(){return new ur(Sn.comparator)}function Nb(){return new ur(Sn.comparator)}const bE={asc:"ASCENDING",desc:"DESCENDING"},Yy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qy={and:"AND",or:"OR"};class EE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ah(r,e){return r.useProto3Json||Ft(e)?e:{value:e}}function wf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Lb(r,e){return wf(r,e.toTimestamp())}function bo(r){return On(!!r),Kn.fromTimestamp(function(n){const c=Xs(n);return new Nn(c.seconds,c.nanos)}(r))}function Bg(r,e){return(c=r,new Pi(["projects",c.projectId,"databases",c.database])).child("documents").child(e).canonicalString();var c}function ch(r){const e=Pi.fromString(r);return On(Xp(e)),e}function rd(r,e){return Bg(r.databaseId,e.path)}function rl(r,e){const n=ch(e);if(n.get(1)!==r.databaseId.projectId)throw new hn(zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new hn(zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Sn(Vb(n))}function Yp(r,e){return Bg(r.databaseId,e)}function qp(r){const e=ch(r);return 4===e.length?Pi.emptyPath():Vb(e)}function Zp(r){return new Pi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Vb(r){return On(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Bb(r,e,n){return{name:rd(r,e),fields:n.value.mapValue.fields}}function Ub(r,e,n){const c=rl(r,e.name),f=bo(e.updateTime),m=e.createTime?bo(e.createTime):Kn.min(),v=new vo({mapValue:{fields:e.fields}}),P=Cr.newFoundDocument(c,f,m,v);return n&&P.setHasCommittedMutations(),n?P.setHasCommittedMutations():P}function If(r,e){let n;if(e instanceof il)n={update:Bb(r,e.key,e.value)};else if(e instanceof _u)n={delete:rd(r,e.key)};else if(e instanceof Nl)n={update:Bb(r,e.key,e.data),updateMask:$g(e.fieldMask)};else{if(!(e instanceof Vy))return En();n={verify:rd(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(c=>function(m,v){const P=v.transform;if(P instanceof Pl)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof kl)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Ol)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof nd)return{fieldPath:v.field.canonicalString(),increment:P.Ie};throw En()}(0,c))),e.precondition.isNone||(n.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Lb(r,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:En()),n;var m}function Cf(r,e){const n=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?Yr.updateTime(bo(m.updateTime)):void 0!==m.exists?Yr.exists(m.exists):Yr.none():Yr.none(),c=e.updateTransforms?e.updateTransforms.map(f=>function(v,P){let L=null;"setToServerValue"in P?(On("REQUEST_TIME"===P.setToServerValue),L=new Pl):"appendMissingElements"in P?L=new kl(P.appendMissingElements.values||[]):"removeAllFromArray"in P?L=new Ol(P.removeAllFromArray.values||[]):"increment"in P?L=new nd(v,P.increment):En();const K=gr.fromServerFormat(P.fieldPath);return new sh(K,L)}(r,f)):[];var m;if(e.update){const f=rl(r,e.update.name),m=new vo({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new Wo((e.updateMask.fieldPaths||[]).map(ae=>gr.fromServerFormat(ae)));return new Nl(f,m,v,n,c)}return new il(f,m,n,c)}if(e.delete){const f=rl(r,e.delete);return new _u(f,n)}if(e.verify){const f=rl(r,e.verify);return new Vy(f,n)}return En()}function Qi(r,e){return{documents:[Yp(r,e.path)]}}function Qp(r,e){const n={structuredQuery:{}},c=e.path;null!==e.collectionGroup?(n.parent=Yp(r,c),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yp(r,c.popLast()),n.structuredQuery.from=[{collectionId:c.lastSegment()}]);const f=function(L){if(0!==L.length)return lh(_r.create(L,"and"))}(e.filters);f&&(n.structuredQuery.where=f);const m=function(L){if(0!==L.length)return L.map(K=>{return{field:vu((Pe=K).field),direction:od(Pe.dir)};var Pe})}(e.orderBy);m&&(n.structuredQuery.orderBy=m);const v=ah(r,e.limit);return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(L=e.startAt).inclusive,values:L.position}),e.endAt&&(n.structuredQuery.endAt=function(L){return{before:!L.inclusive,values:L.position}}(e.endAt)),n;var L}function Qy(r){let e=qp(r.parent);const n=r.structuredQuery,c=n.from?n.from.length:0;let f=null;if(c>0){On(1===c);const ae=n.from[0];ae.allDescendants?f=ae.collectionId:e=e.child(ae.collectionId)}let m=[];n.where&&(m=function(Pe){const mt=zg(Pe);return mt instanceof _r&&xg(mt)?mt.getFilters():[mt]}(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(mt=>{return new ac(xf((yn=mt).field),function(Dn){switch(Dn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(yn.direction));var yn}));let P=null;n.limit&&(P=function(Pe){let mt;return mt="object"==typeof Pe?Pe.value:Pe,Ft(mt)?null:mt}(n.limit));let L=null;var Pe;n.startAt&&(L=new sc((Pe=n.startAt).values||[],!!Pe.before));let K=null;return n.endAt&&(K=function(Pe){return new sc(Pe.values||[],!Pe.before)}(n.endAt)),Xc(e,f,v,m,P,"F",L,K)}function zg(r){return void 0!==r.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const c=xf(n.unaryFilter.field);return xi.create(c,"==",{doubleValue:NaN});case"IS_NULL":const f=xf(n.unaryFilter.field);return xi.create(f,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=xf(n.unaryFilter.field);return xi.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=xf(n.unaryFilter.field);return xi.create(v,"!=",{nullValue:"NULL_VALUE"});default:return En()}}(r):void 0!==r.fieldFilter?xi.create(xf((n=r).fieldFilter.field),function(f){switch(f){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return En()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==r.compositeFilter?function(n){return _r.create(n.compositeFilter.filters.map(c=>zg(c)),function(f){switch(f){case"AND":return"and";case"OR":return"or";default:return En()}}(n.compositeFilter.op))}(r):En();var n}function od(r){return bE[r]}function jg(r){return Yy[r]}function Hg(r){return qy[r]}function vu(r){return{fieldPath:r.canonicalString()}}function xf(r){return gr.fromServerFormat(r.fieldPath)}function lh(r){return r instanceof xi?function(n){if("=="===n.op){if(fu(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NAN"}};if(ba(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(fu(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NAN"}};if(ba(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(n.field),op:jg(n.op),value:n.value}}}(r):r instanceof _r?function(n){const c=n.getFilters().map(f=>lh(f));return 1===c.length?c[0]:{compositeFilter:{op:Hg(n.op),filters:c}}}(r):En()}function $g(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xp(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Fa{constructor(e,n,c,f,m=Kn.min(),v=Kn.min(),P=Sr.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=n,this.purpose=c,this.sequenceNumber=f,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=P,this.expectedCount=L}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Df{constructor(e){this.ut=e}}function Gg(r,e){const n=e.key,c={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Fl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())c.document={name:rd(m=r.ut,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:wf(m,v.version.toTimestamp()),createTime:wf(m,v.createTime.toTimestamp())};else if(e.isNoDocument())c.noDocument={path:n.path.toArray(),readTime:lc(e.version)};else{if(!e.isUnknownDocument())return En();c.unknownDocument={path:n.path.toArray(),version:lc(e.version)}}var m,v;return c}function Fl(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function lc(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bu(r){const e=new Nn(r.seconds,r.nanoseconds);return Kn.fromTimestamp(e)}function Ll(r,e){const n=(e.baseMutations||[]).map(m=>Cf(r.ut,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const c=e.mutations.map(m=>Cf(r.ut,m)),f=Nn.fromMillis(e.localWriteTimeMs);return new By(e.batchId,f,n,c)}function Ls(r){const e=bu(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?bu(r.lastLimboFreeSnapshotVersion):Kn.min();let c;return c=void 0!==r.query.documents?(On(1===(m=r.query).documents.length),bs(nh(qp(m.documents[0])))):function(m){return bs(Qy(m))}(r.query),new Fa(c,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,n,Sr.fromBase64String(r.resumeToken));var m}function Tf(r,e){const n=lc(e.snapshotVersion),c=lc(e.lastLimboFreeSnapshotVersion);let f;f=Vp(e.target)?Qi(r.ut,e.target):Qp(r.ut,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wa(e.target),readTime:n,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:f}}function Af(r){const e=Qy({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?zp(e,e.limit,"L"):e}function uh(r,e){return new Ng(e.largestBatchId,Cf(r.ut,e.overlayMutation))}function Xy(r,e){const n=e.path.lastSegment();return[r,Ci(e.path.popLast()),n]}function Kg(r,e,n,c){return{indexId:r,uid:e.uid||"",sequenceNumber:n,readTime:lc(c.readTime),documentKey:Ci(c.documentKey.path),largestBatchId:c.largestBatchId}}class Yg{getBundleMetadata(e,n){return qg(e).get(n).next(c=>{if(c)return{id:(m=c).bundleId,createTime:bu(m.createTime),version:m.version};var m})}saveBundleMetadata(e,n){return qg(e).put({bundleId:(f=n).id,createTime:lc(bo(f.createTime)),version:f.version});var f}getNamedQuery(e,n){return Zg(e).get(n).next(c=>{if(c)return{name:(m=c).name,query:Af(m.bundledQuery),readTime:bu(m.readTime)};var m})}saveNamedQuery(e,n){return Zg(e).put({name:(f=n).name,readTime:lc(bo(f.readTime)),bundledQuery:f.bundledQuery});var f}}function qg(r){return go(r,"bundles")}function Zg(r){return go(r,"namedQueries")}class sd{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new sd(e,n.uid||"")}getOverlay(e,n){return ad(e).get(Xy(this.userId,n)).next(c=>c?uh(this.serializer,c):null)}getOverlays(e,n){const c=C();return Rt.forEach(n,f=>this.getOverlay(e,f).next(m=>{null!==m&&c.set(f,m)})).next(()=>c)}saveOverlays(e,n,c){const f=[];return c.forEach((m,v)=>{const P=new Ng(n,v);f.push(this.lt(e,P))}),Rt.waitFor(f)}removeOverlaysForBatchId(e,n,c){const f=new Set;n.forEach(v=>f.add(Ci(v.getCollectionPath())));const m=[];return f.forEach(v=>{const P=IDBKeyRange.bound([this.userId,v,c],[this.userId,v,c+1],!1,!0);m.push(ad(e).H("collectionPathOverlayIndex",P))}),Rt.waitFor(m)}getOverlaysForCollection(e,n,c){const f=C(),m=Ci(n),v=IDBKeyRange.bound([this.userId,m,c],[this.userId,m,Number.POSITIVE_INFINITY],!0);return ad(e).W("collectionPathOverlayIndex",v).next(P=>{for(const L of P){const K=uh(this.serializer,L);f.set(K.getKey(),K)}return f})}getOverlaysForCollectionGroup(e,n,c,f){const m=C();let v;const P=IDBKeyRange.bound([this.userId,n,c],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ad(e).Y({index:"collectionGroupOverlayIndex",range:P},(L,K,ae)=>{const Pe=uh(this.serializer,K);m.size()<f||Pe.largestBatchId===v?(m.set(Pe.getKey(),Pe),v=Pe.largestBatchId):ae.done()}).next(()=>m)}lt(e,n){return ad(e).put(function(f,m,v){const[P,L,K]=Xy(m,v.mutation.key);return{userId:m,collectionPath:L,documentId:K,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:If(f.ut,v.mutation)}}(this.serializer,this.userId,n))}}function ad(r){return go(r,"documentOverlays")}class uc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ir(e.integerValue));else if("doubleValue"in e){const c=Ir(e.doubleValue);isNaN(c)?this.Tt(n,13):(this.Tt(n,15),Mn(c)?n.Et(0):n.Et(c))}else if("timestampValue"in e){const c=e.timestampValue;this.Tt(n,20),"string"==typeof c?n.dt(c):(n.dt(`${c.seconds||""}`),n.Et(c.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(vs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const c=e.geoPointValue;this.Tt(n,45),n.Et(c.latitude||0),n.Et(c.longitude||0)}else"mapValue"in e?Zc(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):En()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const c=e.fields||{};this.Tt(n,55);for(const f of Object.keys(c))this.At(f,n),this.Pt(c[f],n)}yt(e,n){const c=e.values||[];this.Tt(n,50);for(const f of c)this.Pt(f,n)}ft(e,n){this.Tt(n,37),Sn.fromName(e).path.forEach(c=>{this.Tt(n,60),this.wt(c,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function Jp(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function cd(r){const e=64-function(c){let f=0;for(let m=0;m<8;++m){const v=Jp(255&c[m]);if(f+=v,8!==v)break}return f}(r);return Math.ceil(e/8)}uc.St=new uc;class zb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let c=n.next();for(;!c.done;)this.Dt(c.value),c=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let c=n.next();for(;!c.done;)this.Ft(c.value),c=n.next();this.Mt()}xt(e){for(const n of e){const c=n.charCodeAt(0);if(c<128)this.Dt(c);else if(c<2048)this.Dt(960|c>>>6),this.Dt(128|63&c);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|c>>>12),this.Dt(128|63&c>>>6),this.Dt(128|63&c);else{const f=n.codePointAt(0);this.Dt(240|f>>>18),this.Dt(128|63&f>>>12),this.Dt(128|63&f>>>6),this.Dt(128|63&f)}}this.Ct()}Ot(e){for(const n of e){const c=n.charCodeAt(0);if(c<128)this.Ft(c);else if(c<2048)this.Ft(960|c>>>6),this.Ft(128|63&c);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|c>>>12),this.Ft(128|63&c>>>6),this.Ft(128|63&c);else{const f=n.codePointAt(0);this.Ft(240|f>>>18),this.Ft(128|63&f>>>12),this.Ft(128|63&f>>>6),this.Ft(128|63&f)}}this.Mt()}Nt(e){const n=this.Bt(e),c=cd(n);this.Lt(1+c),this.buffer[this.position++]=255&c;for(let f=n.length-c;f<n.length;++f)this.buffer[this.position++]=255&n[f]}kt(e){const n=this.Bt(e),c=cd(n);this.Lt(1+c),this.buffer[this.position++]=~(255&c);for(let f=n.length-c;f<n.length;++f)this.buffer[this.position++]=~(255&n[f])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(m){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,m,!1),new Uint8Array(v.buffer)}(e),c=0!=(128&n[0]);n[0]^=c?255:128;for(let f=1;f<n.length;++f)n[f]^=c?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let c=2*this.buffer.length;c<n&&(c=n);const f=new Uint8Array(c);f.set(this.buffer),this.buffer=f}}class jb{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class CE{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Sf{constructor(){this.Wt=new zb,this.Gt=new jb(this.Wt),this.zt=new CE(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class cs{constructor(e,n,c,f){this.indexId=e,this.documentKey=n,this.arrayValue=c,this.directionalValue=f}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,c=new Uint8Array(n);return c.set(this.directionalValue,0),n!==e?c.set([0],this.directionalValue.length):++c[c.length-1],new cs(this.indexId,this.documentKey,this.arrayValue,c)}}function Vl(r,e){let n=r.indexId-e.indexId;return 0!==n?n:(n=Bl(r.arrayValue,e.arrayValue),0!==n?n:(n=Bl(r.directionalValue,e.directionalValue),0!==n?n:Sn.comparator(r.documentKey,e.documentKey)))}function Bl(r,e){for(let n=0;n<r.length&&n<e.length;++n){const c=r[n]-e[n];if(0!==c)return c}return r.length-e.length}class dh{constructor(e){this.Jt=new ki((n,c)=>gr.comparator(n.field,c.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const c=n;c.isInequality()?this.Jt=this.Jt.add(c):this.Zt.push(c)}}get Xt(){return this.Jt.size>1}en(e){if(On(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=rf(e);if(void 0!==n&&!this.tn(n))return!1;const c=Ja(e);let f=new Set,m=0,v=0;for(;m<c.length&&this.tn(c[m]);++m)f=f.add(c[m].fieldPath.canonicalString());if(m===c.length)return!0;if(this.Jt.size>0){const P=this.Jt.getIterator().getNext();if(!f.has(P.field.canonicalString())){const L=c[m];if(!this.nn(P,L)||!this.rn(this.Yt[v++],L))return!1}++m}for(;m<c.length;++m)if(v>=this.Yt.length||!this.rn(this.Yt[v++],c[m]))return!1;return!0}sn(){if(this.Xt)return null;let e=new ki(gr.comparator);const n=[];for(const c of this.Zt)if(!c.field.isKeyField())if("array-contains"===c.op||"array-contains-any"===c.op)n.push(new tc(c.field,2));else{if(e.has(c.field))continue;e=e.add(c.field),n.push(new tc(c.field,0))}for(const c of this.Yt)c.field.isKeyField()||e.has(c.field)||(e=e.add(c.field),n.push(new tc(c.field,"asc"===c.dir?0:1)));return new Ys(Ys.UNKNOWN_ID,this.collectionId,n,dn.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function hh(r){var e,n;if(On(r instanceof xi||r instanceof _r),r instanceof xi){if(r instanceof Ag){const f=(null===(n=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(m=>xi.create(r.field,"==",m)))||[];return _r.create(f,"or")}return r}const c=r.filters.map(f=>hh(f));return _r.create(c,r.op)}function em(r){if(0===r.getFilters().length)return[];const e=Pf(hh(r));return On(ol(e)),Mf(e)||Rf(e)?[e]:e.getFilters()}function Mf(r){return r instanceof xi}function Rf(r){return r instanceof _r&&xg(r)}function ol(r){return Mf(r)||Rf(r)||function(n){if(n instanceof _r&&Lp(n)){for(const c of n.getFilters())if(!Mf(c)&&!Rf(c))return!1;return!0}return!1}(r)}function Pf(r){if(On(r instanceof xi||r instanceof _r),r instanceof xi)return r;if(1===r.filters.length)return Pf(r.filters[0]);const e=r.filters.map(c=>Pf(c));let n=_r.create(e,r.op);return n=tm(n),ol(n)?n:(On(n instanceof _r),On(Qu(n)),On(n.filters.length>1),n.filters.reduce((c,f)=>Qg(c,f)))}function Qg(r,e){let n;return On(r instanceof xi||r instanceof _r),On(e instanceof xi||e instanceof _r),n=r instanceof xi?e instanceof xi?_r.create([r,e],"and"):Jy(r,e):e instanceof xi?Jy(e,r):function(f,m){if(On(f.filters.length>0&&m.filters.length>0),Qu(f)&&Qu(m))return My(f,m.getFilters());const v=Lp(f)?f:m,P=Lp(f)?m:f,L=v.filters.map(K=>Qg(K,P));return _r.create(L,"or")}(r,e),tm(n)}function Jy(r,e){if(Qu(e))return My(e,r.getFilters());{const n=e.filters.map(c=>Qg(r,c));return _r.create(n,"or")}}function tm(r){if(On(r instanceof xi||r instanceof _r),r instanceof xi)return r;const e=r.getFilters();if(1===e.length)return tm(e[0]);if(pf(r))return r;const n=e.map(f=>tm(f)),c=[];return n.forEach(f=>{f instanceof xi?c.push(f):f instanceof _r&&(f.op===r.op?c.push(...f.filters):c.push(f))}),1===c.length?c[0]:_r.create(c,r.op)}class Xg{constructor(){this.on=new La}addToCollectionParentIndex(e,n){return this.on.add(n),Rt.resolve()}getCollectionParents(e,n){return Rt.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Rt.resolve()}deleteFieldIndex(e,n){return Rt.resolve()}deleteAllFieldIndexes(e){return Rt.resolve()}createTargetIndexes(e,n){return Rt.resolve()}getDocumentsMatchingTarget(e,n){return Rt.resolve(null)}getIndexType(e,n){return Rt.resolve(0)}getFieldIndexes(e,n){return Rt.resolve([])}getNextCollectionGroupToUpdate(e){return Rt.resolve(null)}getMinOffset(e,n){return Rt.resolve(po.min())}getMinOffsetFromCollectionGroup(e,n){return Rt.resolve(po.min())}updateCollectionGroup(e,n,c){return Rt.resolve()}updateIndexEntries(e,n){return Rt.resolve()}}class La{constructor(){this.index={}}add(e){const n=e.lastSegment(),c=e.popLast(),f=this.index[n]||new ki(Pi.comparator),m=!f.has(c);return this.index[n]=f.add(c),m}has(e){const n=e.lastSegment(),c=e.popLast(),f=this.index[n];return f&&f.has(c)}getEntries(e){return(this.index[e]||new ki(Pi.comparator)).toArray()}}const Ul=new Uint8Array(0);class Hb{constructor(e,n){this.user=e,this.databaseId=n,this._n=new La,this.an=new cc(c=>wa(c),(c,f)=>th(c,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const c=n.lastSegment(),f=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const m={collectionId:c,parent:Ci(f)};return nm(e).put(m)}return Rt.resolve()}getCollectionParents(e,n){const c=[],f=IDBKeyRange.bound([n,""],[Hc(n),""],!1,!0);return nm(e).W(f).next(m=>{for(const v of m){if(v.collectionId!==n)break;c.push(Fo(v.parent))}return c})}addFieldIndex(e,n){const c=kf(e),f={indexId:(P=n).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var P;delete f.indexId;const m=c.add(f);if(n.indexState){const v=dc(e);return m.next(P=>{v.put(Kg(P,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return m.next()}deleteFieldIndex(e,n){const c=kf(e),f=dc(e),m=fh(e);return c.delete(n.indexId).next(()=>f.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=kf(e),c=fh(e),f=dc(e);return n.H().next(()=>c.H()).next(()=>f.H())}createTargetIndexes(e,n){return Rt.forEach(this.un(n),c=>this.getIndexType(e,c).next(f=>{if(0===f||1===f){const m=new dh(c).sn();if(null!=m)return this.addFieldIndex(e,m)}}))}getDocumentsMatchingTarget(e,n){const c=fh(e);let f=!0;const m=new Map;return Rt.forEach(this.un(n),v=>this.cn(e,v).next(P=>{f&&(f=!!P),m.set(v,P)})).next(()=>{if(f){let v=ce();const P=[];return Rt.forEach(m,(L,K)=>{var fi;Qt("IndexedDbIndexManager",`Using index ${fi=L,`id=${fi.indexId}|cg=${fi.collectionGroup}|f=${fi.fields.map(ri=>`${ri.fieldPath}:${ri.kind}`).join(",")}`} to execute ${wa(n)}`);const ae=function(fi,ri){const yr=rf(ri);if(void 0===yr)return null;for(const hr of mf(fi,yr.fieldPath))switch(hr.op){case"array-contains-any":return hr.value.arrayValue.values||[];case"array-contains":return[hr.value]}return null}(K,L),Pe=function(fi,ri){const yr=new Map;for(const hr of Ja(ri))for(const Jo of mf(fi,hr.fieldPath))switch(Jo.op){case"==":case"in":yr.set(hr.fieldPath.canonicalString(),Jo.value);break;case"not-in":case"!=":return yr.set(hr.fieldPath.canonicalString(),Jo.value),Array.from(yr.values())}return null}(K,L),mt=function(fi,ri){const yr=[];let hr=!0;for(const Jo of Ja(ri)){const Oc=0===Jo.kind?ky(fi,Jo.fieldPath,fi.startAt):Ns(fi,Jo.fieldPath,fi.startAt);yr.push(Oc.value),hr&&(hr=Oc.inclusive)}return new sc(yr,hr)}(K,L),Lt=function(fi,ri){const yr=[];let hr=!0;for(const Jo of Ja(ri)){const Oc=0===Jo.kind?Ns(fi,Jo.fieldPath,fi.endAt):ky(fi,Jo.fieldPath,fi.endAt);yr.push(Oc.value),hr&&(hr=Oc.inclusive)}return new sc(yr,hr)}(K,L),yn=this.ln(L,K,mt),xn=this.ln(L,K,Lt),Dn=this.hn(L,K,Pe),si=this.Pn(L.indexId,ae,yn,mt.inclusive,xn,Lt.inclusive,Dn);return Rt.forEach(si,pi=>c.j(pi,n.limit).next(fi=>{fi.forEach(ri=>{const yr=Sn.fromSegments(ri.documentKey);v.has(yr)||(v=v.add(yr),P.push(yr))})}))}).next(()=>P)}return Rt.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:em(_r.create(e.filters,"and")).map(c=>Ju(e.path,e.collectionGroup,e.orderBy,c.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,c,f,m,v,P){const L=(null!=n?n.length:1)*Math.max(c.length,m.length),K=L/(null!=n?n.length:1),ae=[];for(let Pe=0;Pe<L;++Pe){const mt=n?this.In(n[Pe/K]):Ul,Lt=this.Tn(e,mt,c[Pe%K],f),yn=this.En(e,mt,m[Pe%K],v),xn=P.map(Dn=>this.Tn(e,mt,Dn,!0));ae.push(...this.createRange(Lt,yn,xn))}return ae}Tn(e,n,c,f){const m=new cs(e,Sn.empty(),n,c);return f?m:m.Ht()}En(e,n,c,f){const m=new cs(e,Sn.empty(),n,c);return f?m.Ht():m}cn(e,n){const c=new dh(n),f=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,f).next(m=>{let v=null;for(const P of m)c.en(P)&&(!v||P.fields.length>v.fields.length)&&(v=P);return v})}getIndexType(e,n){let c=2;const f=this.un(n);return Rt.forEach(f,m=>this.cn(e,m).next(v=>{v?0!==c&&v.fields.length<function(L){let K=new ki(gr.comparator),ae=!1;for(const Pe of L.filters)for(const mt of Pe.getFlattenedFilters())mt.field.isKeyField()||("array-contains"===mt.op||"array-contains-any"===mt.op?ae=!0:K=K.add(mt.field));for(const Pe of L.orderBy)Pe.field.isKeyField()||(K=K.add(Pe.field));return K.size+(ae?1:0)}(m)&&(c=1):c=0})).next(()=>null!==n.limit&&f.length>1&&2===c?1:c)}dn(e,n){const c=new Sf;for(const f of Ja(e)){const m=n.data.field(f.fieldPath);if(null==m)return null;const v=c.jt(f.kind);uc.St.ht(m,v)}return c.Ut()}In(e){const n=new Sf;return uc.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const c=new Sf;return uc.St.ht(qc(this.databaseId,n),c.jt(function(m){const v=Ja(m);return 0===v.length?0:v[v.length-1].kind}(e))),c.Ut()}hn(e,n,c){if(null===c)return[];let f=[];f.push(new Sf);let m=0;for(const v of Ja(e)){const P=c[m++];for(const L of f)if(this.Rn(n,v.fieldPath)&&oc(P))f=this.Vn(f,v,P);else{const K=L.jt(v.kind);uc.St.ht(P,K)}}return this.mn(f)}ln(e,n,c){return this.hn(e,n,c.position)}mn(e){const n=[];for(let c=0;c<e.length;++c)n[c]=e[c].Ut();return n}Vn(e,n,c){const f=[...e],m=[];for(const v of c.arrayValue.values||[])for(const P of f){const L=new Sf;L.seed(P.Ut()),uc.St.ht(v,L.jt(n.kind)),m.push(L)}return m}Rn(e,n){return!!e.filters.find(c=>c instanceof xi&&c.field.isEqual(n)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(e,n){const c=kf(e),f=dc(e);return(n?c.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):c.W()).next(m=>{const v=[];return Rt.forEach(m,P=>f.get([P.indexId,this.uid]).next(L=>{v.push(function(ae,Pe){const mt=Pe?new dn(Pe.sequenceNumber,new po(bu(Pe.readTime),new Sn(Fo(Pe.documentKey)),Pe.largestBatchId)):dn.empty(),Lt=ae.fields.map(([yn,xn])=>new tc(gr.fromServerFormat(yn),xn));return new Ys(ae.indexId,ae.collectionGroup,Lt,mt)}(P,L))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((c,f)=>{const m=c.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==m?m:li(c.collectionGroup,f.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,c){const f=kf(e),m=dc(e);return this.fn(e).next(v=>f.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(P=>Rt.forEach(P,L=>m.put(Kg(L.indexId,this.user,v,c)))))}updateIndexEntries(e,n){const c=new Map;return Rt.forEach(n,(f,m)=>{const v=c.get(f.collectionGroup);return(v?Rt.resolve(v):this.getFieldIndexes(e,f.collectionGroup)).next(P=>(c.set(f.collectionGroup,P),Rt.forEach(P,L=>this.gn(e,f,L).next(K=>{const ae=this.pn(m,L);return K.isEqual(ae)?Rt.resolve():this.yn(e,m,L,K,ae)}))))})}wn(e,n,c,f){return fh(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.An(c,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,c,f){return fh(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.An(c,n.key),n.key.path.toArray()])}gn(e,n,c){const f=fh(e);let m=new ki(Vl);return f.Y({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.An(c,n)])},(v,P)=>{m=m.add(new cs(c.indexId,n,P.arrayValue,P.directionalValue))}).next(()=>m)}pn(e,n){let c=new ki(Vl);const f=this.dn(n,e);if(null==f)return c;const m=rf(n);if(null!=m){const v=e.data.field(m.fieldPath);if(oc(v))for(const P of v.arrayValue.values||[])c=c.add(new cs(n.indexId,e.key,this.In(P),f))}else c=c.add(new cs(n.indexId,e.key,Ul,f));return c}yn(e,n,c,f,m){Qt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const v=[];return function(L,K,ae,Pe,mt){const Lt=L.getIterator(),yn=K.getIterator();let xn=Os(Lt),Dn=Os(yn);for(;xn||Dn;){let si=!1,pi=!1;if(xn&&Dn){const fi=ae(xn,Dn);fi<0?pi=!0:fi>0&&(si=!0)}else null!=xn?pi=!0:si=!0;si?(Pe(Dn),Dn=Os(yn)):pi?(mt(xn),xn=Os(Lt)):(xn=Os(Lt),Dn=Os(yn))}}(f,m,Vl,P=>{v.push(this.wn(e,n,c,P))},P=>{v.push(this.Sn(e,n,c,P))}),Rt.waitFor(v)}fn(e){let n=1;return dc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,f,m)=>{m.done(),n=f.sequenceNumber+1}).next(()=>n)}createRange(e,n,c){c=c.sort((v,P)=>Vl(v,P)).filter((v,P,L)=>!P||0!==Vl(v,L[P-1]));const f=[];f.push(e);for(const v of c){const P=Vl(v,e),L=Vl(v,n);if(0===P)f[0]=e.Ht();else if(P>0&&L<0)f.push(v),f.push(v.Ht());else if(L>0)break}f.push(n);const m=[];for(let v=0;v<f.length;v+=2){if(this.bn(f[v],f[v+1]))return[];m.push(IDBKeyRange.bound([f[v].indexId,this.uid,f[v].arrayValue,f[v].directionalValue,Ul,[]],[f[v+1].indexId,this.uid,f[v+1].arrayValue,f[v+1].directionalValue,Ul,[]]))}return m}bn(e,n){return Vl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ld)}getMinOffset(e,n){return Rt.mapArray(this.un(n),c=>this.cn(e,c).next(f=>f||En())).next(ld)}}function nm(r){return go(r,"collectionParents")}function fh(r){return go(r,"indexEntries")}function kf(r){return go(r,"indexConfiguration")}function dc(r){return go(r,"indexState")}function ld(r){On(0!==r.length);let e=r[0].indexState.offset,n=e.largestBatchId;for(let c=1;c<r.length;c++){const f=r[c].indexState.offset;to(f,e)<0&&(e=f),n<f.largestBatchId&&(n=f.largestBatchId)}return new po(e.readTime,e.documentKey,n)}const im={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Es{constructor(e,n,c){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=c}static withCacheSize(e){return new Es(e,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ev(r,e,n){const c=r.store("mutations"),f=r.store("documentMutations"),m=[],v=IDBKeyRange.only(n.batchId);let P=0;const L=c.Y({range:v},(ae,Pe,mt)=>(P++,mt.delete()));m.push(L.next(()=>{On(1===P)}));const K=[];for(const ae of n.mutations){const Pe=nc(e,ae.key.path,n.batchId);m.push(f.delete(Pe)),K.push(ae.key)}return Rt.waitFor(m).next(()=>K)}function Of(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw En();e=r.noDocument}return JSON.stringify(e).length}Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(41943040,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);class rm{constructor(e,n,c,f){this.userId=e,this.serializer=n,this.indexManager=c,this.referenceDelegate=f,this.Dn={}}static ct(e,n,c,f){On(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new rm(m,n,c,f)}checkEmpty(e){let n=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ls(e).Y({index:"userMutationsIndex",range:c},(f,m,v)=>{n=!1,v.done()}).next(()=>n)}addMutationBatch(e,n,c,f){const m=fc(e),v=ls(e);return v.add({}).next(P=>{On("number"==typeof P);const L=new By(P,n,c,f),K=function(Lt,yn,xn){const Dn=xn.baseMutations.map(pi=>If(Lt.ut,pi)),si=xn.mutations.map(pi=>If(Lt.ut,pi));return{userId:yn,batchId:xn.batchId,localWriteTimeMs:xn.localWriteTime.toMillis(),baseMutations:Dn,mutations:si}}(this.serializer,this.userId,L),ae=[];let Pe=new ki((mt,Lt)=>li(mt.canonicalString(),Lt.canonicalString()));for(const mt of f){const Lt=nc(this.userId,mt.key.path,P);Pe=Pe.add(mt.key.path.popLast()),ae.push(v.put(K)),ae.push(m.put(Lt,sf))}return Pe.forEach(mt=>{ae.push(this.indexManager.addToCollectionParentIndex(e,mt))}),e.addOnCommittedListener(()=>{this.Dn[P]=L.keys()}),Rt.waitFor(ae).next(()=>L)})}lookupMutationBatch(e,n){return ls(e).get(n).next(c=>c?(On(c.userId===this.userId),Ll(this.serializer,c)):null)}Cn(e,n){return this.Dn[n]?Rt.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(c=>{if(c){const f=c.keys();return this.Dn[n]=f,f}return null})}getNextMutationBatchAfterBatchId(e,n){const c=n+1,f=IDBKeyRange.lowerBound([this.userId,c]);let m=null;return ls(e).Y({index:"userMutationsIndex",range:f},(v,P,L)=>{P.userId===this.userId&&(On(P.batchId>=c),m=Ll(this.serializer,P)),L.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return ls(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(f,m,v)=>{c=m.batchId,v.done()}).next(()=>c)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ls(e).W("userMutationsIndex",n).next(c=>c.map(f=>Ll(this.serializer,f)))}getAllMutationBatchesAffectingDocumentKey(e,n){const c=ya(this.userId,n.path),f=IDBKeyRange.lowerBound(c),m=[];return fc(e).Y({range:f},(v,P,L)=>{const[K,ae,Pe]=v,mt=Fo(ae);if(K===this.userId&&n.path.isEqual(mt))return ls(e).get(Pe).next(Lt=>{if(!Lt)throw En();On(Lt.userId===this.userId),m.push(Ll(this.serializer,Lt))});L.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let c=new ki(li);const f=[];return n.forEach(m=>{const v=ya(this.userId,m.path),P=IDBKeyRange.lowerBound(v),L=fc(e).Y({range:P},(K,ae,Pe)=>{const[mt,Lt,yn]=K,xn=Fo(Lt);mt===this.userId&&m.path.isEqual(xn)?c=c.add(yn):Pe.done()});f.push(L)}),Rt.waitFor(f).next(()=>this.vn(e,c))}getAllMutationBatchesAffectingQuery(e,n){const c=n.path,f=c.length+1,m=ya(this.userId,c),v=IDBKeyRange.lowerBound(m);let P=new ki(li);return fc(e).Y({range:v},(L,K,ae)=>{const[Pe,mt,Lt]=L,yn=Fo(mt);Pe===this.userId&&c.isPrefixOf(yn)?yn.length===f&&(P=P.add(Lt)):ae.done()}).next(()=>this.vn(e,P))}vn(e,n){const c=[],f=[];return n.forEach(m=>{f.push(ls(e).get(m).next(v=>{if(null===v)throw En();On(v.userId===this.userId),c.push(Ll(this.serializer,v))}))}),Rt.waitFor(f).next(()=>c)}removeMutationBatch(e,n){return ev(e.ae,this.userId,n).next(c=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),Rt.forEach(c,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Rt.resolve();const c=IDBKeyRange.lowerBound([this.userId]),f=[];return fc(e).Y({range:c},(m,v,P)=>{if(m[0]===this.userId){const L=Fo(m[1]);f.push(L)}else P.done()}).next(()=>{On(0===f.length)})})}containsKey(e,n){return hc(e,this.userId,n)}Mn(e){return Jg(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hc(r,e,n){const c=ya(e,n.path),f=c[1],m=IDBKeyRange.lowerBound(c);let v=!1;return fc(r).Y({range:m,J:!0},(P,L,K)=>{const[ae,Pe,mt]=P;ae===e&&Pe===f&&(v=!0),K.done()}).next(()=>v)}function ls(r){return go(r,"mutations")}function fc(r){return go(r,"documentMutations")}function Jg(r){return go(r,"mutationQueues")}class Eu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Eu(0)}static Nn(){return new Eu(-1)}}class wu{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const c=new Eu(n.highestTargetId);return n.highestTargetId=c.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Kn.fromTimestamp(new Nn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,c){return this.Bn(e).next(f=>(f.highestListenSequenceNumber=n,c&&(f.lastRemoteSnapshotVersion=c.toTimestamp()),n>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=n),this.Ln(e,f)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(c=>(c.targetCount+=1,this.qn(n,c),this.Ln(e,c))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ud(e).delete(n.targetId)).next(()=>this.Bn(e)).next(c=>(On(c.targetCount>0),c.targetCount-=1,this.Ln(e,c)))}removeTargets(e,n,c){let f=0;const m=[];return ud(e).Y((v,P)=>{const L=Ls(P);L.sequenceNumber<=n&&null===c.get(L.targetId)&&(f++,m.push(this.removeTargetData(e,L)))}).next(()=>Rt.waitFor(m)).next(()=>f)}forEachTarget(e,n){return ud(e).Y((c,f)=>{const m=Ls(f);n(m)})}Bn(e){return e_(e).get("targetGlobalKey").next(n=>(On(null!==n),n))}Ln(e,n){return e_(e).put("targetGlobalKey",n)}kn(e,n){return ud(e).put(Tf(this.serializer,n))}qn(e,n){let c=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,c=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,c=!0),c}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const c=wa(n),f=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let m=null;return ud(e).Y({range:f,index:"queryTargetsIndex"},(v,P,L)=>{const K=Ls(P);th(n,K.target)&&(m=K,L.done())}).next(()=>m)}addMatchingKeys(e,n,c){const f=[],m=sl(e);return n.forEach(v=>{const P=Ci(v.path);f.push(m.put({targetId:c,path:P})),f.push(this.referenceDelegate.addReference(e,c,v))}),Rt.waitFor(f)}removeMatchingKeys(e,n,c){const f=sl(e);return Rt.forEach(n,m=>{const v=Ci(m.path);return Rt.waitFor([f.delete([c,v]),this.referenceDelegate.removeReference(e,c,m)])})}removeMatchingKeysForTargetId(e,n){const c=sl(e),f=IDBKeyRange.bound([n],[n+1],!1,!0);return c.delete(f)}getMatchingKeysForTargetId(e,n){const c=IDBKeyRange.bound([n],[n+1],!1,!0),f=sl(e);let m=ce();return f.Y({range:c,J:!0},(v,P,L)=>{const K=Fo(v[1]),ae=new Sn(K);m=m.add(ae)}).next(()=>m)}containsKey(e,n){const c=Ci(n.path),f=IDBKeyRange.bound([c],[Hc(c)],!1,!0);let m=0;return sl(e).Y({index:"documentTargetsIndex",J:!0,range:f},([v,P],L,K)=>{0!==v&&(m++,K.done())}).next(()=>m>0)}_t(e,n){return ud(e).get(n).next(c=>c?Ls(c):null)}}function ud(r){return go(r,"targets")}function e_(r){return go(r,"targetGlobal")}function sl(r){return go(r,"targetDocuments")}function ph([r,e],[n,c]){const f=li(r,n);return 0===f?li(e,c):f}class Nf{constructor(e){this.Qn=e,this.buffer=new ki(ph),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const c=this.buffer.last();ph(n,c)<0&&(this.buffer=this.buffer.delete(c).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t_{constructor(e,n,c){this.garbageCollector=e,this.asyncQueue=n,this.localStore=c,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;Qt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,h.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(c){S(c)?Qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield mo(c)}yield n.Gn(3e5)}))}}class om{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(c=>Math.floor(n/100*c))}nthSequenceNumber(e,n){if(0===n)return Rt.resolve(Ot._e);const c=new Nf(n);return this.zn.forEachTarget(e,f=>c.Un(f.sequenceNumber)).next(()=>this.zn.Hn(e,f=>c.Un(f))).next(()=>c.maxValue)}removeTargets(e,n,c){return this.zn.removeTargets(e,n,c)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),Rt.resolve(im)):this.getCacheSize(e).next(c=>c<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),im):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let c,f,m,v,P,L,K;const ae=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Pe=>(Pe>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Pe}`),f=this.params.maximumSequenceNumbersToCollect):f=Pe,v=Date.now(),this.nthSequenceNumber(e,f))).next(Pe=>(c=Pe,P=Date.now(),this.removeTargets(e,c,n))).next(Pe=>(m=Pe,L=Date.now(),this.removeOrphanedDocuments(e,c))).next(Pe=>(K=Date.now(),ar()<=I.in.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ae}ms\n\tDetermined least recently used ${f} in `+(P-v)+`ms\n\tRemoved ${m} targets in `+(L-P)+`ms\n\tRemoved ${Pe} documents in `+(K-L)+`ms\nTotal Duration: ${K-ae}ms`),Rt.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:m,documentsRemoved:Pe})))}}class n_{constructor(e,n){this.db=e,this.garbageCollector=function Ff(r,e){return new om(r,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(c=>n.next(f=>c+f))}Yn(e){let n=0;return this.Hn(e,c=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(c,f)=>n(f))}addReference(e,n,c){return mh(e,c)}removeReference(e,n,c){return mh(e,c)}removeTargets(e,n,c){return this.db.getTargetCache().removeTargets(e,n,c)}markPotentiallyOrphaned(e,n){return mh(e,n)}Xn(e,n){return function(f,m){let v=!1;return Jg(f).Z(P=>hc(f,P,m).next(L=>(L&&(v=!0),Rt.resolve(!L)))).next(()=>v)}(e,n)}removeOrphanedDocuments(e,n){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let m=0;return this.Zn(e,(v,P)=>{if(P<=n){const L=this.Xn(e,v).next(K=>{if(!K)return m++,c.getEntry(e,v).next(()=>(c.removeEntry(v,Kn.min()),sl(e).delete([0,Ci(v.path)])))});f.push(L)}}).next(()=>Rt.waitFor(f)).next(()=>c.apply(e)).next(()=>m)}removeTarget(e,n){const c=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,c)}updateLimboDocument(e,n){return mh(e,n)}Zn(e,n){const c=sl(e);let f,m=Ot._e;return c.Y({index:"documentTargetsIndex"},([v,P],{path:L,sequenceNumber:K})=>{0===v?(m!==Ot._e&&n(new Sn(Fo(f)),m),m=K,f=L):m=Ot._e}).next(()=>{m!==Ot._e&&n(new Sn(Fo(f)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mh(r,e){return sl(r).put((f=r.currentSequenceNumber,{targetId:0,path:Ci(e.path),sequenceNumber:f}));var f}class tv{constructor(){this.changes=new cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const c=this.changes.get(n);return void 0!==c?Rt.resolve(c):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $b{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,c){return pc(e).put(c)}removeEntry(e,n,c){return pc(e).delete(function(m,v){const P=m.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],Fl(v),P[P.length-1]]}(n,c))}updateMetadata(e,n){return this.getMetadata(e).next(c=>(c.byteSize+=n,this.er(e,c)))}getEntry(e,n){let c=Cr.newInvalidDocument(n);return pc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(_h(n))},(f,m)=>{c=this.tr(n,m)}).next(()=>c)}nr(e,n){let c={size:0,document:Cr.newInvalidDocument(n)};return pc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(_h(n))},(f,m)=>{c={document:this.tr(n,m),size:Of(m)}}).next(()=>c)}getEntries(e,n){let c=Go();return this.rr(e,n,(f,m)=>{const v=this.tr(f,m);c=c.insert(f,v)}).next(()=>c)}ir(e,n){let c=Go(),f=new ur(Sn.comparator);return this.rr(e,n,(m,v)=>{const P=this.tr(m,v);c=c.insert(m,P),f=f.insert(m,Of(v))}).next(()=>({documents:c,sr:f}))}rr(e,n,c){if(n.isEmpty())return Rt.resolve();let f=new ki(nv);n.forEach(L=>f=f.add(L));const m=IDBKeyRange.bound(_h(f.first()),_h(f.last())),v=f.getIterator();let P=v.getNext();return pc(e).Y({index:"documentKeyIndex",range:m},(L,K,ae)=>{const Pe=Sn.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;P&&nv(P,Pe)<0;)c(P,null),P=v.getNext();P&&P.isEqual(Pe)&&(c(P,K),P=v.hasNext()?v.getNext():null),P?ae.U(_h(P)):ae.done()}).next(()=>{for(;P;)c(P,null),P=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(e,n,c,f,m){const v=n.path,P=[v.popLast().toArray(),v.lastSegment(),Fl(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],L=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pc(e).W(IDBKeyRange.bound(P,L,!0)).next(K=>{m?.incrementDocumentReadCount(K.length);let ae=Go();for(const Pe of K){const mt=this.tr(Sn.fromSegments(Pe.prefixPath.concat(Pe.collectionGroup,Pe.documentId)),Pe);mt.isFoundDocument()&&(tl(n,mt)||f.has(mt.key))&&(ae=ae.insert(mt.key,mt))}return ae})}getAllFromCollectionGroup(e,n,c,f){let m=Go();const v=zl(n,c),P=zl(n,po.max());return pc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,P,!0)},(L,K,ae)=>{const Pe=this.tr(Sn.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);m=m.insert(Pe.key,Pe),m.size===f&&ae.done()}).next(()=>m)}newChangeBuffer(e){return new gh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return r_(e).get("remoteDocumentGlobalKey").next(n=>(On(!!n),n))}er(e,n){return r_(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const c=function Wg(r,e){let n;if(e.document)n=Ub(r.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const c=Sn.fromSegments(e.noDocument.path),f=bu(e.noDocument.readTime);n=Cr.newNoDocument(c,f),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return En();{const c=Sn.fromSegments(e.unknownDocument.path),f=bu(e.unknownDocument.version);n=Cr.newUnknownDocument(c,f)}}return e.readTime&&n.setReadTime(function(f){const m=new Nn(f[0],f[1]);return Kn.fromTimestamp(m)}(e.readTime)),n}(this.serializer,n);if(!c.isNoDocument()||!c.version.isEqual(Kn.min()))return c}return Cr.newInvalidDocument(e)}}function i_(r){return new $b(r)}class gh extends tv{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new cc(c=>c.toString(),(c,f)=>c.isEqual(f))}applyChanges(e){const n=[];let c=0,f=new ki((m,v)=>li(m.canonicalString(),v.canonicalString()));return this.changes.forEach((m,v)=>{const P=this.ar.get(m);if(n.push(this._r.removeEntry(e,m,P.readTime)),v.isValidDocument()){const L=Gg(this._r.serializer,v);f=f.add(m.path.popLast());const K=Of(L);c+=K-P.size,n.push(this._r.addEntry(e,m,L))}else if(c-=P.size,this.trackRemovals){const L=Gg(this._r.serializer,v.convertToNoDocument(Kn.min()));n.push(this._r.addEntry(e,m,L))}}),f.forEach(m=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,m))}),n.push(this._r.updateMetadata(e,c)),Rt.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(c=>(this.ar.set(n,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:c,sr:f})=>(f.forEach((m,v)=>{this.ar.set(m,{size:v,readTime:c.get(m).readTime})}),c))}}function r_(r){return go(r,"remoteDocumentGlobal")}function pc(r){return go(r,"remoteDocumentsV14")}function _h(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zl(r,e){const n=e.documentKey.path.toArray();return[r,Fl(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nv(r,e){const n=r.path.toArray(),c=e.path.toArray();let f=0;for(let m=0;m<n.length-2&&m<c.length-2;++m)if(f=li(n[m],c[m]),f)return f;return f=li(n.length,c.length),f||(f=li(n[n.length-2],c[c.length-2]),f||li(n[n.length-1],c[c.length-1]))}class Wb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Lf{constructor(e,n,c,f){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=c,this.indexManager=f}getDocument(e,n){let c=null;return this.documentOverlayCache.getOverlay(e,n).next(f=>(c=f,this.remoteDocumentCache.getEntry(e,n))).next(f=>(null!==c&&vf(c.mutation,f,Wo.empty(),Nn.now()),f))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(c=>this.getLocalViewOfDocuments(e,c,ce()).next(()=>c))}getLocalViewOfDocuments(e,n,c=ce()){const f=C();return this.populateOverlays(e,f,n).next(()=>this.computeViews(e,n,f,c).next(m=>{let v=oh();return m.forEach((P,L)=>{v=v.insert(P,L.overlayedDocument)}),v}))}getOverlayedDocuments(e,n){const c=C();return this.populateOverlays(e,c,n).next(()=>this.computeViews(e,n,c,ce()))}populateOverlays(e,n,c){const f=[];return c.forEach(m=>{n.has(m)||f.push(m)}),this.documentOverlayCache.getOverlays(e,f).next(m=>{m.forEach((v,P)=>{n.set(v,P)})})}computeViews(e,n,c,f){let m=Go();const v=b(),P=b();return n.forEach((L,K)=>{const ae=c.get(K.key);f.has(K.key)&&(void 0===ae||ae.mutation instanceof Nl)?m=m.insert(K.key,K):void 0!==ae?(v.set(K.key,ae.mutation.getFieldMask()),vf(ae.mutation,K,ae.mutation.getFieldMask(),Nn.now())):v.set(K.key,Wo.empty())}),this.recalculateAndSaveOverlays(e,m).next(L=>(L.forEach((K,ae)=>v.set(K,ae)),n.forEach((K,ae)=>{var Pe;return P.set(K,new Wb(ae,null!==(Pe=v.get(K))&&void 0!==Pe?Pe:null))}),P))}recalculateAndSaveOverlays(e,n){const c=b();let f=new ur((v,P)=>v-P),m=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(v=>{for(const P of v)P.keys().forEach(L=>{const K=n.get(L);if(null===K)return;let ae=c.get(L)||Wo.empty();ae=P.applyToLocalView(K,ae),c.set(L,ae);const Pe=(f.get(P.batchId)||ce()).add(L);f=f.insert(P.batchId,Pe)})}).next(()=>{const v=[],P=f.getReverseIterator();for(;P.hasNext();){const L=P.getNext(),K=L.key,ae=L.value,Pe=y();ae.forEach(mt=>{if(!m.has(mt)){const Lt=Wp(n.get(mt),c.get(mt));null!==Lt&&Pe.set(mt,Lt),m=m.add(mt)}}),v.push(this.documentOverlayCache.saveOverlays(e,K,Pe))}return Rt.waitFor(v)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(c=>this.recalculateAndSaveOverlays(e,c))}getDocumentsMatchingQuery(e,n,c,f){return Sn.isDocumentKey((v=n).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Bp(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,c,f):this.getDocumentsMatchingCollectionQuery(e,n,c,f);var v}getNextDocuments(e,n,c,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,c,f).next(m=>{const v=f-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,c.largestBatchId,f-m.size):Rt.resolve(C());let P=-1,L=m;return v.next(K=>Rt.forEach(K,(ae,Pe)=>(P<Pe.largestBatchId&&(P=Pe.largestBatchId),m.get(ae)?Rt.resolve():this.remoteDocumentCache.getEntry(e,ae).next(mt=>{L=L.insert(ae,mt)}))).next(()=>this.populateOverlays(e,K,m)).next(()=>this.computeViews(e,L,K,ce())).next(ae=>({batchId:P,changes:Mg(ae)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Sn(n)).next(c=>{let f=oh();return c.isFoundDocument()&&(f=f.insert(c.key,c)),f})}getDocumentsMatchingCollectionGroupQuery(e,n,c,f){const m=n.collectionGroup;let v=oh();return this.indexManager.getCollectionParents(e,m).next(P=>Rt.forEach(P,L=>{const K=(Pe=n,mt=L.child(m),new ea(mt,null,Pe.explicitOrderBy.slice(),Pe.filters.slice(),Pe.limit,Pe.limitType,Pe.startAt,Pe.endAt));var Pe,mt;return this.getDocumentsMatchingCollectionQuery(e,K,c,f).next(ae=>{ae.forEach((Pe,mt)=>{v=v.insert(Pe,mt)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,n,c,f){let m;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,c.largestBatchId).next(v=>(m=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,c,m,f))).next(v=>{m.forEach((L,K)=>{const ae=K.getKey();null===v.get(ae)&&(v=v.insert(ae,Cr.newInvalidDocument(ae)))});let P=oh();return v.forEach((L,K)=>{const ae=m.get(L);void 0!==ae&&vf(ae.mutation,K,Wo.empty(),Nn.now()),tl(n,K)&&(P=P.insert(L,K))}),P})}}class iv{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Rt.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(f=n).id,version:f.version,createTime:bo(f.createTime)}),Rt.resolve();var f}getNamedQuery(e,n){return Rt.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(f=n).name,query:Af(f.bundledQuery),readTime:bo(f.readTime)}),Rt.resolve();var f}}class o_{constructor(){this.overlays=new ur(Sn.comparator),this.lr=new Map}getOverlay(e,n){return Rt.resolve(this.overlays.get(n))}getOverlays(e,n){const c=C();return Rt.forEach(n,f=>this.getOverlay(e,f).next(m=>{null!==m&&c.set(f,m)})).next(()=>c)}saveOverlays(e,n,c){return c.forEach((f,m)=>{this.lt(e,n,m)}),Rt.resolve()}removeOverlaysForBatchId(e,n,c){const f=this.lr.get(c);return void 0!==f&&(f.forEach(m=>this.overlays=this.overlays.remove(m)),this.lr.delete(c)),Rt.resolve()}getOverlaysForCollection(e,n,c){const f=C(),m=n.length+1,v=new Sn(n.child("")),P=this.overlays.getIteratorFrom(v);for(;P.hasNext();){const L=P.getNext().value,K=L.getKey();if(!n.isPrefixOf(K.path))break;K.path.length===m&&L.largestBatchId>c&&f.set(L.getKey(),L)}return Rt.resolve(f)}getOverlaysForCollectionGroup(e,n,c,f){let m=new ur((K,ae)=>K-ae);const v=this.overlays.getIterator();for(;v.hasNext();){const K=v.getNext().value;if(K.getKey().getCollectionGroup()===n&&K.largestBatchId>c){let ae=m.get(K.largestBatchId);null===ae&&(ae=C(),m=m.insert(K.largestBatchId,ae)),ae.set(K.getKey(),K)}}const P=C(),L=m.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((K,ae)=>P.set(K,ae)),!(P.size()>=f)););return Rt.resolve(P)}lt(e,n,c){const f=this.overlays.get(c.key);if(null!==f){const v=this.lr.get(f.largestBatchId).delete(c.key);this.lr.set(f.largestBatchId,v)}this.overlays=this.overlays.insert(c.key,new Ng(n,c));let m=this.lr.get(n);void 0===m&&(m=ce(),this.lr.set(n,m)),this.lr.set(n,m.add(c.key))}}class Vf{constructor(){this.hr=new ki(Yo.Pr),this.Ir=new ki(Yo.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const c=new Yo(e,n);this.hr=this.hr.add(c),this.Ir=this.Ir.add(c)}Er(e,n){e.forEach(c=>this.addReference(c,n))}removeReference(e,n){this.dr(new Yo(e,n))}Ar(e,n){e.forEach(c=>this.removeReference(c,n))}Rr(e){const n=new Sn(new Pi([])),c=new Yo(n,e),f=new Yo(n,e+1),m=[];return this.Ir.forEachInRange([c,f],v=>{this.dr(v),m.push(v.key)}),m}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Sn(new Pi([])),c=new Yo(n,e),f=new Yo(n,e+1);let m=ce();return this.Ir.forEachInRange([c,f],v=>{m=m.add(v.key)}),m}containsKey(e){const n=new Yo(e,0),c=this.hr.firstAfterOrEqual(n);return null!==c&&e.isEqual(c.key)}}class Yo{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Sn.comparator(e.key,n.key)||li(e.gr,n.gr)}static Tr(e,n){return li(e.gr,n.gr)||Sn.comparator(e.key,n.key)}}class s_{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new ki(Yo.Pr)}checkEmpty(e){return Rt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,c,f){const m=this.pr;this.pr++;const v=new By(m,n,c,f);this.mutationQueue.push(v);for(const P of f)this.yr=this.yr.add(new Yo(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return Rt.resolve(v)}lookupMutationBatch(e,n){return Rt.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const f=this.Sr(n+1),m=f<0?0:f;return Rt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Rt.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const c=new Yo(n,0),f=new Yo(n,Number.POSITIVE_INFINITY),m=[];return this.yr.forEachInRange([c,f],v=>{const P=this.wr(v.gr);m.push(P)}),Rt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let c=new ki(li);return n.forEach(f=>{const m=new Yo(f,0),v=new Yo(f,Number.POSITIVE_INFINITY);this.yr.forEachInRange([m,v],P=>{c=c.add(P.gr)})}),Rt.resolve(this.br(c))}getAllMutationBatchesAffectingQuery(e,n){const c=n.path,f=c.length+1;let m=c;Sn.isDocumentKey(m)||(m=m.child(""));const v=new Yo(new Sn(m),0);let P=new ki(li);return this.yr.forEachWhile(L=>{const K=L.key.path;return!!c.isPrefixOf(K)&&(K.length===f&&(P=P.add(L.gr)),!0)},v),Rt.resolve(this.br(P))}br(e){const n=[];return e.forEach(c=>{const f=this.wr(c);null!==f&&n.push(f)}),n}removeMutationBatch(e,n){On(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let c=this.yr;return Rt.forEach(n.mutations,f=>{const m=new Yo(f.key,n.batchId);return c=c.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.yr=c})}Fn(e){}containsKey(e,n){const c=new Yo(n,0),f=this.yr.firstAfterOrEqual(c);return Rt.resolve(n.isEqual(f&&f.key))}performConsistencyCheck(e){return Rt.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class a_{constructor(e){this.Cr=e,this.docs=new ur(Sn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const c=n.key,f=this.docs.get(c),m=f?f.size:0,v=this.Cr(n);return this.docs=this.docs.insert(c,{document:n.mutableCopy(),size:v}),this.size+=v-m,this.indexManager.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const c=this.docs.get(n);return Rt.resolve(c?c.document.mutableCopy():Cr.newInvalidDocument(n))}getEntries(e,n){let c=Go();return n.forEach(f=>{const m=this.docs.get(f);c=c.insert(f,m?m.document.mutableCopy():Cr.newInvalidDocument(f))}),Rt.resolve(c)}getDocumentsMatchingQuery(e,n,c,f){let m=Go();const v=n.path,P=new Sn(v.child("")),L=this.docs.getIteratorFrom(P);for(;L.hasNext();){const{key:K,value:{document:ae}}=L.getNext();if(!v.isPrefixOf(K.path))break;K.path.length>v.length+1||to(uu(ae),c)<=0||(f.has(ae.key)||tl(n,ae))&&(m=m.insert(ae.key,ae.mutableCopy()))}return Rt.resolve(m)}getAllFromCollectionGroup(e,n,c,f){En()}vr(e,n){return Rt.forEach(this.docs,c=>n(c))}newChangeBuffer(e){return new xE(this)}getSize(e){return Rt.resolve(this.size)}}class xE extends tv{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((c,f)=>{f.isValidDocument()?n.push(this._r.addEntry(e,f)):this._r.removeEntry(c)}),Rt.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class rv{constructor(e){this.persistence=e,this.Fr=new cc(n=>wa(n),th),this.lastRemoteSnapshotVersion=Kn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Vf,this.targetCount=0,this.Nr=Eu.On()}forEachTarget(e,n){return this.Fr.forEach((c,f)=>n(f)),Rt.resolve()}getLastRemoteSnapshotVersion(e){return Rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rt.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Rt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,c){return c&&(this.lastRemoteSnapshotVersion=c),n>this.Mr&&(this.Mr=n),Rt.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Eu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Rt.resolve()}updateTargetData(e,n){return this.kn(n),Rt.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Rt.resolve()}removeTargets(e,n,c){let f=0;const m=[];return this.Fr.forEach((v,P)=>{P.sequenceNumber<=n&&null===c.get(P.targetId)&&(this.Fr.delete(v),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),f++)}),Rt.waitFor(m).next(()=>f)}getTargetCount(e){return Rt.resolve(this.targetCount)}getTargetData(e,n){const c=this.Fr.get(n)||null;return Rt.resolve(c)}addMatchingKeys(e,n,c){return this.Or.Er(n,c),Rt.resolve()}removeMatchingKeys(e,n,c){this.Or.Ar(n,c);const f=this.persistence.referenceDelegate,m=[];return f&&n.forEach(v=>{m.push(f.markPotentiallyOrphaned(e,v))}),Rt.waitFor(m)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Rt.resolve()}getMatchingKeysForTargetId(e,n){const c=this.Or.mr(n);return Rt.resolve(c)}containsKey(e,n){return Rt.resolve(this.Or.containsKey(n))}}class Iu{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ot(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new rv(this),this.indexManager=new Xg,this.remoteDocumentCache=new a_(c=>this.referenceDelegate.Qr(c)),this.serializer=new Df(n),this.Kr=new iv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let c=this.Br[e.toKey()];return c||(c=new s_(n,this.referenceDelegate),this.Br[e.toKey()]=c),c}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,c){Qt("MemoryPersistence","Starting transaction:",e);const f=new Bf(this.Lr.next());return this.referenceDelegate.$r(),c(f).next(m=>this.referenceDelegate.Ur(f).next(()=>m)).toPromise().then(m=>(f.raiseOnCommittedEvent(),m))}Wr(e,n){return Rt.or(Object.values(this.Br).map(c=>()=>c.containsKey(e,n)))}}class Bf extends ka{constructor(e){super(),this.currentSequenceNumber=e}}class Uf{constructor(e){this.persistence=e,this.Gr=new Vf,this.zr=null}static jr(e){return new Uf(e)}get Hr(){if(this.zr)return this.zr;throw En()}addReference(e,n,c){return this.Gr.addReference(c,n),this.Hr.delete(c.toString()),Rt.resolve()}removeReference(e,n,c){return this.Gr.removeReference(c,n),this.Hr.add(c.toString()),Rt.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Rt.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(f=>this.Hr.add(f.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,n.targetId).next(f=>{f.forEach(m=>this.Hr.add(m.toString()))}).next(()=>c.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rt.forEach(this.Hr,c=>{const f=Sn.fromPath(c);return this.Jr(e,f).next(m=>{m||n.removeEntry(f,Kn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(c=>{c?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Rt.or([()=>Rt.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class c_{constructor(e){this.serializer=e}N(e,n,c,f){const m=new Wc("createOrUpgrade",n);var L;c<1&&f>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gc,{unique:!0}),L.createObjectStore("documentMutations"),sm(e),function(L){L.createObjectStore("remoteDocuments")}(e));let v=Rt.resolve();return c<3&&f>=3&&(0!==c&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),sm(e)),v=v.next(()=>function(L){const K=L.store("targetGlobal"),ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ae)}(m))),c<4&&f>=4&&(0!==c&&(v=v.next(()=>function(L,K){return K.store("mutations").W().next(ae=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gc,{unique:!0});const Pe=K.store("mutations"),mt=ae.map(Lt=>Pe.put(Lt));return Rt.waitFor(mt)})}(e,m))),v=v.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),c<5&&f>=5&&(v=v.next(()=>this.Zr(m))),c<6&&f>=6&&(v=v.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(m)))),c<7&&f>=7&&(v=v.next(()=>this.ei(m))),c<8&&f>=8&&(v=v.next(()=>this.ti(e,m))),c<9&&f>=9&&(v=v.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),c<10&&f>=10&&(v=v.next(()=>this.ni(m))),c<11&&f>=11&&(v=v.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),c<12&&f>=12&&(v=v.next(()=>{!function(L){const K=L.createObjectStore("documentOverlays",{keyPath:Yd});K.createIndex("collectionPathOverlayIndex",qd,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Oa,{unique:!1})}(e)})),c<13&&f>=13&&(v=v.next(()=>function(L){const K=L.createObjectStore("remoteDocumentsV14",{keyPath:Mp});K.createIndex("documentKeyIndex",Rp),K.createIndex("collectionGroupIndex",Dy)}(e)).next(()=>this.ri(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),c<14&&f>=14&&(v=v.next(()=>this.ii(e,m))),c<15&&f>=15&&(v=v.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:kp}).createIndex("sequenceNumberIndex",Op,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:Ig}).createIndex("documentKeyIndex",Np,{unique:!1})}(e))),v}Xr(e){let n=0;return e.store("remoteDocuments").Y((c,f)=>{n+=Of(f)}).next(()=>{const c={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}Zr(e){const n=e.store("mutationQueues"),c=e.store("mutations");return n.W().next(f=>Rt.forEach(f,m=>{const v=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return c.W("userMutationsIndex",v).next(P=>Rt.forEach(P,L=>{On(L.userId===m.userId);const K=Ll(this.serializer,L);return ev(e,m.userId,K).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),c=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const m=[];return c.Y((v,P)=>{const L=new Pi(v),K=[0,Ci(L)];m.push(n.get(K).next(ae=>ae?Rt.resolve():n.put({targetId:0,path:Ci(L),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>Rt.waitFor(m))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Pp});const c=n.store("collectionParents"),f=new La,m=v=>{if(f.add(v)){const P=v.lastSegment(),L=v.popLast();return c.put({collectionId:P,parent:Ci(L)})}};return n.store("remoteDocuments").Y({J:!0},(v,P)=>{const L=new Pi(v);return m(L.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([v,P,L],K)=>{const ae=Fo(P);return m(ae.popLast())}))}ni(e){const n=e.store("targets");return n.Y((c,f)=>{const m=Ls(f),v=Tf(this.serializer,m);return n.put(v)})}ri(e,n){const c=n.store("remoteDocuments"),f=[];return c.Y((m,v)=>{const P=n.store("remoteDocumentsV14"),L=(Pe=v,Pe.document?new Sn(Pi.fromString(Pe.document.name).popFirst(5)):Pe.noDocument?Sn.fromSegments(Pe.noDocument.path):Pe.unknownDocument?Sn.fromSegments(Pe.unknownDocument.path):En()).path.toArray(),K={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};var Pe;f.push(P.put(K))}).next(()=>Rt.waitFor(f))}ii(e,n){const c=n.store("mutations"),f=i_(this.serializer),m=new Iu(Uf.jr,this.serializer.ut);return c.W().next(v=>{const P=new Map;return v.forEach(L=>{var K;let ae=null!==(K=P.get(L.userId))&&void 0!==K?K:ce();Ll(this.serializer,L).keys().forEach(Pe=>ae=ae.add(Pe)),P.set(L.userId,ae)}),Rt.forEach(P,(L,K)=>{const ae=new jn(K),Pe=sd.ct(this.serializer,ae),mt=m.getIndexManager(ae),Lt=rm.ct(ae,this.serializer,mt,m.referenceDelegate);return new Lf(f,Lt,Pe,mt).recalculateAndSaveOverlaysForDocumentKeys(new Sl(n,Ot._e),L).next()})})}}function sm(r){r.createObjectStore("targetDocuments",{keyPath:du}).createIndex("documentTargetsIndex",Kr,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ys,{unique:!0}),r.createObjectStore("targetGlobal")}const jf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class am{constructor(e,n,c,f,m,v,P,L,K,ae,Pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=c,this.si=m,this.window=v,this.document=P,this.oi=K,this._i=ae,this.ai=Pe,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=mt=>Promise.resolve(),!am.D())throw new hn(zt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new n_(this,f),this.Ii=n+"main",this.serializer=new Df(L),this.Ti=new qs(this.Ii,this.ai,new c_(this.serializer)),this.qr=new wu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=i_(this.serializer),this.Kr=new Yg,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===ae&&$i("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new hn(zt.FAILED_PRECONDITION,jf);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Ot(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var c=(0,h.Z)(function*(f){if(n.started)return e(f)});return function(f){return c.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,h.Z)(function*(c){null===c.newVersion&&(yield e())});return function(c){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,h.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(S(e))return Qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Cu(e).get("owner").next(n=>Rt.resolve(this.wi(n)))}Si(e){return dd(e).delete(this.clientId)}bi(){var e=this;return(0,h.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const f=go(c,"clientMetadata");return f.W().next(m=>{const v=e.Ci(m,18e5),P=m.filter(L=>-1===v.indexOf(L));return Rt.forEach(P,L=>f.delete(L.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Ei)for(const c of n)e.Ei.removeItem(e.vi(c.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Rt.resolve(!0):Cu(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new hn(zt.FAILED_PRECONDITION,jf);return!1}}return!(!this.networkEnabled||!this.inForeground)||dd(e).W().next(c=>void 0===this.Ci(c,5e3).find(f=>!(this.clientId===f.clientId||!(!this.networkEnabled&&f.networkEnabled||!this.inForeground&&f.inForeground&&this.networkEnabled===f.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Qt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,h.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const c=new Sl(n,Ot._e);return e.pi(c).next(()=>e.Si(c))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(c=>this.Di(c.updateTimeMs,n)&&!this.Fi(c.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>dd(e).W().next(n=>this.Ci(n,18e5).map(c=>c.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return rm.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hb(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return sd.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,c){Qt("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===n?"readonly":"readwrite",m=15===(L=this.ai)?hu:14===L?Al:13===L?Ku:12===L?Tl:11===L?Fp:void En();var L;let v;return this.Ti.runTransaction(e,f,m,P=>(v=new Sl(P,this.Lr?this.Lr.next():Ot._e),"readwrite-primary"===n?this.fi(v).next(L=>!!L||this.gi(v)).next(L=>{if(!L)throw $i(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new hn(zt.FAILED_PRECONDITION,$c);return c(v)}).next(L=>this.yi(v).next(()=>L)):this.Li(v).next(()=>c(v)))).then(P=>(v.raiseOnCommittedEvent(),P))}Li(e){return Cu(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new hn(zt.FAILED_PRECONDITION,jf)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cu(e).put("owner",n)}static D(){return qs.D()}pi(e){const n=Cu(e);return n.get("owner").next(c=>this.wi(c)?(Qt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Rt.resolve())}Di(e,n){const c=Date.now();return!(e<c-n||e>c&&($i(`Detected an update time that is in the future: ${e} > ${c}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,ge.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const c=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return Qt("IndexedDbPersistence",`Client '${e}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return $i("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){$i("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cu(r){return go(r,"owner")}function dd(r){return go(r,"clientMetadata")}function cm(r,e){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+e+"/"+n+"/"}class Hf{constructor(e,n,c,f){this.targetId=e,this.fromCache=n,this.ki=c,this.qi=f}static Qi(e,n){let c=ce(),f=ce();for(const m of n.docChanges)switch(m.type){case 0:c=c.add(m.doc.key);break;case 1:f=f.add(m.doc.key)}return new Hf(e,n.fromCache,c,f)}}class l_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lm{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,c,f){const m={result:null};return this.zi(e,n).next(v=>{m.result=v}).next(()=>{if(!m.result)return this.ji(e,n,f,c).next(v=>{m.result=v})}).next(()=>{if(m.result)return;const v=new l_;return this.Hi(e,n,v).next(P=>{if(m.result=P,this.$i)return this.Ji(e,n,v,P.size)})}).next(()=>m.result)}Ji(e,n,c,f){return c.documentReadCount<this.Ui?(ar()<=I.in.DEBUG&&Qt("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Rt.resolve()):(ar()<=I.in.DEBUG&&Qt("QueryEngine","Query:",el(n),"scans",c.documentReadCount,"local documents and returns",f,"documents as results."),c.documentReadCount>this.Wi*f?(ar()<=I.in.DEBUG&&Qt("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):Rt.resolve())}zi(e,n){if(ih(n))return Rt.resolve(null);let c=bs(n);return this.indexManager.getIndexType(e,c).next(f=>0===f?null:(null!==n.limit&&1===f&&(n=zp(n,null,"F"),c=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,c).next(m=>{const v=ce(...m);return this.Gi.getDocuments(e,v).next(P=>this.indexManager.getMinOffset(e,c).next(L=>{const K=this.Yi(n,P);return this.Zi(n,K,v,L.readTime)?this.zi(e,zp(n,null,"F")):this.Xi(e,K,n,L)}))})))}ji(e,n,c,f){return ih(n)||f.isEqual(Kn.min())?Rt.resolve(null):this.Gi.getDocuments(e,c).next(m=>{const v=this.Yi(n,m);return this.Zi(n,v,c,f)?Rt.resolve(null):(ar()<=I.in.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),el(n)),this.Xi(e,v,n,ei(f,-1)).next(P=>P))})}Yi(e,n){let c=new ki(rh(e));return n.forEach((f,m)=>{tl(e,m)&&(c=c.add(m))}),c}Zi(e,n,c,f){if(null===e.limit)return!1;if(c.size!==n.size)return!0;const m="F"===e.limitType?n.last():n.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(f)>0)}Hi(e,n,c){return ar()<=I.in.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",el(n)),this.Gi.getDocumentsMatchingQuery(e,n,po.min(),c)}Xi(e,n,c,f){return this.Gi.getDocumentsMatchingQuery(e,c,f).next(m=>(n.forEach(v=>{m=m.insert(v.key,v)}),m))}}class Gb{constructor(e,n,c,f){this.persistence=e,this.es=n,this.serializer=f,this.ts=new ur(li),this.ns=new cc(m=>wa(m),th),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(c)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lf(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function $f(r,e,n,c){return new Gb(r,e,n,c)}function hd(r,e){return ov.apply(this,arguments)}function ov(){return ov=(0,h.Z)(function*(r,e){const n=fn(r);return yield n.persistence.runTransaction("Handle user change","readonly",c=>{let f;return n.mutationQueue.getAllMutationBatches(c).next(m=>(f=m,n.os(e),n.mutationQueue.getAllMutationBatches(c))).next(m=>{const v=[],P=[];let L=ce();for(const K of f){v.push(K.batchId);for(const ae of K.mutations)L=L.add(ae.key)}for(const K of m){P.push(K.batchId);for(const ae of K.mutations)L=L.add(ae.key)}return n.localDocuments.getDocuments(c,L).next(K=>({_s:K,removedBatchIds:v,addedBatchIds:P}))})})}),ov.apply(this,arguments)}function fd(r){const e=fn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function um(r,e,n){let c=ce(),f=ce();return n.forEach(m=>c=c.add(m)),e.getEntries(r,c).next(m=>{let v=Go();return n.forEach((P,L)=>{const K=m.get(P);L.isFoundDocument()!==K.isFoundDocument()&&(f=f.add(P)),L.isNoDocument()&&L.version.isEqual(Kn.min())?(e.removeEntry(P,L.readTime),v=v.insert(P,L)):!K.isValidDocument()||L.version.compareTo(K.version)>0||0===L.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(L),v=v.insert(P,L)):Qt("LocalStore","Ignoring outdated watch update for ",P,". Current version:",K.version," Watch version:",L.version)}),{us:v,cs:f}})}function dm(r,e){const n=fn(r);return n.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(c,e)))}function Vs(r,e){const n=fn(r);return n.persistence.runTransaction("Allocate target","readwrite",c=>{let f;return n.qr.getTargetData(c,e).next(m=>m?(f=m,Rt.resolve(f)):n.qr.allocateTargetId(c).next(v=>(f=new Fa(e,v,"TargetPurposeListen",c.currentSequenceNumber),n.qr.addTargetData(c,f).next(()=>f))))}).then(c=>{const f=n.ts.get(c.targetId);return(null===f||c.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(n.ts=n.ts.insert(c.targetId,c),n.ns.set(e,c.targetId)),c})}function mc(r,e,n){return xu.apply(this,arguments)}function xu(){return xu=(0,h.Z)(function*(r,e,n){const c=fn(r),f=c.ts.get(e),m=n?"readwrite":"readwrite-primary";try{n||(yield c.persistence.runTransaction("Release target",m,v=>c.persistence.referenceDelegate.removeTarget(v,f)))}catch(v){if(!S(v))throw v;Qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}c.ts=c.ts.remove(e),c.ns.delete(f.target)}),xu.apply(this,arguments)}function hm(r,e,n){const c=fn(r);let f=Kn.min(),m=ce();return c.persistence.runTransaction("Execute query","readwrite",v=>function(L,K,ae){const Pe=fn(L),mt=Pe.ns.get(ae);return void 0!==mt?Rt.resolve(Pe.ts.get(mt)):Pe.qr.getTargetData(K,ae)}(c,v,bs(e)).next(P=>{if(P)return f=P.lastLimboFreeSnapshotVersion,c.qr.getMatchingKeysForTargetId(v,P.targetId).next(L=>{m=L})}).next(()=>c.es.getDocumentsMatchingQuery(v,e,n?f:Kn.min(),n?m:ce())).next(P=>(pd(c,jp(e),P),{documents:P,ls:m})))}function av(r,e){const n=fn(r),c=fn(n.qr),f=n.ts.get(e);return f?Promise.resolve(f.target):n.persistence.runTransaction("Get target data","readonly",m=>c._t(m,e).next(v=>v?v.target:null))}function d_(r,e){const n=fn(r),c=n.rs.get(e)||Kn.min();return n.persistence.runTransaction("Get new document changes","readonly",f=>n.ss.getAllFromCollectionGroup(f,e,ei(c,-1),Number.MAX_SAFE_INTEGER)).then(f=>(pd(n,e,f),f))}function pd(r,e,n){let c=r.rs.get(e)||Kn.min();n.forEach((f,m)=>{m.readTime.compareTo(c)>0&&(c=m.readTime)}),r.rs.set(e,c)}function Mo(){return Mo=(0,h.Z)(function*(r,e,n,c){const f=fn(r);let m=ce(),v=Go();for(const K of n){const ae=e.hs(K.metadata.name);K.document&&(m=m.add(ae));const Pe=e.Ps(K);Pe.setReadTime(e.Is(K.metadata.readTime)),v=v.insert(ae,Pe)}const P=f.ss.newChangeBuffer({trackRemovals:!0}),L=yield Vs(f,(ae=c,bs(nh(Pi.fromString(`__bundle__/docs/${ae}`)))));var ae;return f.persistence.runTransaction("Apply bundle documents","readwrite",K=>um(K,P,v).next(ae=>(P.apply(K),ae)).next(ae=>f.qr.removeMatchingKeysForTargetId(K,L.targetId).next(()=>f.qr.addMatchingKeys(K,m,L.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(K,ae.us,ae.cs)).next(()=>ae.us)))}),Mo.apply(this,arguments)}function Kb(r,e){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,h.Z)(function*(r,e,n=ce()){const c=yield Vs(r,bs(Af(e.bundledQuery))),f=fn(r);return f.persistence.runTransaction("Save named query","readwrite",m=>{const v=bo(e.readTime);if(c.snapshotVersion.compareTo(v)>=0)return f.Kr.saveNamedQuery(m,e);const P=c.withResumeToken(Sr.EMPTY_BYTE_STRING,v);return f.ts=f.ts.insert(P.targetId,P),f.qr.updateTargetData(m,P).next(()=>f.qr.removeMatchingKeysForTargetId(m,c.targetId)).next(()=>f.qr.addMatchingKeys(m,n,c.targetId)).next(()=>f.Kr.saveNamedQuery(m,e))})}),Vo.apply(this,arguments)}function f_(r,e){return`firestore_clients_${r}_${e}`}function p_(r,e,n){let c=`firestore_mutations_${r}_${n}`;return e.isAuthenticated()&&(c+=`_${e.uid}`),c}function fm(r,e){return`firestore_targets_${r}_${e}`}class yh{constructor(e,n,c,f){this.user=e,this.batchId=n,this.state=c,this.error=f}static Ts(e,n,c){const f=JSON.parse(c);let m,v="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return v&&f.error&&(v="string"==typeof f.error.message&&"string"==typeof f.error.code,v&&(m=new hn(f.error.code,f.error.message))),v?new yh(e,n,f.state,m):($i("SharedClientState",`Failed to parse mutation state for ID '${n}': ${c}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pm{constructor(e,n,c){this.targetId=e,this.state=n,this.error=c}static Ts(e,n){const c=JSON.parse(n);let f,m="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return m&&c.error&&(m="string"==typeof c.error.message&&"string"==typeof c.error.code,m&&(f=new hn(c.error.code,c.error.message))),m?new pm(e,c.state,f):($i("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mm{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const c=JSON.parse(n);let f="object"==typeof c&&c.activeTargetIds instanceof Array,m=Ht();for(let v=0;f&&v<c.activeTargetIds.length;++v)f=bi(c.activeTargetIds[v]),m=m.add(c.activeTargetIds[v]);return f?new mm(e,m):($i("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Wf{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Wf(n.clientId,n.onlineState):($i("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m_{constructor(){this.activeTargetIds=Ht()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gm{constructor(e,n,c,f,m){this.window=e,this.si=n,this.persistenceKey=c,this.Rs=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ur(li),this.started=!1,this.ps=[];const v=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ys=f_(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new m_),this.Ss=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,h.Z)(function*(){const n=yield e.syncEngine.Bi();for(const f of n){if(f===e.Rs)continue;const m=e.getItem(f_(e.persistenceKey,f));if(m){const v=mm.Ts(f,m);v&&(e.gs=e.gs.insert(v.clientId,v))}}e.Fs();const c=e.storage.getItem(e.Cs);if(c){const f=e.Ms(c);f&&e.xs(f)}for(const f of e.ps)e.fs(f);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((c,f)=>{f.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,c){this.Ns(e,n,c),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const c=this.storage.getItem(fm(this.persistenceKey,e));if(c){const f=pm.Ts(e,c);f&&(n=f.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fm(this.persistenceKey,e))}updateQueryState(e,n,c){this.ks(e,n,c)}handleUserChange(e,n,c){n.forEach(f=>{this.Bs(f)}),this.currentUser=e,c.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Qt("SharedClientState","READ",e,n),n}setItem(e,n){Qt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const c=e;if(c.storageArea===this.storage){if(Qt("SharedClientState","EVENT",c.key,c.newValue),c.key===this.ys)return void $i("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,h.Z)(function*(){if(n.started){if(null!==c.key)if(n.Ss.test(c.key)){if(null==c.newValue){const f=n.Ks(c.key);return n.$s(f,null)}{const f=n.Us(c.key,c.newValue);if(f)return n.$s(f.clientId,f)}}else if(n.bs.test(c.key)){if(null!==c.newValue){const f=n.Ws(c.key,c.newValue);if(f)return n.Gs(f)}}else if(n.Ds.test(c.key)){if(null!==c.newValue){const f=n.zs(c.key,c.newValue);if(f)return n.js(f)}}else if(c.key===n.Cs){if(null!==c.newValue){const f=n.Ms(c.newValue);if(f)return n.xs(f)}}else if(c.key===n.ws){const f=function(v){let P=Ot._e;if(null!=v)try{const L=JSON.parse(v);On("number"==typeof L),P=L}catch(L){$i("SharedClientState","Failed to read sequence number from WebStorage",L)}return P}(c.newValue);f!==Ot._e&&n.sequenceNumberHandler(f)}else if(c.key===n.vs){const f=n.Hs(c.newValue);yield Promise.all(f.map(m=>n.syncEngine.Js(m)))}}else n.ps.push(c)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,c){const f=new yh(this.currentUser,e,n,c),m=p_(this.persistenceKey,this.currentUser,e);this.setItem(m,f.Es())}Bs(e){const n=p_(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,c){const f=fm(this.persistenceKey,e),m=new pm(e,n,c);this.setItem(f,m.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const c=this.Ks(e);return mm.Ts(c,n)}Ws(e,n){const c=this.bs.exec(e),f=Number(c[1]);return yh.Ts(new jn(void 0!==c[2]?c[2]:null),f,n)}zs(e,n){const c=this.Ds.exec(e),f=Number(c[1]);return pm.Ts(f,n)}Ms(e){return Wf.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,h.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);Qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const c=n?this.gs.insert(e,n):this.gs.remove(e),f=this.Os(this.gs),m=this.Os(c),v=[],P=[];return m.forEach(L=>{f.has(L)||v.push(L)}),f.forEach(L=>{m.has(L)||P.push(L)}),this.syncEngine.Xs(v,P).then(()=>{this.gs=c})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Ht();return e.forEach((c,f)=>{n=n.unionWith(f.activeTargetIds)}),n}}class Yb{constructor(){this.eo=new m_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,c){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,c){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new m_,Promise.resolve()}handleUserChange(e,n,c){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _m{ro(e){}shutdown(){}}class cv{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vh=null;function Gf(){return null===vh?vh=268435456+Math.round(2147483648*Math.random()):vh++,"0x"+vh.toString(16)}const bh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ym{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const qo="WebChannelConnection";class Kf extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const c=n.ssl?"https":"http",f=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.mo=c+"://"+n.host,this.fo=`projects/${f}/databases/${m}`,this.po="(default)"===this.databaseId.database?`project_id=${f}`:`project_id=${f}&database_id=${m}`}get yo(){return!1}wo(n,c,f,m,v){const P=Gf(),L=this.So(n,c);Qt("RestConnection",`Sending RPC '${n}' ${P}:`,L,f);const K={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(K,m,v),this.Do(n,L,K,f).then(ae=>(Qt("RestConnection",`Received RPC '${n}' ${P}: `,ae),ae),ae=>{throw cr("RestConnection",`RPC '${n}' ${P} failed with error: `,ae,"url: ",L,"request:",f),ae})}Co(n,c,f,m,v,P){return this.wo(n,c,f,m,v)}bo(n,c,f){n["X-Goog-Api-Client"]="gl-js/ fire/"+Zi,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),c&&c.headers.forEach((m,v)=>n[v]=m),f&&f.headers.forEach((m,v)=>n[v]=m)}So(n,c){return`${this.mo}/v1/${c}:${bh[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,c,f){const m=Gf();return new Promise((v,P)=>{const L=new Wn;L.setWithCredentials(!0),L.listenOnce(j.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case oe.NO_ERROR:const ae=L.getResponseJson();Qt(qo,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(ae)),v(ae);break;case oe.TIMEOUT:Qt(qo,`RPC '${e}' ${m} timed out`),P(new hn(zt.DEADLINE_EXCEEDED,"Request time out"));break;case oe.HTTP_ERROR:const Pe=L.getStatus();if(Qt(qo,`RPC '${e}' ${m} failed with status:`,Pe,"response text:",L.getResponseText()),Pe>0){let mt=L.getResponseJson();Array.isArray(mt)&&(mt=mt[0]);const Lt=mt?.error;if(Lt&&Lt.status&&Lt.message){const yn=function(Dn){const si=Dn.toLowerCase().replace(/_/g,"-");return Object.values(zt).indexOf(si)>=0?si:zt.UNKNOWN}(Lt.status);P(new hn(yn,Lt.message))}else P(new hn(zt.UNKNOWN,"Server responded with status "+L.getStatus()))}else P(new hn(zt.UNAVAILABLE,"Connection failed."));break;default:En()}}finally{Qt(qo,`RPC '${e}' ${m} completed.`)}});const K=JSON.stringify(f);Qt(qo,`RPC '${e}' ${m} sending request:`,f),L.send(n,"POST",K,c,15)})}vo(e,n,c){const f=Gf(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=zc(),P=R(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(L.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(L.xmlHttpFactory=new Vt({})),this.bo(L.initMessageHeaders,n,c),L.encodeInitMessageHeaders=!0;const ae=m.join("");Qt(qo,`Creating RPC '${e}' stream ${f}: ${ae}`,L);const Pe=v.createWebChannel(ae,L);let mt=!1,Lt=!1;const yn=new ym({co:Dn=>{Lt?Qt(qo,`Not sending because RPC '${e}' stream ${f} is closed:`,Dn):(mt||(Qt(qo,`Opening RPC '${e}' stream ${f} transport.`),Pe.open(),mt=!0),Qt(qo,`RPC '${e}' stream ${f} sending:`,Dn),Pe.send(Dn))},lo:()=>Pe.close()}),xn=(Dn,si,pi)=>{Dn.listen(si,fi=>{try{pi(fi)}catch(ri){setTimeout(()=>{throw ri},0)}})};return xn(Pe,nn.EventType.OPEN,()=>{Lt||Qt(qo,`RPC '${e}' stream ${f} transport opened.`)}),xn(Pe,nn.EventType.CLOSE,()=>{Lt||(Lt=!0,Qt(qo,`RPC '${e}' stream ${f} transport closed`),yn.Ro())}),xn(Pe,nn.EventType.ERROR,Dn=>{Lt||(Lt=!0,cr(qo,`RPC '${e}' stream ${f} transport errored:`,Dn),yn.Ro(new hn(zt.UNAVAILABLE,"The operation could not be completed")))}),xn(Pe,nn.EventType.MESSAGE,Dn=>{var si;if(!Lt){const pi=Dn.data[0];On(!!pi);const ri=pi.error||(null===(si=pi[0])||void 0===si?void 0:si.error);if(ri){Qt(qo,`RPC '${e}' stream ${f} received error:`,ri);const yr=ri.status;let hr=function(C0){const sy=Lo[C0];if(void 0!==sy)return kb(sy)}(yr),Jo=ri.message;void 0===hr&&(hr=zt.INTERNAL,Jo="Unknown error status: "+yr+" with message "+ri.message),Lt=!0,yn.Ro(new hn(hr,Jo)),Pe.close()}else Qt(qo,`RPC '${e}' stream ${f} received:`,pi),yn.Vo(pi)}}),xn(P,ee.STAT_EVENT,Dn=>{Dn.stat===Ge.PROXY?Qt(qo,`RPC '${e}' stream ${f} detected buffering proxy`):Dn.stat===Ge.NOPROXY&&Qt(qo,`RPC '${e}' stream ${f} detected no buffering proxy`)}),setTimeout(()=>{yn.Ao()},0),yn}}function md(){return typeof window<"u"?window:null}function jl(){return typeof document<"u"?document:null}function Hl(r){return new EE(r,!0)}class Eh{constructor(e,n,c=1e3,f=1.5,m=6e4){this.si=e,this.timerId=n,this.Fo=c,this.Mo=f,this.xo=m,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),c=Math.max(0,Date.now()-this.Bo),f=Math.max(0,n-c);f>0&&Qt("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${c} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,f,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class gd{constructor(e,n,c,f,m,v,P,L){this.si=e,this.Ko=c,this.$o=f,this.connection=m,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=P,this.listener=L,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Eh(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,h.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,h.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var c=this;return(0,h.Z)(function*(){c.t_(),c.n_(),c.zo.cancel(),c.Uo++,4!==e?c.zo.reset():n&&n.code===zt.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),c.zo.Lo()):n&&n.code===zt.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.r_(),c.stream.close(),c.stream=null),c.state=e,yield c.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,f])=>{this.Uo===n&&this.s_(c,f)},c=>{e(()=>{const f=new hn(zt.UNKNOWN,"Fetching auth token failed: "+c.message);return this.o_(f)})})}s_(e,n){const c=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{c(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(f=>{c(()=>this.o_(f))}),this.stream.onMessage(f=>{c(()=>this.onMessage(f))})}Jo(){var e=this;this.state=5,this.zo.ko((0,h.Z)(function*(){e.state=0,e.start()}))}o_(e){return Qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DE extends gd{constructor(e,n,c,f,m,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,c,f,v),this.serializer=m}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function IE(r,e){let n;if("targetChange"in e){const c="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:En(),f=e.targetChange.targetIds||[],m=function(K,ae){return K.useProto3Json?(On(void 0===ae||"string"==typeof ae),Sr.fromBase64String(ae||"")):(On(void 0===ae||ae instanceof Uint8Array),Sr.fromUint8Array(ae||new Uint8Array))}(r,e.targetChange.resumeToken),v=e.targetChange.cause,P=v&&function(K){const ae=void 0===K.code?zt.UNKNOWN:kb(K.code);return new hn(ae,K.message||"")}(v);n=new Ob(c,f,m,P||null)}else if("documentChange"in e){const c=e.documentChange,f=rl(r,c.document.name),m=bo(c.document.updateTime),v=c.document.createTime?bo(c.document.createTime):Kn.min(),P=new vo({mapValue:{fields:c.document.fields}}),L=Cr.newFoundDocument(f,m,v,P);n=new Vg(c.targetIds||[],c.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const c=e.documentDelete,f=rl(r,c.document),m=c.readTime?bo(c.readTime):Kn.min(),v=Cr.newNoDocument(f,m);n=new Vg([],c.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const c=e.documentRemove,f=rl(r,c.document);n=new Vg([],c.removedTargetIds||[],f,null)}else{if(!("filter"in e))return En();{const c=e.filter,{count:f=0,unchangedNames:m}=c,v=new yE(f,m);n=new Wy(c.targetId,v)}}var K;return n}(this.serializer,e),c=function(m){if(!("targetChange"in m))return Kn.min();const v=m.targetChange;return v.targetIds&&v.targetIds.length?Kn.min():v.readTime?bo(v.readTime):Kn.min()}(e);return this.listener.a_(n,c)}u_(e){const n={};n.database=Zp(this.serializer),n.addTarget=function(m,v){let P;const L=v.target;if(P=Vp(L)?{documents:Qi(m,L)}:{query:Qp(m,L)},P.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){P.resumeToken=Fb(m,v.resumeToken);const K=ah(m,v.expectedCount);null!==K&&(P.expectedCount=K)}else if(v.snapshotVersion.compareTo(Kn.min())>0){P.readTime=wf(m,v.snapshotVersion.toTimestamp());const K=ah(m,v.expectedCount);null!==K&&(P.expectedCount=K)}return P}(this.serializer,e);const c=function Ug(r,e){const n=function(f){switch(f){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return En()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);c&&(n.labels=c),this.e_(n)}c_(e){const n={};n.database=Zp(this.serializer),n.removeTarget=e,this.e_(n)}}class g_ extends gd{constructor(e,n,c,f,m,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,c,f,v),this.serializer=m,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(On(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Zy(r,e){return r&&r.length>0?(On(void 0!==e),r.map(n=>function(f,m){let v=bo(f.updateTime?f.updateTime:m);return v.isEqual(Kn.min())&&(v=bo(m)),new Pg(v,f.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),c=bo(e.commitTime);return this.listener.I_(c,n)}return On(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Zp(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(c=>If(this.serializer,c))};this.e_(n)}}class Yf extends class{}{constructor(e,n,c,f){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=c,this.serializer=f,this.d_=!1}A_(){if(this.d_)throw new hn(zt.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,c){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.wo(e,n,c,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new hn(zt.UNKNOWN,f.toString())})}Co(e,n,c,f){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,v])=>this.connection.Co(e,n,c,m,v,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new hn(zt.UNKNOWN,m.toString())})}terminate(){this.d_=!0}}class y_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?($i(n),this.f_=!1):Qt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class qb{constructor(e,n,c,f,m){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=c,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=m,this.F_.ro(P=>{c.enqueueAndForget((0,h.Z)(function*(){var L;gc(v)&&(Qt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,h.Z)(function*(ae){const Pe=fn(ae);Pe.C_.add(4),yield Du(Pe),Pe.M_.set("Unknown"),Pe.C_.delete(4),yield $l(Pe)}),function K(ae){return L.apply(this,arguments)})(v))}))}),this.M_=new y_(c,f)}}function $l(r){return bm.apply(this,arguments)}function bm(){return bm=(0,h.Z)(function*(r){if(gc(r))for(const e of r.v_)yield e(!0)}),bm.apply(this,arguments)}function Du(r){return v_.apply(this,arguments)}function v_(){return v_=(0,h.Z)(function*(r){for(const e of r.v_)yield e(!1)}),v_.apply(this,arguments)}function qf(r,e){const n=fn(r);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),wh(n)?Qf(n):_d(n).Ho()&&Tu(n,e))}function Zf(r,e){const n=fn(r),c=_d(n);n.D_.delete(e),c.Ho()&&Em(n,e),0===n.D_.size&&(c.Ho()?c.Zo():gc(n)&&n.M_.set("Unknown"))}function Tu(r,e){if(r.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kn.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_d(r).u_(e)}function Em(r,e){r.x_.Oe(e),_d(r).c_(e)}function Qf(r){r.x_=new vE({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>r.D_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),_d(r).start(),r.M_.g_()}function wh(r){return gc(r)&&!_d(r).jo()&&r.D_.size>0}function gc(r){return 0===fn(r).C_.size}function Ih(r){r.x_=void 0}function Zb(r){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,h.Z)(function*(r){r.D_.forEach((e,n)=>{Tu(r,e)})}),Ch.apply(this,arguments)}function Qb(r,e){return xh.apply(this,arguments)}function xh(){return xh=(0,h.Z)(function*(r,e){Ih(r),wh(r)?(r.M_.w_(e),Qf(r)):r.M_.set("Unknown")}),xh.apply(this,arguments)}function TE(r,e,n){return Va.apply(this,arguments)}function Va(){return Va=(0,h.Z)(function*(r,e,n){if(r.M_.set("Online"),e instanceof Ob&&2===e.state&&e.cause)try{yield(c=(0,h.Z)(function*(m,v){const P=v.cause;for(const L of v.targetIds)m.D_.has(L)&&(yield m.remoteSyncer.rejectListen(L,P),m.D_.delete(L),m.x_.removeTarget(L))}),function f(m,v){return c.apply(this,arguments)})(r,e)}catch(c){Qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),c),yield Wl(r,c)}else if(e instanceof Vg?r.x_.$e(e):e instanceof Wy?r.x_.Je(e):r.x_.Ge(e),!n.isEqual(Kn.min()))try{const c=yield fd(r.localStore);n.compareTo(c)>=0&&(yield function(m,v){const P=m.x_.it(v);return P.targetChanges.forEach((L,K)=>{if(L.resumeToken.approximateByteSize()>0){const ae=m.D_.get(K);ae&&m.D_.set(K,ae.withResumeToken(L.resumeToken,v))}}),P.targetMismatches.forEach((L,K)=>{const ae=m.D_.get(L);if(!ae)return;m.D_.set(L,ae.withResumeToken(Sr.EMPTY_BYTE_STRING,ae.snapshotVersion)),Em(m,L);const Pe=new Fa(ae.target,L,K,ae.sequenceNumber);Tu(m,Pe)}),m.remoteSyncer.applyRemoteEvent(P)}(r,n))}catch(c){Qt("RemoteStore","Failed to raise snapshot:",c),yield Wl(r,c)}var c}),Va.apply(this,arguments)}function Wl(r,e,n){return wm.apply(this,arguments)}function wm(){return wm=(0,h.Z)(function*(r,e,n){if(!S(e))throw e;r.C_.add(1),yield Du(r),r.M_.set("Offline"),n||(n=()=>fd(r.localStore)),r.asyncQueue.enqueueRetryable((0,h.Z)(function*(){Qt("RemoteStore","Retrying IndexedDB access"),yield n(),r.C_.delete(1),yield $l(r)}))}),wm.apply(this,arguments)}function al(r,e){return e().catch(n=>Wl(r,n,e))}function _c(r){return Im.apply(this,arguments)}function Im(){return Im=(0,h.Z)(function*(r){const e=fn(r),n=Dh(e);let c=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;yc(e);)try{const f=yield dm(e.localStore,c);if(null===f){0===e.b_.length&&n.Zo();break}c=f.batchId,b_(e,f)}catch(f){yield Wl(e,f)}Xb(e)&&lv(e)}),Im.apply(this,arguments)}function yc(r){return gc(r)&&r.b_.length<10}function b_(r,e){r.b_.push(e);const n=Dh(r);n.Ho()&&n.h_&&n.P_(e.mutations)}function Xb(r){return gc(r)&&!Dh(r).jo()&&r.b_.length>0}function lv(r){Dh(r).start()}function uv(r){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,h.Z)(function*(r){Dh(r).E_()}),Cm.apply(this,arguments)}function E_(r){return dv.apply(this,arguments)}function dv(){return dv=(0,h.Z)(function*(r){const e=Dh(r);for(const n of r.b_)e.P_(n.mutations)}),dv.apply(this,arguments)}function Xf(r,e,n){return w_.apply(this,arguments)}function w_(){return w_=(0,h.Z)(function*(r,e,n){const c=r.b_.shift(),f=Uy.from(c,e,n);yield al(r,()=>r.remoteSyncer.applySuccessfulWrite(f)),yield _c(r)}),w_.apply(this,arguments)}function AE(r,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,h.Z)(function*(r,e){var n;e&&Dh(r).h_&&(yield(n=(0,h.Z)(function*(f,m){if(jy(P=m.code)&&P!==zt.ABORTED){const v=f.b_.shift();Dh(f).Yo(),yield al(f,()=>f.remoteSyncer.rejectFailedWrite(v.batchId,m)),yield _c(f)}var P}),function c(f,m){return n.apply(this,arguments)})(r,e)),Xb(r)&&lv(r)}),Jf.apply(this,arguments)}function I_(r,e){return hv.apply(this,arguments)}function hv(){return hv=(0,h.Z)(function*(r,e){const n=fn(r);n.asyncQueue.verifyOperationInProgress(),Qt("RemoteStore","RemoteStore received new credentials");const c=gc(n);n.C_.add(3),yield Du(n),c&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield $l(n)}),hv.apply(this,arguments)}function C_(r,e){return fv.apply(this,arguments)}function fv(){return fv=(0,h.Z)(function*(r,e){const n=fn(r);e?(n.C_.delete(2),yield $l(n)):e||(n.C_.add(2),yield Du(n),n.M_.set("Unknown"))}),fv.apply(this,arguments)}function _d(r){return r.O_||(r.O_=function(n,c,f){const m=fn(n);return m.A_(),new DE(c,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,f)}(r.datastore,r.asyncQueue,{ho:Zb.bind(null,r),Io:Qb.bind(null,r),a_:TE.bind(null,r)}),r.v_.push(function(){var e=(0,h.Z)(function*(n){n?(r.O_.Yo(),wh(r)?Qf(r):r.M_.set("Unknown")):(yield r.O_.stop(),Ih(r))});return function(n){return e.apply(this,arguments)}}())),r.O_}function Dh(r){return r.N_||(r.N_=function(n,c,f){const m=fn(n);return m.A_(),new g_(c,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,f)}(r.datastore,r.asyncQueue,{ho:uv.bind(null,r),Io:AE.bind(null,r),T_:E_.bind(null,r),I_:Xf.bind(null,r)}),r.v_.push(function(){var e=(0,h.Z)(function*(n){n?(r.N_.Yo(),yield _c(r)):(yield r.N_.stop(),r.b_.length>0&&(Qt("RemoteStore",`Stopping write stream with ${r.b_.length} pending writes`),r.b_=[]))});return function(n){return e.apply(this,arguments)}}())),r.N_}class ep{constructor(e,n,c,f,m){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=c,this.op=f,this.removalCallback=m,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,c,f,m){const v=Date.now()+c,P=new ep(e,n,v,f,m);return P.start(c),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hn(zt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Au(r,e){if($i("AsyncQueue",`${e}: ${r}`),S(r))return new hn(zt.UNAVAILABLE,`${e}: ${r}`);throw r}class ws{constructor(e){this.comparator=e?(n,c)=>e(n,c)||Sn.comparator(n.key,c.key):(n,c)=>Sn.comparator(n.key,c.key),this.keyedMap=oh(),this.sortedSet=new ur(this.comparator)}static emptySet(e){return new ws(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,c)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ws)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),c=e.sortedSet.getIterator();for(;n.hasNext();){const f=n.getNext().key,m=c.getNext().key;if(!f.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const c=new ws;return c.comparator=this.comparator,c.keyedMap=e,c.sortedSet=n,c}}class yd{constructor(){this.B_=new ur(Sn.comparator)}track(e){const n=e.doc.key,c=this.B_.get(n);c?0!==e.type&&3===c.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==c.type?this.B_=this.B_.insert(n,{type:c.type,doc:e.doc}):2===e.type&&2===c.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===c.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===c.type?this.B_=this.B_.remove(n):1===e.type&&2===c.type?this.B_=this.B_.insert(n,{type:1,doc:c.doc}):0===e.type&&1===c.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):En():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,c)=>{e.push(c)}),e}}class Th{constructor(e,n,c,f,m,v,P,L,K){this.query=e,this.docs=n,this.oldDocs=c,this.docChanges=f,this.mutatedKeys=m,this.fromCache=v,this.syncStateChanged=P,this.excludesMetadataChanges=L,this.hasCachedResults=K}static fromInitialDocuments(e,n,c,f,m){const v=[];return n.forEach(P=>{v.push({type:0,doc:P})}),new Th(e,n,ws.emptySet(n),v,c,f,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,c=e.docChanges;if(n.length!==c.length)return!1;for(let f=0;f<n.length;f++)if(n[f].type!==c[f].type||!n[f].doc.isEqual(c[f].doc))return!1;return!0}}class x_{constructor(){this.k_=void 0,this.listeners=[]}}class vd{constructor(){this.queries=new cc(e=>ed(e),Jc),this.onlineState="Unknown",this.q_=new Set}}function bd(r,e){return xm.apply(this,arguments)}function xm(){return xm=(0,h.Z)(function*(r,e){const n=fn(r),c=e.query;let f=!1,m=n.queries.get(c);if(m||(f=!0,m=new x_),f)try{m.k_=yield n.onListen(c)}catch(v){const P=Au(v,`Initialization of query '${el(e.query)}' failed`);return void e.onError(P)}n.queries.set(c,m),m.listeners.push(e),e.Q_(n.onlineState),m.k_&&e.K_(m.k_)&&D_(n)}),xm.apply(this,arguments)}function tp(r,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,h.Z)(function*(r,e){const n=fn(r),c=e.query;let f=!1;const m=n.queries.get(c);if(m){const v=m.listeners.indexOf(e);v>=0&&(m.listeners.splice(v,1),f=0===m.listeners.length)}if(f)return n.queries.delete(c),n.onUnlisten(c)}),Dm.apply(this,arguments)}function pv(r,e){const n=fn(r);let c=!1;for(const f of e){const v=n.queries.get(f.query);if(v){for(const P of v.listeners)P.K_(f)&&(c=!0);v.k_=f}}c&&D_(n)}function Gl(r,e,n){const c=fn(r),f=c.queries.get(e);if(f)for(const m of f.listeners)m.onError(n);c.queries.delete(e)}function D_(r){r.q_.forEach(e=>{e.next()})}class T_{constructor(e,n,c){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=c||{}}K_(e){if(!this.options.includeMetadataChanges){const c=[];for(const f of e.docChanges)3!==f.type&&c.push(f);e=new Th(e.query,e.docs,e.oldDocs,c,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Qw{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class Zo{constructor(e){this.serializer=e}hs(e){return rl(this.serializer,e)}Ps(e){return e.metadata.exists?Ub(this.serializer,e.document,!1):Cr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return bo(e)}}class SE{constructor(e,n,c){this.X_=e,this.localStore=n,this.serializer=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=A_(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const c=Pi.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,c=new Zo(this.serializer);for(const f of e)if(f.metadata.queries){const m=c.hs(f.metadata.name);for(const v of f.metadata.queries){const P=(n.get(v)||ce()).add(m);n.set(v,P)}}return n}complete(){var e=this;return(0,h.Z)(function*(){const n=yield function h_(r,e,n,c){return Mo.apply(this,arguments)}(e.localStore,new Zo(e.serializer),e.documents,e.X_.id),c=e.ta(e.documents);for(const f of e.queries)yield Kb(e.localStore,f,c.get(f.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function A_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Jb{constructor(e){this.key=e}}class mv{constructor(e){this.key=e}}class S_{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ce(),this.mutatedKeys=ce(),this._a=rh(e),this.aa=new ws(this._a)}get ua(){return this.ia}ca(e,n){const c=n?n.la:new yd,f=n?n.aa:this.aa;let m=n?n.mutatedKeys:this.mutatedKeys,v=f,P=!1;const L="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,K="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((ae,Pe)=>{const mt=f.get(ae),Lt=tl(this.query,Pe)?Pe:null,yn=!!mt&&this.mutatedKeys.has(mt.key),xn=!!Lt&&(Lt.hasLocalMutations||this.mutatedKeys.has(Lt.key)&&Lt.hasCommittedMutations);let Dn=!1;mt&&Lt?mt.data.isEqual(Lt.data)?yn!==xn&&(c.track({type:3,doc:Lt}),Dn=!0):this.ha(mt,Lt)||(c.track({type:2,doc:Lt}),Dn=!0,(L&&this._a(Lt,L)>0||K&&this._a(Lt,K)<0)&&(P=!0)):!mt&&Lt?(c.track({type:0,doc:Lt}),Dn=!0):mt&&!Lt&&(c.track({type:1,doc:mt}),Dn=!0,(L||K)&&(P=!0)),Dn&&(Lt?(v=v.add(Lt),m=xn?m.add(ae):m.delete(ae)):(v=v.delete(ae),m=m.delete(ae)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ae="F"===this.query.limitType?v.last():v.first();v=v.delete(ae.key),m=m.delete(ae.key),c.track({type:1,doc:ae})}return{aa:v,la:c,Zi:P,mutatedKeys:m}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,c){const f=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const m=e.la.L_();m.sort((K,ae)=>function(mt,Lt){const yn=xn=>{switch(xn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return En()}};return yn(mt)-yn(Lt)}(K.type,ae.type)||this._a(K.doc,ae.doc)),this.Pa(c);const v=n?this.Ia():[],P=0===this.oa.size&&this.current?1:0,L=P!==this.sa;return this.sa=P,0!==m.length||L?{snapshot:new Th(this.query,e.aa,f,m,e.mutatedKeys,0===P,L,!1,!!c&&c.resumeToken.approximateByteSize()>0),Ta:v}:{Ta:v}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new yd,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ce(),this.aa.forEach(c=>{this.Ea(c.key)&&(this.oa=this.oa.add(c.key))});const n=[];return e.forEach(c=>{this.oa.has(c)||n.push(new mv(c))}),this.oa.forEach(c=>{e.has(c)||n.push(new Jb(c))}),n}da(e){this.ia=e.ls,this.oa=ce();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Th.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class M_{constructor(e,n,c){this.query=e,this.targetId=n,this.view=c}}class gv{constructor(e){this.key=e,this.Ra=!1}}class e0{constructor(e,n,c,f,m,v){this.localStore=e,this.remoteStore=n,this.eventManager=c,this.sharedClientState=f,this.currentUser=m,this.maxConcurrentLimboResolutions=v,this.Va={},this.ma=new cc(P=>ed(P),Jc),this.fa=new Map,this.ga=new Set,this.pa=new ur(Sn.comparator),this.ya=new Map,this.wa=new Vf,this.Sa={},this.ba=new Map,this.Da=Eu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function _v(r,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,h.Z)(function*(r,e){const n=Ro(r);let c,f;const m=n.ma.get(e);if(m)c=m.targetId,n.sharedClientState.addLocalQueryTarget(c),f=m.view.Aa();else{const v=yield Vs(n.localStore,bs(e)),P=n.sharedClientState.addLocalQueryTarget(v.targetId);c=v.targetId,f=yield R_(n,e,c,"current"===P,v.resumeToken),n.isPrimaryClient&&qf(n.remoteStore,v)}return f}),Tm.apply(this,arguments)}function R_(r,e,n,c,f){return Am.apply(this,arguments)}function Am(){return Am=(0,h.Z)(function*(r,e,n,c,f){r.va=(Pe,mt,Lt)=>{return(yn=(0,h.Z)(function*(Dn,si,pi,fi){let ri=si.view.ca(pi);ri.Zi&&(ri=yield hm(Dn.localStore,si.query,!1).then(({documents:Jo})=>si.view.ca(Jo,ri)));const yr=fi&&fi.targetChanges.get(si.targetId),hr=si.view.applyChanges(ri,Dn.isPrimaryClient,yr);return bv(Dn,si.targetId,hr.Ta),hr.snapshot}),function xn(Dn,si,pi,fi){return yn.apply(this,arguments)})(r,Pe,mt,Lt);var yn};const m=yield hm(r.localStore,e,!0),v=new S_(e,m.ls),P=v.ca(m.documents),L=Ef.createSynthesizedTargetChangeForCurrentChange(n,c&&"Offline"!==r.onlineState,f),K=v.applyChanges(P,r.isPrimaryClient,L);bv(r,n,K.Ta);const ae=new M_(e,n,v);return r.ma.set(e,ae),r.fa.has(n)?r.fa.get(n).push(e):r.fa.set(n,[e]),K.snapshot}),Am.apply(this,arguments)}function t0(r,e){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,h.Z)(function*(r,e){const n=fn(r),c=n.ma.get(e),f=n.fa.get(c.targetId);if(f.length>1)return n.fa.set(c.targetId,f.filter(m=>!Jc(m,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(c.targetId),n.sharedClientState.isActiveQueryTarget(c.targetId)||(yield mc(n.localStore,c.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(c.targetId),Zf(n.remoteStore,c.targetId),Mh(n,c.targetId)}).catch(mo))):(Mh(n,c.targetId),yield mc(n.localStore,c.targetId,!0))}),Ah.apply(this,arguments)}function vc(){return vc=(0,h.Z)(function*(r,e,n){const c=ap(r);try{const f=yield function(v,P){const L=fn(v),K=Nn.now(),ae=P.reduce((Lt,yn)=>Lt.add(yn.key),ce());let Pe,mt;return L.persistence.runTransaction("Locally write mutations","readwrite",Lt=>{let yn=Go(),xn=ce();return L.ss.getEntries(Lt,ae).next(Dn=>{yn=Dn,yn.forEach((si,pi)=>{pi.isValidDocument()||(xn=xn.add(si))})}).next(()=>L.localDocuments.getOverlayedDocuments(Lt,yn)).next(Dn=>{Pe=Dn;const si=[];for(const pi of P){const fi=Pb(pi,Pe.get(pi.key).overlayedDocument);null!=fi&&si.push(new Nl(pi.key,fi,hf(fi.value.mapValue),Yr.exists(!0)))}return L.mutationQueue.addMutationBatch(Lt,K,si,P)}).next(Dn=>{mt=Dn;const si=Dn.applyToLocalDocumentSet(Pe,xn);return L.documentOverlayCache.saveOverlays(Lt,Dn.batchId,si)})}).then(()=>({batchId:mt.batchId,changes:Mg(Pe)}))}(c.localStore,e);c.sharedClientState.addPendingMutation(f.batchId),function(v,P,L){let K=v.Sa[v.currentUser.toKey()];K||(K=new ur(li)),K=K.insert(P,L),v.Sa[v.currentUser.toKey()]=K}(c,f.batchId,n),yield Su(c,f.changes),yield _c(c.remoteStore)}catch(f){const m=Au(f,"Failed to persist write");n.reject(m)}}),vc.apply(this,arguments)}function bc(r,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,h.Z)(function*(r,e){const n=fn(r);try{const c=yield function sv(r,e){const n=fn(r),c=e.snapshotVersion;let f=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const v=n.ss.newChangeBuffer({trackRemovals:!0});f=n.ts;const P=[];e.targetChanges.forEach((ae,Pe)=>{const mt=f.get(Pe);if(!mt)return;P.push(n.qr.removeMatchingKeys(m,ae.removedDocuments,Pe).next(()=>n.qr.addMatchingKeys(m,ae.addedDocuments,Pe)));let Lt=mt.withSequenceNumber(m.currentSequenceNumber);var xn,Dn,si;null!==e.targetMismatches.get(Pe)?Lt=Lt.withResumeToken(Sr.EMPTY_BYTE_STRING,Kn.min()).withLastLimboFreeSnapshotVersion(Kn.min()):ae.resumeToken.approximateByteSize()>0&&(Lt=Lt.withResumeToken(ae.resumeToken,c)),f=f.insert(Pe,Lt),Dn=Lt,si=ae,(0===(xn=mt).resumeToken.approximateByteSize()||Dn.snapshotVersion.toMicroseconds()-xn.snapshotVersion.toMicroseconds()>=3e8||si.addedDocuments.size+si.modifiedDocuments.size+si.removedDocuments.size>0)&&P.push(n.qr.updateTargetData(m,Lt))});let L=Go(),K=ce();if(e.documentUpdates.forEach(ae=>{e.resolvedLimboDocuments.has(ae)&&P.push(n.persistence.referenceDelegate.updateLimboDocument(m,ae))}),P.push(um(m,v,e.documentUpdates).next(ae=>{L=ae.us,K=ae.cs})),!c.isEqual(Kn.min())){const ae=n.qr.getLastRemoteSnapshotVersion(m).next(Pe=>n.qr.setTargetsMetadata(m,m.currentSequenceNumber,c));P.push(ae)}return Rt.waitFor(P).next(()=>v.apply(m)).next(()=>n.localDocuments.getLocalViewOfDocuments(m,L,K)).next(()=>L)}).then(m=>(n.ts=f,m))}(n.localStore,e);e.targetChanges.forEach((f,m)=>{const v=n.ya.get(m);v&&(On(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?v.Ra=!0:f.modifiedDocuments.size>0?On(v.Ra):f.removedDocuments.size>0&&(On(v.Ra),v.Ra=!1))}),yield Su(n,c,e)}catch(c){yield mo(c)}}),Sm.apply(this,arguments)}function yv(r,e,n){const c=fn(r);if(c.isPrimaryClient&&0===n||!c.isPrimaryClient&&1===n){const f=[];c.ma.forEach((m,v)=>{const P=v.view.Q_(e);P.snapshot&&f.push(P.snapshot)}),function(v,P){const L=fn(v);L.onlineState=P;let K=!1;L.queries.forEach((ae,Pe)=>{for(const mt of Pe.listeners)mt.Q_(P)&&(K=!0)}),K&&D_(L)}(c.eventManager,e),f.length&&c.Va.a_(f),c.onlineState=e,c.isPrimaryClient&&c.sharedClientState.setOnlineState(e)}}function vv(r,e,n){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,h.Z)(function*(r,e,n){const c=fn(r);c.sharedClientState.updateQueryState(e,"rejected",n);const f=c.ya.get(e),m=f&&f.key;if(m){let v=new ur(Sn.comparator);v=v.insert(m,Cr.newNoDocument(m,Kn.min()));const P=ce().add(m),L=new bf(Kn.min(),new Map,new ur(li),v,P);yield bc(c,L),c.pa=c.pa.remove(m),c.ya.delete(e),Ev(c)}else yield mc(c.localStore,e,!1).then(()=>Mh(c,e,n)).catch(mo)}),Mm.apply(this,arguments)}function P_(r,e){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,h.Z)(function*(r,e){const n=fn(r),c=e.batch.batchId;try{const f=yield function u_(r,e){const n=fn(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const f=e.batch.keys(),m=n.ss.newChangeBuffer({trackRemovals:!0});return function(P,L,K,ae){const Pe=K.batch,mt=Pe.keys();let Lt=Rt.resolve();return mt.forEach(yn=>{Lt=Lt.next(()=>ae.getEntry(L,yn)).next(xn=>{const Dn=K.docVersions.get(yn);On(null!==Dn),xn.version.compareTo(Dn)<0&&(Pe.applyToRemoteDocument(xn,K),xn.isValidDocument()&&(xn.setReadTime(K.commitVersion),ae.addEntry(xn)))})}),Lt.next(()=>P.mutationQueue.removeMutationBatch(L,Pe))}(n,c,e,m).next(()=>m.apply(c)).next(()=>n.mutationQueue.performConsistencyCheck(c)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(c,f,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(P){let L=ce();for(let K=0;K<P.mutationResults.length;++K)P.mutationResults[K].transformResults.length>0&&(L=L.add(P.batch.mutations[K].key));return L}(e))).next(()=>n.localDocuments.getDocuments(c,f))})}(n.localStore,e);N_(n,c,null),O_(n,c),n.sharedClientState.updateMutationState(c,"acknowledged"),yield Su(n,f)}catch(f){yield mo(f)}}),Kl.apply(this,arguments)}function Rm(r,e,n){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,h.Z)(function*(r,e,n){const c=fn(r);try{const f=yield function(v,P){const L=fn(v);return L.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ae;return L.mutationQueue.lookupMutationBatch(K,P).next(Pe=>(On(null!==Pe),ae=Pe.keys(),L.mutationQueue.removeMutationBatch(K,Pe))).next(()=>L.mutationQueue.performConsistencyCheck(K)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(K,ae,P)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ae)).next(()=>L.localDocuments.getDocuments(K,ae))})}(c.localStore,e);N_(c,e,n),O_(c,e),c.sharedClientState.updateMutationState(e,"rejected",n),yield Su(c,f)}catch(f){yield mo(f)}}),Pm.apply(this,arguments)}function np(){return np=(0,h.Z)(function*(r,e){const n=fn(r);gc(n.remoteStore)||Qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(v){const P=fn(v);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>P.mutationQueue.getHighestUnacknowledgedBatchId(L))}(n.localStore);if(-1===c)return void e.resolve();const f=n.ba.get(c)||[];f.push(e),n.ba.set(c,f)}catch(c){const f=Au(c,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),np.apply(this,arguments)}function O_(r,e){(r.ba.get(e)||[]).forEach(n=>{n.resolve()}),r.ba.delete(e)}function N_(r,e,n){const c=fn(r);let f=c.Sa[c.currentUser.toKey()];if(f){const m=f.get(e);m&&(n?m.reject(n):m.resolve(),f=f.remove(e)),c.Sa[c.currentUser.toKey()]=f}}function Mh(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const c of r.fa.get(e))r.ma.delete(c),n&&r.Va.Fa(c,n);r.fa.delete(e),r.isPrimaryClient&&r.wa.Rr(e).forEach(c=>{r.wa.containsKey(c)||F_(r,c)})}function F_(r,e){r.ga.delete(e.path.canonicalString());const n=r.pa.get(e);null!==n&&(Zf(r.remoteStore,n),r.pa=r.pa.remove(e),r.ya.delete(n),Ev(r))}function bv(r,e,n){for(const c of n)c instanceof Jb?(r.wa.addReference(c.key,e),n0(r,c)):c instanceof mv?(Qt("SyncEngine","Document no longer in limbo: "+c.key),r.wa.removeReference(c.key,e),r.wa.containsKey(c.key)||F_(r,c.key)):En()}function n0(r,e){const n=e.key,c=n.path.canonicalString();r.pa.get(n)||r.ga.has(c)||(Qt("SyncEngine","New document in limbo: "+n),r.ga.add(c),Ev(r))}function Ev(r){for(;r.ga.size>0&&r.pa.size<r.maxConcurrentLimboResolutions;){const e=r.ga.values().next().value;r.ga.delete(e);const n=new Sn(Pi.fromString(e)),c=r.Da.next();r.ya.set(c,new gv(n)),r.pa=r.pa.insert(n,c),qf(r.remoteStore,new Fa(bs(nh(n.path)),c,"TargetPurposeLimboResolution",Ot._e))}}function Su(r,e,n){return ip.apply(this,arguments)}function ip(){return ip=(0,h.Z)(function*(r,e,n){const c=fn(r),f=[],m=[],v=[];var P;c.ma.isEmpty()||(c.ma.forEach((P,L)=>{v.push(c.va(L,e,n).then(K=>{if((K||n)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState(L.targetId,K?.fromCache?"not-current":"current"),K){f.push(K);const ae=Hf.Qi(L.targetId,K);m.push(ae)}}))}),yield Promise.all(v),c.Va.a_(f),yield(P=(0,h.Z)(function*(K,ae){const Pe=fn(K);try{yield Pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",mt=>Rt.forEach(ae,Lt=>Rt.forEach(Lt.ki,yn=>Pe.persistence.referenceDelegate.addReference(mt,Lt.targetId,yn)).next(()=>Rt.forEach(Lt.qi,yn=>Pe.persistence.referenceDelegate.removeReference(mt,Lt.targetId,yn)))))}catch(mt){if(!S(mt))throw mt;Qt("LocalStore","Failed to update sequence numbers: "+mt)}for(const mt of ae){const Lt=mt.targetId;if(!mt.fromCache){const yn=Pe.ts.get(Lt),Dn=yn.withLastLimboFreeSnapshotVersion(yn.snapshotVersion);Pe.ts=Pe.ts.insert(Lt,Dn)}}}),function L(K,ae){return P.apply(this,arguments)})(c.localStore,m))}),ip.apply(this,arguments)}function L_(r,e){return km.apply(this,arguments)}function km(){return km=(0,h.Z)(function*(r,e){const n=fn(r);if(!n.currentUser.isEqual(e)){Qt("SyncEngine","User change. New user:",e.toKey());const c=yield hd(n.localStore,e);n.currentUser=e,(m=n).ba.forEach(P=>{P.forEach(L=>{L.reject(new hn(zt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.ba.clear(),n.sharedClientState.handleUserChange(e,c.removedBatchIds,c.addedBatchIds),yield Su(n,c._s)}var m}),km.apply(this,arguments)}function rp(r,e){const n=fn(r),c=n.ya.get(e);if(c&&c.Ra)return ce().add(c.key);{let f=ce();const m=n.fa.get(e);if(!m)return f;for(const v of m){const P=n.ma.get(v);f=f.unionWith(P.view.ua)}return f}}function wv(r,e){return Om.apply(this,arguments)}function Om(){return Om=(0,h.Z)(function*(r,e){const n=fn(r),c=yield hm(n.localStore,e.query,!0),f=e.view.da(c);return n.isPrimaryClient&&bv(n,e.targetId,f.Ta),f}),Om.apply(this,arguments)}function Iv(r,e){return cl.apply(this,arguments)}function cl(){return cl=(0,h.Z)(function*(r,e){const n=fn(r);return d_(n.localStore,e).then(c=>Su(n,c))}),cl.apply(this,arguments)}function Nm(r,e,n,c){return hi.apply(this,arguments)}function hi(){return hi=(0,h.Z)(function*(r,e,n,c){const f=fn(r),m=yield function(P,L){const K=fn(P),ae=fn(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",Pe=>ae.Cn(Pe,L).next(mt=>mt?K.localDocuments.getDocuments(Pe,mt):Rt.resolve(null)))}(f.localStore,e);var L;null!==m?("pending"===n?yield _c(f.remoteStore):"acknowledged"===n||"rejected"===n?(N_(f,e,c||null),O_(f,e),L=e,fn(fn(f.localStore).mutationQueue).Fn(L)):En(),yield Su(f,m)):Qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),hi.apply(this,arguments)}function op(){return op=(0,h.Z)(function*(r,e){const n=fn(r);if(Ro(n),ap(n),!0===e&&!0!==n.Ca){const c=n.sharedClientState.getAllActiveQueryTargets(),f=yield Ec(n,c.toArray());n.Ca=!0,yield C_(n.remoteStore,!0);for(const m of f)qf(n.remoteStore,m)}else if(!1===e&&!1!==n.Ca){const c=[];let f=Promise.resolve();n.fa.forEach((m,v)=>{n.sharedClientState.isLocalQueryTarget(v)?c.push(v):f=f.then(()=>(Mh(n,v),mc(n.localStore,v,!0))),Zf(n.remoteStore,v)}),yield f,yield Ec(n,c),function(v){const P=fn(v);P.ya.forEach((L,K)=>{Zf(P.remoteStore,K)}),P.wa.Vr(),P.ya=new Map,P.pa=new ur(Sn.comparator)}(n),n.Ca=!1,yield C_(n.remoteStore,!1)}}),op.apply(this,arguments)}function Ec(r,e,n){return ll.apply(this,arguments)}function ll(){return ll=(0,h.Z)(function*(r,e,n){const c=fn(r),f=[],m=[];for(const v of e){let P;const L=c.fa.get(v);if(L&&0!==L.length){P=yield Vs(c.localStore,bs(L[0]));for(const K of L){const ae=c.ma.get(K),Pe=yield wv(c,ae);Pe.snapshot&&m.push(Pe.snapshot)}}else{const K=yield av(c.localStore,v);P=yield Vs(c.localStore,K),yield R_(c,B_(K),v,!1,P.resumeToken)}f.push(P)}return c.Va.a_(m),f}),ll.apply(this,arguments)}function B_(r){return Xc(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function sp(r){return n=fn(r).localStore,fn(fn(n).persistence).Bi();var n}function no(r,e,n,c){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,h.Z)(function*(r,e,n,c){const f=fn(r);if(f.Ca)return void Qt("SyncEngine","Ignoring unexpected query state notification.");const m=f.fa.get(e);if(m&&m.length>0)switch(n){case"current":case"not-current":{const v=yield d_(f.localStore,jp(m[0])),P=bf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Sr.EMPTY_BYTE_STRING);yield Su(f,v,P);break}case"rejected":yield mc(f.localStore,e,!0),Mh(f,e,c);break;default:En()}}),Yl.apply(this,arguments)}function Ed(r,e,n){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,h.Z)(function*(r,e,n){const c=Ro(r);if(c.Ca){for(const f of e){if(c.fa.has(f)){Qt("SyncEngine","Adding an already active target "+f);continue}const m=yield av(c.localStore,f),v=yield Vs(c.localStore,m);yield R_(c,B_(m),v.targetId,!1,v.resumeToken),qf(c.remoteStore,v)}for(const f of n)c.fa.has(f)&&(yield mc(c.localStore,f,!1).then(()=>{Zf(c.remoteStore,f),Mh(c,f)}).catch(mo))}}),Ia.apply(this,arguments)}function Ro(r){const e=fn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=bc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vv.bind(null,e),e.Va.a_=pv.bind(null,e.eventManager),e.Va.Fa=Gl.bind(null,e.eventManager),e}function ap(r){const e=fn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rm.bind(null,e),e}class Ph{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,h.Z)(function*(){n.serializer=Hl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $f(this.persistence,new lm,e.initialUser,this.serializer)}createPersistence(e){return new Iu(Uf.jr,this.serializer)}createSharedClientState(e){return new Yb}terminate(){var e=this;return(0,h.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wc extends Ph{constructor(e,n,c){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,c=this;return(0,h.Z)(function*(){yield n().call(c,e),yield c.xa.initialize(c,e),yield ap(c.xa.syncEngine),yield _c(c.xa.remoteStore),yield c.persistence.mi(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(),c.indexBackfillerScheduler&&!c.indexBackfillerScheduler.started&&c.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return $f(this.persistence,new lm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new t_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const c=new Ye(n,this.persistence);return new me(e.asyncQueue,c)}createPersistence(e){const n=cm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?Es.withCacheSize(this.cacheSizeBytes):Es.DEFAULT;return new am(this.synchronizeTabs,n,e.clientId,c,e.asyncQueue,md(),jl(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Yb}}class Mu extends wc{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,c=this;return(0,h.Z)(function*(){yield n().call(c,e);const f=c.xa.syncEngine;c.sharedClientState instanceof gm&&(c.sharedClientState.syncEngine={Ys:Nm.bind(null,f),Zs:no.bind(null,f),Xs:Ed.bind(null,f),Bi:sp.bind(null,f),Js:Iv.bind(null,f)},yield c.sharedClientState.start()),yield c.persistence.mi(function(){var m=(0,h.Z)(function*(v){yield function V_(r,e){return op.apply(this,arguments)}(c.xa.syncEngine,v),c.gcScheduler&&(v&&!c.gcScheduler.started?c.gcScheduler.start():v||c.gcScheduler.stop()),c.indexBackfillerScheduler&&(v&&!c.indexBackfillerScheduler.started?c.indexBackfillerScheduler.start():v||c.indexBackfillerScheduler.stop())});return function(v){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const n=md();if(!gm.D(n))throw new hn(zt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=cm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gm(n,e.asyncQueue,c,e.clientId,e.initialUser)}}class kh{initialize(e,n){var c=this;return(0,h.Z)(function*(){c.localStore||(c.localStore=e.localStore,c.sharedClientState=e.sharedClientState,c.datastore=c.createDatastore(n),c.remoteStore=c.createRemoteStore(n),c.eventManager=c.createEventManager(n),c.syncEngine=c.createSyncEngine(n,!e.synchronizeTabs),c.sharedClientState.onlineStateHandler=f=>yv(c.syncEngine,f,1),c.remoteStore.remoteSyncer.handleCredentialChange=L_.bind(null,c.syncEngine),yield C_(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vd}createDatastore(e){const n=Hl(e.databaseInfo.databaseId),c=new Kf(e.databaseInfo);return new Yf(e.authCredentials,e.appCheckCredentials,c,n)}createRemoteStore(e){return c=this.localStore,f=this.datastore,m=e.asyncQueue,v=n=>yv(this.syncEngine,n,0),P=cv.D()?new cv:new _m,new qb(c,f,m,v,P);var c,f,m,v,P}createSyncEngine(e,n){return function(f,m,v,P,L,K,ae){const Pe=new e0(f,m,v,P,L,K);return ae&&(Pe.Ca=!0),Pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,h.Z)(function*(c){const f=fn(c);Qt("RemoteStore","RemoteStore shutting down."),f.C_.add(5),yield Du(f),f.F_.shutdown(),f.M_.set("Unknown")}),function n(c){return e.apply(this,arguments)})(this.remoteStore);var e}}function wd(r,e=10240){let n=0;return{read:()=>(0,h.Z)(function*(){if(n<r.byteLength){const c={value:r.slice(n,n+e),done:!1};return n+=e,c}return{done:!0}})(),cancel:()=>(0,h.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Oh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Cv{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Ki,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(c=>{c&&c.Z_()?this.metadata.resolve(c.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(c?.Y_)}`))},c=>this.metadata.reject(c))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,h.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,h.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,h.Z)(function*(){const n=yield e.qa();if(null===n)return null;const c=e.La.decode(n),f=Number(c);isNaN(f)&&e.Qa(`length string (${c}) is not valid number`);const m=yield e.Ka(f);return new Qw(JSON.parse(m),n.length+f)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,h.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const c=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),c})()}Ka(e){var n=this;return(0,h.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const c=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),c})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,h.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const c=new Uint8Array(e.buffer.length+n.value.length);c.set(e.buffer),c.set(n.value,e.buffer.length),e.buffer=c}return n.done})()}}class Qo{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,h.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new hn(zt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(f=(0,h.Z)(function*(v,P){const L=fn(v),K=Zp(L.serializer)+"/documents",ae={documents:P.map(yn=>rd(L.serializer,yn))},Pe=yield L.Co("BatchGetDocuments",K,ae,P.length),mt=new Map;Pe.forEach(yn=>{const xn=function wE(r,e){return"found"in e?function(c,f){On(!!f.found);const m=rl(c,f.found.name),v=bo(f.found.updateTime),P=f.found.createTime?bo(f.found.createTime):Kn.min(),L=new vo({mapValue:{fields:f.found.fields}});return Cr.newFoundDocument(m,v,P,L)}(r,e):"missing"in e?function(c,f){On(!!f.missing),On(!!f.readTime);const m=rl(c,f.missing),v=bo(f.readTime);return Cr.newNoDocument(m,v)}(r,e):En()}(L.serializer,yn);mt.set(xn.key.toString(),xn)});const Lt=[];return P.forEach(yn=>{const xn=mt.get(yn.toString());On(!!xn),Lt.push(xn)}),Lt}),function m(v,P){return f.apply(this,arguments)})(n.datastore,e);var f;return c.forEach(f=>n.recordVersion(f)),c})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(e.toString())}delete(e){this.write(new _u(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,h.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var c;e.mutations.forEach(c=>{n.delete(c.key.toString())}),n.forEach((c,f)=>{const m=Sn.fromPath(f);e.mutations.push(new Vy(m,e.precondition(m)))}),yield(c=(0,h.Z)(function*(m,v){const P=fn(m),L=Zp(P.serializer)+"/documents",K={writes:v.map(ae=>If(P.serializer,ae))};yield P.wo("Commit",L,K)}),function f(m,v){return c.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw En();n=Kn.min()}const c=this.readVersions.get(e.key.toString());if(c){if(!n.isEqual(c))throw new hn(zt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Kn.min())?Yr.exists(!1):Yr.updateTime(n):Yr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Kn.min()))throw new hn(zt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yr.updateTime(n)}return Yr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xv{constructor(e,n,c,f,m){this.asyncQueue=e,this.datastore=n,this.options=c,this.updateFunction=f,this.deferred=m,this.Wa=c.maxAttempts,this.zo=new Eh(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,h.Z)(function*(){const n=new Qo(e.datastore),c=e.za(n);c&&c.then(f=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(f)}).catch(m=>{e.ja(m)}))}).catch(f=>{e.ja(f)})}))}za(e){try{const n=this.updateFunction(e);return!Ft(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!jy(n)}return!1}}class Dv{constructor(e,n,c,f){var m=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=c,this.databaseInfo=f,this.user=jn.UNAUTHENTICATED,this.clientId=Wu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var v=(0,h.Z)(function*(P){Qt("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(c,v=>(Qt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,h.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new hn(zt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(c){const f=Au(c,"Failed to shutdown persistence");n.reject(f)}})),n.promise}}function cp(r,e){return U_.apply(this,arguments)}function U_(){return U_=(0,h.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Qt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield e.initialize(n);let c=n.initialUser;r.setCredentialChangeListener(function(){var f=(0,h.Z)(function*(m){c.isEqual(m)||(yield hd(e.localStore,m),c=m)});return function(m){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),U_.apply(this,arguments)}function z_(r,e){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,h.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const n=yield Fm(r);Qt("FirestoreClient","Initializing OnlineComponentProvider");const c=yield r.getConfiguration();yield e.initialize(n,c),r.setCredentialChangeListener(f=>I_(e.remoteStore,f)),r.setAppCheckTokenChangeListener((f,m)=>I_(e.remoteStore,m)),r._onlineComponents=e}),Bs.apply(this,arguments)}function Tv(r){return"FirebaseError"===r.name?r.code===zt.FAILED_PRECONDITION||r.code===zt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Fm(r){return Id.apply(this,arguments)}function Id(){return Id=(0,h.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Qt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Tv(n))throw n;cr("Error using user provided cache. Falling back to memory cache: "+n),yield cp(r,new Ph)}}else Qt("FirestoreClient","Using default OfflineComponentProvider"),yield cp(r,new Ph);return r._offlineComponents}),Id.apply(this,arguments)}function Nh(r){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,h.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Qt("FirestoreClient","Using user provided OnlineComponentProvider"),yield z_(r,r._uninitializedComponentsProvider._online)):(Qt("FirestoreClient","Using default OnlineComponentProvider"),yield z_(r,new kh))),r._onlineComponents}),Ru.apply(this,arguments)}function Av(r){return Fm(r).then(e=>e.persistence)}function Fh(r){return Fm(r).then(e=>e.localStore)}function Lh(r){return Nh(r).then(e=>e.remoteStore)}function Cd(r){return Nh(r).then(e=>e.syncEngine)}function xd(r){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,h.Z)(function*(r){const e=yield Nh(r),n=e.eventManager;return n.onListen=_v.bind(null,e.syncEngine),n.onUnlisten=t0.bind(null,e.syncEngine),n}),Vh.apply(this,arguments)}function H_(r,e,n={}){const c=new Ki;return r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(m,v,P,L,K){const ae=new Oh({next:mt=>{v.enqueueAndForget(()=>tp(m,Pe));const Lt=mt.docs.has(P);!Lt&&mt.fromCache?K.reject(new hn(zt.UNAVAILABLE,"Failed to get document because the client is offline.")):Lt&&mt.fromCache&&L&&"server"===L.source?K.reject(new hn(zt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(mt)},error:mt=>K.reject(mt)}),Pe=new T_(nh(P.path),ae,{includeMetadataChanges:!0,J_:!0});return bd(m,Pe)}(yield xd(r),r.asyncQueue,e,n,c)})),c.promise}function Ba(r,e,n={}){const c=new Ki;return r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(m,v,P,L,K){const ae=new Oh({next:mt=>{v.enqueueAndForget(()=>tp(m,Pe)),mt.fromCache&&"server"===L.source?K.reject(new hn(zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(mt)},error:mt=>K.reject(mt)}),Pe=new T_(P,ae,{includeMetadataChanges:!0,J_:!0});return bd(m,Pe)}(yield xd(r),r.asyncQueue,e,n,c)})),c.promise}function Dd(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Bh=new Map;function Nv(r,e,n){if(!n)throw new hn(zt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function G_(r,e,n,c){if(!0===e&&!0===c)throw new hn(zt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Bm(r){if(!Sn.isDocumentKey(r))throw new hn(zt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function K_(r){if(Sn.isDocumentKey(r))throw new hn(zt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function lp(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(c=r).constructor?c.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var c;return"function"==typeof r?"a function":En()}function zi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new hn(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lp(r);throw new hn(zt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ic(r,e){if(e<=0)throw new hn(zt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Y_{constructor(e){var n,c;if(void 0===e.host){if(void 0!==e.ssl)throw new hn(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new hn(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Dd(null!==(c=e.experimentalLongPollingOptions)&&void 0!==c?c:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new hn(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new hn(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new hn(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,c,f){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=c,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new hn(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new hn(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),void 0!==e.credentials&&(this._authCredentials=function(c){if(!c)return new Kd;switch(c.type){case"firstParty":return new cu(c.sessionIndex||"0",c.iamToken||null,c.authTokenFactory||null);case"provider":return c.client;default:throw new hn(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const c=Bh.get(n);c&&(Qt("ComponentProvider","Removing Datastore"),Bh.delete(n),c.terminate())}(this),Promise.resolve()}}function Um(r,e,n,c={}){var f;const m=(r=zi(r,Uh))._getSettings(),v=`${e}:${n}`;if("firestore.googleapis.com"!==m.host&&m.host!==v&&cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},m),{host:v,ssl:!1})),c.mockUserToken){let P,L;if("string"==typeof c.mockUserToken)P=c.mockUserToken,L=jn.MOCK_USER;else{P=(0,ge.Sg)(c.mockUserToken,null===(f=r._app)||void 0===f?void 0:f.options.projectId);const K=c.mockUserToken.sub||c.mockUserToken.user_id;if(!K)throw new hn(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new jn(K)}r._authCredentials=new Xa(new Sp(P,L))}}class us{constructor(e,n,c){this.converter=n,this._query=c,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class io{constructor(e,n,c){this.converter=n,this._key=c,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new io(this.firestore,e,this._key)}}class dl extends us{constructor(e,n,c){super(e,n,nh(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new io(this.firestore,null,new Sn(e))}withConverter(e){return new dl(this.firestore,e,this._path)}}function zm(r,e,...n){if(r=(0,ge.m9)(r),Nv("collection","path",e),r instanceof Uh){const c=Pi.fromString(e,...n);return K_(c),new dl(r,null,c)}{if(!(r instanceof io||r instanceof dl))throw new hn(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=r._path.child(Pi.fromString(e,...n));return K_(c),new dl(r.firestore,null,c)}}function zh(r,e){if(r=zi(r,Uh),Nv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new hn(zt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new us(r,null,(c=e,new ea(Pi.emptyPath(),c)));var c}function jm(r,e,...n){if(r=(0,ge.m9)(r),1===arguments.length&&(e=Wu.newId()),Nv("doc","path",e),r instanceof Uh){const c=Pi.fromString(e,...n);return Bm(c),new io(r,null,new Sn(c))}{if(!(r instanceof io||r instanceof dl))throw new hn(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=r._path.child(Pi.fromString(e,...n));return Bm(c),new io(r.firestore,r instanceof dl?r.converter:null,new Sn(c))}}function Hm(r,e){return r=(0,ge.m9)(r),e=(0,ge.m9)(e),(r instanceof io||r instanceof dl)&&(e instanceof io||e instanceof dl)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Fv(r,e){return r=(0,ge.m9)(r),e=(0,ge.m9)(e),r instanceof us&&e instanceof us&&r.firestore===e.firestore&&Jc(r._query,e._query)&&r.converter===e.converter}class r0{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Eh(this,"async_queue_retry"),this.iu=()=>{const n=jl();n&&Qt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=jl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=jl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ki;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,h.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!S(n))throw n;Qt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(c=>{throw this.eu=c,this.tu=!1,$i("INTERNAL UNHANDLED ERROR: ",function(v){let P=v.message||"";return v.stack&&(P=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),P}(c)),c}).then(c=>(this.tu=!1,c))));return this.Ja=n,n}enqueueAfterDelay(e,n,c){this.su(),this.ru.indexOf(e)>-1&&(n=0);const f=ep.createAndSchedule(this,e,n,c,m=>this.au(m));return this.Xa.push(f),f}su(){this.eu&&En()}verifyOperationInProgress(){}uu(){var e=this;return(0,h.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,c)=>n.targetTimeMs-c.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Cc(r){return function(n,c){if("object"!=typeof n||null===n)return!1;const f=n;for(const m of["next","error","complete"])if(m in f&&"function"==typeof f[m])return!0;return!1}(r)}class $m{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ki,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,c){this._progressObserver={next:e,error:n,complete:c}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const o0=-1;class Vr extends Uh{constructor(e,n,c,f){super(e,n,c,f),this.type="firestore",this._queue=new r0,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lv(this),this._firestoreClient.terminate()}}function Td(r,e){const n="object"==typeof r?r:(0,k.getApp)(),c="string"==typeof r?r:e||"(default)",f=(0,k._getProvider)(n,"firestore").getImmediate({identifier:c});if(!f._initialized){const m=(0,ge.P0)("firestore");m&&Um(f,...m)}return f}function Mr(r){return r._firestoreClient||Lv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Lv(r){var e,n,c;const f=r._freezeSettings(),m=(L=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Ay(r._databaseId,L,r._persistenceKey,(ae=f).host,ae.ssl,ae.experimentalForceLongPolling,ae.experimentalAutoDetectLongPolling,Dd(ae.experimentalLongPollingOptions),ae.useFetchStreams));var L,ae;r._firestoreClient=new Dv(r._authCredentials,r._appCheckCredentials,r._queue,m),null!==(n=f.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(c=f.localCache)&&void 0!==c&&c._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:f.localCache.kind,_offline:f.localCache._offlineComponentProvider,_online:f.localCache._onlineComponentProvider})}function Vv(r,e){Z_(r=zi(r,Vr));const n=Mr(r);if(n._uninitializedComponentsProvider)throw new hn(zt.FAILED_PRECONDITION,"SDK cache is already specified.");cr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const c=r._freezeSettings(),f=new kh;return Uv(n,f,new wc(f,c.cacheSizeBytes,e?.forceOwnership))}function Bv(r){Z_(r=zi(r,Vr));const e=Mr(r);if(e._uninitializedComponentsProvider)throw new hn(zt.FAILED_PRECONDITION,"SDK cache is already specified.");cr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=r._freezeSettings(),c=new kh;return Uv(e,c,new Mu(c,n.cacheSizeBytes))}function Uv(r,e,n){const c=new Ki;return r.asyncQueue.enqueue((0,h.Z)(function*(){try{yield cp(r,n),yield z_(r,e),c.resolve()}catch(f){const m=f;if(!Tv(m))throw m;cr("Error enabling indexeddb cache. Falling back to memory cache: "+m),c.reject(m)}})).then(()=>c.promise)}function q_(r){if(r._initialized&&!r._terminated)throw new hn(zt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ki;return r._queue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{yield(n=(0,h.Z)(function*(f){if(!qs.D())return Promise.resolve();const m=f+"main";yield qs.delete(m)}),function c(f){return n.apply(this,arguments)})(cm(r._databaseId,r._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function jh(r){return function(n){const c=new Ki;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function k_(r,e){return np.apply(this,arguments)}(yield Cd(n),c)})),c.promise}(Mr(r=zi(r,Vr)))}function s0(r){return function Sv(r){return r.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield Av(r),n=yield Lh(r);return e.setNetworkEnabled(!0),function(f){const m=fn(f);return m.C_.delete(0),$l(m)}(n)}))}(Mr(r=zi(r,Vr)))}function zv(r){return function Mv(r){return r.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield Av(r),n=yield Lh(r);return e.setNetworkEnabled(!1),(c=(0,h.Z)(function*(m){const v=fn(m);v.C_.add(0),yield Du(v),v.M_.set("Offline")}),function f(m){return c.apply(this,arguments)})(n);var c}))}(Mr(r=zi(r,Vr)))}function jv(r,e){const n=Mr(r=zi(r,Vr)),c=new $m;return function W_(r,e,n,c){const f=function(v,P){let L;return L="string"==typeof v?ta().encode(v):v,ae=function(ae,Pe){if(ae instanceof Uint8Array)return wd(ae,void 0);if(ae instanceof ArrayBuffer)return wd(new Uint8Array(ae),void 0);if(ae instanceof ReadableStream)return ae.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Cv(ae,P);var ae}(n,Hl(e));r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){!function Rh(r,e,n){const c=fn(r);var f;(f=(0,h.Z)(function*(v,P,L){try{const K=yield P.getMetadata();if(yield function(yn,xn){const Dn=fn(yn),si=bo(xn.createTime);return Dn.persistence.runTransaction("hasNewerBundle","readonly",pi=>Dn.Kr.getBundleMetadata(pi,xn.id)).then(pi=>!!pi&&pi.createTime.compareTo(si)>=0)}(v.localStore,K))return yield P.close(),L._completeWith({taskState:"Success",documentsLoaded:(yn=K).totalDocuments,bytesLoaded:yn.totalBytes,totalDocuments:yn.totalDocuments,totalBytes:yn.totalBytes}),Promise.resolve(new Set);L._updateProgress(A_(K));const ae=new SE(K,v.localStore,P.serializer);let Pe=yield P.Ma();for(;Pe;){const Lt=yield ae.ea(Pe);Lt&&L._updateProgress(Lt),Pe=yield P.Ma()}const mt=yield ae.complete();return yield Su(v,mt.ra,void 0),yield function(yn,xn){const Dn=fn(yn);return Dn.persistence.runTransaction("Save bundle","readwrite",si=>Dn.Kr.saveBundleMetadata(si,xn))}(v.localStore,K),L._completeWith(mt.progress),Promise.resolve(mt.na)}catch(K){return cr("SyncEngine",`Loading bundle failed with ${K}`),L._failWith(K),Promise.resolve(new Set)}var yn}),function m(v,P,L){return f.apply(this,arguments)})(c,e,n).then(f=>{c.sharedClientState.notifyBundleLoaded(f)})}(yield Cd(r),f,c)}))}(n,r._databaseId,e,c),c}function Hv(r,e){return function Pv(r,e){return r.asyncQueue.enqueue((0,h.Z)(function*(){return function(c,f){const m=fn(c);return m.persistence.runTransaction("Get named query","readonly",v=>m.Kr.getNamedQuery(v,f))}(yield Fh(r),e)}))}(Mr(r=zi(r,Vr)),e).then(n=>n?new us(r,null,n.query):null)}function Z_(r){if(r._initialized||r._terminated)throw new hn(zt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hl(Sr.fromBase64String(e))}catch(n){throw new hn(zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hl(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new hn(zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ca{constructor(e){this._methodName=e}}class up{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new hn(zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new hn(zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return li(this._lat,e._lat)||li(this._long,e._long)}}const $v=/^__.*__$/;class dr{constructor(e,n,c){this.data=e,this.fieldMask=n,this.fieldTransforms=c}toMutation(e,n){return null!==this.fieldMask?new Nl(e,this.data,this.fieldMask,n,this.fieldTransforms):new il(e,this.data,n,this.fieldTransforms)}}class tr{constructor(e,n,c){this.data=e,this.fieldMask=n,this.fieldTransforms=c}toMutation(e,n){return new Nl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ni(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw En()}}class Dc{constructor(e,n,c,f,m,v){this.settings=e,this.databaseId=n,this.serializer=c,this.ignoreUndefinedProperties=f,void 0===m&&this.Pu(),this.fieldTransforms=m||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Dc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const c=null===(n=this.path)||void 0===n?void 0:n.child(e),f=this.Tu({path:c,du:!1});return f.Au(e),f}Ru(e){var n;const c=null===(n=this.path)||void 0===n?void 0:n.child(e),f=this.Tu({path:c,du:!1});return f.Pu(),f}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Md(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Ni(this.Iu)&&$v.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Rr{constructor(e,n,c){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=c||Hl(e)}pu(e,n,c,f=!1){return new Dc({Iu:e,methodName:n,gu:c,path:gr.emptyPath(),du:!1,fu:f},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fl(r){const e=r._freezeSettings(),n=Hl(r._databaseId);return new Rr(r._databaseId,!!e.ignoreUndefinedProperties,n)}function dp(r,e,n,c,f,m={}){const v=r.pu(m.merge||m.mergeFields?2:0,e,n,f);qr("Data must be an object, but it was:",v,c);const P=Tc(c,v);let L,K;if(m.merge)L=new Wo(v.fieldMask),K=v.fieldTransforms;else if(m.mergeFields){const ae=[];for(const Pe of m.mergeFields){const mt=xa(e,Pe,n);if(!v.contains(mt))throw new hn(zt.INVALID_ARGUMENT,`Field '${mt}' is specified in your field mask but missing from your input data.`);Rd(ae,mt)||ae.push(mt)}L=new Wo(ae),K=v.fieldTransforms.filter(Pe=>L.covers(Pe.field))}else L=null,K=v.fieldTransforms;return new dr(new vo(P),L,K)}class ql extends Ca{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ql}}function Wv(r,e,n){return new Dc({Iu:3,gu:e.settings.gu,methodName:r._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pr extends Ca{_toFieldTransform(e){return new sh(e.path,new Pl)}isEqual(e){return e instanceof Pr}}class Fi extends Ca{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Wv(this,e,!0),c=this.yu.map(m=>Ad(m,n)),f=new kl(c);return new sh(e.path,f)}isEqual(e){return this===e}}class na extends Ca{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Wv(this,e,!0),c=this.yu.map(m=>Ad(m,n)),f=new Ol(c);return new sh(e.path,f)}isEqual(e){return this===e}}class Gm extends Ca{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new nd(e.serializer,qn(e.serializer,this.wu));return new sh(e.path,n)}isEqual(e){return this===e}}function hp(r,e,n,c){const f=r.pu(1,e,n);qr("Data must be an object, but it was:",f,c);const m=[],v=vo.empty();ks(c,(L,K)=>{const ae=Us(e,L,n);K=(0,ge.m9)(K);const Pe=f.Ru(ae);if(K instanceof ql)m.push(ae);else{const mt=Ad(K,Pe);null!=mt&&(m.push(ae),v.set(ae,mt))}});const P=new Wo(m);return new tr(v,P,f.fieldTransforms)}function ia(r,e,n,c,f,m){const v=r.pu(1,e,n),P=[xa(e,c,n)],L=[f];if(m.length%2!=0)throw new hn(zt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let mt=0;mt<m.length;mt+=2)P.push(xa(e,m[mt])),L.push(m[mt+1]);const K=[],ae=vo.empty();for(let mt=P.length-1;mt>=0;--mt)if(!Rd(K,P[mt])){const Lt=P[mt];let yn=L[mt];yn=(0,ge.m9)(yn);const xn=v.Ru(Lt);if(yn instanceof ql)K.push(Lt);else{const Dn=Ad(yn,xn);null!=Dn&&(K.push(Lt),ae.set(Lt,Dn))}}const Pe=new Wo(K);return new tr(ae,Pe,v.fieldTransforms)}function Km(r,e,n,c=!1){return Ad(n,r.pu(c?4:3,e))}function Ad(r,e){if(Sd(r=(0,ge.m9)(r)))return qr("Unsupported field value:",e,r),Tc(r,e);if(r instanceof Ca)return function(c,f){if(!Ni(f.Iu))throw f.mu(`${c._methodName}() can only be used with update() and set()`);if(!f.path)throw f.mu(`${c._methodName}() is not currently supported inside arrays`);const m=c._toFieldTransform(f);m&&f.fieldTransforms.push(m)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(c,f){const m=[];let v=0;for(const P of c){let L=Ad(P,f.Vu(v));null==L&&(L={nullValue:"NULL_VALUE"}),m.push(L),v++}return{arrayValue:{values:m}}}(r,e)}return function(c,f){if(null===(c=(0,ge.m9)(c)))return{nullValue:"NULL_VALUE"};if("number"==typeof c)return qn(f.serializer,c);if("boolean"==typeof c)return{booleanValue:c};if("string"==typeof c)return{stringValue:c};if(c instanceof Date){const m=Nn.fromDate(c);return{timestampValue:wf(f.serializer,m)}}if(c instanceof Nn){const m=new Nn(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:wf(f.serializer,m)}}if(c instanceof up)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof hl)return{bytesValue:Fb(f.serializer,c._byteString)};if(c instanceof io){const m=f.databaseId,v=c.firestore._databaseId;if(!v.isEqual(m))throw f.mu(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:Bg(c.firestore._databaseId||f.databaseId,c._key.path)}}throw f.mu(`Unsupported field value: ${lp(c)}`)}(r,e)}function Tc(r,e){const n={};return Qs(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(r,(c,f)=>{const m=Ad(f,e.Eu(c));null!=m&&(n[c]=m)}),{mapValue:{fields:n}}}function Sd(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Nn||r instanceof up||r instanceof hl||r instanceof io||r instanceof Ca)}function qr(r,e,n){if(!Sd(n)||"object"!=typeof(f=n)||null===f||Object.getPrototypeOf(f)!==Object.prototype&&null!==Object.getPrototypeOf(f)){const c=lp(n);throw e.mu("an object"===c?r+" a custom object":r+" "+c)}var f}function xa(r,e,n){if((e=(0,ge.m9)(e))instanceof xc)return e._internalPath;if("string"==typeof e)return Us(r,e);throw Md("Field path arguments must be of type string or ",r,!1,void 0,n)}const Pu=new RegExp("[~\\*/\\[\\]]");function Us(r,e,n){if(e.search(Pu)>=0)throw Md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xc(...e.split("."))._internalPath}catch{throw Md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Md(r,e,n,c,f){const m=c&&!c.isEmpty(),v=void 0!==f;let P=`Function ${e}() called with invalid data`;n&&(P+=" (via `toFirestore()`)"),P+=". ";let L="";return(m||v)&&(L+=" (found",m&&(L+=` in field ${c}`),v&&(L+=` in document ${f}`),L+=")"),new hn(zt.INVALID_ARGUMENT,P+r+L)}function Rd(r,e){return r.some(n=>n.isEqual(e))}class pl{constructor(e,n,c,f,m){this._firestore=e,this._userDataWriter=n,this._key=c,this._document=f,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new io(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $h(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ml("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class $h extends pl{data(){return super.data()}}function ml(r,e){return"string"==typeof e?Us(r,e):e instanceof xc?e._internalPath:e._delegate._internalPath}function Da(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new hn(zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wi{}class Ta extends wi{}function Zl(r,e,...n){let c=[];e instanceof wi&&c.push(e),c=c.concat(n),function(m){const v=m.filter(L=>L instanceof gl).length,P=m.filter(L=>L instanceof Ac).length;if(v>1||v>0&&P>0)throw new hn(zt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const f of c)r=f._apply(r);return r}class Ac extends Ta{constructor(e,n,c){super(),this._field=e,this._op=n,this._value=c,this.type="where"}static _create(e,n,c){return new Ac(e,n,c)}_apply(e){const n=this._parse(e);return kr(e._query,n),new us(e.firestore,e.converter,Up(e._query,n))}_parse(e){const n=fl(e.firestore);return function(m,v,P,L,K,ae,Pe){let mt;if(K.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new hn(zt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on documentId().`);if("in"===ae||"not-in"===ae){h0(Pe,ae);const Lt=[];for(const yn of Pe)Lt.push(Qv(L,m,yn));mt={arrayValue:{values:Lt}}}else mt=Qv(L,m,Pe)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||h0(Pe,ae),mt=Km(P,"where",Pe,"in"===ae||"not-in"===ae);return xi.create(K,ae,mt)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sc(r,e,n){const c=e,f=ml("where",r);return Ac._create(f,c,n)}class gl extends wi{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gl(e,n)}_parse(e){const n=this._queryConstraints.map(c=>c._parse(e)).filter(c=>c.getFilters().length>0);return 1===n.length?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(f,m){let v=f;const P=m.getFlattenedFilters();for(const L of P)kr(v,L),v=Up(v,L)}(e._query,n),new us(e.firestore,e.converter,Up(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ds extends Ta{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ds(e,n)}_apply(e){const n=function(f,m,v){if(null!==f.startAt)throw new hn(zt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new hn(zt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ac(m,v)}(e._query,this._field,this._direction);return new us(e.firestore,e.converter,function(f,m){const v=f.explicitOrderBy.concat([m]);return new ea(f.path,f.collectionGroup,v,f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(e._query,n))}}function Gv(r,e="asc"){const n=e,c=ml("orderBy",r);return ds._create(c,n)}class Pd extends Ta{constructor(e,n,c){super(),this.type=e,this._limit=n,this._limitType=c}static _create(e,n,c){return new Pd(e,n,c)}_apply(e){return new us(e.firestore,e.converter,zp(e._query,this._limit,this._limitType))}}function Ym(r){return Ic("limit",r),Pd._create("limit",r,"F")}function Kv(r){return Ic("limitToLast",r),Pd._create("limitToLast",r,"L")}class kd extends Ta{constructor(e,n,c){super(),this.type=e,this._docOrFields=n,this._inclusive=c}static _create(e,n,c){return new kd(e,n,c)}_apply(e){const n=d0(e,this.type,this._docOrFields,this._inclusive);return new us(e.firestore,e.converter,(m=n,new ea((f=e._query).path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,m,f.endAt)));var f,m}}function Yv(...r){return kd._create("startAt",r,!0)}function u0(...r){return kd._create("startAfter",r,!1)}class ku extends Ta{constructor(e,n,c){super(),this.type=e,this._docOrFields=n,this._inclusive=c}static _create(e,n,c){return new ku(e,n,c)}_apply(e){const n=d0(e,this.type,this._docOrFields,this._inclusive);return new us(e.firestore,e.converter,(m=n,new ea((f=e._query).path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,m)));var f,m}}function qv(...r){return ku._create("endBefore",r,!1)}function Zv(...r){return ku._create("endAt",r,!0)}function d0(r,e,n,c){if(n[0]=(0,ge.m9)(n[0]),n[0]instanceof pl)return function(m,v,P,L,K){if(!L)throw new hn(zt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ae=[];for(const Pe of gu(m))if(Pe.field.isKeyField())ae.push(qc(v,L.key));else{const mt=L.data.field(Pe.field);if(cf(mt))throw new hn(zt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===mt){const Lt=Pe.field.canonicalString();throw new hn(zt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Lt}' (used as the orderBy) does not exist.`)}ae.push(mt)}return new sc(ae,K)}(r._query,r.firestore._databaseId,e,n[0]._document,c);{const f=fl(r.firestore);return function(v,P,L,K,ae,Pe){const mt=v.explicitOrderBy;if(ae.length>mt.length)throw new hn(zt.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Lt=[];for(let yn=0;yn<ae.length;yn++){const xn=ae[yn];if(mt[yn].field.isKeyField()){if("string"!=typeof xn)throw new hn(zt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof xn}`);if(!Bp(v)&&-1!==xn.indexOf("/"))throw new hn(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${xn}' contains a slash.`);const Dn=v.path.child(Pi.fromString(xn));if(!Sn.isDocumentKey(Dn))throw new hn(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${Dn}' is not because it contains an odd number of segments.`);const si=new Sn(Dn);Lt.push(qc(P,si))}else{const Dn=Km(L,K,xn);Lt.push(Dn)}}return new sc(Lt,Pe)}(r._query,r.firestore._databaseId,f,e,n,c)}}function Qv(r,e,n){if("string"==typeof(n=(0,ge.m9)(n))){if(""===n)throw new hn(zt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bp(e)&&-1!==n.indexOf("/"))throw new hn(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const c=e.path.child(Pi.fromString(n));if(!Sn.isDocumentKey(c))throw new hn(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return qc(r,new Sn(c))}if(n instanceof io)return qc(r,n._key);throw new hn(zt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lp(n)}.`)}function h0(r,e){if(!Array.isArray(r)||0===r.length)throw new hn(zt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kr(r,e){const n=function(f,m){for(const v of f)for(const P of v.getFlattenedFilters())if(m.indexOf(P.op)>=0)return P.op;return null}(r.filters,function(f){switch(f){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new hn(zt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Q_{convertValue(e,n="none"){switch(rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw En()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const c={};return ks(e,(f,m)=>{c[f]=this.convertValue(m,n)}),c}convertGeoPoint(e){return new up(Ir(e.latitude),Ir(e.longitude))}convertArray(e,n){return(e.values||[]).map(c=>this.convertValue(c,n))}convertServerTimestamp(e,n){switch(n){case"previous":const c=Kc(e);return null==c?null:this.convertValue(c,n);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new Nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const c=Pi.fromString(e);On(Xp(c));const f=new yo(c.get(1),c.get(3)),m=new Sn(c.popFirst(5));return f.isEqual(n)||$i(`Document ${m} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),m}}function Ql(r,e,n){let c;return c=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,c}class Od extends Q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new io(this.firestore,null,n)}}class Pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kc extends pl{constructor(e,n,c,f,m,v){super(e,n,c,f,v),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Or(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const c=this._document.data.field(ml("DocumentSnapshot.get",e));if(null!==c)return this._userDataWriter.convertValue(c,n.serverTimestamps)}}}class Or extends kc{data(e={}){return super.data(e)}}class Xl{constructor(e,n,c,f){this._firestore=e,this._userDataWriter=n,this._snapshot=f,this.metadata=new Pc(f.hasPendingWrites,f.fromCache),this.query=c}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(c=>{e.call(n,new Or(this._firestore,this._userDataWriter,c.key,c,new Pc(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new hn(zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(f,m){if(f._snapshot.oldDocs.isEmpty()){let v=0;return f._snapshot.docChanges.map(P=>({type:"added",doc:new Or(f._firestore,f._userDataWriter,P.doc.key,P.doc,new Pc(f._snapshot.mutatedKeys.has(P.doc.key),f._snapshot.fromCache),f.query.converter),oldIndex:-1,newIndex:v++}))}{let v=f._snapshot.oldDocs;return f._snapshot.docChanges.filter(P=>m||3!==P.type).map(P=>{const L=new Or(f._firestore,f._userDataWriter,P.doc.key,P.doc,new Pc(f._snapshot.mutatedKeys.has(P.doc.key),f._snapshot.fromCache),f.query.converter);let K=-1,ae=-1;return 0!==P.type&&(K=v.indexOf(P.doc.key),v=v.delete(P.doc.key)),1!==P.type&&(v=v.add(P.doc),ae=v.indexOf(P.doc.key)),{type:p0(P.type),doc:L,oldIndex:K,newIndex:ae}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p0(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return En()}}function X_(r,e){return r instanceof kc&&e instanceof kc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Xl&&e instanceof Xl&&r._firestore===e._firestore&&Fv(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function qm(r){r=zi(r,io);const e=zi(r.firestore,Vr);return H_(Mr(e),r._key).then(n=>fp(e,r,n))}class Is extends Q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new io(this.firestore,null,n)}}function Ou(r){r=zi(r,io);const e=zi(r.firestore,Vr),n=Mr(e),c=new Is(e);return function Rv(r,e){const n=new Ki;return r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(c=(0,h.Z)(function*(m,v,P){try{const L=yield function(ae,Pe){const mt=fn(ae);return mt.persistence.runTransaction("read document","readonly",Lt=>mt.localDocuments.getDocument(Lt,Pe))}(m,v);L.isFoundDocument()?P.resolve(L):L.isNoDocument()?P.resolve(null):P.reject(new hn(zt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const K=Au(L,`Failed to get document '${v} from cache`);P.reject(K)}}),function f(m,v,P){return c.apply(this,arguments)})(yield Fh(r),e,n);var c})),n.promise}(n,r._key).then(f=>new kc(e,c,r._key,f,new Pc(null!==f&&f.hasLocalMutations,!0),r.converter))}function Zm(r){r=zi(r,io);const e=zi(r.firestore,Vr);return H_(Mr(e),r._key,{source:"server"}).then(n=>fp(e,r,n))}function m0(r){r=zi(r,us);const e=zi(r.firestore,Vr),n=Mr(e),c=new Is(e);return Da(r._query),Ba(n,r._query).then(f=>new Xl(e,c,r,f))}function J_(r){r=zi(r,us);const e=zi(r.firestore,Vr),n=Mr(e),c=new Is(e);return function $_(r,e){const n=new Ki;return r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(c=(0,h.Z)(function*(m,v,P){try{const L=yield hm(m,v,!0),K=new S_(v,L.ls),ae=K.ca(L.documents),Pe=K.applyChanges(ae,!1);P.resolve(Pe.snapshot)}catch(L){const K=Au(L,`Failed to execute query '${v} against cache`);P.reject(K)}}),function f(m,v,P){return c.apply(this,arguments)})(yield Fh(r),e,n);var c})),n.promise}(n,r._query).then(f=>new Xl(e,c,r,f))}function Fd(r){r=zi(r,us);const e=zi(r.firestore,Vr),n=Mr(e),c=new Is(e);return Ba(n,r._query,{source:"server"}).then(f=>new Xl(e,c,r,f))}function g0(r,e,n){r=zi(r,io);const c=zi(r.firestore,Vr),f=Ql(r.converter,e,n);return Ld(c,[dp(fl(c),"setDoc",r._key,f,null!==r.converter,n).toMutation(r._key,Yr.none())])}function Qm(r,e,n,...c){r=zi(r,io);const f=zi(r.firestore,Vr),m=fl(f);let v;return v="string"==typeof(e=(0,ge.m9)(e))||e instanceof xc?ia(m,"updateDoc",r._key,e,n,c):hp(m,"updateDoc",r._key,e),Ld(f,[v.toMutation(r._key,Yr.exists(!0))])}function _0(r){return Ld(zi(r.firestore,Vr),[new _u(r._key,Yr.none())])}function y0(r,e){const n=zi(r.firestore,Vr),c=jm(r),f=Ql(r.converter,e);return Ld(n,[dp(fl(r.firestore),"addDoc",c._key,f,null!==r.converter,{}).toMutation(c._key,Yr.exists(!1))]).then(()=>c)}function Jv(r,...e){var n,c,f;r=(0,ge.m9)(r);let m={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Cc(e[v])||(m=e[v],v++);const P={includeMetadataChanges:m.includeMetadataChanges};if(Cc(e[v])){const Pe=e[v];e[v]=null===(n=Pe.next)||void 0===n?void 0:n.bind(Pe),e[v+1]=null===(c=Pe.error)||void 0===c?void 0:c.bind(Pe),e[v+2]=null===(f=Pe.complete)||void 0===f?void 0:f.bind(Pe)}let L,K,ae;if(r instanceof io)K=zi(r.firestore,Vr),ae=nh(r._key.path),L={next:Pe=>{e[v]&&e[v](fp(K,r,Pe))},error:e[v+1],complete:e[v+2]};else{const Pe=zi(r,us);K=zi(Pe.firestore,Vr),ae=Pe._query;const mt=new Is(K);L={next:Lt=>{e[v]&&e[v](new Xl(K,mt,Pe,Lt))},error:e[v+1],complete:e[v+2]},Da(r._query)}return function(mt,Lt,yn,xn){const Dn=new Oh(xn),si=new T_(Lt,Dn,yn);return mt.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return bd(yield xd(mt),si)})),()=>{Dn.Na(),mt.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return tp(yield xd(mt),si)}))}}(Mr(K),ae,P,L)}function Xm(r,e){return function Lm(r,e){const n=new Oh(e);return r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return f=yield xd(r),m=n,fn(f).q_.add(m),void m.next();var f,m})),()=>{n.Na(),r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return f=yield xd(r),m=n,void fn(f).q_.delete(m);var f,m}))}}(Mr(r=zi(r,Vr)),Cc(e)?e:{next:e})}function Ld(r,e){return function(c,f){const m=new Ki;return c.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function Sh(r,e,n){return vc.apply(this,arguments)}(yield Cd(c),f,m)})),m.promise}(Mr(r),e)}function fp(r,e,n){const c=n.docs.get(e._key),f=new Is(r);return new kc(r,f,e._key,c,new Pc(n.hasPendingWrites,n.fromCache),e.converter)}const ng={maxAttempts:5};class ig{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=fl(e)}set(e,n,c){this._verifyNotCommitted();const f=Xo(e,this._firestore),m=Ql(f.converter,n,c),v=dp(this._dataReader,"WriteBatch.set",f._key,m,null!==f.converter,c);return this._mutations.push(v.toMutation(f._key,Yr.none())),this}update(e,n,c,...f){this._verifyNotCommitted();const m=Xo(e,this._firestore);let v;return v="string"==typeof(n=(0,ge.m9)(n))||n instanceof xc?ia(this._dataReader,"WriteBatch.update",m._key,n,c,f):hp(this._dataReader,"WriteBatch.update",m._key,n),this._mutations.push(v.toMutation(m._key,Yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Xo(e,this._firestore);return this._mutations=this._mutations.concat(new _u(n._key,Yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new hn(zt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xo(r,e){if((r=(0,ge.m9)(r)).firestore!==e)throw new hn(zt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class iy extends class{constructor(n,c){this._firestore=n,this._transaction=c,this._dataReader=fl(n)}get(n){const c=Xo(n,this._firestore),f=new Od(this._firestore);return this._transaction.lookup([c._key]).then(m=>{if(!m||1!==m.length)return En();const v=m[0];if(v.isFoundDocument())return new pl(this._firestore,f,v.key,v,c.converter);if(v.isNoDocument())return new pl(this._firestore,f,c._key,null,c.converter);throw En()})}set(n,c,f){const m=Xo(n,this._firestore),v=Ql(m.converter,c,f),P=dp(this._dataReader,"Transaction.set",m._key,v,null!==m.converter,f);return this._transaction.set(m._key,P),this}update(n,c,f,...m){const v=Xo(n,this._firestore);let P;return P="string"==typeof(c=(0,ge.m9)(c))||c instanceof xc?ia(this._dataReader,"Transaction.update",v._key,c,f,m):hp(this._dataReader,"Transaction.update",v._key,c),this._transaction.update(v._key,P),this}delete(n){const c=Xo(n,this._firestore);return this._transaction.delete(c._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Xo(e,this._firestore),c=new Is(this._firestore);return super.get(e).then(f=>new kc(this._firestore,c,n._key,f._document,new Pc(!1,!1),n.converter))}}function ry(r,e,n){r=zi(r,Vr);const c=Object.assign(Object.assign({},ng),n);return function(m){if(m.maxAttempts<1)throw new hn(zt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(c),function(m,v,P){const L=new Ki;return m.asyncQueue.enqueueAndForget((0,h.Z)(function*(){const K=yield function j_(r){return Nh(r).then(e=>e.datastore)}(m);new xv(m.asyncQueue,K,P,v,L).run()})),L.promise}(Mr(r),f=>e(new iy(r,f)),c)}function rg(){return new ql("deleteField")}function Yh(){return new Pr("serverTimestamp")}function qh(...r){return new Fi("arrayUnion",r)}function Jl(...r){return new na("arrayRemove",r)}function Fu(r){return new Gm("increment",r)}!function(e,n=!0){Zi=k.SDK_VERSION,(0,k._registerComponent)(new z.wA("firestore",(c,{instanceIdentifier:f,options:m})=>{const v=c.getProvider("app").getImmediate(),P=new Vr(new Ao(c.getProvider("auth-internal")),new Ps(c.getProvider("app-check-internal")),function(K,ae){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new hn(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(K.options.projectId,ae)}(v,f),v);return m=Object.assign({useFetchStreams:n},m),P._setSettings(m),P},"PUBLIC").setMultipleInstances(!0)),(0,k.registerVersion)(Ri,"4.3.2",e),(0,k.registerVersion)(Ri,"4.3.2","esm2017")}()},9058:(on,et,T)=>{T.d(et,{$s:()=>ze,BH:()=>xe,DV:()=>Bt,G6:()=>tn,GJ:()=>An,L:()=>be,LL:()=>Oe,P0:()=>ct,Pz:()=>Ne,Sg:()=>He,UG:()=>$t,UI:()=>zn,US:()=>Ae,Wl:()=>Ce,Yr:()=>Ut,ZB:()=>Re,ZR:()=>ot,aH:()=>fe,b$:()=>_n,cI:()=>We,dS:()=>Un,eu:()=>Le,g5:()=>z,gK:()=>ut,gQ:()=>Q,h$:()=>X,hl:()=>Ie,hu:()=>k,jU:()=>an,m9:()=>xt,ne:()=>ue,p$:()=>de,pd:()=>H,r3:()=>at,ru:()=>Gt,tV:()=>ne,uI:()=>ke,ug:()=>Xn,vZ:()=>Qn,w1:()=>bn,w9:()=>qt,xO:()=>sn,xb:()=>un,z$:()=>it,zI:()=>Se,zd:()=>Ct});const h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},k=function(ve,ie){if(!ve)throw z(ie)},z=function(ve){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ve)},I=function(ve){const ie=[];let Y=0;for(let $=0;$<ve.length;$++){let B=ve.charCodeAt($);B<128?ie[Y++]=B:B<2048?(ie[Y++]=B>>6|192,ie[Y++]=63&B|128):55296==(64512&B)&&$+1<ve.length&&56320==(64512&ve.charCodeAt($+1))?(B=65536+((1023&B)<<10)+(1023&ve.charCodeAt(++$)),ie[Y++]=B>>18|240,ie[Y++]=B>>12&63|128,ie[Y++]=B>>6&63|128,ie[Y++]=63&B|128):(ie[Y++]=B>>12|224,ie[Y++]=B>>6&63|128,ie[Y++]=63&B|128)}return ie},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,ie){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let B=0;B<ve.length;B+=3){const _e=ve[B],Xe=B+1<ve.length,Xt=Xe?ve[B+1]:0,vn=B+2<ve.length,kn=vn?ve[B+2]:0;let ti=(15&Xt)<<2|kn>>6,Et=63&kn;vn||(Et=64,Xe||(ti=64)),$.push(Y[_e>>2],Y[(3&_e)<<4|Xt>>4],Y[ti],Y[Et])}return $.join("")},encodeString(ve,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(ve):this.encodeByteArray(I(ve),ie)},decodeString(ve,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(ve):function(ve){const ie=[];let Y=0,$=0;for(;Y<ve.length;){const B=ve[Y++];if(B<128)ie[$++]=String.fromCharCode(B);else if(B>191&&B<224){const _e=ve[Y++];ie[$++]=String.fromCharCode((31&B)<<6|63&_e)}else if(B>239&&B<365){const vn=((7&B)<<18|(63&ve[Y++])<<12|(63&ve[Y++])<<6|63&ve[Y++])-65536;ie[$++]=String.fromCharCode(55296+(vn>>10)),ie[$++]=String.fromCharCode(56320+(1023&vn))}else{const _e=ve[Y++],Xe=ve[Y++];ie[$++]=String.fromCharCode((15&B)<<12|(63&_e)<<6|63&Xe)}}return ie.join("")}(this.decodeStringToByteArray(ve,ie))},decodeStringToByteArray(ve,ie){this.init_();const Y=ie?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let B=0;B<ve.length;){const _e=Y[ve.charAt(B++)],Xt=B<ve.length?Y[ve.charAt(B)]:0;++B;const kn=B<ve.length?Y[ve.charAt(B)]:64;++B;const Gn=B<ve.length?Y[ve.charAt(B)]:64;if(++B,null==_e||null==Xt||null==kn||null==Gn)throw new Me;$.push(_e<<2|Xt>>4),64!==kn&&($.push(Xt<<4&240|kn>>2),64!==Gn&&$.push(kn<<6&192|Gn))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}};class Me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X=function(ve){const ie=I(ve);return Ae.encodeByteArray(ie,!0)},be=function(ve){return X(ve).replace(/\./g,"")},ne=function(ve){try{return Ae.decodeString(ve,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function de(ve){return Re(void 0,ve)}function Re(ve,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return ie}for(const Y in ie)!ie.hasOwnProperty(Y)||!nt(Y)||(ve[Y]=Re(ve[Y],ie[Y]));return ve}function nt(ve){return"__proto__"!==ve}const Ee=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if(typeof document>"u")return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=ve&&ne(ve[1]);return ie&&JSON.parse(ie)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},ct=ve=>{const ie=(ve=>{var ie,Y;return null===(Y=null===(ie=Ee())||void 0===ie?void 0:ie.emulatorHosts)||void 0===Y?void 0:Y[ve]})(ve);if(!ie)return;const Y=ie.lastIndexOf(":");if(Y<=0||Y+1===ie.length)throw new Error(`Invalid host ${ie} with no separate hostname and port!`);const $=parseInt(ie.substring(Y+1),10);return"["===ie[0]?[ie.substring(1,Y-1),$]:[ie.substring(0,Y),$]},fe=()=>{var ve;return null===(ve=Ee())||void 0===ve?void 0:ve.config},Ne=ve=>{var ie;return null===(ie=Ee())||void 0===ie?void 0:ie[`_${ve}`]};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,Y)=>{this.resolve=ie,this.reject=Y})}wrapCallback(ie){return(Y,$)=>{Y?this.reject(Y):this.resolve($),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(Y):ie(Y,$))}}}function He(ve,ie){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=ie||"demo-project",B=ve.iat||0,_e=ve.sub||ve.user_id;if(!_e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:B,exp:B+3600,auth_time:B,sub:_e,user_id:_e,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(Xe)),""].join(".")}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function $t(){var ve;const ie=null===(ve=Ee())||void 0===ve?void 0:ve.forceEnvironment;if("node"===ie)return!0;if("browser"===ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function an(){return"object"==typeof self&&self.self===self}function Gt(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function _n(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function bn(){const ve=it();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function Ut(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function tn(){return!$t()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ie(){try{return"object"==typeof indexedDB}catch{return!1}}function Le(){return new Promise((ve,ie)=>{try{let Y=!0;const $="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open($);B.onsuccess=()=>{B.result.close(),Y||self.indexedDB.deleteDatabase($),ve(!0)},B.onupgradeneeded=()=>{Y=!1},B.onerror=()=>{var _e;ie((null===(_e=B.error)||void 0===_e?void 0:_e.message)||"")}}catch(Y){ie(Y)}})}function Se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ot extends Error{constructor(ie,Y,$){super(Y),this.code=ie,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor(ie,Y,$){this.service=ie,this.serviceName=Y,this.errors=$}create(ie,...Y){const $=Y[0]||{},B=`${this.service}/${ie}`,_e=this.errors[ie],Xe=_e?function Nt(ve,ie){return ve.replace(De,(Y,$)=>{const B=ie[$];return null!=B?String(B):`<${$}?>`})}(_e,$):"Error";return new ot(B,`${this.serviceName}: ${Xe} (${B}).`,$)}}const De=/\{\$([^}]+)}/g;function We(ve){return JSON.parse(ve)}function Ce(ve){return JSON.stringify(ve)}const dt=function(ve){let ie={},Y={},$={},B="";try{const _e=ve.split(".");ie=We(ne(_e[0])||""),Y=We(ne(_e[1])||""),B=_e[2],$=Y.d||{},delete Y.d}catch{}return{header:ie,claims:Y,data:$,signature:B}},qt=function(ve){const Y=dt(ve).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},An=function(ve){const ie=dt(ve).claims;return"object"==typeof ie&&!0===ie.admin};function at(ve,ie){return Object.prototype.hasOwnProperty.call(ve,ie)}function Bt(ve,ie){if(Object.prototype.hasOwnProperty.call(ve,ie))return ve[ie]}function un(ve){for(const ie in ve)if(Object.prototype.hasOwnProperty.call(ve,ie))return!1;return!0}function zn(ve,ie,Y){const $={};for(const B in ve)Object.prototype.hasOwnProperty.call(ve,B)&&($[B]=ie.call(Y,ve[B],B,ve));return $}function Qn(ve,ie){if(ve===ie)return!0;const Y=Object.keys(ve),$=Object.keys(ie);for(const B of Y){if(!$.includes(B))return!1;const _e=ve[B],Xe=ie[B];if(gi(_e)&&gi(Xe)){if(!Qn(_e,Xe))return!1}else if(_e!==Xe)return!1}for(const B of $)if(!Y.includes(B))return!1;return!0}function gi(ve){return null!==ve&&"object"==typeof ve}function sn(ve){const ie=[];for(const[Y,$]of Object.entries(ve))Array.isArray($)?$.forEach(B=>{ie.push(encodeURIComponent(Y)+"="+encodeURIComponent(B))}):ie.push(encodeURIComponent(Y)+"="+encodeURIComponent($));return ie.length?"&"+ie.join("&"):""}function Ct(ve){const ie={};return ve.replace(/^\?/,"").split("&").forEach($=>{if($){const[B,_e]=$.split("=");ie[decodeURIComponent(B)]=decodeURIComponent(_e)}}),ie}function H(ve){const ie=ve.indexOf("?");if(!ie)return"";const Y=ve.indexOf("#",ie);return ve.substring(ie,Y>0?Y:void 0)}class Q{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ie=1;ie<this.blockSize;++ie)this.pad_[ie]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ie,Y){Y||(Y=0);const $=this.W_;if("string"==typeof ie)for(let Gn=0;Gn<16;Gn++)$[Gn]=ie.charCodeAt(Y)<<24|ie.charCodeAt(Y+1)<<16|ie.charCodeAt(Y+2)<<8|ie.charCodeAt(Y+3),Y+=4;else for(let Gn=0;Gn<16;Gn++)$[Gn]=ie[Y]<<24|ie[Y+1]<<16|ie[Y+2]<<8|ie[Y+3],Y+=4;for(let Gn=16;Gn<80;Gn++){const ti=$[Gn-3]^$[Gn-8]^$[Gn-14]^$[Gn-16];$[Gn]=4294967295&(ti<<1|ti>>>31)}let kn,Rn,B=this.chain_[0],_e=this.chain_[1],Xe=this.chain_[2],Xt=this.chain_[3],vn=this.chain_[4];for(let Gn=0;Gn<80;Gn++){Gn<40?Gn<20?(kn=Xt^_e&(Xe^Xt),Rn=1518500249):(kn=_e^Xe^Xt,Rn=1859775393):Gn<60?(kn=_e&Xe|Xt&(_e|Xe),Rn=2400959708):(kn=_e^Xe^Xt,Rn=3395469782);const ti=(B<<5|B>>>27)+kn+vn+Rn+$[Gn]&4294967295;vn=Xt,Xt=Xe,Xe=4294967295&(_e<<30|_e>>>2),_e=B,B=ti}this.chain_[0]=this.chain_[0]+B&4294967295,this.chain_[1]=this.chain_[1]+_e&4294967295,this.chain_[2]=this.chain_[2]+Xe&4294967295,this.chain_[3]=this.chain_[3]+Xt&4294967295,this.chain_[4]=this.chain_[4]+vn&4294967295}update(ie,Y){if(null==ie)return;void 0===Y&&(Y=ie.length);const $=Y-this.blockSize;let B=0;const _e=this.buf_;let Xe=this.inbuf_;for(;B<Y;){if(0===Xe)for(;B<=$;)this.compress_(ie,B),B+=this.blockSize;if("string"==typeof ie){for(;B<Y;)if(_e[Xe]=ie.charCodeAt(B),++Xe,++B,Xe===this.blockSize){this.compress_(_e),Xe=0;break}}else for(;B<Y;)if(_e[Xe]=ie[B],++Xe,++B,Xe===this.blockSize){this.compress_(_e),Xe=0;break}}this.inbuf_=Xe,this.total_+=Y}digest(){const ie=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let B=this.blockSize-1;B>=56;B--)this.buf_[B]=255&Y,Y/=256;this.compress_(this.buf_);let $=0;for(let B=0;B<5;B++)for(let _e=24;_e>=0;_e-=8)ie[$]=this.chain_[B]>>_e&255,++$;return ie}}function ue(ve,ie){const Y=new pt(ve,ie);return Y.subscribe.bind(Y)}class pt{constructor(ie,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{ie(this)}).catch($=>{this.error($)})}next(ie){this.forEachObserver(Y=>{Y.next(ie)})}error(ie){this.forEachObserver(Y=>{Y.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,Y,$){let B;if(void 0===ie&&void 0===Y&&void 0===$)throw new Error("Missing Observer.");B=function It(ve,ie){if("object"!=typeof ve||null===ve)return!1;for(const Y of ie)if(Y in ve&&"function"==typeof ve[Y])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:Y,complete:$},void 0===B.next&&(B.next=Ve),void 0===B.error&&(B.error=Ve),void 0===B.complete&&(B.complete=Ve);const _e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),_e}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,ie)}sendOne(ie,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{Y(this.observers[ie])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ve(){}function ut(ve,ie){return`${ve} failed: ${ie} argument `}const Un=function(ve){const ie=[];let Y=0;for(let $=0;$<ve.length;$++){let B=ve.charCodeAt($);if(B>=55296&&B<=56319){const _e=B-55296;$++,k($<ve.length,"Surrogate pair missing trail surrogate."),B=65536+(_e<<10)+(ve.charCodeAt($)-56320)}B<128?ie[Y++]=B:B<2048?(ie[Y++]=B>>6|192,ie[Y++]=63&B|128):B<65536?(ie[Y++]=B>>12|224,ie[Y++]=B>>6&63|128,ie[Y++]=63&B|128):(ie[Y++]=B>>18|240,ie[Y++]=B>>12&63|128,ie[Y++]=B>>6&63|128,ie[Y++]=63&B|128)}return ie},Xn=function(ve){let ie=0;for(let Y=0;Y<ve.length;Y++){const $=ve.charCodeAt(Y);$<128?ie++:$<2048?ie+=2:$>=55296&&$<=56319?(ie+=4,Y++):ie+=3}return ie},Mt=1e3,Vn=2,kt=144e5,lt=.5;function ze(ve,ie=Mt,Y=Vn){const $=ie*Math.pow(Y,ve),B=Math.round(lt*$*(Math.random()-.5)*2);return Math.min(kt,$+B)}function xt(ve){return ve&&ve._delegate?ve._delegate:ve}},1839:(on,et,T)=>{T.d(et,{D:()=>z});var h=T(5619),k=T(5879);let z=(()=>{class I{constructor(){this.apiCount=0,this.isLoadingSubject=new h.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}showLoader(){0===this.apiCount&&this.isLoadingSubject.next(!0),this.apiCount++}hideLoader(){this.apiCount--,0===this.apiCount&&this.isLoadingSubject.next(!1)}static#e=this.\u0275fac=function(Me){return new(Me||I)};static#t=this.\u0275prov=k.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},5030:(on,et,T)=>{T.d(et,{$:()=>h,w:()=>k});const h="home",k="messages"},9770:(on,et,T)=>{var h=T(6593),k=T(4190),z=T(5030),I=T(5879);const Ae=[{path:"",redirectTo:z.$,pathMatch:"full"},{path:z.$,component:(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275cmp=I.Xpm({type:l,selectors:[["app-home"]],decls:4,vars:0,consts:[[1,"container"],[1,"home-welcome"],["src","https://i.natgeofe.com/n/548467d8-c5f1-4551-9f58-6817a8d2c45e/NationalGeographic_2572187_square.jpg","alt","Clock",1,"img-welcome"]],template:function(u,g){1&u&&(I.TgZ(0,"div",0)(1,"h1",1),I._uU(2,"Welcome to my favorite Message App!"),I.qZA(),I._UZ(3,"img",2),I.qZA())},styles:[".container[_ngcontent-%COMP%]{display:block}.home-welcome[_ngcontent-%COMP%]{text-align:center;margin:5%}.img-welcome[_ngcontent-%COMP%]{margin:0 40%;object-fit:contain;width:-webkit-fill-available}"]})}return l})()},{path:"",loadChildren:()=>T.e(453).then(T.bind(T,1453)).then(l=>l.LazyLoadingModule)}];let Me=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=I.oAB({type:l});static#n=this.\u0275inj=I.cJS({imports:[k.Bz.forRoot(Ae),k.Bz]})}return l})();var X=T(2296),be=T(617),ne=T(4300),de=T(2495),Re=T(6028),nt=T(8645),Fe=T(3019),Qe=T(7394),Ue=T(2096),ye=T(6410),Ee=T(7921),bt=T(4664),ct=T(8180),fe=T(9773),Ne=T(2181),xe=T(6321),He=T(5211),it=T(9360),ke=T(8251),$t=T(2420),Gt=T(975),_n=T(1631),Yt=T(4829);function bn(l,a){return a?o=>(0,He.z)(a.pipe((0,ct.q)(1),function an(){return(0,it.e)((l,a)=>{l.subscribe((0,ke.x)(a,$t.Z))})}()),o.pipe(bn(l))):(0,_n.z)((o,u)=>(0,Yt.Xf)(l(o,u)).pipe((0,ct.q)(1),(0,Gt.h)(o)))}var en=T(4825);function Ut(l,a=xe.z){const o=(0,en.H)(l,a);return bn(()=>o)}var tn=T(3680),Ie=T(6814),Le=T(8484),Se=T(6825),st=T(9388),ot=T(3651),Oe=T(2831),Nt=T(5407);const De=["mat-menu-item",""];function We(l,a){1&l&&(I.O4$(),I.TgZ(0,"svg",3),I._UZ(1,"polygon",4),I.qZA())}const Ce=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],dt=["mat-icon, [matMenuItemIcon]","*"];function wt(l,a){if(1&l){const o=I.EpF();I.TgZ(0,"div",0),I.NdJ("keydown",function(g){I.CHM(o);const E=I.oxw();return I.KtG(E._handleKeydown(g))})("click",function(){I.CHM(o);const g=I.oxw();return I.KtG(g.closed.emit("click"))})("@transformMenu.start",function(g){I.CHM(o);const E=I.oxw();return I.KtG(E._onAnimationStart(g))})("@transformMenu.done",function(g){I.CHM(o);const E=I.oxw();return I.KtG(E._onAnimationDone(g))}),I.TgZ(1,"div",1),I.Hsn(2),I.qZA()()}if(2&l){const o=I.oxw();I.Q6J("id",o.panelId)("ngClass",o._classList)("@transformMenu",o._panelAnimationState),I.uIk("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby||null)("aria-describedby",o.ariaDescribedby||null)}}const Kt=["*"],qt=new I.OlP("MAT_MENU_PANEL"),An=(0,tn.Kr)((0,tn.Id)(class{}));let at=(()=>{class l extends An{constructor(o,u,g,E,x){super(),this._elementRef=o,this._document=u,this._focusMonitor=g,this._parentMenu=E,this._changeDetectorRef=x,this.role="menuitem",this._hovered=new nt.x,this._focused=new nt.x,this._highlighted=!1,this._triggersSubmenu=!1,E?.addItem?.(this)}focus(o,u){this._focusMonitor&&o?this._focusMonitor.focusVia(this._getHostElement(),o,u):this._getHostElement().focus(u),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(o){this.disabled&&(o.preventDefault(),o.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const o=this._elementRef.nativeElement.cloneNode(!0),u=o.querySelectorAll("mat-icon, .material-icons");for(let g=0;g<u.length;g++)u[g].remove();return o.textContent?.trim()||""}_setHighlighted(o){this._highlighted=o,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(o){this._triggersSubmenu=o,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(u){return new(u||l)(I.Y36(I.SBq),I.Y36(Ie.K0),I.Y36(ne.tE),I.Y36(qt,8),I.Y36(I.sBO))};static#t=this.\u0275cmp=I.Xpm({type:l,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(u,g){1&u&&I.NdJ("click",function(x){return g._checkDisabled(x)})("mouseenter",function(){return g._handleMouseEnter()}),2&u&&(I.uIk("role",g.role)("tabindex",g._getTabIndex())("aria-disabled",g.disabled)("disabled",g.disabled||null),I.ekj("mat-mdc-menu-item-highlighted",g._highlighted)("mat-mdc-menu-item-submenu-trigger",g._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[I.qOj],attrs:De,ngContentSelectors:dt,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(u,g){1&u&&(I.F$t(Ce),I.Hsn(0),I.TgZ(1,"span",0),I.Hsn(2,1),I.qZA(),I._UZ(3,"div",1),I.YNc(4,We,2,0,"svg",2)),2&u&&(I.xp6(3),I.Q6J("matRippleDisabled",g.disableRipple||g.disabled)("matRippleTrigger",g._getHostElement()),I.xp6(1),I.Q6J("ngIf",g._triggersSubmenu))},dependencies:[Ie.O5,tn.wG],encapsulation:2,changeDetection:0})}return l})();const Qn=new I.OlP("MatMenuContent"),sn={transformMenu:(0,Se.X$)("transformMenu",[(0,Se.SB)("void",(0,Se.oB)({opacity:0,transform:"scale(0.8)"})),(0,Se.eR)("void => enter",(0,Se.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Se.oB)({opacity:1,transform:"scale(1)"}))),(0,Se.eR)("* => void",(0,Se.jt)("100ms 25ms linear",(0,Se.oB)({opacity:0})))]),fadeInItems:(0,Se.X$)("fadeInItems",[(0,Se.SB)("showing",(0,Se.oB)({opacity:1})),(0,Se.eR)("void => *",[(0,Se.oB)({opacity:0}),(0,Se.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Q=0;const ue=new I.OlP("mat-menu-default-options",{providedIn:"root",factory:function pt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let je=(()=>{class l{get xPosition(){return this._xPosition}set xPosition(o){this._xPosition=o,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(o){this._yPosition=o,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(o){this._overlapTrigger=(0,de.Ig)(o)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(o){this._hasBackdrop=(0,de.Ig)(o)}set panelClass(o){const u=this._previousPanelClass;u&&u.length&&u.split(" ").forEach(g=>{this._classList[g]=!1}),this._previousPanelClass=o,o&&o.length&&(o.split(" ").forEach(g=>{this._classList[g]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(o){this.panelClass=o}constructor(o,u,g,E){this._elementRef=o,this._ngZone=u,this._changeDetectorRef=E,this._directDescendantItems=new I.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new nt.x,this.closed=new I.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Q++,this.overlayPanelClass=g.overlayPanelClass||"",this._xPosition=g.xPosition,this._yPosition=g.yPosition,this.backdropClass=g.backdropClass,this._overlapTrigger=g.overlapTrigger,this._hasBackdrop=g.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new ne.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,Ee.O)(this._directDescendantItems),(0,bt.w)(o=>(0,Fe.T)(...o.map(u=>u._focused)))).subscribe(o=>this._keyManager.updateActiveItem(o)),this._directDescendantItems.changes.subscribe(o=>{const u=this._keyManager;if("enter"===this._panelAnimationState&&u.activeItem?._hasFocus()){const g=o.toArray(),E=Math.max(0,Math.min(g.length-1,u.activeItemIndex||0));g[E]&&!g[E].disabled?u.setActiveItem(E):u.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,Ee.O)(this._directDescendantItems),(0,bt.w)(u=>(0,Fe.T)(...u.map(g=>g._hovered))))}addItem(o){}removeItem(o){}_handleKeydown(o){const u=o.keyCode,g=this._keyManager;switch(u){case Re.hY:(0,Re.Vb)(o)||(o.preventDefault(),this.closed.emit("keydown"));break;case Re.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case Re.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(u===Re.LH||u===Re.JH)&&g.setFocusOrigin("keyboard"),void g.onKeydown(o)}o.stopPropagation()}focusFirstItem(o="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,ct.q)(1)).subscribe(()=>{let u=null;if(this._directDescendantItems.length&&(u=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!u||!u.contains(document.activeElement)){const g=this._keyManager;g.setFocusOrigin(o).setFirstItemActive(),!g.activeItem&&u&&u.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(o){const u=Math.min(this._baseElevation+o,24),g=`${this._elevationPrefix}${u}`,E=Object.keys(this._classList).find(x=>x.startsWith(this._elevationPrefix));(!E||E===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[g]=!0,this._previousElevation=g)}setPositionClasses(o=this.xPosition,u=this.yPosition){const g=this._classList;g["mat-menu-before"]="before"===o,g["mat-menu-after"]="after"===o,g["mat-menu-above"]="above"===u,g["mat-menu-below"]="below"===u,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(o){this._animationDone.next(o),this._isAnimating=!1}_onAnimationStart(o){this._isAnimating=!0,"enter"===o.toState&&0===this._keyManager.activeItemIndex&&(o.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,Ee.O)(this._allItems)).subscribe(o=>{this._directDescendantItems.reset(o.filter(u=>u._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(u){return new(u||l)(I.Y36(I.SBq),I.Y36(I.R0b),I.Y36(ue),I.Y36(I.sBO))};static#t=this.\u0275dir=I.lG2({type:l,contentQueries:function(u,g,E){if(1&u&&(I.Suo(E,Qn,5),I.Suo(E,at,5),I.Suo(E,at,4)),2&u){let x;I.iGM(x=I.CRH())&&(g.lazyContent=x.first),I.iGM(x=I.CRH())&&(g._allItems=x),I.iGM(x=I.CRH())&&(g.items=x)}},viewQuery:function(u,g){if(1&u&&I.Gf(I.Rgc,5),2&u){let E;I.iGM(E=I.CRH())&&(g.templateRef=E.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return l})(),It=(()=>{class l extends je{constructor(o,u,g,E){super(o,u,g,E),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(u){return new(u||l)(I.Y36(I.SBq),I.Y36(I.R0b),I.Y36(ue),I.Y36(I.sBO))};static#t=this.\u0275cmp=I.Xpm({type:l,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(u,g){2&u&&I.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[I._Bn([{provide:qt,useExisting:l}]),I.qOj],ngContentSelectors:Kt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(u,g){1&u&&(I.F$t(),I.YNc(0,wt,3,6,"ng-template"))},dependencies:[Ie.mk],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[sn.transformMenu,sn.fadeInItems]},changeDetection:0})}return l})();const Ve=new I.OlP("mat-menu-scroll-strategy"),ut={provide:Ve,deps:[ot.aV],useFactory:function gt(l){return()=>l.scrollStrategies.reposition()}},Zt=(0,Oe.i$)({passive:!0});let In=(()=>{class l{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(o){this.menu=o}get menu(){return this._menu}set menu(o){o!==this._menu&&(this._menu=o,this._menuCloseSubscription.unsubscribe(),o&&(this._menuCloseSubscription=o.close.subscribe(u=>{this._destroyMenu(u),("click"===u||"tab"===u)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(u)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(o,u,g,E,x,V,q,se,rt){this._overlay=o,this._element=u,this._viewContainerRef=g,this._menuItemInstance=V,this._dir=q,this._focusMonitor=se,this._ngZone=rt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Qe.w0.EMPTY,this._hoverSubscription=Qe.w0.EMPTY,this._menuCloseSubscription=Qe.w0.EMPTY,this._changeDetectorRef=(0,I.f3M)(I.sBO),this._handleTouchStart=ht=>{(0,ne.yG)(ht)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new I.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new I.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=E,this._parentMaterialMenu=x instanceof je?x:void 0,u.nativeElement.addEventListener("touchstart",this._handleTouchStart,Zt)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Zt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const o=this.menu;if(this._menuOpen||!o)return;const u=this._createOverlay(o),g=u.getConfig(),E=g.positionStrategy;this._setPosition(o,E),g.hasBackdrop=null==o.hasBackdrop?!this.triggersSubmenu():o.hasBackdrop,u.attach(this._getPortal(o)),o.lazyContent&&o.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(o),o instanceof je&&(o._startAnimation(),o._directDescendantItems.changes.pipe((0,fe.R)(o.close)).subscribe(()=>{E.withLockedPosition(!1).reapplyLastPosition(),E.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(o,u){this._focusMonitor&&o?this._focusMonitor.focusVia(this._element,o,u):this._element.nativeElement.focus(u)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(o){if(!this._overlayRef||!this.menuOpen)return;const u=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===o||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,u instanceof je?(u._resetAnimation(),u.lazyContent?u._animationDone.pipe((0,Ne.h)(g=>"void"===g.toState),(0,ct.q)(1),(0,fe.R)(u.lazyContent._attached)).subscribe({next:()=>u.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),u?.lazyContent?.detach())}_initMenu(o){o.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,o.direction=this.dir,this._setMenuElevation(o),o.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(o){if(o.setElevation){let u=0,g=o.parentMenu;for(;g;)u++,g=g.parentMenu;o.setElevation(u)}}_setIsMenuOpen(o){o!==this._menuOpen&&(this._menuOpen=o,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(o),this._changeDetectorRef.markForCheck())}_createOverlay(o){if(!this._overlayRef){const u=this._getOverlayConfig(o);this._subscribeToPositions(o,u.positionStrategy),this._overlayRef=this._overlay.create(u),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(o){return new ot.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:o.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:o.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(o,u){o.setPositionClasses&&u.positionChanges.subscribe(g=>{const E="start"===g.connectionPair.overlayX?"after":"before",x="top"===g.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>o.setPositionClasses(E,x)):o.setPositionClasses(E,x)})}_setPosition(o,u){let[g,E]="before"===o.xPosition?["end","start"]:["start","end"],[x,V]="above"===o.yPosition?["bottom","top"]:["top","bottom"],[q,se]=[x,V],[rt,ht]=[g,E],Tt=0;if(this.triggersSubmenu()){if(ht=g="before"===o.xPosition?"start":"end",E=rt="end"===g?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Jt=this._parentMaterialMenu.items.first;this._parentInnerPadding=Jt?Jt._getHostElement().offsetTop:0}Tt="bottom"===x?this._parentInnerPadding:-this._parentInnerPadding}}else o.overlapTrigger||(q="top"===x?"bottom":"top",se="top"===V?"bottom":"top");u.withPositions([{originX:g,originY:q,overlayX:rt,overlayY:x,offsetY:Tt},{originX:E,originY:q,overlayX:ht,overlayY:x,offsetY:Tt},{originX:g,originY:se,overlayX:rt,overlayY:V,offsetY:-Tt},{originX:E,originY:se,overlayX:ht,overlayY:V,offsetY:-Tt}])}_menuClosingActions(){const o=this._overlayRef.backdropClick(),u=this._overlayRef.detachments(),g=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Ue.of)(),E=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Ne.h)(x=>x!==this._menuItemInstance),(0,Ne.h)(()=>this._menuOpen)):(0,Ue.of)();return(0,Fe.T)(o,g,E,u)}_handleMousedown(o){(0,ne.X6)(o)||(this._openedBy=0===o.button?"mouse":void 0,this.triggersSubmenu()&&o.preventDefault())}_handleKeydown(o){const u=o.keyCode;(u===Re.K5||u===Re.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(u===Re.SV&&"ltr"===this.dir||u===Re.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(o){this.triggersSubmenu()?(o.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Ne.h)(o=>o===this._menuItemInstance&&!o.disabled),Ut(0,ye.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof je&&this.menu._isAnimating?this.menu._animationDone.pipe((0,ct.q)(1),Ut(0,ye.E),(0,fe.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(o){return(!this._portal||this._portal.templateRef!==o.templateRef)&&(this._portal=new Le.UE(o.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(u){return new(u||l)(I.Y36(ot.aV),I.Y36(I.SBq),I.Y36(I.s_b),I.Y36(Ve),I.Y36(qt,8),I.Y36(at,10),I.Y36(st.Is,8),I.Y36(ne.tE),I.Y36(I.R0b))};static#t=this.\u0275dir=I.lG2({type:l,hostVars:3,hostBindings:function(u,g){1&u&&I.NdJ("click",function(x){return g._handleClick(x)})("mousedown",function(x){return g._handleMousedown(x)})("keydown",function(x){return g._handleKeydown(x)}),2&u&&I.uIk("aria-haspopup",g.menu?"menu":null)("aria-expanded",g.menuOpen)("aria-controls",g.menuOpen?g.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return l})(),Un=(()=>{class l extends In{static#e=this.\u0275fac=function(){let o;return function(g){return(o||(o=I.n5z(l)))(g||l)}}();static#t=this.\u0275dir=I.lG2({type:l,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[I.qOj]})}return l})(),Xn=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=I.oAB({type:l});static#n=this.\u0275inj=I.cJS({providers:[ut],imports:[Ie.ez,tn.si,tn.BQ,ot.U8,Nt.ZD,tn.BQ]})}return l})();const Fn=["*",[["mat-toolbar-row"]]],Mt=["*","mat-toolbar-row"],Vn=(0,tn.pj)(class{constructor(l){this._elementRef=l}});let kt=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275dir=I.lG2({type:l,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return l})(),lt=(()=>{class l extends Vn{constructor(o,u,g){super(o),this._platform=u,this._document=g}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(u){return new(u||l)(I.Y36(I.SBq),I.Y36(Oe.t4),I.Y36(Ie.K0))};static#t=this.\u0275cmp=I.Xpm({type:l,selectors:[["mat-toolbar"]],contentQueries:function(u,g,E){if(1&u&&I.Suo(E,kt,5),2&u){let x;I.iGM(x=I.CRH())&&(g._toolbarRows=x)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(u,g){2&u&&I.ekj("mat-toolbar-multiple-rows",g._toolbarRows.length>0)("mat-toolbar-single-row",0===g._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[I.qOj],ngContentSelectors:Mt,decls:2,vars:0,template:function(u,g){1&u&&(I.F$t(Fn),I.Hsn(0),I.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return l})(),Te=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=I.oAB({type:l});static#n=this.\u0275inj=I.cJS({imports:[tn.BQ,tn.BQ]})}return l})(),Ze=(()=>{class l{constructor(o){this.router=o}goToHomePage(){this.router.navigate([z.$])}goToMessagesPage(){this.router.navigate([z.w])}static#e=this.\u0275fac=function(u){return new(u||l)(I.Y36(k.F0))};static#t=this.\u0275cmp=I.Xpm({type:l,selectors:[["app-navbar"]],decls:21,vars:2,consts:[["color","primary"],[1,"fill-remaining-space"],["mat-icon-button","",3,"matMenuTriggerFor","mouseover"],["menuTrigger","matMenuTrigger"],[3,"overlapTrigger"],["menu","matMenu"],[3,"mouseleave"],["mat-menu-item","",3,"click"]],template:function(u,g){if(1&u){const E=I.EpF();I.TgZ(0,"mat-toolbar",0)(1,"span",1)(2,"button",2,3),I.NdJ("mouseover",function(){I.CHM(E);const V=I.MAs(3);return I.KtG(V.openMenu())}),I.TgZ(4,"mat-icon"),I._uU(5,"menu"),I.qZA()(),I.TgZ(6,"mat-menu",4,5)(8,"span",6),I.NdJ("mouseleave",function(){I.CHM(E);const V=I.MAs(3);return I.KtG(V.closeMenu())}),I.TgZ(9,"button",7),I.NdJ("click",function(){return g.goToHomePage()}),I.TgZ(10,"mat-icon"),I._uU(11,"home"),I.qZA(),I.TgZ(12,"span"),I._uU(13,"Home"),I.qZA()(),I.TgZ(14,"button",7),I.NdJ("click",function(){return g.goToMessagesPage()}),I.TgZ(15,"mat-icon"),I._uU(16,"message"),I.qZA(),I.TgZ(17,"span"),I._uU(18,"Messages"),I.qZA()()()()(),I.TgZ(19,"span",1),I._uU(20,"Message App"),I.qZA()()}if(2&u){const E=I.MAs(7);I.xp6(2),I.Q6J("matMenuTriggerFor",E),I.xp6(4),I.Q6J("overlapTrigger",!1)}},dependencies:[X.RK,be.Hw,It,at,Un,lt],styles:[".fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}"]})}return l})();var xt=T(1839);const ve=["determinateSpinner"];function ie(l,a){if(1&l&&(I.O4$(),I.TgZ(0,"svg",11),I._UZ(1,"circle",12),I.qZA()),2&l){const o=I.oxw();I.uIk("viewBox",o._viewBox()),I.xp6(1),I.Udp("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeCircumference()/2,"px")("stroke-width",o._circleStrokeWidth(),"%"),I.uIk("r",o._circleRadius())}}const Y=(0,tn.pj)(class{constructor(l){this._elementRef=l}},"primary"),$=new I.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function B(){return{diameter:_e}}}),_e=100;let Xt=(()=>{class l extends Y{constructor(o,u,g){super(o),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=_e,this._noopAnimations="NoopAnimations"===u&&!!g&&!g._forceAnimations,g&&(g.color&&(this.color=this.defaultColor=g.color),g.diameter&&(this.diameter=g.diameter),g.strokeWidth&&(this.strokeWidth=g.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(o){this._value=Math.max(0,Math.min(100,(0,de.su)(o)))}get diameter(){return this._diameter}set diameter(o){this._diameter=(0,de.su)(o)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(o){this._strokeWidth=(0,de.su)(o)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const o=2*this._circleRadius()+this.strokeWidth;return`0 0 ${o} ${o}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(u){return new(u||l)(I.Y36(I.SBq),I.Y36(I.QbO,8),I.Y36($))};static#t=this.\u0275cmp=I.Xpm({type:l,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(u,g){if(1&u&&I.Gf(ve,5),2&u){let E;I.iGM(E=I.CRH())&&(g._determinateCircle=E.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(u,g){2&u&&(I.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===g.mode?g.value:null)("mode",g.mode),I.Udp("width",g.diameter,"px")("height",g.diameter,"px")("--mdc-circular-progress-size",g.diameter+"px")("--mdc-circular-progress-active-indicator-width",g.diameter+"px"),I.ekj("_mat-animation-noopable",g._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===g.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[I.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(u,g){if(1&u&&(I.YNc(0,ie,2,8,"ng-template",null,0,I.W1O),I.TgZ(2,"div",1,2),I.O4$(),I.TgZ(4,"svg",3),I._UZ(5,"circle",4),I.qZA()(),I.kcU(),I.TgZ(6,"div",5)(7,"div",6)(8,"div",7),I.GkF(9,8),I.qZA(),I.TgZ(10,"div",9),I.GkF(11,8),I.qZA(),I.TgZ(12,"div",10),I.GkF(13,8),I.qZA()()()),2&u){const E=I.MAs(1);I.xp6(4),I.uIk("viewBox",g._viewBox()),I.xp6(1),I.Udp("stroke-dasharray",g._strokeCircumference(),"px")("stroke-dashoffset",g._strokeDashOffset(),"px")("stroke-width",g._circleStrokeWidth(),"%"),I.uIk("r",g._circleRadius()),I.xp6(4),I.Q6J("ngTemplateOutlet",E),I.xp6(2),I.Q6J("ngTemplateOutlet",E),I.xp6(2),I.Q6J("ngTemplateOutlet",E)}},dependencies:[Ie.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return l})(),kn=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=I.oAB({type:l});static#n=this.\u0275inj=I.cJS({imports:[Ie.ez,tn.BQ]})}return l})();function Rn(l,a){1&l&&(I.TgZ(0,"div",1),I._UZ(1,"mat-spinner",2),I.qZA()),2&l&&(I.xp6(1),I.Q6J("diameter",50))}let Gn=(()=>{class l{constructor(o){this.loader=o}static#e=this.\u0275fac=function(u){return new(u||l)(I.Y36(xt.D))};static#t=this.\u0275cmp=I.Xpm({type:l,selectors:[["app-spinner"]],decls:2,vars:3,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],["color","primary","mode","indeterminate",3,"diameter"]],template:function(u,g){1&u&&(I.YNc(0,Rn,2,1,"div",0),I.ALo(1,"async")),2&u&&I.Q6J("ngIf",I.lcZ(1,1,g.loader.isLoading$))},dependencies:[Ie.O5,Xt,Ie.Ov],styles:[".spinner-overlay[_ngcontent-%COMP%]{background-color:#000000b3;position:absolute;top:0;left:0;width:100%;min-height:805px;z-index:9998}mat-spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;z-index:9999}"]})}return l})(),ti=(()=>{class l{constructor(){this.title="message-table-angular"}static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275cmp=I.Xpm({type:l,selectors:[["app-root"]],decls:3,vars:0,template:function(u,g){1&u&&(I.TgZ(0,"router-outlet"),I._UZ(1,"app-spinner")(2,"app-navbar"),I.qZA())},dependencies:[k.lC,Ze,Gn]})}return l})();function tt(l){return new I.vHH(3e3,!1)}function Eo(l){switch(l.length){case 0:return new Se.ZN;case 1:return l[0];default:return new Se.ZE(l)}}function la(l,a,o=new Map,u=new Map){const g=[],E=[];let x=-1,V=null;if(a.forEach(q=>{const se=q.get("offset"),rt=se==x,ht=rt&&V||new Map;q.forEach((Tt,Jt)=>{let ln=Jt,wn=Tt;if("offset"!==Jt)switch(ln=l.normalizePropertyName(ln,g),wn){case Se.k1:wn=o.get(Jt);break;case Se.l3:wn=u.get(Jt);break;default:wn=l.normalizeStyleValue(Jt,ln,wn,g)}ht.set(ln,wn)}),rt||E.push(ht),V=ht,x=se}),g.length)throw function es(l){return new I.vHH(3502,!1)}();return E}function Bo(l,a,o,u){switch(a){case"start":l.onStart(()=>u(o&&oo(o,"start",l)));break;case"done":l.onDone(()=>u(o&&oo(o,"done",l)));break;case"destroy":l.onDestroy(()=>u(o&&oo(o,"destroy",l)))}}function oo(l,a,o){const E=Zr(l.element,l.triggerName,l.fromState,l.toState,a||l.phaseName,o.totalTime??l.totalTime,!!o.disabled),x=l._data;return null!=x&&(E._data=x),E}function Zr(l,a,o,u,g="",E=0,x){return{element:l,triggerName:a,fromState:o,toState:u,phaseName:g,totalTime:E,disabled:!!x}}function Tr(l,a,o){let u=l.get(a);return u||l.set(a,u=o),u}function wo(l){const a=l.indexOf(":");return[l.substring(1,a),l.slice(a+1)]}const ts=(()=>typeof document>"u"?null:document.documentElement)();function Ds(l){const a=l.parentNode||l.host||null;return a===ts?null:a}let rr=null,Li=!1;function ns(l,a){for(;a;){if(a===l)return!0;a=Ds(a)}return!1}function Vi(l,a,o){if(o)return Array.from(l.querySelectorAll(a));const u=l.querySelector(a);return u?[u]:[]}let Uo=(()=>{class l{validateStyleProperty(o){return function Qr(l){rr||(rr=function ko(){return typeof document<"u"?document.body:null}()||{},Li=!!rr.style&&"WebkitAppearance"in rr.style);let a=!0;return rr.style&&!function _i(l){return"ebkit"==l.substring(1,6)}(l)&&(a=l in rr.style,!a&&Li&&(a="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in rr.style)),a}(o)}matchesElement(o,u){return!1}containsElement(o,u){return ns(o,u)}getParentElement(o){return Ds(o)}query(o,u,g){return Vi(o,u,g)}computeStyle(o,u,g){return g||""}animate(o,u,g,E,x,V=[],q){return new Se.ZN(g,E)}static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275prov=I.Yz7({token:l,factory:l.\u0275fac})}return l})(),Mi=(()=>{class l{static#e=this.NOOP=new Uo}return l})();const Cn=1e3,Nr="ng-enter",is="ng-leave",nr="ng-trigger",so=".ng-trigger",Si="ng-animating",Ur=".ng-animating";function or(l){if("number"==typeof l)return l;const a=l.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:Yn(parseFloat(a[1]),a[2])}function Yn(l,a){return"s"===a?l*Cn:l}function ao(l,a,o){return l.hasOwnProperty("duration")?l:function co(l,a,o){let g,E=0,x="";if("string"==typeof l){const V=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===V)return a.push(tt()),{duration:0,delay:0,easing:""};g=Yn(parseFloat(V[1]),V[2]);const q=V[3];null!=q&&(E=Yn(parseFloat(q),V[4]));const se=V[5];se&&(x=se)}else g=l;if(!o){let V=!1,q=a.length;g<0&&(a.push(function ft(){return new I.vHH(3100,!1)}()),V=!0),E<0&&(a.push(function Ke(){return new I.vHH(3101,!1)}()),V=!0),V&&a.splice(q,0,tt())}return{duration:g,delay:E,easing:x}}(l,a,o)}function Io(l,a={}){return Object.keys(l).forEach(o=>{a[o]=l[o]}),a}function Hi(l){const a=new Map;return Object.keys(l).forEach(o=>{a.set(o,l[o])}),a}function zr(l,a=new Map,o){if(o)for(let[u,g]of o)a.set(u,g);for(let[u,g]of l)a.set(u,g);return a}function Fr(l,a,o){a.forEach((u,g)=>{const E=xo(g);o&&!o.has(g)&&o.set(g,l.style[E]),l.style[E]=u})}function rs(l,a){a.forEach((o,u)=>{const g=xo(u);l.style[g]=""})}function Co(l){return Array.isArray(l)?1==l.length?l[0]:(0,Se.vP)(l):l}const jr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ts(l){let a=[];if("string"==typeof l){let o;for(;o=jr.exec(l);)a.push(o[1]);jr.lastIndex=0}return a}function Jn(l,a,o){const u=l.toString(),g=u.replace(jr,(E,x)=>{let V=a[x];return null==V&&(o.push(function Dt(l){return new I.vHH(3003,!1)}()),V=""),V.toString()});return g==u?l:g}function As(l){const a=[];let o=l.next();for(;!o.done;)a.push(o.value),o=l.next();return a}const jo=/-+([a-z0-9])/g;function xo(l){return l.replace(jo,(...a)=>a[1].toUpperCase())}function sr(l,a,o){switch(a.type){case 7:return l.visitTrigger(a,o);case 0:return l.visitState(a,o);case 1:return l.visitTransition(a,o);case 2:return l.visitSequence(a,o);case 3:return l.visitGroup(a,o);case 4:return l.visitAnimate(a,o);case 5:return l.visitKeyframes(a,o);case 6:return l.visitStyle(a,o);case 8:return l.visitReference(a,o);case 9:return l.visitAnimateChild(a,o);case 10:return l.visitAnimateRef(a,o);case 11:return l.visitQuery(a,o);case 12:return l.visitStagger(a,o);default:throw function Pt(l){return new I.vHH(3004,!1)}()}}function br(l,a){return window.getComputedStyle(l)[a]}const Er="*";function ua(l,a){const o=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(u=>function Do(l,a,o){if(":"==l[0]){const q=function Ha(l,a){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,u)=>parseFloat(u)>parseFloat(o);case":decrement":return(o,u)=>parseFloat(u)<parseFloat(o);default:return a.push(function Br(l){return new I.vHH(3016,!1)}()),"* => *"}}(l,o);if("function"==typeof q)return void a.push(q);l=q}const u=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return o.push(function Di(l){return new I.vHH(3015,!1)}()),a;const g=u[1],E=u[2],x=u[3];a.push(Z(g,x));"<"==E[0]&&!(g==Er&&x==Er)&&a.push(Z(x,g))}(u,o,a)):o.push(l),o}const $a=new Set(["true","1"]),Xr=new Set(["false","0"]);function Z(l,a){const o=$a.has(l)||Xr.has(l),u=$a.has(a)||Xr.has(a);return(g,E)=>{let x=l==Er||l==g,V=a==Er||a==E;return!x&&o&&"boolean"==typeof g&&(x=g?$a.has(l):Xr.has(l)),!V&&u&&"boolean"==typeof E&&(V=E?$a.has(a):Xr.has(a)),x&&V}}const U=new RegExp("s*:selfs*,?","g");function pe(l,a,o,u){return new Pn(l).build(a,o,u)}class Pn{constructor(a){this._driver=a}build(a,o,u){const g=new da(o);return this._resetContextStyleTimingState(g),sr(this,Co(a),g)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles=new Map,a.collectedStyles.set("",new Map),a.currentTime=0}visitTrigger(a,o){let u=o.queryCount=0,g=o.depCount=0;const E=[],x=[];return"@"==a.name.charAt(0)&&o.errors.push(function _t(){return new I.vHH(3006,!1)}()),a.definitions.forEach(V=>{if(this._resetContextStyleTimingState(o),0==V.type){const q=V,se=q.name;se.toString().split(/\s*,\s*/).forEach(rt=>{q.name=rt,E.push(this.visitState(q,o))}),q.name=se}else if(1==V.type){const q=this.visitTransition(V,o);u+=q.queryCount,g+=q.depCount,x.push(q)}else o.errors.push(function re(){return new I.vHH(3007,!1)}())}),{type:7,name:a.name,states:E,transitions:x,queryCount:u,depCount:g,options:null}}visitState(a,o){const u=this.visitStyle(a.styles,o),g=a.options&&a.options.params||null;if(u.containsDynamicStyles){const E=new Set,x=g||{};u.styles.forEach(V=>{V instanceof Map&&V.forEach(q=>{Ts(q).forEach(se=>{x.hasOwnProperty(se)||E.add(se)})})}),E.size&&(As(E.values()),o.errors.push(function we(l,a){return new I.vHH(3008,!1)}()))}return{type:0,name:a.name,style:u,options:g?{params:g}:null}}visitTransition(a,o){o.queryCount=0,o.depCount=0;const u=sr(this,Co(a.animation),o);return{type:1,matchers:ua(a.expr,o.errors),animation:u,queryCount:o.queryCount,depCount:o.depCount,options:fa(a.options)}}visitSequence(a,o){return{type:2,steps:a.steps.map(u=>sr(this,u,o)),options:fa(a.options)}}visitGroup(a,o){const u=o.currentTime;let g=0;const E=a.steps.map(x=>{o.currentTime=u;const V=sr(this,x,o);return g=Math.max(g,o.currentTime),V});return o.currentTime=g,{type:3,steps:E,options:fa(a.options)}}visitAnimate(a,o){const u=function Hu(l,a){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return $s(ao(l,a).duration,0,"");const o=l;if(o.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=$s(0,0,"");return E.dynamic=!0,E.strValue=o,E}const g=ao(o,a);return $s(g.duration,g.delay,g.easing)}(a.timings,o.errors);o.currentAnimateTimings=u;let g,E=a.styles?a.styles:(0,Se.oB)({});if(5==E.type)g=this.visitKeyframes(E,o);else{let x=a.styles,V=!1;if(!x){V=!0;const se={};u.easing&&(se.easing=u.easing),x=(0,Se.oB)(se)}o.currentTime+=u.duration+u.delay;const q=this.visitStyle(x,o);q.isEmptyStep=V,g=q}return o.currentAnimateTimings=null,{type:4,timings:u,style:g,options:null}}visitStyle(a,o){const u=this._makeStyleAst(a,o);return this._validateStyleAst(u,o),u}_makeStyleAst(a,o){const u=[],g=Array.isArray(a.styles)?a.styles:[a.styles];for(let V of g)"string"==typeof V?V===Se.l3?u.push(V):o.errors.push(new I.vHH(3002,!1)):u.push(Hi(V));let E=!1,x=null;return u.forEach(V=>{if(V instanceof Map&&(V.has("easing")&&(x=V.get("easing"),V.delete("easing")),!E))for(let q of V.values())if(q.toString().indexOf("{{")>=0){E=!0;break}}),{type:6,styles:u,easing:x,offset:a.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(a,o){const u=o.currentAnimateTimings;let g=o.currentTime,E=o.currentTime;u&&E>0&&(E-=u.duration+u.delay),a.styles.forEach(x=>{"string"!=typeof x&&x.forEach((V,q)=>{const se=o.collectedStyles.get(o.currentQuerySelector),rt=se.get(q);let ht=!0;rt&&(E!=g&&E>=rt.startTime&&g<=rt.endTime&&(o.errors.push(function cn(l,a,o,u,g){return new I.vHH(3010,!1)}()),ht=!1),E=rt.startTime),ht&&se.set(q,{startTime:E,endTime:g}),o.options&&function lo(l,a,o){const u=a.params||{},g=Ts(l);g.length&&g.forEach(E=>{u.hasOwnProperty(E)||o.push(function $e(l){return new I.vHH(3001,!1)}())})}(V,o.options,o.errors)})})}visitKeyframes(a,o){const u={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function $n(){return new I.vHH(3011,!1)}()),u;let E=0;const x=[];let V=!1,q=!1,se=0;const rt=a.steps.map(xr=>{const Dr=this._makeStyleAst(xr,o);let Cs=null!=Dr.offset?Dr.offset:function ha(l){if("string"==typeof l)return null;let a=null;if(Array.isArray(l))l.forEach(o=>{if(o instanceof Map&&o.has("offset")){const u=o;a=parseFloat(u.get("offset")),u.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const o=l;a=parseFloat(o.get("offset")),o.delete("offset")}return a}(Dr.styles),hs=0;return null!=Cs&&(E++,hs=Dr.offset=Cs),q=q||hs<0||hs>1,V=V||hs<se,se=hs,x.push(hs),Dr});q&&o.errors.push(function Tn(){return new I.vHH(3012,!1)}()),V&&o.errors.push(function ni(){return new I.vHH(3200,!1)}());const ht=a.steps.length;let Tt=0;E>0&&E<ht?o.errors.push(function ci(){return new I.vHH(3202,!1)}()):0==E&&(Tt=1/(ht-1));const Jt=ht-1,ln=o.currentTime,wn=o.currentAnimateTimings,ui=wn.duration;return rt.forEach((xr,Dr)=>{const Cs=Tt>0?Dr==Jt?1:Tt*Dr:x[Dr],hs=Cs*ui;o.currentTime=ln+wn.delay+hs,wn.duration=hs,this._validateStyleAst(xr,o),xr.offset=Cs,u.styles.push(xr)}),u}visitReference(a,o){return{type:8,animation:sr(this,Co(a.animation),o),options:fa(a.options)}}visitAnimateChild(a,o){return o.depCount++,{type:9,options:fa(a.options)}}visitAnimateRef(a,o){return{type:10,animation:this.visitReference(a.animation,o),options:fa(a.options)}}visitQuery(a,o){const u=o.currentQuerySelector,g=a.options||{};o.queryCount++,o.currentQuery=a;const[E,x]=function mi(l){const a=!!l.split(/\s*,\s*/).find(o=>":self"==o);return a&&(l=l.replace(U,"")),l=l.replace(/@\*/g,so).replace(/@\w+/g,o=>so+"-"+o.slice(1)).replace(/:animating/g,Ur),[l,a]}(a.selector);o.currentQuerySelector=u.length?u+" "+E:E,Tr(o.collectedStyles,o.currentQuerySelector,new Map);const V=sr(this,Co(a.animation),o);return o.currentQuery=null,o.currentQuerySelector=u,{type:11,selector:E,limit:g.limit||0,optional:!!g.optional,includeSelf:x,animation:V,originalSelector:a.selector,options:fa(a.options)}}visitStagger(a,o){o.currentQuery||o.errors.push(function Ai(){return new I.vHH(3013,!1)}());const u="full"===a.timings?{duration:0,delay:0,easing:"full"}:ao(a.timings,o.errors,!0);return{type:12,animation:sr(this,Co(a.animation),o),timings:u,options:null}}}class da{constructor(a){this.errors=a,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fa(l){return l?(l=Io(l)).params&&(l.params=function ho(l){return l?Io(l):null}(l.params)):l={},l}function $s(l,a,o){return{duration:l,delay:a,easing:o}}function pa(l,a,o,u,g,E,x=null,V=!1){return{type:1,element:l,keyframes:a,preStyleProps:o,postStyleProps:u,duration:g,delay:E,totalTime:g+E,easing:x,subTimeline:V}}class ma{constructor(){this._map=new Map}get(a){return this._map.get(a)||[]}append(a,o){let u=this._map.get(a);u||this._map.set(a,u=[]),u.push(...o)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const Ga=new RegExp(":enter","g"),ro=new RegExp(":leave","g");function ms(l,a,o,u,g,E=new Map,x=new Map,V,q,se=[]){return(new Ka).buildKeyframes(l,a,o,u,g,E,x,V,q,se)}class Ka{buildKeyframes(a,o,u,g,E,x,V,q,se,rt=[]){se=se||new ma;const ht=new $o(a,o,se,g,E,rt,[]);ht.options=q;const Tt=q.delay?or(q.delay):0;ht.currentTimeline.delayNextStep(Tt),ht.currentTimeline.setStyles([x],null,ht.errors,q),sr(this,u,ht);const Jt=ht.timelines.filter(ln=>ln.containsAnimation());if(Jt.length&&V.size){let ln;for(let wn=Jt.length-1;wn>=0;wn--){const ui=Jt[wn];if(ui.element===o){ln=ui;break}}ln&&!ln.allowOnlyTimelineStyles()&&ln.setStyles([V],null,ht.errors,q)}return Jt.length?Jt.map(ln=>ln.buildKeyframes()):[pa(o,[],[],[],0,Tt,"",!1)]}visitTrigger(a,o){}visitState(a,o){}visitTransition(a,o){}visitAnimateChild(a,o){const u=o.subInstructions.get(o.element);if(u){const g=o.createSubContext(a.options),E=o.currentTimeline.currentTime,x=this._visitSubInstructions(u,g,g.options);E!=x&&o.transformIntoNewTimeline(x)}o.previousNode=a}visitAnimateRef(a,o){const u=o.createSubContext(a.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],o,u),this.visitReference(a.animation,u),o.transformIntoNewTimeline(u.currentTimeline.currentTime),o.previousNode=a}_applyAnimationRefDelays(a,o,u){for(const g of a){const E=g?.delay;if(E){const x="number"==typeof E?E:or(Jn(E,g?.params??{},o.errors));u.delayNextStep(x)}}}_visitSubInstructions(a,o,u){let E=o.currentTimeline.currentTime;const x=null!=u.duration?or(u.duration):null,V=null!=u.delay?or(u.delay):null;return 0!==x&&a.forEach(q=>{const se=o.appendInstructionToTimeline(q,x,V);E=Math.max(E,se.duration+se.delay)}),E}visitReference(a,o){o.updateOptions(a.options,!0),sr(this,a.animation,o),o.previousNode=a}visitSequence(a,o){const u=o.subContextCount;let g=o;const E=a.options;if(E&&(E.params||E.delay)&&(g=o.createSubContext(E),g.transformIntoNewTimeline(),null!=E.delay)){6==g.previousNode.type&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=wr);const x=or(E.delay);g.delayNextStep(x)}a.steps.length&&(a.steps.forEach(x=>sr(this,x,g)),g.currentTimeline.applyStylesToKeyframe(),g.subContextCount>u&&g.transformIntoNewTimeline()),o.previousNode=a}visitGroup(a,o){const u=[];let g=o.currentTimeline.currentTime;const E=a.options&&a.options.delay?or(a.options.delay):0;a.steps.forEach(x=>{const V=o.createSubContext(a.options);E&&V.delayNextStep(E),sr(this,x,V),g=Math.max(g,V.currentTimeline.currentTime),u.push(V.currentTimeline)}),u.forEach(x=>o.currentTimeline.mergeTimelineCollectedStyles(x)),o.transformIntoNewTimeline(g),o.previousNode=a}_visitTiming(a,o){if(a.dynamic){const u=a.strValue;return ao(o.params?Jn(u,o.params,o.errors):u,o.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,o){const u=o.currentAnimateTimings=this._visitTiming(a.timings,o),g=o.currentTimeline;u.delay&&(o.incrementTime(u.delay),g.snapshotCurrentStyles());const E=a.style;5==E.type?this.visitKeyframes(E,o):(o.incrementTime(u.duration),this.visitStyle(E,o),g.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=a}visitStyle(a,o){const u=o.currentTimeline,g=o.currentAnimateTimings;!g&&u.hasCurrentStyleProperties()&&u.forwardFrame();const E=g&&g.easing||a.easing;a.isEmptyStep?u.applyEmptyStep(E):u.setStyles(a.styles,E,o.errors,o.options),o.previousNode=a}visitKeyframes(a,o){const u=o.currentAnimateTimings,g=o.currentTimeline.duration,E=u.duration,V=o.createSubContext().currentTimeline;V.easing=u.easing,a.styles.forEach(q=>{V.forwardTime((q.offset||0)*E),V.setStyles(q.styles,q.easing,o.errors,o.options),V.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(V),o.transformIntoNewTimeline(g+E),o.previousNode=a}visitQuery(a,o){const u=o.currentTimeline.currentTime,g=a.options||{},E=g.delay?or(g.delay):0;E&&(6===o.previousNode.type||0==u&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=wr);let x=u;const V=o.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!g.optional,o.errors);o.currentQueryTotal=V.length;let q=null;V.forEach((se,rt)=>{o.currentQueryIndex=rt;const ht=o.createSubContext(a.options,se);E&&ht.delayNextStep(E),se===o.element&&(q=ht.currentTimeline),sr(this,a.animation,ht),ht.currentTimeline.applyStylesToKeyframe(),x=Math.max(x,ht.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(x),q&&(o.currentTimeline.mergeTimelineCollectedStyles(q),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=a}visitStagger(a,o){const u=o.parentContext,g=o.currentTimeline,E=a.timings,x=Math.abs(E.duration),V=x*(o.currentQueryTotal-1);let q=x*o.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":q=V-q;break;case"full":q=u.currentStaggerTime}const rt=o.currentTimeline;q&&rt.delayNextStep(q);const ht=rt.currentTime;sr(this,a.animation,o),o.previousNode=a,u.currentStaggerTime=g.currentTime-ht+(g.startTime-u.currentTimeline.startTime)}}const wr={};class $o{constructor(a,o,u,g,E,x,V,q){this._driver=a,this.element=o,this.subInstructions=u,this._enterClassName=g,this._leaveClassName=E,this.errors=x,this.timelines=V,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=q||new Ar(this._driver,o,0),V.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,o){if(!a)return;const u=a;let g=this.options;null!=u.duration&&(g.duration=or(u.duration)),null!=u.delay&&(g.delay=or(u.delay));const E=u.params;if(E){let x=g.params;x||(x=this.options.params={}),Object.keys(E).forEach(V=>{(!o||!x.hasOwnProperty(V))&&(x[V]=Jn(E[V],x,this.errors))})}}_copyOptions(){const a={};if(this.options){const o=this.options.params;if(o){const u=a.params={};Object.keys(o).forEach(g=>{u[g]=o[g]})}}return a}createSubContext(a=null,o,u){const g=o||this.element,E=new $o(this._driver,g,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(g,u||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(a),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(a){return this.previousNode=wr,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,o,u){const g={duration:o??a.duration,delay:this.currentTimeline.currentTime+(u??0)+a.delay,easing:""},E=new Vc(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,g,a.stretchStartingKeyframe);return this.timelines.push(E),g}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,o,u,g,E,x){let V=[];if(g&&V.push(this.element),a.length>0){a=(a=a.replace(Ga,"."+this._enterClassName)).replace(ro,"."+this._leaveClassName);let se=this._driver.query(this.element,a,1!=u);0!==u&&(se=u<0?se.slice(se.length+u,se.length):se.slice(0,u)),V.push(...se)}return!E&&0==V.length&&x.push(function Ln(l){return new I.vHH(3014,!1)}()),V}}class Ar{constructor(a,o,u,g){this._driver=a,this.element=o,this.startTime=u,this._elementTimelineStylesLookup=g,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+a),o&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,o){return this.applyStylesToKeyframe(),new Ar(this._driver,a,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,o){this._localTimelineStyles.set(a,o),this._globalTimelineStyles.set(a,o),this._styleSummary.set(a,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[o,u]of this._globalTimelineStyles)this._backFill.set(o,u||Se.l3),this._currentKeyframe.set(o,Se.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,o,u,g){o&&this._previousKeyframe.set("easing",o);const E=g&&g.params||{},x=function Jr(l,a){const o=new Map;let u;return l.forEach(g=>{if("*"===g){u=u||a.keys();for(let E of u)o.set(E,Se.l3)}else zr(g,o)}),o}(a,this._globalTimelineStyles);for(let[V,q]of x){const se=Jn(q,E,u);this._pendingStyles.set(V,se),this._localTimelineStyles.has(V)||this._backFill.set(V,this._globalTimelineStyles.get(V)??Se.l3),this._updateStyle(V,se)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((a,o)=>{this._currentKeyframe.set(o,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,a)}))}snapshotCurrentStyles(){for(let[a,o]of this._localTimelineStyles)this._pendingStyles.set(a,o),this._updateStyle(a,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let o in this._currentKeyframe)a.push(o);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((o,u)=>{const g=this._styleSummary.get(u);(!g||o.time>g.time)&&this._updateStyle(u,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,o=new Set,u=1===this._keyframes.size&&0===this.duration;let g=[];this._keyframes.forEach((V,q)=>{const se=zr(V,new Map,this._backFill);se.forEach((rt,ht)=>{rt===Se.k1?a.add(ht):rt===Se.l3&&o.add(ht)}),u||se.set("offset",q/this.duration),g.push(se)});const E=a.size?As(a.values()):[],x=o.size?As(o.values()):[];if(u){const V=g[0],q=new Map(V);V.set("offset",0),q.set("offset",1),g=[V,q]}return pa(this.element,g,E,x,this.duration,this.startTime,this.easing,!1)}}class Vc extends Ar{constructor(a,o,u,g,E,x,V=!1){super(a,o,x.delay),this.keyframes=u,this.preStyleProps=g,this.postStyleProps=E,this._stretchStartingKeyframe=V,this.timings={duration:x.duration,delay:x.delay,easing:x.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:o,duration:u,easing:g}=this.timings;if(this._stretchStartingKeyframe&&o){const E=[],x=u+o,V=o/x,q=zr(a[0]);q.set("offset",0),E.push(q);const se=zr(a[0]);se.set("offset",gs(V)),E.push(se);const rt=a.length-1;for(let ht=1;ht<=rt;ht++){let Tt=zr(a[ht]);const Jt=Tt.get("offset");Tt.set("offset",gs((o+Jt*u)/x)),E.push(Tt)}u=x,o=0,g="",a=E}return pa(this.element,a,this.preStyleProps,this.postStyleProps,u,o,g,!0)}}function gs(l,a=3){const o=Math.pow(10,a-1);return Math.round(l*o)/o}class qa{}const su=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class eo extends qa{normalizePropertyName(a,o){return xo(a)}normalizeStyleValue(a,o,u,g){let E="";const x=u.toString().trim();if(su.has(o)&&0!==u&&"0"!==u)if("number"==typeof u)E="px";else{const V=u.match(/^[+-]?[\d\.]+([a-z]*)$/);V&&0==V[1].length&&g.push(function he(l,a){return new I.vHH(3005,!1)}())}return x+E}}function Bc(l,a,o,u,g,E,x,V,q,se,rt,ht,Tt){return{type:0,element:l,triggerName:a,isRemovalTransition:g,fromState:o,fromStyles:E,toState:u,toStyles:x,timelines:V,queriedElements:q,preStyleProps:se,postStyleProps:rt,totalTime:ht,errors:Tt}}const Bi={};class wl{constructor(a,o,u){this._triggerName=a,this.ast=o,this._stateStyles=u}match(a,o,u,g){return function To(l,a,o,u,g){return l.some(E=>E(a,o,u,g))}(this.ast.matchers,a,o,u,g)}buildStyles(a,o,u){let g=this._stateStyles.get("*");return void 0!==a&&(g=this._stateStyles.get(a?.toString())||g),g?g.buildStyles(o,u):new Map}build(a,o,u,g,E,x,V,q,se,rt){const ht=[],Tt=this.ast.options&&this.ast.options.params||Bi,ln=this.buildStyles(u,V&&V.params||Bi,ht),wn=q&&q.params||Bi,ui=this.buildStyles(g,wn,ht),xr=new Set,Dr=new Map,Cs=new Map,hs="void"===g,vg={params:Ws(wn,Tt),delay:this.ast.options?.delay},Bu=rt?[]:ms(a,o,this.ast.animation,E,x,ln,ui,vg,se,ht);let ra=0;if(Bu.forEach(Wd=>{ra=Math.max(Wd.duration+Wd.delay,ra)}),ht.length)return Bc(o,this._triggerName,u,g,hs,ln,ui,[],[],Dr,Cs,ra,ht);Bu.forEach(Wd=>{const zu=Wd.element,pE=Tr(Dr,zu,new Set);Wd.preStyleProps.forEach(Tp=>pE.add(Tp));const Cy=Tr(Cs,zu,new Set);Wd.postStyleProps.forEach(Tp=>Cy.add(Tp)),zu!==o&&xr.add(zu)});const Uu=As(xr.values());return Bc(o,this._triggerName,u,g,hs,ln,ui,Bu,Uu,Dr,Cs,ra)}}function Ws(l,a){const o=Io(a);for(const u in l)l.hasOwnProperty(u)&&null!=l[u]&&(o[u]=l[u]);return o}class Za{constructor(a,o,u){this.styles=a,this.defaultParams=o,this.normalizer=u}buildStyles(a,o){const u=new Map,g=Io(this.defaultParams);return Object.keys(a).forEach(E=>{const x=a[E];null!==x&&(g[E]=x)}),this.styles.styles.forEach(E=>{"string"!=typeof E&&E.forEach((x,V)=>{x&&(x=Jn(x,g,o));const q=this.normalizer.normalizePropertyName(V,o);x=this.normalizer.normalizeStyleValue(V,q,x,o),u.set(V,x)})}),u}}class au{constructor(a,o,u){this.name=a,this.ast=o,this._normalizer=u,this.transitionFactories=[],this.states=new Map,o.states.forEach(g=>{this.states.set(g.name,new Za(g.style,g.options&&g.options.params||{},u))}),os(this.states,"true","1"),os(this.states,"false","0"),o.transitions.forEach(g=>{this.transitionFactories.push(new wl(a,g,this.states))}),this.fallbackTransition=function $u(l,a,o){return new wl(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(x,V)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,o,u,g){return this.transitionFactories.find(x=>x.match(a,o,u,g))||null}matchStyles(a,o,u){return this.fallbackTransition.buildStyles(a,o,u)}}function os(l,a,o){l.has(a)?l.has(o)||l.set(o,l.get(a)):l.has(o)&&l.set(a,l.get(o))}const ss=new ma;class fo{constructor(a,o,u){this.bodyNode=a,this._driver=o,this._normalizer=u,this._animations=new Map,this._playersById=new Map,this.players=[]}register(a,o){const u=[],E=pe(this._driver,o,u,[]);if(u.length)throw function fs(l){return new I.vHH(3503,!1)}();this._animations.set(a,E)}_buildPlayer(a,o,u){const g=a.element,E=la(this._normalizer,a.keyframes,o,u);return this._driver.animate(g,E,a.duration,a.delay,a.easing,[],!0)}create(a,o,u={}){const g=[],E=this._animations.get(a);let x;const V=new Map;if(E?(x=ms(this._driver,o,E,Nr,is,new Map,new Map,u,ss,g),x.forEach(rt=>{const ht=Tr(V,rt.element,new Map);rt.postStyleProps.forEach(Tt=>ht.set(Tt,null))})):(g.push(function pr(){return new I.vHH(3300,!1)}()),x=[]),g.length)throw function js(l){return new I.vHH(3504,!1)}();V.forEach((rt,ht)=>{rt.forEach((Tt,Jt)=>{rt.set(Jt,this._driver.computeStyle(ht,Jt,Se.l3))})});const se=Eo(x.map(rt=>{const ht=V.get(rt.element);return this._buildPlayer(rt,new Map,ht)}));return this._playersById.set(a,se),se.onDestroy(()=>this.destroy(a)),this.players.push(se),se}destroy(a){const o=this._getPlayer(a);o.destroy(),this._playersById.delete(a);const u=this.players.indexOf(o);u>=0&&this.players.splice(u,1)}_getPlayer(a){const o=this._playersById.get(a);if(!o)throw function oa(l){return new I.vHH(3301,!1)}();return o}listen(a,o,u,g){const E=Zr(o,"","","");return Bo(this._getPlayer(a),u,E,g),()=>{}}command(a,o,u,g){if("register"==u)return void this.register(a,g[0]);if("create"==u)return void this.create(a,o,g[0]||{});const E=this._getPlayer(a);switch(u){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(g[0]));break;case"destroy":this.destroy(a)}}}const _a="ng-animate-queued",Gs="ng-animate-disabled",zc=[],R={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},j="__ng_removed";class ee{get params(){return this.options.params}constructor(a,o=""){this.namespaceId=o;const u=a&&a.hasOwnProperty("value");if(this.value=function Ri(l){return l??null}(u?a.value:a),u){const E=Io(a);delete E.value,this.options=E}else this.options={};this.options.params||(this.options.params={})}absorbOptions(a){const o=a.params;if(o){const u=this.options.params;Object.keys(o).forEach(g=>{null==u[g]&&(u[g]=o[g])})}}}const Ge="void",Vt=new ee(Ge);class nn{constructor(a,o,u){this.id=a,this.hostElement=o,this._engine=u,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+a,Qt(o,this._hostClassName)}listen(a,o,u,g){if(!this._triggers.has(o))throw function za(l,a){return new I.vHH(3302,!1)}();if(null==u||0==u.length)throw function sa(l){return new I.vHH(3303,!1)}();if(!function Zi(l){return"start"==l||"done"==l}(u))throw function Sa(l,a){return new I.vHH(3400,!1)}();const E=Tr(this._elementListeners,a,[]),x={name:o,phase:u,callback:g};E.push(x);const V=Tr(this._engine.statesByElement,a,new Map);return V.has(o)||(Qt(a,nr),Qt(a,nr+"-"+o),V.set(o,Vt)),()=>{this._engine.afterFlush(()=>{const q=E.indexOf(x);q>=0&&E.splice(q,1),this._triggers.has(o)||V.delete(o)})}}register(a,o){return!this._triggers.has(a)&&(this._triggers.set(a,o),!0)}_getTrigger(a){const o=this._triggers.get(a);if(!o)throw function Hs(l){return new I.vHH(3401,!1)}();return o}trigger(a,o,u,g=!0){const E=this._getTrigger(o),x=new Gi(this.id,o,a);let V=this._engine.statesByElement.get(a);V||(Qt(a,nr),Qt(a,nr+"-"+o),this._engine.statesByElement.set(a,V=new Map));let q=V.get(o);const se=new ee(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&q&&se.absorbOptions(q.options),V.set(o,se),q||(q=Vt),se.value!==Ge&&q.value===se.value){if(!function On(l,a){const o=Object.keys(l),u=Object.keys(a);if(o.length!=u.length)return!1;for(let g=0;g<o.length;g++){const E=o[g];if(!a.hasOwnProperty(E)||l[E]!==a[E])return!1}return!0}(q.params,se.params)){const wn=[],ui=E.matchStyles(q.value,q.params,wn),xr=E.matchStyles(se.value,se.params,wn);wn.length?this._engine.reportError(wn):this._engine.afterFlush(()=>{rs(a,ui),Fr(a,xr)})}return}const Tt=Tr(this._engine.playersByElement,a,[]);Tt.forEach(wn=>{wn.namespaceId==this.id&&wn.triggerName==o&&wn.queued&&wn.destroy()});let Jt=E.matchTransition(q.value,se.value,a,se.params),ln=!1;if(!Jt){if(!g)return;Jt=E.fallbackTransition,ln=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:o,transition:Jt,fromState:q,toState:se,player:x,isFallbackTransition:ln}),ln||(Qt(a,_a),x.onStart(()=>{$i(a,_a)})),x.onDone(()=>{let wn=this.players.indexOf(x);wn>=0&&this.players.splice(wn,1);const ui=this._engine.playersByElement.get(a);if(ui){let xr=ui.indexOf(x);xr>=0&&ui.splice(xr,1)}}),this.players.push(x),Tt.push(x),x}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(o=>o.delete(a)),this._elementListeners.forEach((o,u)=>{this._elementListeners.set(u,o.filter(g=>g.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const o=this._engine.playersByElement.get(a);o&&(o.forEach(u=>u.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,o){const u=this._engine.driver.query(a,so,!0);u.forEach(g=>{if(g[j])return;const E=this._engine.fetchNamespacesByElement(g);E.size?E.forEach(x=>x.triggerLeaveAnimation(g,o,!1,!0)):this.clearElementCache(g)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(g=>this.clearElementCache(g)))}triggerLeaveAnimation(a,o,u,g){const E=this._engine.statesByElement.get(a),x=new Map;if(E){const V=[];if(E.forEach((q,se)=>{if(x.set(se,q.value),this._triggers.has(se)){const rt=this.trigger(a,se,Ge,g);rt&&V.push(rt)}}),V.length)return this._engine.markElementAsRemoved(this.id,a,!0,o,x),u&&Eo(V).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const o=this._elementListeners.get(a),u=this._engine.statesByElement.get(a);if(o&&u){const g=new Set;o.forEach(E=>{const x=E.name;if(g.has(x))return;g.add(x);const q=this._triggers.get(x).fallbackTransition,se=u.get(x)||Vt,rt=new ee(Ge),ht=new Gi(this.id,x,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:x,transition:q,fromState:se,toState:rt,player:ht,isFallbackTransition:!0})})}}removeNode(a,o){const u=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,o),this.triggerLeaveAnimation(a,o,!0))return;let g=!1;if(u.totalAnimations){const E=u.players.length?u.playersByQueriedElement.get(a):[];if(E&&E.length)g=!0;else{let x=a;for(;x=x.parentNode;)if(u.statesByElement.get(x)){g=!0;break}}}if(this.prepareLeaveAnimationListeners(a),g)u.markElementAsRemoved(this.id,a,!1,o);else{const E=a[j];(!E||E===R)&&(u.afterFlush(()=>this.clearElementCache(a)),u.destroyInnerAnimations(a),u._onRemovalComplete(a,o))}}insertNode(a,o){Qt(a,this._hostClassName)}drainQueuedTransitions(a){const o=[];return this._queue.forEach(u=>{const g=u.player;if(g.destroyed)return;const E=u.element,x=this._elementListeners.get(E);x&&x.forEach(V=>{if(V.name==u.triggerName){const q=Zr(E,u.triggerName,u.fromState.value,u.toState.value);q._data=a,Bo(u.player,V.phase,q,V.callback)}}),g.markedForDestroy?this._engine.afterFlush(()=>{g.destroy()}):o.push(u)}),this._queue=[],o.sort((u,g)=>{const E=u.transition.ast.depCount,x=g.transition.ast.depCount;return 0==E||0==x?E-x:this._engine.driver.containsElement(u.element,g.element)?1:-1})}destroy(a){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}}class Wn{_onRemovalComplete(a,o){this.onRemovalComplete(a,o)}constructor(a,o,u){this.bodyNode=a,this.driver=o,this._normalizer=u,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(g,E)=>{}}get queuedPlayers(){const a=[];return this._namespaceList.forEach(o=>{o.players.forEach(u=>{u.queued&&a.push(u)})}),a}createNamespace(a,o){const u=new nn(a,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(u,o):(this.newHostElements.set(o,u),this.collectEnterElement(o)),this._namespaceLookup[a]=u}_balanceNamespaceList(a,o){const u=this._namespaceList,g=this.namespacesByHostElement;if(u.length-1>=0){let x=!1,V=this.driver.getParentElement(o);for(;V;){const q=g.get(V);if(q){const se=u.indexOf(q);u.splice(se+1,0,a),x=!0;break}V=this.driver.getParentElement(V)}x||u.unshift(a)}else u.push(a);return g.set(o,a),a}register(a,o){let u=this._namespaceLookup[a];return u||(u=this.createNamespace(a,o)),u}registerTrigger(a,o,u){let g=this._namespaceLookup[a];g&&g.register(o,u)&&this.totalAnimations++}destroy(a,o){a&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const u=this._fetchNamespace(a);this.namespacesByHostElement.delete(u.hostElement);const g=this._namespaceList.indexOf(u);g>=0&&this._namespaceList.splice(g,1),u.destroy(o),delete this._namespaceLookup[a]}))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const o=new Set,u=this.statesByElement.get(a);if(u)for(let g of u.values())if(g.namespaceId){const E=this._fetchNamespace(g.namespaceId);E&&o.add(E)}return o}trigger(a,o,u,g){if(jn(o)){const E=this._fetchNamespace(a);if(E)return E.trigger(o,u,g),!0}return!1}insertNode(a,o,u,g){if(!jn(o))return;const E=o[j];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const x=this.collectedLeaveElements.indexOf(o);x>=0&&this.collectedLeaveElements.splice(x,1)}if(a){const x=this._fetchNamespace(a);x&&x.insertNode(o,u)}g&&this.collectEnterElement(o)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,o){o?this.disabledNodes.has(a)||(this.disabledNodes.add(a),Qt(a,Gs)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),$i(a,Gs))}removeNode(a,o,u){if(jn(o)){const g=a?this._fetchNamespace(a):null;g?g.removeNode(o,u):this.markElementAsRemoved(a,o,!1,u);const E=this.namespacesByHostElement.get(o);E&&E.id!==a&&E.removeNode(o,u)}else this._onRemovalComplete(o,u)}markElementAsRemoved(a,o,u,g,E){this.collectedLeaveElements.push(o),o[j]={namespaceId:a,setForRemoval:g,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:E}}listen(a,o,u,g,E){return jn(o)?this._fetchNamespace(a).listen(o,u,g,E):()=>{}}_buildInstruction(a,o,u,g,E){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,u,g,a.fromState.options,a.toState.options,o,E)}destroyInnerAnimations(a){let o=this.driver.query(a,so,!0);o.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(a,Ur,!0),o.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(a){const o=this.playersByElement.get(a);o&&o.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(a){const o=this.playersByQueriedElement.get(a);o&&o.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return Eo(this.players).onDone(()=>a());a()})}processLeaveNode(a){const o=a[j];if(o&&o.setForRemoval){if(a[j]=R,o.namespaceId){this.destroyInnerAnimations(a);const u=this._fetchNamespace(o.namespaceId);u&&u.clearElementCache(a)}this._onRemovalComplete(a,o.setForRemoval)}a.classList?.contains(Gs)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(a=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,g)=>this._balanceNamespaceList(u,g)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)Qt(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{o=this._flushAnimations(u,a)}finally{for(let g=0;g<u.length;g++)u[g]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],o.length?Eo(o).onDone(()=>{u.forEach(g=>g())}):u.forEach(g=>g())}}reportError(a){throw function aa(l){return new I.vHH(3402,!1)}()}_flushAnimations(a,o){const u=new ma,g=[],E=new Map,x=[],V=new Map,q=new Map,se=new Map,rt=new Set;this.disabledNodes.forEach(Zn=>{rt.add(Zn);const di=this.driver.query(Zn,".ng-animate-queued",!0);for(let vi=0;vi<di.length;vi++)rt.add(di[vi])});const ht=this.bodyNode,Tt=Array.from(this.statesByElement.keys()),Jt=_s(Tt,this.collectedEnterElements),ln=new Map;let wn=0;Jt.forEach((Zn,di)=>{const vi=Nr+wn++;ln.set(di,vi),Zn.forEach(ir=>Qt(ir,vi))});const ui=[],xr=new Set,Dr=new Set;for(let Zn=0;Zn<this.collectedLeaveElements.length;Zn++){const di=this.collectedLeaveElements[Zn],vi=di[j];vi&&vi.setForRemoval&&(ui.push(di),xr.add(di),vi.hasAnimation?this.driver.query(di,".ng-star-inserted",!0).forEach(ir=>xr.add(ir)):Dr.add(di))}const Cs=new Map,hs=_s(Tt,Array.from(xr));hs.forEach((Zn,di)=>{const vi=is+wn++;Cs.set(di,vi),Zn.forEach(ir=>Qt(ir,vi))}),a.push(()=>{Jt.forEach((Zn,di)=>{const vi=ln.get(di);Zn.forEach(ir=>$i(ir,vi))}),hs.forEach((Zn,di)=>{const vi=Cs.get(di);Zn.forEach(ir=>$i(ir,vi))}),ui.forEach(Zn=>{this.processLeaveNode(Zn)})});const vg=[],Bu=[];for(let Zn=this._namespaceList.length-1;Zn>=0;Zn--)this._namespaceList[Zn].drainQueuedTransitions(o).forEach(vi=>{const ir=vi.player,xs=vi.element;if(vg.push(ir),this.collectedEnterElements.length){const Aa=xs[j];if(Aa&&Aa.setForMove){if(Aa.previousTriggersValues&&Aa.previousTriggersValues.has(vi.triggerName)){const bg=Aa.previousTriggersValues.get(vi.triggerName),ou=this.statesByElement.get(vi.element);if(ou&&ou.has(vi.triggerName)){const gE=ou.get(vi.triggerName);gE.value=bg,ou.set(vi.triggerName,gE)}}return void ir.destroy()}}const ju=!ht||!this.driver.containsElement(ht,xs),_l=Cs.get(xs),Gd=ln.get(xs),Po=this._buildInstruction(vi,u,Gd,_l,ju);if(Po.errors&&Po.errors.length)return void Bu.push(Po);if(ju)return ir.onStart(()=>rs(xs,Po.fromStyles)),ir.onDestroy(()=>Fr(xs,Po.toStyles)),void g.push(ir);if(vi.isFallbackTransition)return ir.onStart(()=>rs(xs,Po.fromStyles)),ir.onDestroy(()=>Fr(xs,Po.toStyles)),void g.push(ir);const mC=[];Po.timelines.forEach(Aa=>{Aa.stretchStartingKeyframe=!0,this.disabledNodes.has(Aa.element)||mC.push(Aa)}),Po.timelines=mC,u.append(xs,Po.timelines),x.push({instruction:Po,player:ir,element:xs}),Po.queriedElements.forEach(Aa=>Tr(V,Aa,[]).push(ir)),Po.preStyleProps.forEach((Aa,bg)=>{if(Aa.size){let ou=q.get(bg);ou||q.set(bg,ou=new Set),Aa.forEach((gE,$w)=>ou.add($w))}}),Po.postStyleProps.forEach((Aa,bg)=>{let ou=se.get(bg);ou||se.set(bg,ou=new Set),Aa.forEach((gE,$w)=>ou.add($w))})});if(Bu.length){const Zn=[];Bu.forEach(di=>{Zn.push(function Gr(l,a){return new I.vHH(3505,!1)}())}),vg.forEach(di=>di.destroy()),this.reportError(Zn)}const ra=new Map,Uu=new Map;x.forEach(Zn=>{const di=Zn.element;u.has(di)&&(Uu.set(di,di),this._beforeAnimationBuild(Zn.player.namespaceId,Zn.instruction,ra))}),g.forEach(Zn=>{const di=Zn.element;this._getPreviousPlayers(di,!1,Zn.namespaceId,Zn.triggerName,null).forEach(ir=>{Tr(ra,di,[]).push(ir),ir.destroy()})});const Wd=ui.filter(Zn=>Il(Zn,q,se)),zu=new Map;ar(zu,this.driver,Dr,se,Se.l3).forEach(Zn=>{Il(Zn,q,se)&&Wd.push(Zn)});const Cy=new Map;Jt.forEach((Zn,di)=>{ar(Cy,this.driver,new Set(Zn),q,Se.k1)}),Wd.forEach(Zn=>{const di=zu.get(Zn),vi=Cy.get(Zn);zu.set(Zn,new Map([...di?.entries()??[],...vi?.entries()??[]]))});const Tp=[],mE=[],Hw={};x.forEach(Zn=>{const{element:di,player:vi,instruction:ir}=Zn;if(u.has(di)){if(rt.has(di))return vi.onDestroy(()=>Fr(di,ir.toStyles)),vi.disabled=!0,vi.overrideTotalTime(ir.totalTime),void g.push(vi);let xs=Hw;if(Uu.size>1){let _l=di;const Gd=[];for(;_l=_l.parentNode;){const Po=Uu.get(_l);if(Po){xs=Po;break}Gd.push(_l)}Gd.forEach(Po=>Uu.set(Po,xs))}const ju=this._buildAnimation(vi.namespaceId,ir,ra,E,Cy,zu);if(vi.setRealPlayer(ju),xs===Hw)Tp.push(vi);else{const _l=this.playersByElement.get(xs);_l&&_l.length&&(vi.parentPlayer=Eo(_l)),g.push(vi)}}else rs(di,ir.fromStyles),vi.onDestroy(()=>Fr(di,ir.toStyles)),mE.push(vi),rt.has(di)&&g.push(vi)}),mE.forEach(Zn=>{const di=E.get(Zn.element);if(di&&di.length){const vi=Eo(di);Zn.setRealPlayer(vi)}}),g.forEach(Zn=>{Zn.parentPlayer?Zn.syncPlayerEvents(Zn.parentPlayer):Zn.destroy()});for(let Zn=0;Zn<ui.length;Zn++){const di=ui[Zn],vi=di[j];if($i(di,is),vi&&vi.hasAnimation)continue;let ir=[];if(V.size){let ju=V.get(di);ju&&ju.length&&ir.push(...ju);let _l=this.driver.query(di,Ur,!0);for(let Gd=0;Gd<_l.length;Gd++){let Po=V.get(_l[Gd]);Po&&Po.length&&ir.push(...Po)}}const xs=ir.filter(ju=>!ju.destroyed);xs.length?cr(this,di,xs):this.processLeaveNode(di)}return ui.length=0,Tp.forEach(Zn=>{this.players.push(Zn),Zn.onDone(()=>{Zn.destroy();const di=this.players.indexOf(Zn);this.players.splice(di,1)}),Zn.play()}),Tp}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,o,u,g,E){let x=[];if(o){const V=this.playersByQueriedElement.get(a);V&&(x=V)}else{const V=this.playersByElement.get(a);if(V){const q=!E||E==Ge;V.forEach(se=>{se.queued||!q&&se.triggerName!=g||x.push(se)})}}return(u||g)&&(x=x.filter(V=>!(u&&u!=V.namespaceId||g&&g!=V.triggerName))),x}_beforeAnimationBuild(a,o,u){const E=o.element,x=o.isRemovalTransition?void 0:a,V=o.isRemovalTransition?void 0:o.triggerName;for(const q of o.timelines){const se=q.element,rt=se!==E,ht=Tr(u,se,[]);this._getPreviousPlayers(se,rt,x,V,o.toState).forEach(Jt=>{const ln=Jt.getRealPlayer();ln.beforeDestroy&&ln.beforeDestroy(),Jt.destroy(),ht.push(Jt)})}rs(E,o.fromStyles)}_buildAnimation(a,o,u,g,E,x){const V=o.triggerName,q=o.element,se=[],rt=new Set,ht=new Set,Tt=o.timelines.map(ln=>{const wn=ln.element;rt.add(wn);const ui=wn[j];if(ui&&ui.removedBeforeQueried)return new Se.ZN(ln.duration,ln.delay);const xr=wn!==q,Dr=function Lr(l){const a=[];return En(l,a),a}((u.get(wn)||zc).map(ra=>ra.getRealPlayer())).filter(ra=>!!ra.element&&ra.element===wn),Cs=E.get(wn),hs=x.get(wn),vg=la(this._normalizer,ln.keyframes,Cs,hs),Bu=this._buildPlayer(ln,vg,Dr);if(ln.subTimeline&&g&&ht.add(wn),xr){const ra=new Gi(a,V,wn);ra.setRealPlayer(Bu),se.push(ra)}return Bu});se.forEach(ln=>{Tr(this.playersByQueriedElement,ln.element,[]).push(ln),ln.onDone(()=>function Ui(l,a,o){let u=l.get(a);if(u){if(u.length){const g=u.indexOf(o);u.splice(g,1)}0==u.length&&l.delete(a)}return u}(this.playersByQueriedElement,ln.element,ln))}),rt.forEach(ln=>Qt(ln,Si));const Jt=Eo(Tt);return Jt.onDestroy(()=>{rt.forEach(ln=>$i(ln,Si)),Fr(q,o.toStyles)}),ht.forEach(ln=>{Tr(g,ln,[]).push(Jt)}),Jt}_buildPlayer(a,o,u){return o.length>0?this.driver.animate(a.element,o,a.duration,a.delay,a.easing,u):new Se.ZN(a.duration,a.delay)}}class Gi{constructor(a,o,u){this.namespaceId=a,this.triggerName=o,this.element=u,this._player=new Se.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((o,u)=>{o.forEach(g=>Bo(a,u,void 0,g))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const o=this._player;o.triggerCallback&&a.onStart(()=>o.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,o){Tr(this._queuedCallbacks,a,[]).push(o)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const o=this._player;o.triggerCallback&&o.triggerCallback(a)}}function jn(l){return l&&1===l.nodeType}function Ii(l,a){const o=l.style.display;return l.style.display=a??"none",o}function ar(l,a,o,u,g){const E=[];o.forEach(q=>E.push(Ii(q)));const x=[];u.forEach((q,se)=>{const rt=new Map;q.forEach(ht=>{const Tt=a.computeStyle(se,ht,g);rt.set(ht,Tt),(!Tt||0==Tt.length)&&(se[j]=oe,x.push(se))}),l.set(se,rt)});let V=0;return o.forEach(q=>Ii(q,E[V++])),x}function _s(l,a){const o=new Map;if(l.forEach(V=>o.set(V,[])),0==a.length)return o;const g=new Set(a),E=new Map;function x(V){if(!V)return 1;let q=E.get(V);if(q)return q;const se=V.parentNode;return q=o.has(se)?se:g.has(se)?1:x(se),E.set(V,q),q}return a.forEach(V=>{const q=x(V);1!==q&&o.get(q).push(V)}),o}function Qt(l,a){l.classList?.add(a)}function $i(l,a){l.classList?.remove(a)}function cr(l,a,o){Eo(o).onDone(()=>l.processLeaveNode(a))}function En(l,a){for(let o=0;o<l.length;o++){const u=l[o];u instanceof Se.ZE?En(u.players,a):a.push(u)}}function Il(l,a,o){const u=o.get(l);if(!u)return!1;let g=a.get(l);return g?u.forEach(E=>g.add(E)):a.set(l,u),o.delete(l),!0}class fn{constructor(a,o,u){this.bodyNode=a,this._driver=o,this._normalizer=u,this._triggerCache={},this.onRemovalComplete=(g,E)=>{},this._transitionEngine=new Wn(a,o,u),this._timelineEngine=new fo(a,o,u),this._transitionEngine.onRemovalComplete=(g,E)=>this.onRemovalComplete(g,E)}registerTrigger(a,o,u,g,E){const x=a+"-"+g;let V=this._triggerCache[x];if(!V){const q=[],rt=pe(this._driver,E,q,[]);if(q.length)throw function Wr(l,a){return new I.vHH(3404,!1)}();V=function Ra(l,a,o){return new au(l,a,o)}(g,rt,this._normalizer),this._triggerCache[x]=V}this._transitionEngine.registerTrigger(o,g,V)}register(a,o){this._transitionEngine.register(a,o)}destroy(a,o){this._transitionEngine.destroy(a,o)}onInsert(a,o,u,g){this._transitionEngine.insertNode(a,o,u,g)}onRemove(a,o,u){this._transitionEngine.removeNode(a,o,u)}disableAnimations(a,o){this._transitionEngine.markElementAsDisabled(a,o)}process(a,o,u,g){if("@"==u.charAt(0)){const[E,x]=wo(u);this._timelineEngine.command(E,o,x,g)}else this._transitionEngine.trigger(a,o,u,g)}listen(a,o,u,g,E){if("@"==u.charAt(0)){const[x,V]=wo(u);return this._timelineEngine.listen(x,o,V,E)}return this._transitionEngine.listen(a,o,u,g,E)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(a){this._transitionEngine.afterFlushAnimationsDone(a)}}let hn=(()=>{class l{static#e=this.initialStylesByElement=new WeakMap;constructor(o,u,g){this._element=o,this._startStyles=u,this._endStyles=g,this._state=0;let E=l.initialStylesByElement.get(o);E||l.initialStylesByElement.set(o,E=new Map),this._initialStyles=E}start(){this._state<1&&(this._startStyles&&Fr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fr(this._element,this._initialStyles),this._endStyles&&(Fr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(rs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rs(this._element,this._endStyles),this._endStyles=null),Fr(this._element,this._initialStyles),this._state=3)}}return l})();function Ki(l){let a=null;return l.forEach((o,u)=>{(function Sp(l){return"display"===l||"position"===l})(u)&&(a=a||new Map,a.set(u,o))}),a}class Kd{constructor(a,o,u,g){this.element=a,this.keyframes=o,this.options=u,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(a){const o=[];return a.forEach(u=>{o.push(Object.fromEntries(u))}),o}_triggerWebAnimation(a,o,u){return a.animate(this._convertKeyframesToObject(o),u)}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,g)=>{"offset"!==g&&a.set(g,this._finished?u:br(this.element,g))}),this.currentSnapshot=a}triggerCallback(a){const o="start"===a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class Xa{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}matchesElement(a,o){return!1}containsElement(a,o){return ns(a,o)}getParentElement(a){return Ds(a)}query(a,o,u){return Vi(a,o,u)}computeStyle(a,o,u){return window.getComputedStyle(a)[o]}animate(a,o,u,g,E,x=[]){const q={duration:u,delay:g,fill:0==g?"both":"forwards"};E&&(q.easing=E);const se=new Map,rt=x.filter(Jt=>Jt instanceof Kd);(function Ho(l,a){return 0===l||0===a})(u,g)&&rt.forEach(Jt=>{Jt.currentSnapshot.forEach((ln,wn)=>se.set(wn,ln))});let ht=function ja(l){return l.length?l[0]instanceof Map?l:l.map(a=>Hi(a)):[]}(o).map(Jt=>zr(Jt));ht=function uo(l,a,o){if(o.size&&a.length){let u=a[0],g=[];if(o.forEach((E,x)=>{u.has(x)||g.push(x),u.set(x,E)}),g.length)for(let E=1;E<a.length;E++){let x=a[E];g.forEach(V=>x.set(V,br(l,V)))}}return a}(a,ht,se);const Tt=function zt(l,a){let o=null,u=null;return Array.isArray(a)&&a.length?(o=Ki(a[0]),a.length>1&&(u=Ki(a[a.length-1]))):a instanceof Map&&(o=Ki(a)),o||u?new hn(l,o,u):null}(a,ht);return new Kd(a,ht,q,Tt)}}let Ao=(()=>{class l extends Se._j{constructor(o,u){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(u.body,{id:"0",encapsulation:I.ifc.None,styles:[],data:{animation:[]}})}build(o){const u=this._nextAnimationId.toString();this._nextAnimationId++;const g=Array.isArray(o)?(0,Se.vP)(o):o;return Rs(this._renderer,null,u,"register",[g]),new jc(u,this._renderer)}static#e=this.\u0275fac=function(u){return new(u||l)(I.LFG(I.FYo),I.LFG(Ie.K0))};static#t=this.\u0275prov=I.Yz7({token:l,factory:l.\u0275fac})}return l})();class jc extends Se.LC{constructor(a,o){super(),this._id=a,this._renderer=o}create(a,o){return new cu(this._id,a,o||{},this._renderer)}}class cu{constructor(a,o,u,g){this.id=a,this.element=o,this._renderer=g,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",u)}_listen(a,o){return this._renderer.listen(this.element,`@@${this.id}:${a}`,o)}_command(a,...o){return Rs(this._renderer,this.element,this.id,a,o)}onDone(a){this._listen("done",a)}onStart(a){this._listen("start",a)}onDestroy(a){this._listen("destroy",a)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(a){this._command("setPosition",a)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Rs(l,a,o,u,g){return l.setProperty(a,`@@${o}:${u}`,g)}const nf="@.disabled";let wg=(()=>{class l{constructor(o,u,g){this.delegate=o,this.engine=u,this._zone=g,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,u.onRemovalComplete=(E,x)=>{const V=x?.parentNode(E);V&&x.removeChild(V,E)}}createRenderer(o,u){const E=this.delegate.createRenderer(o,u);if(!(o&&u&&u.data&&u.data.animation)){let rt=this._rendererCache.get(E);return rt||(rt=new Wu("",E,this.engine,()=>this._rendererCache.delete(E)),this._rendererCache.set(E,rt)),rt}const x=u.id,V=u.id+"-"+this._currentId;this._currentId++,this.engine.register(V,o);const q=rt=>{Array.isArray(rt)?rt.forEach(q):this.engine.registerTrigger(x,V,o,rt.name,rt)};return u.data.animation.forEach(q),new li(this,V,E,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,u,g){o>=0&&o<this._microtaskId?this._zone.run(()=>u(g)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(E=>{const[x,V]=E;x(V)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([u,g]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(u){return new(u||l)(I.LFG(I.FYo),I.LFG(fn),I.LFG(I.R0b))};static#t=this.\u0275prov=I.Yz7({token:l,factory:l.\u0275fac})}return l})();class Wu{constructor(a,o,u,g){this.namespaceId=a,this.delegate=o,this.engine=u,this._onDestroy=g}get data(){return this.delegate.data}destroyNode(a){this.delegate.destroyNode?.(a)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(a,o){return this.delegate.createElement(a,o)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,o){this.delegate.appendChild(a,o),this.engine.onInsert(this.namespaceId,o,a,!1)}insertBefore(a,o,u,g=!0){this.delegate.insertBefore(a,o,u),this.engine.onInsert(this.namespaceId,o,a,g)}removeChild(a,o,u){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(a,o){return this.delegate.selectRootElement(a,o)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,o,u,g){this.delegate.setAttribute(a,o,u,g)}removeAttribute(a,o,u){this.delegate.removeAttribute(a,o,u)}addClass(a,o){this.delegate.addClass(a,o)}removeClass(a,o){this.delegate.removeClass(a,o)}setStyle(a,o,u,g){this.delegate.setStyle(a,o,u,g)}removeStyle(a,o,u){this.delegate.removeStyle(a,o,u)}setProperty(a,o,u){"@"==o.charAt(0)&&o==nf?this.disableAnimations(a,!!u):this.delegate.setProperty(a,o,u)}setValue(a,o){this.delegate.setValue(a,o)}listen(a,o,u){return this.delegate.listen(a,o,u)}disableAnimations(a,o){this.engine.disableAnimations(a,o)}}class li extends Wu{constructor(a,o,u,g,E){super(o,u,g,E),this.factory=a,this.namespaceId=o}setProperty(a,o,u){"@"==o.charAt(0)?"."==o.charAt(1)&&o==nf?this.disableAnimations(a,u=void 0===u||!!u):this.engine.process(this.namespaceId,a,o.slice(1),u):this.delegate.setProperty(a,o,u)}listen(a,o,u){if("@"==o.charAt(0)){const g=function Ks(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(a);let E=o.slice(1),x="";return"@"!=E.charAt(0)&&([E,x]=function Hc(l){const a=l.indexOf(".");return[l.substring(0,a),l.slice(a+1)]}(E)),this.engine.listen(this.namespaceId,g,E,x,V=>{this.factory.scheduleListenerCallback(V._data||-1,u,V)})}return this.delegate.listen(a,o,u)}}const Pi=[{provide:Se._j,useClass:Ao},{provide:qa,useFactory:function Kn(){return new eo}},{provide:fn,useClass:(()=>{class l extends fn{constructor(o,u,g,E){super(o.body,u,g)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(u){return new(u||l)(I.LFG(Ie.K0),I.LFG(Mi),I.LFG(qa),I.LFG(I.z2F))};static#t=this.\u0275prov=I.Yz7({token:l,factory:l.\u0275fac})}return l})()},{provide:I.FYo,useFactory:function lu(l,a,o){return new wg(l,a,o)},deps:[h.se,fn,I.R0b]}],Gu=[{provide:Mi,useFactory:()=>new Xa},{provide:I.QbO,useValue:"BrowserAnimations"},...Pi],gr=[{provide:Mi,useClass:Uo},{provide:I.QbO,useValue:"NoopAnimations"},...Pi];let Sn=(()=>{class l{static withConfig(o){return{ngModule:l,providers:o.disableAnimations?gr:Gu}}static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=I.oAB({type:l});static#n=this.\u0275inj=I.cJS({providers:Gu,imports:[h.b2]})}return l})();var ec=T(6223),tc=T(4516);T(8337);const ka=new I.OlP("mat-radio-default-options",{providedIn:"root",factory:function mo(){return{color:"accent"}}});let S=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=I.oAB({type:l});static#n=this.\u0275inj=I.cJS({imports:[tn.BQ,Ie.ez,tn.si,tn.BQ]})}return l})();var F=T(2939),D=T(4170),N=T(7700);let Pp=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=I.oAB({type:l});static#n=this.\u0275inj=I.cJS({imports:[tn.BQ,Ie.ez,tn.BQ]})}return l})();var kp=T(3566),Op=T(5313),Ig=T(8525),Np=T(3365);let Qd=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=I.oAB({type:l});static#n=this.\u0275inj=I.cJS({})}return l})(),_o=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=I.oAB({type:l});static#n=this.\u0275inj=I.cJS({imports:[tn.BQ,tn.si,Qd,tn.BQ,Qd]})}return l})();var ki=T(3182),Ji=T(1920);class Os{constructor(a){return a}}class Wo{constructor(){return(0,ki.C6)()}}const Sr=new I.OlP("angularfire2._apps"),af={provide:Os,useFactory:function Yu(l){return l&&1===l.length?l[0]:new Os((0,ki.Mq)())},deps:[[new I.FiY,Sr]]},Xs={provide:Wo,deps:[[new I.FiY,Sr]]};function Ir(l){return(a,o)=>{const u=a.runOutsideAngular(()=>l(o));return new Os(u)}}let vs=(()=>{class l{constructor(o){(0,ki.KN)("angularfire",Ji.q4.full,"core"),(0,ki.KN)("angularfire",Ji.q4.full,"app"),(0,ki.KN)("angular",I.q4F.full,o.toString())}static \u0275fac=function(u){return new(u||l)(I.LFG(I.Lbi))};static \u0275mod=I.oAB({type:l});static \u0275inj=I.cJS({providers:[af,Xs]})}return l})();function cf(l,...a){return{ngModule:vs,providers:[{provide:Sr,useFactory:Ir(l),multi:!0,deps:[I.R0b,I.zs3,Ji.HU,...a]}]}}const yo=(0,Ji.u3)(ki.ZF,!0);var Js=T(4562),At=T(9058),lr=T(534),Xd=T(7879),va=T(4537),Ml=T(5592);function Zu(l){return new Ml.y(function(a){return{unsubscribe:(0,Js.y)(l,a.next.bind(a),a.error.bind(a),a.complete.bind(a))}})}class ba{constructor(a){return a}}class fu{constructor(){return(0,Ji.vb)("auth")}}const hf=(0,Ji.u3)(Zu,!0);var Mg=T(5776);class C{constructor(a){return a}}const y="firestore",J=new I.OlP("angularfire2.firestore-instances");function yt(l){return(a,o)=>{const u=a.runOutsideAngular(()=>l(o));return new C(u)}}const Ht={provide:class b{constructor(){return(0,Ji.vb)(y)}},deps:[[new I.FiY,J]]},pn={provide:C,useFactory:function ce(l,a){const o=(0,Ji.JM)(y,l,a);return o&&new C(o)},deps:[[new I.FiY,J],Os]};let Hn=(()=>{class l{constructor(){(0,ki.KN)("angularfire",Ji.q4.full,"fst")}static \u0275fac=function(u){return new(u||l)};static \u0275mod=I.oAB({type:l});static \u0275inj=I.cJS({providers:[pn,Ht]})}return l})();function qn(l,...a){return{ngModule:Hn,providers:[{provide:J,useFactory:yt(l),multi:!0,deps:[I.R0b,I.zs3,Ji.HU,Wo,[new I.FiY,fu],[new I.FiY,Ji.Rf],...a]}]}}const Ko=(0,Ji.u3)(Mg.ad,!0);var Qi=T(5861),Qp=T(7398);var Ug=T(3997),zg=T(9384);const od=(l,a)=>a.some(o=>l instanceof o);let jg,Hg;const lh=new WeakMap,$g=new WeakMap,Xp=new WeakMap,Fa=new WeakMap,Df=new WeakMap;let Fl={get(l,a,o){if(l instanceof IDBTransaction){if("done"===a)return $g.get(l);if("objectStoreNames"===a)return l.objectStoreNames||Xp.get(l);if("store"===a)return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return Ls(l[a])},set:(l,a,o)=>(l[a]=o,!0),has:(l,a)=>l instanceof IDBTransaction&&("done"===a||"store"===a)||a in l};function Ll(l){return"function"==typeof l?function bu(l){return l!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xf(){return Hg||(Hg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(l)?function(...a){return l.apply(Tf(this),a),Ls(lh.get(this))}:function(...a){return Ls(l.apply(Tf(this),a))}:function(a,...o){const u=l.call(Tf(this),a,...o);return Xp.set(u,a.sort?a.sort():[a]),Ls(u)}}(l):(l instanceof IDBTransaction&&function Gg(l){if($g.has(l))return;const a=new Promise((o,u)=>{const g=()=>{l.removeEventListener("complete",E),l.removeEventListener("error",x),l.removeEventListener("abort",x)},E=()=>{o(),g()},x=()=>{u(l.error||new DOMException("AbortError","AbortError")),g()};l.addEventListener("complete",E),l.addEventListener("error",x),l.addEventListener("abort",x)});$g.set(l,a)}(l),od(l,function vu(){return jg||(jg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(l,Fl):l)}function Ls(l){if(l instanceof IDBRequest)return function Wg(l){const a=new Promise((o,u)=>{const g=()=>{l.removeEventListener("success",E),l.removeEventListener("error",x)},E=()=>{o(Ls(l.result)),g()},x=()=>{u(l.error),g()};l.addEventListener("success",E),l.addEventListener("error",x)});return a.then(o=>{o instanceof IDBCursor&&lh.set(o,l)}).catch(()=>{}),Df.set(a,l),a}(l);if(Fa.has(l))return Fa.get(l);const a=Ll(l);return a!==l&&(Fa.set(l,a),Df.set(a,l)),a}const Tf=l=>Df.get(l),Xy=["get","getKey","getAll","getAllKeys","count"],Kg=["put","add","delete","clear"],Yg=new Map;function qg(l,a){if(!(l instanceof IDBDatabase)||a in l||"string"!=typeof a)return;if(Yg.get(a))return Yg.get(a);const o=a.replace(/FromIndex$/,""),u=a!==o,g=Kg.includes(o);if(!(o in(u?IDBIndex:IDBObjectStore).prototype)||!g&&!Xy.includes(o))return;const E=function(){var x=(0,Qi.Z)(function*(V,...q){const se=this.transaction(V,g?"readwrite":"readonly");let rt=se.store;return u&&(rt=rt.index(q.shift())),(yield Promise.all([rt[o](...q),g&&se.done]))[0]});return function(q){return x.apply(this,arguments)}}();return Yg.set(a,E),E}!function lc(l){Fl=l(Fl)}(l=>({...l,get:(a,o,u)=>qg(a,o)||l.get(a,o,u),has:(a,o)=>!!qg(a,o)||l.has(a,o)}));const Zg="@firebase/installations",sd="0.6.4",ad=1e4,uc=`w:${sd}`,Jp="FIS_v2",cd="https://firebaseinstallations.googleapis.com/v1",zb=36e5,cs=new At.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Vl(l){return l instanceof At.ZR&&l.code.includes("request-failed")}function Bl({projectId:l}){return`${cd}/projects/${l}/installations`}function dh(l){return{token:l.token,requestStatus:2,expiresIn:Qg(l.expiresIn),creationTime:Date.now()}}function hh(l,a){return em.apply(this,arguments)}function em(){return(em=(0,Qi.Z)(function*(l,a){const u=(yield a.json()).error;return cs.create("request-failed",{requestName:l,serverCode:u.code,serverMessage:u.message,serverStatus:u.status})})).apply(this,arguments)}function Mf({apiKey:l}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":l})}function ol(l){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,Qi.Z)(function*(l){const a=yield l();return a.status>=500&&a.status<600?l():a})).apply(this,arguments)}function Qg(l){return Number(l.replace("s","000"))}function Xg(){return(Xg=(0,Qi.Z)(function*({appConfig:l,heartbeatServiceProvider:a},{fid:o}){const u=Bl(l),g=Mf(l),E=a.getImmediate({optional:!0});if(E){const se=yield E.getHeartbeatsHeader();se&&g.append("x-firebase-client",se)}const V={method:"POST",headers:g,body:JSON.stringify({fid:o,authVersion:Jp,appId:l.appId,sdkVersion:uc})},q=yield ol(()=>fetch(u,V));if(q.ok){const se=yield q.json();return{fid:se.fid||o,registrationStatus:2,refreshToken:se.refreshToken,authToken:dh(se.authToken)}}throw yield hh("Create Installation",q)})).apply(this,arguments)}function La(l){return new Promise(a=>{setTimeout(a,l)})}const Hb=/^[cdef][\w-]{21}$/,nm="";function fh(){try{const l=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(l),l[0]=112+l[0]%16;const o=function kf(l){return function Ul(l){return btoa(String.fromCharCode(...l)).replace(/\+/g,"-").replace(/\//g,"_")}(l).substr(0,22)}(l);return Hb.test(o)?o:nm}catch{return nm}}function dc(l){return`${l.appName}!${l.appId}`}const ld=new Map;function im(l,a){const o=dc(l);Of(o,a),function rm(l,a){const o=function ls(){return!hc&&"BroadcastChannel"in self&&(hc=new BroadcastChannel("[Firebase] FID Change"),hc.onmessage=l=>{Of(l.data.key,l.data.fid)}),hc}();o&&o.postMessage({key:l,fid:a}),function fc(){0===ld.size&&hc&&(hc.close(),hc=null)}()}(o,a)}function Of(l,a){const o=ld.get(l);if(o)for(const u of o)u(a)}let hc=null;const Jg="firebase-installations-database",Eu=1,wu="firebase-installations-store";let ud=null;function e_(){return ud||(ud=function Af(l,a,{blocked:o,upgrade:u,blocking:g,terminated:E}={}){const x=indexedDB.open(l,a),V=Ls(x);return u&&x.addEventListener("upgradeneeded",q=>{u(Ls(x.result),q.oldVersion,q.newVersion,Ls(x.transaction))}),o&&x.addEventListener("blocked",()=>o()),V.then(q=>{E&&q.addEventListener("close",()=>E()),g&&q.addEventListener("versionchange",()=>g())}).catch(()=>{}),V}(Jg,Eu,{upgrade:(l,a)=>{0===a&&l.createObjectStore(wu)}})),ud}function sl(l,a){return ph.apply(this,arguments)}function ph(){return(ph=(0,Qi.Z)(function*(l,a){const o=dc(l),g=(yield e_()).transaction(wu,"readwrite"),E=g.objectStore(wu),x=yield E.get(o);return yield E.put(a,o),yield g.done,(!x||x.fid!==a.fid)&&im(l,a.fid),a})).apply(this,arguments)}function Nf(l){return t_.apply(this,arguments)}function t_(){return(t_=(0,Qi.Z)(function*(l){const a=dc(l),u=(yield e_()).transaction(wu,"readwrite");yield u.objectStore(wu).delete(a),yield u.done})).apply(this,arguments)}function om(l,a){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,Qi.Z)(function*(l,a){const o=dc(l),g=(yield e_()).transaction(wu,"readwrite"),E=g.objectStore(wu),x=yield E.get(o),V=a(x);return void 0===V?yield E.delete(o):yield E.put(V,o),yield g.done,V&&(!x||x.fid!==V.fid)&&im(l,V.fid),V})).apply(this,arguments)}function n_(l){return mh.apply(this,arguments)}function mh(){return mh=(0,Qi.Z)(function*(l){let a;const o=yield om(l.appConfig,u=>{const g=function tv(l){return zl(l||{fid:fh(),registrationStatus:0})}(u),E=function $b(l,a){if(0===a.registrationStatus){if(!navigator.onLine)return{installationEntry:a,registrationPromise:Promise.reject(cs.create("app-offline"))};const o={fid:a.fid,registrationStatus:1,registrationTime:Date.now()},u=function i_(l,a){return gh.apply(this,arguments)}(l,o);return{installationEntry:o,registrationPromise:u}}return 1===a.registrationStatus?{installationEntry:a,registrationPromise:r_(l)}:{installationEntry:a}}(l,g);return a=E.registrationPromise,E.installationEntry});return o.fid===nm?{installationEntry:yield a}:{installationEntry:o,registrationPromise:a}}),mh.apply(this,arguments)}function gh(){return gh=(0,Qi.Z)(function*(l,a){try{const o=yield function tm(l,a){return Xg.apply(this,arguments)}(l,a);return sl(l.appConfig,o)}catch(o){throw Vl(o)&&409===o.customData.serverCode?yield Nf(l.appConfig):yield sl(l.appConfig,{fid:a.fid,registrationStatus:0}),o}}),gh.apply(this,arguments)}function r_(l){return pc.apply(this,arguments)}function pc(){return(pc=(0,Qi.Z)(function*(l){let a=yield _h(l.appConfig);for(;1===a.registrationStatus;)yield La(100),a=yield _h(l.appConfig);if(0===a.registrationStatus){const{installationEntry:o,registrationPromise:u}=yield n_(l);return u||o}return a})).apply(this,arguments)}function _h(l){return om(l,a=>{if(!a)throw cs.create("installation-not-found");return zl(a)})}function zl(l){return function nv(l){return 1===l.registrationStatus&&l.registrationTime+ad<Date.now()}(l)?{fid:l.fid,registrationStatus:0}:l}function Lf(){return(Lf=(0,Qi.Z)(function*({appConfig:l,heartbeatServiceProvider:a},o){const u=function iv(l,{fid:a}){return`${Bl(l)}/${a}/authTokens:generate`}(l,o),g=function Rf(l,{refreshToken:a}){const o=Mf(l);return o.append("Authorization",function Jy(l){return`${Jp} ${l}`}(a)),o}(l,o),E=a.getImmediate({optional:!0});if(E){const se=yield E.getHeartbeatsHeader();se&&g.append("x-firebase-client",se)}const V={method:"POST",headers:g,body:JSON.stringify({installation:{sdkVersion:uc,appId:l.appId}})},q=yield ol(()=>fetch(u,V));if(q.ok)return dh(yield q.json());throw yield hh("Generate Auth Token",q)})).apply(this,arguments)}function o_(l){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,Qi.Z)(function*(l,a=!1){let o;const u=yield om(l.appConfig,E=>{if(!Iu(E))throw cs.create("not-registered");const x=E.authToken;if(!a&&function Bf(l){return 2===l.requestStatus&&!function Uf(l){const a=Date.now();return a<l.creationTime||l.creationTime+l.expiresIn<a+zb}(l)}(x))return E;if(1===x.requestStatus)return o=function Yo(l,a){return s_.apply(this,arguments)}(l,a),E;{if(!navigator.onLine)throw cs.create("app-offline");const V=function zf(l){const a={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},l),{authToken:a})}(E);return o=function xE(l,a){return rv.apply(this,arguments)}(l,V),V}});return o?yield o:u.authToken}),Vf.apply(this,arguments)}function s_(){return(s_=(0,Qi.Z)(function*(l,a){let o=yield a_(l.appConfig);for(;1===o.authToken.requestStatus;)yield La(100),o=yield a_(l.appConfig);const u=o.authToken;return 0===u.requestStatus?o_(l,a):u})).apply(this,arguments)}function a_(l){return om(l,a=>{if(!Iu(a))throw cs.create("not-registered");return function c_(l){return 1===l.requestStatus&&l.requestTime+ad<Date.now()}(a.authToken)?Object.assign(Object.assign({},a),{authToken:{requestStatus:0}}):a})}function rv(){return rv=(0,Qi.Z)(function*(l,a){try{const o=yield function Wb(l,a){return Lf.apply(this,arguments)}(l,a),u=Object.assign(Object.assign({},a),{authToken:o});return yield sl(l.appConfig,u),o}catch(o){if(!Vl(o)||401!==o.customData.serverCode&&404!==o.customData.serverCode){const u=Object.assign(Object.assign({},a),{authToken:{requestStatus:0}});yield sl(l.appConfig,u)}else yield Nf(l.appConfig);throw o}}),rv.apply(this,arguments)}function Iu(l){return void 0!==l&&2===l.registrationStatus}function jf(){return(jf=(0,Qi.Z)(function*(l){const a=l,{installationEntry:o,registrationPromise:u}=yield n_(a);return u?u.catch(console.error):o_(a).catch(console.error),o.fid})).apply(this,arguments)}function Cu(){return Cu=(0,Qi.Z)(function*(l,a=!1){const o=l;return yield function dd(l){return cm.apply(this,arguments)}(o),(yield o_(o,a)).token}),Cu.apply(this,arguments)}function cm(){return(cm=(0,Qi.Z)(function*(l){const{registrationPromise:a}=yield n_(l);a&&(yield a)})).apply(this,arguments)}function fd(l){return cs.create("missing-app-config-values",{valueName:l})}const sv="installations",dm=l=>{const a=l.getProvider("app").getImmediate(),o=function u_(l){if(!l||!l.options)throw fd("App Configuration");if(!l.name)throw fd("App Name");const a=["projectId","apiKey","appId"];for(const o of a)if(!l.options[o])throw fd(o);return{appName:l.name,projectId:l.options.projectId,apiKey:l.options.apiKey,appId:l.options.appId}}(a);return{app:a,appConfig:o,heartbeatServiceProvider:(0,lr._getProvider)(a,"heartbeat"),_delete:()=>Promise.resolve()}},Vs=l=>{const a=l.getProvider("app").getImmediate(),o=(0,lr._getProvider)(a,sv).getImmediate();return{getId:()=>function sm(l){return jf.apply(this,arguments)}(o),getToken:g=>function am(l){return Cu.apply(this,arguments)}(o,g)}};(function mc(){(0,lr._registerComponent)(new va.wA(sv,dm,"PUBLIC")),(0,lr._registerComponent)(new va.wA("installations-internal",Vs,"PRIVATE"))})(),(0,lr.registerVersion)(Zg,sd),(0,lr.registerVersion)(Zg,sd,"esm2017");const xu="analytics",hm="firebase_id",av="origin",d_=6e4,pd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",h_="https://www.googletagmanager.com/gtag/js",Mo=new Xd.Yd("@firebase/analytics"),Vo=new At.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function f_(l){if(!l.startsWith(h_)){const a=Vo.create("invalid-gtag-resource",{gtagURL:l});return Mo.warn(a.message),""}return l}function p_(l){return Promise.all(l.map(a=>a.catch(o=>o)))}function Wf(){return(Wf=(0,Qi.Z)(function*(l,a,o,u,g,E){const x=u[g];try{if(x)yield a[x];else{const q=(yield p_(o)).find(se=>se.measurementId===g);q&&(yield a[q.appId])}}catch(V){Mo.error(V)}l("config",g,E)})).apply(this,arguments)}function gm(){return(gm=(0,Qi.Z)(function*(l,a,o,u,g){try{let E=[];if(g&&g.send_to){let x=g.send_to;Array.isArray(x)||(x=[x]);const V=yield p_(o);for(const q of x){const se=V.find(ht=>ht.measurementId===q),rt=se&&a[se.appId];if(!rt){E=[];break}E.push(rt)}}0===E.length&&(E=Object.values(a)),yield Promise.all(E),l("event",u,g||{})}catch(E){Mo.error(E)}})).apply(this,arguments)}const vh=30,ym=new class bh{constructor(a={},o=1e3){this.throttleMetadata=a,this.intervalMillis=o}getThrottleMetadata(a){return this.throttleMetadata[a]}setThrottleMetadata(a,o){this.throttleMetadata[a]=o}deleteThrottleMetadata(a){delete this.throttleMetadata[a]}};function qo(l){return new Headers({Accept:"application/json","x-goog-api-key":l})}function md(){return(md=(0,Qi.Z)(function*(l){var a;const{appId:o,apiKey:u}=l,g={method:"GET",headers:qo(u)},E=pd.replace("{app-id}",o),x=yield fetch(E,g);if(200!==x.status&&304!==x.status){let V="";try{const q=yield x.json();null!==(a=q.error)&&void 0!==a&&a.message&&(V=q.error.message)}catch{}throw Vo.create("config-fetch-failed",{httpStatus:x.status,responseMessage:V})}return x.json()})).apply(this,arguments)}function Hl(){return(Hl=(0,Qi.Z)(function*(l,a=ym,o){const{appId:u,apiKey:g,measurementId:E}=l.options;if(!u)throw Vo.create("no-app-id");if(!g){if(E)return{measurementId:E,appId:u};throw Vo.create("no-api-key")}const x=a.getThrottleMetadata(u)||{backoffCount:0,throttleEndTimeMillis:Date.now()},V=new Yf;return setTimeout((0,Qi.Z)(function*(){V.abort()}),void 0!==o?o:d_),Eh({appId:u,apiKey:g,measurementId:E},x,V,a)})).apply(this,arguments)}function Eh(l,a,o){return gd.apply(this,arguments)}function gd(){return gd=(0,Qi.Z)(function*(l,{throttleEndTimeMillis:a,backoffCount:o},u,g=ym){var E;const{appId:x,measurementId:V}=l;try{yield function DE(l,a){return new Promise((o,u)=>{const g=Math.max(a-Date.now(),0),E=setTimeout(o,g);l.addEventListener(()=>{clearTimeout(E),u(Vo.create("fetch-throttle",{throttleEndTimeMillis:a}))})})}(u,a)}catch(q){if(V)return Mo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${V} provided in the "measurementId" field in the local Firebase config. [${q?.message}]`),{appId:x,measurementId:V};throw q}try{const q=yield function Kf(l){return md.apply(this,arguments)}(l);return g.deleteThrottleMetadata(x),q}catch(q){const se=q;if(!function g_(l){if(!(l instanceof At.ZR&&l.customData))return!1;const a=Number(l.customData.httpStatus);return 429===a||500===a||503===a||504===a}(se)){if(g.deleteThrottleMetadata(x),V)return Mo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${V} provided in the "measurementId" field in the local Firebase config. [${se?.message}]`),{appId:x,measurementId:V};throw q}const rt=503===Number(null===(E=se?.customData)||void 0===E?void 0:E.httpStatus)?(0,At.$s)(o,g.intervalMillis,vh):(0,At.$s)(o,g.intervalMillis),ht={throttleEndTimeMillis:Date.now()+rt,backoffCount:o+1};return g.setThrottleMetadata(x,ht),Mo.debug(`Calling attemptFetch again in ${rt} millis`),Eh(l,ht,u,g)}}),gd.apply(this,arguments)}class Yf{constructor(){this.listeners=[]}addEventListener(a){this.listeners.push(a)}abort(){this.listeners.forEach(a=>a())}}let __,wh;function y_(){return(y_=(0,Qi.Z)(function*(l,a,o,u,g){if(g&&g.global)l("event",o,u);else{const E=yield a;l("event",o,Object.assign(Object.assign({},u),{send_to:E}))}})).apply(this,arguments)}function Du(){return(Du=(0,Qi.Z)(function*(l,a,o,u){if(u&&u.global)return l("set",{user_id:o}),Promise.resolve();l("config",yield a,{update:!0,user_id:o})})).apply(this,arguments)}function Ch(){return(Ch=(0,Qi.Z)(function*(){if(!(0,At.hl)())return Mo.warn(Vo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,At.eu)()}catch(l){return Mo.warn(Vo.create("indexeddb-unavailable",{errorInfo:l?.toString()}).message),!1}return!0})).apply(this,arguments)}function xh(){return xh=(0,Qi.Z)(function*(l,a,o,u,g,E,x){var V;const q=function jl(l){return Hl.apply(this,arguments)}(l);q.then(Jt=>{o[Jt.measurementId]=Jt.appId,l.options.measurementId&&Jt.measurementId!==l.options.measurementId&&Mo.warn(`The measurement ID in the local Firebase config (${l.options.measurementId}) does not match the measurement ID fetched from the server (${Jt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Jt=>Mo.error(Jt)),a.push(q);const se=function Zb(){return Ch.apply(this,arguments)}().then(Jt=>{if(Jt)return u.getId()}),[rt,ht]=yield Promise.all([q,se]);(function cv(l){const a=window.document.getElementsByTagName("script");for(const o of Object.values(a))if(o.src&&o.src.includes(h_)&&o.src.includes(l))return o;return null})(E)||function yh(l,a){const o=function fm(l,a){let o;return window.trustedTypes&&(o=window.trustedTypes.createPolicy(l,a)),o}("firebase-js-sdk-policy",{createScriptURL:f_}),u=document.createElement("script"),g=`${h_}?l=${l}&id=${a}`;u.src=o?o?.createScriptURL(g):g,u.async=!0,document.head.appendChild(u)}(E,rt.measurementId),wh&&(g("consent","default",wh),function gc(l){wh=l}(void 0)),g("js",new Date);const Tt=null!==(V=x?.config)&&void 0!==V?V:{};return Tt[av]="firebase",Tt.update=!0,null!=ht&&(Tt[hm]=ht),g("config",rt.measurementId,Tt),__&&(g("set",__),function Ih(l){__=l}(void 0)),rt.measurementId}),xh.apply(this,arguments)}class TE{constructor(a){this.app=a}_delete(){return delete Va[this.app.options.appId],Promise.resolve()}}let Va={},Wl=[];const wm={};let Im,yc,al="dataLayer",b_=!1;function uv(l,a,o){!function lv(){const l=[];if((0,At.ru)()&&l.push("This is a browser extension environment."),(0,At.zI)()||l.push("Cookies are not available."),l.length>0){const a=l.map((u,g)=>`(${g+1}) ${u}`).join(" "),o=Vo.create("invalid-analytics-context",{errorInfo:a});Mo.warn(o.message)}}();const u=l.options.appId;if(!u)throw Vo.create("no-app-id");if(!l.options.apiKey){if(!l.options.measurementId)throw Vo.create("no-api-key");Mo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${l.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Va[u])throw Vo.create("already-exists",{id:u});if(!b_){!function pm(l){let a=[];Array.isArray(window[l])?a=window[l]:window[l]=a}(al);const{wrappedGtag:E,gtagCore:x}=function _m(l,a,o,u,g){let E=function(...x){window[u].push(arguments)};return window[g]&&"function"==typeof window[g]&&(E=window[g]),window[g]=function Yb(l,a,o,u){function E(){return E=(0,Qi.Z)(function*(x,...V){try{if("event"===x){const[q,se]=V;yield function m_(l,a,o,u,g){return gm.apply(this,arguments)}(l,a,o,q,se)}else if("config"===x){const[q,se]=V;yield function mm(l,a,o,u,g,E){return Wf.apply(this,arguments)}(l,a,o,u,q,se)}else if("consent"===x){const[q]=V;l("consent","update",q)}else if("get"===x){const[q,se,rt]=V;l("get",q,se,rt)}else if("set"===x){const[q]=V;l("set",q)}else l(x,...V)}catch(q){Mo.error(q)}}),E.apply(this,arguments)}return function g(x){return E.apply(this,arguments)}}(E,l,a,o),{gtagCore:E,wrappedGtag:window[g]}}(Va,Wl,wm,al,"gtag");yc=E,Im=x,b_=!0}return Va[u]=function Qb(l,a,o,u,g,E,x){return xh.apply(this,arguments)}(l,Wl,wm,a,Im,al,o),new TE(l)}function dv(){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,Qi.Z)(function*(){if((0,At.ru)()||!(0,At.zI)()||!(0,At.hl)())return!1;try{return yield(0,At.eu)()}catch{return!1}})).apply(this,arguments)}function I_(l,a,o){l=(0,At.m9)(l),function bm(l,a,o,u){return Du.apply(this,arguments)}(yc,Va[l.app.options.appId],a,o).catch(u=>Mo.error(u))}function _d(l,a,o,u){l=(0,At.m9)(l),function vm(l,a,o,u,g){return y_.apply(this,arguments)}(yc,Va[l.app.options.appId],a,o,u).catch(g=>Mo.error(g))}const ep="@firebase/analytics";!function ws(){(0,lr._registerComponent)(new va.wA(xu,(a,{options:o})=>uv(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),o),"PUBLIC")),(0,lr._registerComponent)(new va.wA("analytics-internal",function l(a){try{const o=a.getProvider(xu).getImmediate();return{logEvent:(u,g,E)=>_d(o,u,g,E)}}catch(o){throw Vo.create("interop-component-reg-failed",{reason:o})}},"PRIVATE")),(0,lr.registerVersion)(ep,"0.10.0"),(0,lr.registerVersion)(ep,"0.10.0","esm2017")}();class yd{constructor(a){return a}}const Th="analytics",bd="__angularfire_symbol__analyticsIsSupportedValue",xm="__angularfire_symbol__analyticsIsSupported";globalThis[xm]||=dv().then(l=>globalThis[bd]=l).catch(()=>globalThis[bd]=!1);const tp={async:()=>globalThis[xm],sync:()=>{const l=globalThis[bd];if(void 0===l)throw new Error((0,Ji.af)("Analytics"));return l}},Dm=tp.async,T_=(0,Ji.u3)(_d,!0),mv=(0,Ji.u3)(I_,!0);let M_=(()=>{class l{initialized;disposables=[];constructor(o,u,g){let E;(0,ki.KN)("angularfire",Ji.q4.full,"user-tracking"),this.initialized=u.runOutsideAngular(()=>new Promise(x=>{E=x})),Dm().then(()=>{const x=g.get(yd);x?this.disposables=[hf(o).subscribe(V=>{mv(x,V?.uid),E()})]:E()})}ngOnDestroy(){this.disposables.forEach(o=>o.unsubscribe())}static \u0275fac=function(u){return new(u||l)(I.LFG(ba),I.LFG(I.R0b),I.LFG(I.zs3))};static \u0275prov=I.Yz7({token:l,factory:l.\u0275fac})}return l})();const Am="firebase_screen_id",Ah="outlet",bc="screen_class",Sm="screen_name";let P_=Math.floor(Math.random()*(2**32-1))-2**31;const Kl={},Rm=l=>{const a=[l[bc],l[Ah]].join("#");if(Kl.hasOwnProperty(a))return Kl[a];{const o=P_++;return Kl[a]=o,o}};let k_=(()=>{class l{disposable;constructor(o,u,g,E,x,V){(0,ki.KN)("angularfire",Ji.q4.full,"screen-tracking"),Dm().then(()=>{const q=V.get(yd);!o||!q||E.runOutsideAngular(()=>{this.disposable=((l,a,o)=>l.events.pipe((0,Ne.h)(g=>g instanceof k.jw)).pipe((0,bt.w)(g=>{const x=l.parseUrl(l.url.replace(/(?:\().+(?:\))/g,Tt=>Tt.replace("://",":///"))).root.children[g.snapshot.outlet]?.toString()||"",V=l.routerState.root.children.map(Tt=>Tt).find(Tt=>Tt.outlet===g.snapshot.outlet);if(!V)return(0,Ue.of)(null);let q=V;for(;q.firstChild;)q=q.firstChild;const se=q.pathFromRoot.map(Tt=>Tt.routeConfig?.path).filter(Tt=>Tt).join("/")||"/",rt={[Sm]:se,page_path:`/${x}`,firebase_event_origin:"auto",firebase_screen:se,[Ah]:g.snapshot.outlet};a&&(rt.page_title=a.getTitle());let ht=V.component;if(ht){if(ht===k.fw){let Tt=g.snapshot;for(;Tt.firstChild;)Tt=Tt.firstChild;ht=Tt.component}}else ht=g.snapshot.component;if("string"==typeof ht)return(0,Ue.of)({...rt,[bc]:ht});if(ht){const Tt=o.resolveComponentFactory(ht);return(0,Ue.of)({...rt,[bc]:Tt.selector})}return(0,Ue.of)(null)}),(0,Ne.h)(g=>!!g),(0,Qp.U)(g=>({firebase_screen_class:g[bc],[Am]:Rm(g),...g})),function Qy(l,a,o,u){return(0,it.e)((g,E)=>{let x;a&&"function"!=typeof a?({duration:o,element:x,connector:u}=a):x=a;const V=new Map,q=ln=>{V.forEach(ln),ln(E)},se=ln=>q(wn=>wn.error(ln));let rt=0,ht=!1;const Tt=new ke.Q(E,ln=>{try{const wn=l(ln);let ui=V.get(wn);if(!ui){V.set(wn,ui=u?u():new nt.x);const xr=function Jt(ln,wn){const ui=new Ml.y(xr=>{rt++;const Dr=wn.subscribe(xr);return()=>{Dr.unsubscribe(),0==--rt&&ht&&Tt.unsubscribe()}});return ui.key=ln,ui}(wn,ui);if(E.next(xr),o){const Dr=(0,ke.x)(ui,()=>{ui.complete(),Dr?.unsubscribe()},void 0,void 0,()=>V.delete(wn));Tt.add((0,Yt.Xf)(o(xr)).subscribe(Dr))}}ui.next(x?x(ln):ln)}catch(wn){se(wn)}},()=>q(ln=>ln.complete()),se,()=>V.clear(),()=>(ht=!0,0===rt));g.subscribe(Tt)})}(g=>g[Ah]),(0,_n.z)(g=>g.pipe((0,Ug.x)((E,x)=>JSON.stringify(E)===JSON.stringify(x)),(0,Ee.O)(void 0),(0,zg.G)(),(0,Qp.U)(([E,x])=>E?{firebase_previous_class:E[bc],firebase_previous_screen:E[Sm],firebase_previous_id:E[Am],...x}:x)))))(o,u,g).pipe((0,bt.w)(function(){var se=(0,Qi.Z)(function*(rt){return x&&(yield x.initialized),T_(q,"screen_view",rt)});return function(rt){return se.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(u){return new(u||l)(I.LFG(k.F0,8),I.LFG(h.Dx,8),I.LFG(I._Vd),I.LFG(I.R0b),I.LFG(M_,8),I.LFG(I.zs3))};static \u0275prov=I.Yz7({token:l,factory:l.\u0275fac})}return l})();const np=new I.OlP("angularfire2.analytics-instances");function N_(l){return(a,o)=>{if(!tp.sync())return null;const u=a.runOutsideAngular(()=>l(o));return new yd(u)}}const Mh={provide:class x_{constructor(){return(0,Ji.vb)(Th)}},deps:[[new I.FiY,np]]},F_={provide:yd,useFactory:function O_(l,a){if(!tp.sync())return null;const o=(0,Ji.JM)(Th,l,a);return o&&new yd(o)},deps:[[new I.FiY,np],Os]};let bv=(()=>{class l{constructor(o,u){(0,ki.KN)("angularfire",Ji.q4.full,"analytics")}static \u0275fac=function(u){return new(u||l)(I.LFG(k_,8),I.LFG(M_,8))};static \u0275mod=I.oAB({type:l});static \u0275inj=I.cJS({providers:[F_,Mh,{provide:I.ip1,useValue:tp.async,multi:!0}]})}return l})();function n0(l,...a){return{ngModule:bv,providers:[{provide:np,useFactory:N_(l),multi:!0,deps:[I.R0b,I.zs3,Ji.HU,Wo,...a]}]}}var Ev=T(7217),Su=T(9862);const ip="@firebase/database";let km="";class wv{constructor(a){this.domStorage_=a,this.prefix_="firebase:"}set(a,o){null==o?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),(0,At.Wl)(o))}get(a){const o=this.domStorage_.getItem(this.prefixedName_(a));return null==o?null:(0,At.cI)(o)}remove(a){this.domStorage_.removeItem(this.prefixedName_(a))}prefixedName_(a){return this.prefix_+a}toString(){return this.domStorage_.toString()}}class Om{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(a,o){null==o?delete this.cache_[a]:this.cache_[a]=o}get(a){return(0,At.r3)(this.cache_,a)?this.cache_[a]:null}remove(a){delete this.cache_[a]}}const Iv=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const a=window[l];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new wv(a)}}catch{}return new Om},cl=Iv("localStorage"),Nm=Iv("sessionStorage"),hi=new Xd.Yd("@firebase/database"),V_=function(){let l=1;return function(){return l++}}(),op=function(l){const a=(0,At.dS)(l),o=new At.gQ;o.update(a);const u=o.digest();return At.US.encodeByteArray(u)},Ec=function(...l){let a="";for(let o=0;o<l.length;o++){const u=l[o];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?a+=Ec.apply(null,u):a+="object"==typeof u?(0,At.Wl)(u):u,a+=" "}return a};let ll=null,B_=!0;const no=function(...l){if(!0===B_&&(B_=!1,null===ll&&!0===Nm.get("logging_enabled")&&function(l,a){(0,At.hu)(!a||!0===l||!1===l,"Can't turn on custom loggers persistently."),!0===l?(hi.logLevel=Xd.in.VERBOSE,ll=hi.log.bind(hi),a&&Nm.set("logging_enabled",!0)):"function"==typeof l?ll=l:(ll=null,Nm.remove("logging_enabled"))}(!0)),ll){const a=Ec.apply(null,l);ll(a)}},Yl=function(l){return function(...a){no(l,...a)}},Ed=function(...l){const a="FIREBASE INTERNAL ERROR: "+Ec(...l);hi.error(a)},Ia=function(...l){const a=`FIREBASE FATAL ERROR: ${Ec(...l)}`;throw hi.error(a),new Error(a)},Ro=function(...l){const a="FIREBASE WARNING: "+Ec(...l);hi.warn(a)},Rh=function(l){return"number"==typeof l&&(l!=l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},ul="[MIN_NAME]",wc="[MAX_NAME]",Mu=function(l,a){if(l===a)return 0;if(l===ul||a===wc)return-1;if(a===ul||l===wc)return 1;{const o=Fm(l),u=Fm(a);return null!==o?null!==u?o-u==0?l.length-a.length:o-u:-1:null!==u?1:l<a?-1:1}},kh=function(l,a){return l===a?0:l<a?-1:1},wd=function(l,a){if(a&&l in a)return a[l];throw new Error("Missing required key ("+l+") in object: "+(0,At.Wl)(a))},Oh=function(l){if("object"!=typeof l||null===l)return(0,At.Wl)(l);const a=[];for(const u in l)a.push(u);a.sort();let o="{";for(let u=0;u<a.length;u++)0!==u&&(o+=","),o+=(0,At.Wl)(a[u]),o+=":",o+=Oh(l[a[u]]);return o+="}",o},Cv=function(l,a){const o=l.length;if(o<=a)return[l];const u=[];for(let g=0;g<o;g+=a)u.push(l.substring(g,g+a>o?o:g+a));return u};function Qo(l,a){for(const o in l)l.hasOwnProperty(o)&&a(o,l[o])}const xv=function(l){(0,At.hu)(!Rh(l),"Invalid JSON number");const u=1023;let g,E,x,V,q;0===l?(E=0,x=0,g=1/l==-1/0?1:0):(g=l<0,(l=Math.abs(l))>=Math.pow(2,1-u)?(V=Math.min(Math.floor(Math.log(l)/Math.LN2),u),E=V+u,x=Math.round(l*Math.pow(2,52-V)-Math.pow(2,52))):(E=0,x=Math.round(l/Math.pow(2,-1074))));const se=[];for(q=52;q;q-=1)se.push(x%2?1:0),x=Math.floor(x/2);for(q=11;q;q-=1)se.push(E%2?1:0),E=Math.floor(E/2);se.push(g?1:0),se.reverse();const rt=se.join("");let ht="";for(q=0;q<64;q+=8){let Tt=parseInt(rt.substr(q,8),2).toString(16);1===Tt.length&&(Tt="0"+Tt),ht+=Tt}return ht.toLowerCase()},z_=new RegExp("^-?(0*)\\d{1,10}$"),Fm=function(l){if(z_.test(l)){const a=Number(l);if(a>=-2147483648&&a<=2147483647)return a}return null},Id=function(l){try{l()}catch(a){setTimeout(()=>{throw Ro("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}},Ru=function(l,a){const o=setTimeout(l,a);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class Av{constructor(a,o){this.appName_=a,this.appCheckProvider=o,this.appCheck=o?.getImmediate({optional:!0}),this.appCheck||o?.get().then(u=>this.appCheck=u)}getToken(a){return this.appCheck?this.appCheck.getToken(a):new Promise((o,u)=>{setTimeout(()=>{this.appCheck?this.getToken(a).then(o,u):o(null)},0)})}addTokenChangeListener(a){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(u=>u.addTokenListener(a))}notifyForInvalidToken(){Ro(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fh{constructor(a,o,u){this.appName_=a,this.firebaseOptions_=o,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(g=>this.auth_=g)}getToken(a){return this.auth_?this.auth_.getToken(a).catch(o=>o&&"auth/token-not-initialized"===o.code?(no("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,u)=>{setTimeout(()=>{this.auth_?this.getToken(a).then(o,u):o(null)},0)})}addTokenChangeListener(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(o=>o.addAuthTokenListener(a))}removeTokenChangeListener(a){this.authProvider_.get().then(o=>o.removeAuthTokenListener(a))}notifyForInvalidToken(){let a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';a+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ro(a)}}let Lh=(()=>{class l{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return l.OWNER="owner",l})();const Mv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ba="websocket",Lm="long_polling";class W_{constructor(a,o,u,g,E=!1,x="",V=!1,q=!1){this.secure=o,this.namespace=u,this.webSocketOnly=g,this.nodeAdmin=E,this.persistenceKey=x,this.includeNamespaceInQueryParams=V,this.isUsingEmulator=q,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cl.get("host:"+a)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&cl.set("host:"+this._host,this.internalHost))}toString(){let a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function kv(l,a,o){let u;if((0,At.hu)("string"==typeof a,"typeof type must == string"),(0,At.hu)("object"==typeof o,"typeof params must == object"),a===Ba)u=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else{if(a!==Lm)throw new Error("Unknown connection type: "+a);u=(l.secure?"https://":"http://")+l.internalHost+"/.lp?"}(function Pv(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams})(l)&&(o.ns=l.namespace);const g=[];return Qo(o,(E,x)=>{g.push(E+"="+x)}),u+g.join("&")}class Ov{constructor(){this.counters_={}}incrementCounter(a,o=1){(0,At.r3)(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=o}get(){return(0,At.p$)(this.counters_)}}const Vm={},Dd={};function Bh(l){const a=l.toString();return Vm[a]||(Vm[a]=new Ov),Vm[a]}class G_{constructor(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(a,o){this.closeAfterResponse=a,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(a,o){for(this.pendingResponses[a]=o;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let g=0;g<u.length;++g)u[g]&&Id(()=>{this.onMessage_(u[g])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Cc{constructor(a,o,u,g,E,x,V){this.connId=a,this.repoInfo=o,this.applicationId=u,this.appCheckToken=g,this.authToken=E,this.transportSessionId=x,this.lastSessionId=V,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yl(a),this.stats_=Bh(o),this.urlFn=q=>(this.appCheckToken&&(q.ac=this.appCheckToken),kv(o,Lm,q))}open(a,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new G_(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(l){if((0,At.Yr)()||"complete"===document.readyState)l();else{let a=!1;const o=function(){document.body?a||(a=!0,l()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $m((...E)=>{const[x,V,q,se,rt]=E;if(this.incrementIncomingBytes_(E),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===x)this.id=V,this.password=q;else{if("close"!==x)throw new Error("Unrecognized command received: "+x);V?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(V,()=>{this.onClosed_()})):this.onClosed_()}},(...E)=>{const[x,V]=E;this.incrementIncomingBytes_(E),this.myPacketOrderer.handleResponse(x,V)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Mv.test(location.hostname)&&(u.r="f");const g=this.urlFn(u);this.log_("Connecting via long-poll to "+g),this.scriptTagHolder.addTag(g,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cc.forceAllow_=!0}static forceDisallow(){Cc.forceDisallow_=!0}static isAvailable(){return!((0,At.Yr)()||!Cc.forceAllow_&&(Cc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(a){const o=(0,At.Wl)(a);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=(0,At.h$)(o),g=Cv(u,1840);for(let E=0;E<g.length;E++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,g.length,g[E]),this.curSegmentNum++}addDisconnectPingFrame(a,o){if((0,At.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=a,u.pw=o,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(a){const o=(0,At.Wl)(a).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class $m{constructor(a,o,u,g){if(this.onDisconnect=u,this.urlFn=g,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,At.Yr)())this.commandCB=a,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=V_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=$m.createIFrame_();let E="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(E='<script>document.domain="'+document.domain+'";<\/script>');const x="<html><body>"+E+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(x),this.myIFrame.doc.close()}catch(V){no("frame writing exception"),V.stack&&no(V.stack),no(V)}}}static createIFrame_(){const a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||no("No IE domain setting required")}catch{const u=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const a=this.onDisconnect;a&&(this.onDisconnect=null,a())}startLongPoll(a,o){for(this.myID=a,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;let o=this.urlFn(a),u="",g=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const x=this.pendingSegs.shift();u=u+"&seg"+g+"="+x.seg+"&ts"+g+"="+x.ts+"&d"+g+"="+x.d,g++}return o+=u,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(a,o,u){this.pendingSegs.push({seg:a,ts:o,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(a,o){this.outstandingRequests.add(o);const u=()=>{this.outstandingRequests.delete(o),this.newRequest_()},g=setTimeout(u,Math.floor(25e3));this.addTag(a,()=>{clearTimeout(g),u()})}addTag(a,o){(0,At.Yr)()?this.doNodeLongPoll(a,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=a,u.onload=u.onreadystatechange=function(){const g=u.readyState;(!g||"loaded"===g||"complete"===g)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),o())},u.onerror=()=>{no("Long-poll script failed to load: "+a),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let Wm=null;typeof MozWebSocket<"u"?Wm=MozWebSocket:typeof WebSocket<"u"&&(Wm=WebSocket);let Td=(()=>{class l{constructor(o,u,g,E,x,V,q){this.connId=o,this.applicationId=g,this.appCheckToken=E,this.authToken=x,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yl(this.connId),this.stats_=Bh(u),this.connURL=l.connectionURL_(u,V,q,E,g),this.nodeAdmin=u.nodeAdmin}static connectionURL_(o,u,g,E,x){const V={v:"5"};return!(0,At.Yr)()&&typeof location<"u"&&location.hostname&&Mv.test(location.hostname)&&(V.r="f"),u&&(V.s=u),g&&(V.ls=g),E&&(V.ac=E),x&&(V.p=x),kv(o,Ba,V)}open(o,u){this.onDisconnect=u,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cl.set("previous_websocket_failure",!0);try{let g;if((0,At.Yr)()){g={headers:{"User-Agent":`Firebase/5/${km}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(g.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(g.headers["X-Firebase-AppCheck"]=this.appCheckToken);const x=process.env,V=0===this.connURL.indexOf("wss://")?x.HTTPS_PROXY||x.https_proxy:x.HTTP_PROXY||x.http_proxy;V&&(g.proxy={origin:V})}this.mySock=new Wm(this.connURL,[],g)}catch(g){this.log_("Error instantiating WebSocket.");const E=g.message||g.data;return E&&this.log_(E),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=g=>{this.handleIncomingFrame(g)},this.mySock.onerror=g=>{this.log_("WebSocket error.  Closing connection.");const E=g.message||g.data;E&&this.log_(E),this.onClosed_()}}start(){}static forceDisallow(){l.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const g=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);g&&g.length>1&&parseFloat(g[1])<4.4&&(o=!0)}return!o&&null!==Wm&&!l.forceDisallow_}static previouslyFailed(){return cl.isInMemoryStorage||!0===cl.get("previous_websocket_failure")}markConnectionHealthy(){cl.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const g=(0,At.cI)(u);this.onMessage(g)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,At.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const u=Number(o);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const u=o.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const g=this.extractFrameCount_(u);null!==g&&this.appendFrame_(g)}}send(o){this.resetKeepAlive();const u=(0,At.Wl)(o);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const g=Cv(u,16384);g.length>1&&this.sendString_(String(g.length));for(let E=0;E<g.length;E++)this.sendString_(g[E])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return l.responsesRequiredToBeHealthy=2,l.healthyTimeout=3e4,l})(),Mr=(()=>{class l{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[Cc,Td]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const u=Td&&Td.isAvailable();let g=u&&!Td.previouslyFailed();if(o.webSocketOnly&&(u||Ro("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),g=!0),g)this.transports_=[Td];else{const E=this.transports_=[];for(const x of l.ALL_TRANSPORTS)x&&x.isAvailable()&&E.push(x);l.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return l.globalTransportInitialized_=!1,l})();class hl{constructor(a,o,u,g,E,x,V,q,se,rt){this.id=a,this.repoInfo_=o,this.applicationId_=u,this.appCheckToken_=g,this.authToken_=E,this.onMessage_=x,this.onReady_=V,this.onDisconnect_=q,this.onKill_=se,this.lastSessionId=rt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yl("c:"+this.id+":"),this.transportManager_=new Mr(o),this.log_("Connection created"),this.start_()}start_(){const a=this.transportManager_.initialTransport();this.conn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,u)},Math.floor(0));const g=a.healthyTimeout||0;g>0&&(this.healthyTimeout_=Ru(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(g)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(a){return o=>{a===this.conn_?this.onConnectionLost_(o):a===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(a){return o=>{2!==this.state_&&(a===this.rx_?this.onPrimaryMessageReceived_(o):a===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(a){this.sendData_({t:"d",d:a})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(a){if("t"in a){const o=a.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(a){const o=wd("t",a),u=wd("d",a);if("c"===o)this.onSecondaryControl_(u);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(a){const o=wd("t",a),u=wd("d",a);"c"===o?this.onControl_(u):"d"===o&&this.onDataMessage_(u)}onDataMessage_(a){this.onPrimaryResponse_(),this.onMessage_(a)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(a){const o=wd("t",a);if("d"in a){const u=a.d;if("h"===o){const g=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(g.h=this.repoInfo_.host),this.onHandshake_(g)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let g=0;g<this.pendingDataMessages.length;++g)this.onDataMessage_(this.pendingDataMessages[g]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(u):"r"===o?this.onReset_(u):"e"===o?Ed("Server Error: "+u):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ed("Unknown control packet command: "+o)}}onHandshake_(a){const o=a.ts,u=a.v,g=a.h;this.sessionId=a.s,this.repoInfo_.host=g,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==u&&Ro("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)}startUpgrade_(a){this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,u),Ru(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(a,o){this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ru(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()}onConnectionLost_(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class xc{put(a,o,u,g){}merge(a,o,u,g){}refreshAuthToken(a){}refreshAppCheckToken(a){}onDisconnectPut(a,o,u){}onDisconnectMerge(a,o,u){}onDisconnectCancel(a,o){}reportStats(a){}}class c0{constructor(a){this.allowedEvents_=a,this.listeners_={},(0,At.hu)(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}trigger(a,...o){if(Array.isArray(this.listeners_[a])){const u=[...this.listeners_[a]];for(let g=0;g<u.length;g++)u[g].callback.apply(u[g].context,o)}}on(a,o,u){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:o,context:u});const g=this.getInitialEvent(a);g&&o.apply(u,g)}off(a,o,u){this.validateEventType_(a);const g=this.listeners_[a]||[];for(let E=0;E<g.length;E++)if(g[E].callback===o&&(!u||u===g[E].context))return void g.splice(E,1)}validateEventType_(a){(0,At.hu)(this.allowedEvents_.find(o=>o===a),"Unknown event: "+a)}}class Ca extends c0{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,At.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ca}getInitialEvent(a){return(0,At.hu)("online"===a,"Unknown event type: "+a),[this.online_]}currentlyOnline(){return this.online_}}class dr{constructor(a,o){if(void 0===o){this.pieces_=a.split("/");let u=0;for(let g=0;g<this.pieces_.length;g++)this.pieces_[g].length>0&&(this.pieces_[u]=this.pieces_[g],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=o}toString(){let a="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(a+="/"+this.pieces_[o]);return a||"/"}}function tr(){return new dr("")}function Ni(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function Dc(l){return l.pieces_.length-l.pieceNum_}function Rr(l){let a=l.pieceNum_;return a<l.pieces_.length&&a++,new dr(l.pieces_,a)}function fl(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function ql(l,a=0){return l.pieces_.slice(l.pieceNum_+a)}function Wv(l){if(l.pieceNum_>=l.pieces_.length)return null;const a=[];for(let o=l.pieceNum_;o<l.pieces_.length-1;o++)a.push(l.pieces_[o]);return new dr(a,0)}function Pr(l,a){const o=[];for(let u=l.pieceNum_;u<l.pieces_.length;u++)o.push(l.pieces_[u]);if(a instanceof dr)for(let u=a.pieceNum_;u<a.pieces_.length;u++)o.push(a.pieces_[u]);else{const u=a.split("/");for(let g=0;g<u.length;g++)u[g].length>0&&o.push(u[g])}return new dr(o,0)}function Fi(l){return l.pieceNum_>=l.pieces_.length}function na(l,a){const o=Ni(l),u=Ni(a);if(null===o)return a;if(o===u)return na(Rr(l),Rr(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+l+")")}function hp(l,a){if(Dc(l)!==Dc(a))return!1;for(let o=l.pieceNum_,u=a.pieceNum_;o<=l.pieces_.length;o++,u++)if(l.pieces_[o]!==a.pieces_[u])return!1;return!0}function ia(l,a){let o=l.pieceNum_,u=a.pieceNum_;if(Dc(l)>Dc(a))return!1;for(;o<l.pieces_.length;){if(l.pieces_[o]!==a.pieces_[u])return!1;++o,++u}return!0}class Km{constructor(a,o){this.errorPrefix_=o,this.parts_=ql(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,At.ug)(this.parts_[u]);Sd(this)}}function Sd(l){if(l.byteLength_>768)throw new Error(l.errorPrefix_+"has a key path longer than 768 bytes ("+l.byteLength_+").");if(l.parts_.length>32)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qr(l))}function qr(l){return 0===l.parts_.length?"":"in property '"+l.parts_.join(".")+"'"}class xa extends c0{constructor(){let a,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",a="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",a="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",a="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",a="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const u=!document[a];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new xa}getInitialEvent(a){return(0,At.hu)("visible"===a,"Unknown event type: "+a),[this.visible_]}}const Pu=1e3;let Zl,Da=(()=>{class l extends xc{constructor(o,u,g,E,x,V,q,se){if(super(),this.repoInfo_=o,this.applicationId_=u,this.onDataUpdate_=g,this.onConnectStatus_=E,this.onServerInfoUpdate_=x,this.authTokenProvider_=V,this.appCheckTokenProvider_=q,this.authOverride_=se,this.id=l.nextPersistentConnectionId_++,this.log_=Yl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,se&&!(0,At.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xa.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&Ca.getInstance().on("online",this.onOnline_,this)}sendRequest(o,u,g){const E=++this.requestNumber_,x={r:E,a:o,b:u};this.log_((0,At.Wl)(x)),(0,At.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(x),g&&(this.requestCBHash_[E]=g)}get(o){this.initConnection_();const u=new At.BH,E={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:V=>{const q=V.d;"ok"===V.s?u.resolve(q):u.reject(q)}};return this.outstandingGets_.push(E),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(o,u,g,E){this.initConnection_();const x=o._queryIdentifier,V=o._path.toString();this.log_("Listen called for "+V+" "+x),this.listens.has(V)||this.listens.set(V,new Map),(0,At.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,At.hu)(!this.listens.get(V).has(x),"listen() called twice for same path/queryId.");const q={onComplete:E,hashFn:u,query:o,tag:g};this.listens.get(V).set(x,q),this.connected_&&this.sendListen_(q)}sendGet_(o){const u=this.outstandingGets_[o];this.sendRequest("g",u.request,g=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(g)})}sendListen_(o){const u=o.query,g=u._path.toString(),E=u._queryIdentifier;this.log_("Listen on "+g+" for "+E);const x={p:g};o.tag&&(x.q=u._queryObject,x.t=o.tag),x.h=o.hashFn(),this.sendRequest("q",x,q=>{const se=q.d,rt=q.s;l.warnOnListenWarnings_(se,u),(this.listens.get(g)&&this.listens.get(g).get(E))===o&&(this.log_("listen response",q),"ok"!==rt&&this.removeListen_(g,E),o.onComplete&&o.onComplete(rt,se))})}static warnOnListenWarnings_(o,u){if(o&&"object"==typeof o&&(0,At.r3)(o,"w")){const g=(0,At.DV)(o,"w");if(Array.isArray(g)&&~g.indexOf("no_index")){const E='".indexOn": "'+u._queryParams.getIndex().toString()+'"',x=u._path.toString();Ro(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${E} at ${x} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,At.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,u=(0,At.w9)(o)?"auth":"gauth",g={cred:o};null===this.authOverride_?g.noauth=!0:"object"==typeof this.authOverride_&&(g.authvar=this.authOverride_),this.sendRequest(u,g,E=>{const x=E.s,V=E.d||"error";this.authToken_===o&&("ok"===x?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(x,V))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const u=o.s,g=o.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,g)})}unlisten(o,u){const g=o._path.toString(),E=o._queryIdentifier;this.log_("Unlisten called for "+g+" "+E),(0,At.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(g,E)&&this.connected_&&this.sendUnlisten_(g,E,o._queryObject,u)}sendUnlisten_(o,u,g,E){this.log_("Unlisten on "+o+" for "+u);const x={p:o};E&&(x.q=g,x.t=E),this.sendRequest("n",x)}onDisconnectPut(o,u,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,u,g):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:u,onComplete:g})}onDisconnectMerge(o,u,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,u,g):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:u,onComplete:g})}onDisconnectCancel(o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,u):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(o,u,g,E){const x={p:u,d:g};this.log_("onDisconnect "+o,x),this.sendRequest(o,x,V=>{E&&setTimeout(()=>{E(V.s,V.d)},Math.floor(0))})}put(o,u,g,E){this.putInternal("p",o,u,g,E)}merge(o,u,g,E){this.putInternal("m",o,u,g,E)}putInternal(o,u,g,E,x){this.initConnection_();const V={p:u,d:g};void 0!==x&&(V.h=x),this.outstandingPuts_.push({action:o,request:V,onComplete:E}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(o){const u=this.outstandingPuts_[o].action,g=this.outstandingPuts_[o].request,E=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(u,g,x=>{this.log_(u+" response",x),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),E&&E(x.s,x.d)})}reportStats(o){if(this.connected_){const u={c:o};this.log_("reportStats",u),this.sendRequest("s",u,g=>{"ok"!==g.s&&this.log_("reportStats","Error sending stats: "+g.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,At.Wl)(o));const u=o.r,g=this.requestCBHash_[u];g&&(delete this.requestCBHash_[u],g(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,u){this.log_("handleServerMessage",o,u),"d"===o?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===o?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===o?this.onListenRevoked_(u.p,u.q):"ac"===o?this.onAuthRevoked_(u.s,u.d):"apc"===o?this.onAppCheckRevoked_(u.s,u.d):"sd"===o?this.onSecurityDebugPacket_(u):Ed("Unrecognized action received from server: "+(0,At.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,At.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pu,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=Pu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-o);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,Qi.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const u=o.onDataMessage_.bind(o),g=o.onReady_.bind(o),E=o.onRealtimeDisconnect_.bind(o),x=o.id+":"+l.nextConnectionId_++,V=o.lastSessionId;let q=!1,se=null;const rt=function(){se?se.close():(q=!0,E())};o.realtime_={close:rt,sendRequest:function(Jt){(0,At.hu)(se,"sendRequest call when we're not connected not allowed."),se.sendRequest(Jt)}};const Tt=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[Jt,ln]=yield Promise.all([o.authTokenProvider_.getToken(Tt),o.appCheckTokenProvider_.getToken(Tt)]);q?no("getToken() completed but was canceled"):(no("getToken() completed. Creating connection."),o.authToken_=Jt&&Jt.accessToken,o.appCheckToken_=ln&&ln.token,se=new hl(x,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,u,g,E,wn=>{Ro(wn+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},V))}catch(Jt){o.log_("Failed to get token: "+Jt),q||(o.repoInfo_.nodeAdmin&&Ro(Jt),rt())}}})()}interrupt(o){no("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){no("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,At.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const u=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const u=this.outstandingPuts_[o];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,u){let g;g=u?u.map(x=>Oh(x)).join("$"):"default";const E=this.removeListen_(o,g);E&&E.onComplete&&E.onComplete("permission_denied")}removeListen_(o,u){const g=new dr(o).toString();let E;if(this.listens.has(g)){const x=this.listens.get(g);E=x.get(u),x.delete(u),0===x.size&&this.listens.delete(g)}else E=void 0;return E}onAuthRevoked_(o,u){no("Auth token revoked: "+o+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,u){no("App check token revoked: "+o+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const u of o.values())this.sendListen_(u);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let u="js";(0,At.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+u+"."+km.replace(/\./g,"-")]=1,(0,At.uI)()?o["framework.cordova"]=1:(0,At.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=Ca.getInstance().currentlyOnline();return(0,At.xb)(this.interruptReasons_)&&o}}return l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l})();class wi{constructor(a,o){this.name=a,this.node=o}static Wrap(a,o){return new wi(a,o)}}class Ta{getCompare(){return this.compare.bind(this)}indexedValueChanged(a,o){const u=new wi(ul,a),g=new wi(ul,o);return 0!==this.compare(u,g)}minPost(){return wi.MIN}}class Ac extends Ta{static get __EMPTY_NODE(){return Zl}static set __EMPTY_NODE(a){Zl=a}compare(a,o){return Mu(a.name,o.name)}isDefinedOn(a){throw(0,At.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(a,o){return!1}minPost(){return wi.MIN}maxPost(){return new wi(wc,Zl)}makePost(a,o){return(0,At.hu)("string"==typeof a,"KeyIndex indexValue must always be a string."),new wi(a,Zl)}toString(){return".key"}}const Sc=new Ac;class gl{constructor(a,o,u,g,E=null){this.isReverse_=g,this.resultGenerator_=E,this.nodeStack_=[];let x=1;for(;!a.isEmpty();)if(x=o?u(a.key,o):1,g&&(x*=-1),x<0)a=this.isReverse_?a.left:a.right;else{if(0===x){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,a=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}}}let Ym,Mc=(()=>{class l{constructor(o,u,g,E,x){this.key=o,this.value=u,this.color=g??l.RED,this.left=E??ds.EMPTY_NODE,this.right=x??ds.EMPTY_NODE}copy(o,u,g,E,x){return new l(o??this.key,u??this.value,g??this.color,E??this.left,x??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,u,g){let E=this;const x=g(o,E.key);return E=x<0?E.copy(null,null,null,E.left.insert(o,u,g),null):0===x?E.copy(null,u,null,null,null):E.copy(null,null,null,null,E.right.insert(o,u,g)),E.fixUp_()}removeMin_(){if(this.left.isEmpty())return ds.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,u){let g,E;if(g=this,u(o,g.key)<0)!g.left.isEmpty()&&!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.remove(o,u),null);else{if(g.left.isRed_()&&(g=g.rotateRight_()),!g.right.isEmpty()&&!g.right.isRed_()&&!g.right.left.isRed_()&&(g=g.moveRedRight_()),0===u(o,g.key)){if(g.right.isEmpty())return ds.EMPTY_NODE;E=g.right.min_(),g=g.copy(E.key,E.value,null,null,g.right.removeMin_())}g=g.copy(null,null,null,null,g.right.remove(o,u))}return g.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,l.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,u)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return l.RED=!0,l.BLACK=!1,l})();class ds{constructor(a,o=ds.EMPTY_NODE){this.comparator_=a,this.root_=o}insert(a,o){return new ds(this.comparator_,this.root_.insert(a,o,this.comparator_).copy(null,null,Mc.BLACK,null,null))}remove(a){return new ds(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,Mc.BLACK,null,null))}get(a){let o,u=this.root_;for(;!u.isEmpty();){if(o=this.comparator_(a,u.key),0===o)return u.value;o<0?u=u.left:o>0&&(u=u.right)}return null}getPredecessorKey(a){let o,u=this.root_,g=null;for(;!u.isEmpty();){if(o=this.comparator_(a,u.key),0===o){if(u.left.isEmpty())return g?g.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}o<0?u=u.left:o>0&&(g=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(a){return this.root_.inorderTraversal(a)}reverseTraversal(a){return this.root_.reverseTraversal(a)}getIterator(a){return new gl(this.root_,null,this.comparator_,!1,a)}getIteratorFrom(a,o){return new gl(this.root_,a,this.comparator_,!1,o)}getReverseIteratorFrom(a,o){return new gl(this.root_,a,this.comparator_,!0,o)}getReverseIterator(a){return new gl(this.root_,null,this.comparator_,!0,a)}}function Gv(l,a){return Mu(l.name,a.name)}function Pd(l,a){return Mu(l,a)}ds.EMPTY_NODE=new class l0{copy(a,o,u,g,E){return this}insert(a,o,u){return new Mc(a,o,null)}remove(a,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const kd=function(l){return"number"==typeof l?"number:"+xv(l):"string:"+l},Yv=function(l){if(l.isLeafNode()){const a=l.val();(0,At.hu)("string"==typeof a||"number"==typeof a||"object"==typeof a&&(0,At.r3)(a,".sv"),"Priority must be a string or number.")}else(0,At.hu)(l===Ym||l.isEmpty(),"priority of unexpected type.");(0,At.hu)(l===Ym||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let u0,qv,Zv,ku=(()=>{class l{constructor(o,u=l.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=u,this.lazyHash_=null,(0,At.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Yv(this.priorityNode_)}static set __childrenNodeConstructor(o){u0=o}static get __childrenNodeConstructor(){return u0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new l(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return Fi(o)?this:".priority"===Ni(o)?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,u){return null}updateImmediateChild(o,u){return".priority"===o?this.updatePriority(u):u.isEmpty()&&".priority"!==o?this:l.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,u).updatePriority(this.priorityNode_)}updateChild(o,u){const g=Ni(o);return null===g?u:u.isEmpty()&&".priority"!==g?this:((0,At.hu)(".priority"!==g||1===Dc(o),".priority must be the last token in a path"),this.updateImmediateChild(g,l.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rr(o),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,u){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+kd(this.priorityNode_.val())+":");const u=typeof this.value_;o+=u+":",o+="number"===u?xv(this.value_):this.value_,this.lazyHash_=op(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===l.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof l.__childrenNodeConstructor?-1:((0,At.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const u=typeof o.value_,g=typeof this.value_,E=l.VALUE_TYPE_ORDER.indexOf(u),x=l.VALUE_TYPE_ORDER.indexOf(g);return(0,At.hu)(E>=0,"Unknown leaf type: "+u),(0,At.hu)(x>=0,"Unknown leaf type: "+g),E===x?"object"===g?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:x-E}withIndex(){return this}isIndexed(){return!0}equals(o){return o===this||!!o.isLeafNode()&&(this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_))}}return l.VALUE_TYPE_ORDER=["object","boolean","number","string"],l})();const kr=new class h0 extends Ta{compare(a,o){const u=a.node.getPriority(),g=o.node.getPriority(),E=u.compareTo(g);return 0===E?Mu(a.name,o.name):E}isDefinedOn(a){return!a.getPriority().isEmpty()}indexedValueChanged(a,o){return!a.getPriority().equals(o.getPriority())}minPost(){return wi.MIN}maxPost(){return new wi(wc,new ku("[PRIORITY-POST]",Zv))}makePost(a,o){const u=qv(a);return new wi(o,new ku("[PRIORITY-POST]",u))}toString(){return".priority"}},Xv=Math.log(2);class Q_{constructor(a){this.count=parseInt(Math.log(a+1)/Xv,10),this.current_=this.count-1;const g=(E=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=a+1&g}nextBitIsOne(){const a=!(this.bits_&1<<this.current_);return this.current_--,a}}const Ql=function(l,a,o,u){l.sort(a);const g=function(q,se){const rt=se-q;let ht,Tt;if(0===rt)return null;if(1===rt)return ht=l[q],Tt=o?o(ht):ht,new Mc(Tt,ht.node,Mc.BLACK,null,null);{const Jt=parseInt(rt/2,10)+q,ln=g(q,Jt),wn=g(Jt+1,se);return ht=l[Jt],Tt=o?o(ht):ht,new Mc(Tt,ht.node,Mc.BLACK,ln,wn)}},V=function(q){let se=null,rt=null,ht=l.length;const Tt=function(ln,wn){const ui=ht-ln,xr=ht;ht-=ln;const Dr=g(ui+1,xr),Cs=l[ui],hs=o?o(Cs):Cs;Jt(new Mc(hs,Cs.node,wn,null,Dr))},Jt=function(ln){se?(se.left=ln,se=ln):(rt=ln,se=ln)};for(let ln=0;ln<q.count;++ln){const wn=q.nextBitIsOne(),ui=Math.pow(2,q.count-(ln+1));wn?Tt(ui,Mc.BLACK):(Tt(ui,Mc.BLACK),Tt(ui,Mc.RED))}return rt}(new Q_(l.length));return new ds(u||a,V)};let Od;const Nd={};class Rc{constructor(a,o){this.indexes_=a,this.indexSet_=o}static get Default(){return(0,At.hu)(Nd&&kr,"ChildrenNode.ts has not been loaded"),Od=Od||new Rc({".priority":Nd},{".priority":kr}),Od}get(a){const o=(0,At.DV)(this.indexes_,a);if(!o)throw new Error("No index defined for "+a);return o instanceof ds?o:null}hasIndex(a){return(0,At.r3)(this.indexSet_,a.toString())}addIndex(a,o){(0,At.hu)(a!==Sc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let g=!1;const E=o.getIterator(wi.Wrap);let V,x=E.getNext();for(;x;)g=g||a.isDefinedOn(x.node),u.push(x),x=E.getNext();V=g?Ql(u,a.getCompare()):Nd;const q=a.toString(),se=Object.assign({},this.indexSet_);se[q]=a;const rt=Object.assign({},this.indexes_);return rt[q]=V,new Rc(rt,se)}addToIndexes(a,o){const u=(0,At.UI)(this.indexes_,(g,E)=>{const x=(0,At.DV)(this.indexSet_,E);if((0,At.hu)(x,"Missing index implementation for "+E),g===Nd){if(x.isDefinedOn(a.node)){const V=[],q=o.getIterator(wi.Wrap);let se=q.getNext();for(;se;)se.name!==a.name&&V.push(se),se=q.getNext();return V.push(a),Ql(V,x.getCompare())}return Nd}{const V=o.get(a.name);let q=g;return V&&(q=q.remove(new wi(a.name,V))),q.insert(a,a.node)}});return new Rc(u,this.indexSet_)}removeFromIndexes(a,o){const u=(0,At.UI)(this.indexes_,g=>{if(g===Nd)return g;{const E=o.get(a.name);return E?g.remove(new wi(a.name,E)):g}});return new Rc(u,this.indexSet_)}}let Wh,Ei=(()=>{class l{constructor(o,u,g){this.children_=o,this.priorityNode_=u,this.indexMap_=g,this.lazyHash_=null,this.priorityNode_&&Yv(this.priorityNode_),this.children_.isEmpty()&&(0,At.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wh||(Wh=new l(new ds(Pd),null,Rc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wh}updatePriority(o){return this.children_.isEmpty()?this:new l(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const u=this.children_.get(o);return null===u?Wh:u}}getChild(o){const u=Ni(o);return null===u?this:this.getImmediateChild(u).getChild(Rr(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,u){if((0,At.hu)(u,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(u);{const g=new wi(o,u);let E,x;u.isEmpty()?(E=this.children_.remove(o),x=this.indexMap_.removeFromIndexes(g,this.children_)):(E=this.children_.insert(o,u),x=this.indexMap_.addToIndexes(g,this.children_));const V=E.isEmpty()?Wh:this.priorityNode_;return new l(E,V,x)}}updateChild(o,u){const g=Ni(o);if(null===g)return u;{(0,At.hu)(".priority"!==Ni(o)||1===Dc(o),".priority must be the last token in a path");const E=this.getImmediateChild(g).updateChild(Rr(o),u);return this.updateImmediateChild(g,E)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const u={};let g=0,E=0,x=!0;if(this.forEachChild(kr,(V,q)=>{u[V]=q.val(o),g++,x&&l.INTEGER_REGEXP_.test(V)?E=Math.max(E,Number(V)):x=!1}),!o&&x&&E<2*g){const V=[];for(const q in u)V[q]=u[q];return V}return o&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+kd(this.getPriority().val())+":"),this.forEachChild(kr,(u,g)=>{const E=g.hash();""!==E&&(o+=":"+u+":"+E)}),this.lazyHash_=""===o?"":op(o)}return this.lazyHash_}getPredecessorChildName(o,u,g){const E=this.resolveIndex_(g);if(E){const x=E.getPredecessorKey(new wi(o,u));return x?x.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const u=this.resolveIndex_(o);if(u){const g=u.minKey();return g&&g.name}return this.children_.minKey()}getFirstChild(o){const u=this.getFirstChildName(o);return u?new wi(u,this.children_.get(u)):null}getLastChildName(o){const u=this.resolveIndex_(o);if(u){const g=u.maxKey();return g&&g.name}return this.children_.maxKey()}getLastChild(o){const u=this.getLastChildName(o);return u?new wi(u,this.children_.get(u)):null}forEachChild(o,u){const g=this.resolveIndex_(o);return g?g.inorderTraversal(E=>u(E.name,E.node)):this.children_.inorderTraversal(u)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,u){const g=this.resolveIndex_(u);if(g)return g.getIteratorFrom(o,E=>E);{const E=this.children_.getIteratorFrom(o.name,wi.Wrap);let x=E.peek();for(;null!=x&&u.compare(x,o)<0;)E.getNext(),x=E.peek();return E}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,u){const g=this.resolveIndex_(u);if(g)return g.getReverseIteratorFrom(o,E=>E);{const E=this.children_.getReverseIteratorFrom(o.name,wi.Wrap);let x=E.peek();for(;null!=x&&u.compare(x,o)>0;)E.getNext(),x=E.peek();return E}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Pc?-1:0}withIndex(o){if(o===Sc||this.indexMap_.hasIndex(o))return this;{const u=this.indexMap_.addIndex(o,this.children_);return new l(this.children_,this.priorityNode_,u)}}isIndexed(o){return o===Sc||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const u=o;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const g=this.getIterator(kr),E=u.getIterator(kr);let x=g.getNext(),V=E.getNext();for(;x&&V;){if(x.name!==V.name||!x.node.equals(V.node))return!1;x=g.getNext(),V=E.getNext()}return null===x&&null===V}return!1}return!1}}resolveIndex_(o){return o===Sc?null:this.indexMap_.get(o.toString())}}return l.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,l})();const Pc=new class f0 extends Ei{constructor(){super(new ds(Pd),Ei.EMPTY_NODE,Rc.Default)}compareTo(a){return a===this?0:1}equals(a){return a===this}getPriority(){return this}getImmediateChild(a){return Ei.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(wi,{MIN:{value:new wi(ul,Ei.EMPTY_NODE)},MAX:{value:new wi(wc,Pc)}}),Ac.__EMPTY_NODE=Ei.EMPTY_NODE,ku.__childrenNodeConstructor=Ei,function Kv(l){Ym=l}(Pc),function Qv(l){Zv=l}(Pc);const kc=!0;function Or(l,a=null){if(null===l)return Ei.EMPTY_NODE;if("object"==typeof l&&".priority"in l&&(a=l[".priority"]),(0,At.hu)(null===a||"string"==typeof a||"number"==typeof a||"object"==typeof a&&".sv"in a,"Invalid priority type found: "+typeof a),"object"==typeof l&&".value"in l&&null!==l[".value"]&&(l=l[".value"]),"object"!=typeof l||".sv"in l)return new ku(l,Or(a));if(l instanceof Array||!kc){let o=Ei.EMPTY_NODE;return Qo(l,(u,g)=>{if((0,At.r3)(l,u)&&"."!==u.substring(0,1)){const E=Or(g);(E.isLeafNode()||!E.isEmpty())&&(o=o.updateImmediateChild(u,E))}}),o.updatePriority(Or(a))}{const o=[];let u=!1;if(Qo(l,(x,V)=>{if("."!==x.substring(0,1)){const q=Or(V);q.isEmpty()||(u=u||!q.getPriority().isEmpty(),o.push(new wi(x,q)))}}),0===o.length)return Ei.EMPTY_NODE;const E=Ql(o,Gv,x=>x.name,Pd);if(u){const x=Ql(o,kr.getCompare());return new Ei(E,Or(a),new Rc({".priority":x},{".priority":kr}))}return new Ei(E,Or(a),Rc.Default)}}!function d0(l){qv=l}(Or);class Xl extends Ta{constructor(a){super(),this.indexPath_=a,(0,At.hu)(!Fi(a)&&".priority"!==Ni(a),"Can't create PathIndex with empty path or .priority key")}extractChild(a){return a.getChild(this.indexPath_)}isDefinedOn(a){return!a.getChild(this.indexPath_).isEmpty()}compare(a,o){const u=this.extractChild(a.node),g=this.extractChild(o.node),E=u.compareTo(g);return 0===E?Mu(a.name,o.name):E}makePost(a,o){const u=Or(a),g=Ei.EMPTY_NODE.updateChild(this.indexPath_,u);return new wi(o,g)}maxPost(){const a=Ei.EMPTY_NODE.updateChild(this.indexPath_,Pc);return new wi(wc,a)}toString(){return ql(this.indexPath_,0).join("/")}}const X_=new class p0 extends Ta{compare(a,o){const u=a.node.compareTo(o.node);return 0===u?Mu(a.name,o.name):u}isDefinedOn(a){return!0}indexedValueChanged(a,o){return!a.equals(o)}minPost(){return wi.MIN}maxPost(){return wi.MAX}makePost(a,o){const u=Or(a);return new wi(o,u)}toString(){return".value"}};function Zm(l,a,o){return{type:"child_changed",snapshotNode:a,childName:l,oldSnap:o}}class Qm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,At.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,At.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ul}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,At.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,At.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,At.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kr}copy(){const a=new Qm;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.startAfterSet_=this.startAfterSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.endBeforeSet_=this.endBeforeSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a}}function ey(l){const a={};if(l.isDefault())return a;let o;if(l.index_===kr?o="$priority":l.index_===X_?o="$value":l.index_===Sc?o="$key":((0,At.hu)(l.index_ instanceof Xl,"Unrecognized index type!"),o=l.index_.toString()),a.orderBy=(0,At.Wl)(o),l.startSet_){const u=l.startAfterSet_?"startAfter":"startAt";a[u]=(0,At.Wl)(l.indexStartValue_),l.startNameSet_&&(a[u]+=","+(0,At.Wl)(l.indexStartName_))}if(l.endSet_){const u=l.endBeforeSet_?"endBefore":"endAt";a[u]=(0,At.Wl)(l.indexEndValue_),l.endNameSet_&&(a[u]+=","+(0,At.Wl)(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?a.limitToFirst=l.limit_:a.limitToLast=l.limit_),a}function eg(l){const a={};if(l.startSet_&&(a.sp=l.indexStartValue_,l.startNameSet_&&(a.sn=l.indexStartName_),a.sin=!l.startAfterSet_),l.endSet_&&(a.ep=l.indexEndValue_,l.endNameSet_&&(a.en=l.indexEndName_),a.ein=!l.endBeforeSet_),l.limitSet_){a.l=l.limit_;let o=l.viewFrom_;""===o&&(o=l.isViewFromLeft()?"l":"r"),a.vf=o}return l.index_!==kr&&(a.i=l.index_.toString()),a}class Gh extends xc{constructor(a,o,u,g){super(),this.repoInfo_=a,this.onDataUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=g,this.log_=Yl("p:rest:"),this.listens_={}}reportStats(a){throw new Error("Method not implemented.")}static getListenId_(a,o){return void 0!==o?"tag$"+o:((0,At.hu)(a._queryParams.isDefault(),"should have a tag if it's not a default query."),a._path.toString())}listen(a,o,u,g){const E=a._path.toString();this.log_("Listen called for "+E+" "+a._queryIdentifier);const x=Gh.getListenId_(a,u),V={};this.listens_[x]=V;const q=ey(a._queryParams);this.restRequest_(E+".json",q,(se,rt)=>{let ht=rt;if(404===se&&(ht=null,se=null),null===se&&this.onDataUpdate_(E,ht,!1,u),(0,At.DV)(this.listens_,x)===V){let Tt;Tt=se?401===se?"permission_denied":"rest_error:"+se:"ok",g(Tt,null)}})}unlisten(a,o){const u=Gh.getListenId_(a,o);delete this.listens_[u]}get(a){const o=ey(a._queryParams),u=a._path.toString(),g=new At.BH;return this.restRequest_(u+".json",o,(E,x)=>{let V=x;404===E&&(V=null,E=null),null===E?(this.onDataUpdate_(u,V,!1,null),g.resolve(V)):g.reject(new Error(V))}),g.promise}refreshAuthToken(a){}restRequest_(a,o={},u){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([g,E])=>{g&&g.accessToken&&(o.auth=g.accessToken),E&&E.token&&(o.ac=E.token);const x=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+a+"?ns="+this.repoInfo_.namespace+(0,At.xO)(o);this.log_("Sending REST request for "+x);const V=new XMLHttpRequest;V.onreadystatechange=()=>{if(u&&4===V.readyState){this.log_("REST Response for "+x+" received. status:",V.status,"response:",V.responseText);let q=null;if(V.status>=200&&V.status<300){try{q=(0,At.cI)(V.responseText)}catch{Ro("Failed to parse JSON response for "+x+": "+V.responseText)}u(null,q)}else 401!==V.status&&404!==V.status&&Ro("Got unsuccessful REST response for "+x+" Status: "+V.status),u(V.status);u=null}},V.open("GET",x,!0),V.send()})}}class v0{constructor(){this.rootNode_=Ei.EMPTY_NODE}getNode(a){return this.rootNode_.getChild(a)}updateSnapshot(a,o){this.rootNode_=this.rootNode_.updateChild(a,o)}}function Kh(){return{value:null,children:new Map}}function Nu(l,a,o){if(Fi(a))l.value=o,l.children.clear();else if(null!==l.value)l.value=l.value.updateChild(a,o);else{const u=Ni(a);l.children.has(u)||l.children.set(u,Kh()),Nu(l.children.get(u),a=Rr(a),o)}}function ty(l,a,o){null!==l.value?o(a,l.value):function b0(l,a){l.children.forEach((o,u)=>{a(u,o)})}(l,(u,g)=>{ty(g,new dr(a.toString()+"/"+u),o)})}class E0{constructor(a){this.collection_=a,this.last_=null}get(){const a=this.collection_.get(),o=Object.assign({},a);return this.last_&&Qo(this.last_,(u,g)=>{o[u]=o[u]-g}),this.last_=a,o}}class ig{constructor(a,o){this.server_=o,this.statsToReport_={},this.statsListener_=new E0(a);const u=1e4+2e4*Math.random();Ru(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const a=this.statsListener_.get(),o={};let u=!1;Qo(a,(g,E)=>{E>0&&(0,At.r3)(this.statsToReport_,g)&&(o[g]=E,u=!0)}),u&&this.server_.reportStats(o),Ru(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Xo=function(l){return l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",l}(Xo||{});function rg(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}class Yh{constructor(a,o,u){this.path=a,this.affectedTree=o,this.revert=u,this.type=Xo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(a){if(Fi(this.path)){if(null!=this.affectedTree.value)return(0,At.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new dr(a));return new Yh(tr(),o,this.revert)}}return(0,At.hu)(Ni(this.path)===a,"operationForChild called for unrelated child."),new Yh(Rr(this.path),this.affectedTree,this.revert)}}class Jl{constructor(a,o,u){this.source=a,this.path=o,this.snap=u,this.type=Xo.OVERWRITE}operationForChild(a){return Fi(this.path)?new Jl(this.source,tr(),this.snap.getImmediateChild(a)):new Jl(this.source,Rr(this.path),this.snap)}}class Fu{constructor(a,o,u){this.source=a,this.path=o,this.children=u,this.type=Xo.MERGE}operationForChild(a){if(Fi(this.path)){const o=this.children.subtree(new dr(a));return o.isEmpty()?null:o.value?new Jl(this.source,tr(),o.value):new Fu(this.source,tr(),o)}return(0,At.hu)(Ni(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new Fu(this.source,Rr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Vd{constructor(a,o,u){this.node_=a,this.fullyInitialized_=o,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(a){if(Fi(a))return this.isFullyInitialized()&&!this.filtered_;const o=Ni(a);return this.isCompleteForChild(o)}isCompleteForChild(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)}getNode(){return this.node_}}function Zh(l,a,o,u,g,E){const x=u.filter(V=>V.type===o);x.sort((V,q)=>function PE(l,a,o){if(null==a.childName||null==o.childName)throw(0,At.g5)("Should only compare child_ events.");const u=new wi(a.childName,a.snapshotNode),g=new wi(o.childName,o.snapshotNode);return l.index_.compare(u,g)}(l,V,q)),x.forEach(V=>{const q=function I0(l,a,o){return"value"===a.type||"child_removed"===a.type||(a.prevName=o.getPredecessorChildName(a.childName,a.snapshotNode,l.index_)),a}(l,V,E);g.forEach(se=>{se.respondsTo(V.type)&&a.push(se.createEvent(q,l.query_))})})}function og(l,a){return{eventCache:l,serverCache:a}}function pp(l,a,o,u){return og(new Vd(a,o,u),l.serverCache)}function mp(l,a,o,u){return og(l.eventCache,new Vd(a,o,u))}function Bd(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Ud(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}let Qh;class r{constructor(a,o=(()=>(Qh||(Qh=new ds(kh)),Qh))()){this.value=a,this.children=o}static fromObject(a){let o=new r(null);return Qo(a,(u,g)=>{o=o.set(new dr(u),g)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(a,o){if(null!=this.value&&o(this.value))return{path:tr(),value:this.value};if(Fi(a))return null;{const u=Ni(a),g=this.children.get(u);if(null!==g){const E=g.findRootMostMatchingPathAndValue(Rr(a),o);return null!=E?{path:Pr(new dr(u),E.path),value:E.value}:null}return null}}findRootMostValueAndPath(a){return this.findRootMostMatchingPathAndValue(a,()=>!0)}subtree(a){if(Fi(a))return this;{const o=Ni(a),u=this.children.get(o);return null!==u?u.subtree(Rr(a)):new r(null)}}set(a,o){if(Fi(a))return new r(o,this.children);{const u=Ni(a),E=(this.children.get(u)||new r(null)).set(Rr(a),o),x=this.children.insert(u,E);return new r(this.value,x)}}remove(a){if(Fi(a))return this.children.isEmpty()?new r(null):new r(null,this.children);{const o=Ni(a),u=this.children.get(o);if(u){const g=u.remove(Rr(a));let E;return E=g.isEmpty()?this.children.remove(o):this.children.insert(o,g),null===this.value&&E.isEmpty()?new r(null):new r(this.value,E)}return this}}get(a){if(Fi(a))return this.value;{const o=Ni(a),u=this.children.get(o);return u?u.get(Rr(a)):null}}setTree(a,o){if(Fi(a))return o;{const u=Ni(a),E=(this.children.get(u)||new r(null)).setTree(Rr(a),o);let x;return x=E.isEmpty()?this.children.remove(u):this.children.insert(u,E),new r(this.value,x)}}fold(a){return this.fold_(tr(),a)}fold_(a,o){const u={};return this.children.inorderTraversal((g,E)=>{u[g]=E.fold_(Pr(a,g),o)}),o(a,this.value,u)}findOnPath(a,o){return this.findOnPath_(a,tr(),o)}findOnPath_(a,o,u){const g=!!this.value&&u(o,this.value);if(g)return g;if(Fi(a))return null;{const E=Ni(a),x=this.children.get(E);return x?x.findOnPath_(Rr(a),Pr(o,E),u):null}}foreachOnPath(a,o){return this.foreachOnPath_(a,tr(),o)}foreachOnPath_(a,o,u){if(Fi(a))return this;{this.value&&u(o,this.value);const g=Ni(a),E=this.children.get(g);return E?E.foreachOnPath_(Rr(a),Pr(o,g),u):new r(null)}}foreach(a){this.foreach_(tr(),a)}foreach_(a,o){this.children.inorderTraversal((u,g)=>{g.foreach_(Pr(a,u),o)}),this.value&&o(a,this.value)}foreachChild(a){this.children.inorderTraversal((o,u)=>{u.value&&a(o,u.value)})}}class e{constructor(a){this.writeTree_=a}static empty(){return new e(new r(null))}}function n(l,a,o){if(Fi(a))return new e(new r(o));{const u=l.writeTree_.findRootMostValueAndPath(a);if(null!=u){const g=u.path;let E=u.value;const x=na(g,a);return E=E.updateChild(x,o),new e(l.writeTree_.set(g,E))}{const g=new r(o),E=l.writeTree_.setTree(a,g);return new e(E)}}}function c(l,a,o){let u=l;return Qo(o,(g,E)=>{u=n(u,Pr(a,g),E)}),u}function f(l,a){if(Fi(a))return e.empty();{const o=l.writeTree_.setTree(a,new r(null));return new e(o)}}function m(l,a){return null!=v(l,a)}function v(l,a){const o=l.writeTree_.findRootMostValueAndPath(a);return null!=o?l.writeTree_.get(o.path).getChild(na(o.path,a)):null}function P(l){const a=[],o=l.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(kr,(u,g)=>{a.push(new wi(u,g))}):l.writeTree_.children.inorderTraversal((u,g)=>{null!=g.value&&a.push(new wi(u,g.value))}),a}function L(l,a){if(Fi(a))return l;{const o=v(l,a);return new e(null!=o?new r(o):l.writeTree_.subtree(a))}}function K(l){return l.writeTree_.isEmpty()}function ae(l,a){return Pe(tr(),l.writeTree_,a)}function Pe(l,a,o){if(null!=a.value)return o.updateChild(l,a.value);{let u=null;return a.children.inorderTraversal((g,E)=>{".priority"===g?((0,At.hu)(null!==E.value,"Priority writes must always be leaf nodes"),u=E.value):o=Pe(Pr(l,g),E,o)}),!o.getChild(l).isEmpty()&&null!==u&&(o=o.updateChild(Pr(l,".priority"),u)),o}}function mt(l,a){return nb(a,l)}function si(l,a){if(l.snap)return ia(l.path,a);for(const o in l.children)if(l.children.hasOwnProperty(o)&&ia(Pr(l.path,o),a))return!0;return!1}function fi(l){return l.visible}function ri(l,a,o){let u=e.empty();for(let g=0;g<l.length;++g){const E=l[g];if(a(E)){const x=E.path;let V;if(E.snap)ia(o,x)?(V=na(o,x),u=n(u,V,E.snap)):ia(x,o)&&(V=na(x,o),u=n(u,tr(),E.snap.getChild(V)));else{if(!E.children)throw(0,At.g5)("WriteRecord should have .snap or .children");if(ia(o,x))V=na(o,x),u=c(u,V,E.children);else if(ia(x,o))if(V=na(x,o),Fi(V))u=c(u,tr(),E.children);else{const q=(0,At.DV)(E.children,Ni(V));if(q){const se=q.getChild(Rr(V));u=n(u,tr(),se)}}}}}return u}function yr(l,a,o,u,g){if(u||g){const E=L(l.visibleWrites,a);return!g&&K(E)?o:g||null!=o||m(E,tr())?ae(ri(l.allWrites,function(se){return(se.visible||g)&&(!u||!~u.indexOf(se.writeId))&&(ia(se.path,a)||ia(a,se.path))},a),o||Ei.EMPTY_NODE):null}{const E=v(l.visibleWrites,a);if(null!=E)return E;{const x=L(l.visibleWrites,a);return K(x)?o:null!=o||m(x,tr())?ae(x,o||Ei.EMPTY_NODE):null}}}function zd(l,a,o,u){return yr(l.writeTree,l.treePath,a,o,u)}function x0(l,a){return function hr(l,a,o){let u=Ei.EMPTY_NODE;const g=v(l.visibleWrites,a);if(g)return g.isLeafNode()||g.forEachChild(kr,(E,x)=>{u=u.updateImmediateChild(E,x)}),u;if(o){const E=L(l.visibleWrites,a);return o.forEachChild(kr,(x,V)=>{const q=ae(L(E,new dr(x)),V);u=u.updateImmediateChild(x,q)}),P(E).forEach(x=>{u=u.updateImmediateChild(x.name,x.node)}),u}return P(L(l.visibleWrites,a)).forEach(x=>{u=u.updateImmediateChild(x.name,x.node)}),u}(l.writeTree,l.treePath,a)}function OE(l,a,o,u){return function Jo(l,a,o,u,g){(0,At.hu)(u||g,"Either existingEventSnap or existingServerSnap must exist");const E=Pr(a,o);if(m(l.visibleWrites,E))return null;{const x=L(l.visibleWrites,E);return K(x)?g.getChild(o):ae(x,g.getChild(o))}}(l.writeTree,l.treePath,a,o,u)}function ay(l,a){return function C0(l,a){return v(l.visibleWrites,a)}(l.writeTree,Pr(l.treePath,a))}function tb(l,a,o){return function Oc(l,a,o,u){const g=Pr(a,o),E=v(l.visibleWrites,g);return null!=E?E:u.isCompleteForChild(o)?ae(L(l.visibleWrites,g),u.getNode().getImmediateChild(o)):null}(l.writeTree,l.treePath,a,o)}function Jw(l,a){return nb(Pr(l.treePath,a),l.writeTree)}function nb(l,a){return{treePath:l,writeTree:a}}class D0{constructor(){this.changeMap=new Map}trackChildChange(a){const o=a.type,u=a.childName;(0,At.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,At.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const g=this.changeMap.get(u);if(g){const E=g.type;if("child_added"===o&&"child_removed"===E)this.changeMap.set(u,Zm(u,a.snapshotNode,g.snapshotNode));else if("child_removed"===o&&"child_added"===E)this.changeMap.delete(u);else if("child_removed"===o&&"child_changed"===E)this.changeMap.set(u,function Ou(l,a){return{type:"child_removed",snapshotNode:a,childName:l}}(u,g.oldSnap));else if("child_changed"===o&&"child_added"===E)this.changeMap.set(u,function Is(l,a){return{type:"child_added",snapshotNode:a,childName:l}}(u,a.snapshotNode));else{if("child_changed"!==o||"child_changed"!==E)throw(0,At.g5)("Illegal combination of changes: "+a+" occurred after "+g);this.changeMap.set(u,Zm(u,a.snapshotNode,g.oldSnap))}}else this.changeMap.set(u,a)}getChanges(){return Array.from(this.changeMap.values())}}const NE=new class Lu{getCompleteChild(a){return null}getChildAfterChild(a,o,u){return null}};class T0{constructor(a,o,u=null){this.writes_=a,this.viewCache_=o,this.optCompleteServerCache_=u}getCompleteChild(a){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(a))return o.getNode().getImmediateChild(a);{const u=null!=this.optCompleteServerCache_?new Vd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tb(this.writes_,a,u)}}getChildAfterChild(a,o,u){const g=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ud(this.viewCache_),E=function Xw(l,a,o,u,g,E){return function sy(l,a,o,u,g,E,x){let V;const q=L(l.visibleWrites,a),se=v(q,tr());if(null!=se)V=se;else{if(null==o)return[];V=ae(q,o)}if(V=V.withIndex(x),V.isEmpty()||V.isLeafNode())return[];{const rt=[],ht=x.getCompare(),Tt=E?V.getReverseIteratorFrom(u,x):V.getIteratorFrom(u,x);let Jt=Tt.getNext();for(;Jt&&rt.length<g;)0!==ht(Jt,u)&&rt.push(Jt),Jt=Tt.getNext();return rt}}(l.writeTree,l.treePath,a,o,u,g,E)}(this.writes_,g,o,1,u,a);return 0===E.length?null:E[0]}}function A0(l,a,o,u,g,E){const x=a.eventCache;if(null!=ay(u,o))return a;{let V,q;if(Fi(o))if((0,At.hu)(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){const se=Ud(a),ht=x0(u,se instanceof Ei?se:Ei.EMPTY_NODE);V=l.filter.updateFullNode(a.eventCache.getNode(),ht,E)}else{const se=zd(u,Ud(a));V=l.filter.updateFullNode(a.eventCache.getNode(),se,E)}else{const se=Ni(o);if(".priority"===se){(0,At.hu)(1===Dc(o),"Can't have a priority with additional path components");const rt=x.getNode();q=a.serverCache.getNode();const ht=OE(u,o,rt,q);V=null!=ht?l.filter.updatePriority(rt,ht):x.getNode()}else{const rt=Rr(o);let ht;if(x.isCompleteForChild(se)){q=a.serverCache.getNode();const Tt=OE(u,o,x.getNode(),q);ht=null!=Tt?x.getNode().getImmediateChild(se).updateChild(rt,Tt):x.getNode().getImmediateChild(se)}else ht=tb(u,se,a.serverCache);V=null!=ht?l.filter.updateChild(x.getNode(),se,ht,rt,g,E):x.getNode()}}return pp(a,V,x.isFullyInitialized()||Fi(o),l.filter.filtersNodes())}}function ib(l,a,o,u,g,E,x,V){const q=a.serverCache;let se;const rt=x?l.filter:l.filter.getIndexedFilter();if(Fi(o))se=rt.updateFullNode(q.getNode(),u,null);else if(rt.filtersNodes()&&!q.isFiltered()){const Jt=q.getNode().updateChild(o,u);se=rt.updateFullNode(q.getNode(),Jt,null)}else{const Jt=Ni(o);if(!q.isCompleteForPath(o)&&Dc(o)>1)return a;const ln=Rr(o),ui=q.getNode().getImmediateChild(Jt).updateChild(ln,u);se=".priority"===Jt?rt.updatePriority(q.getNode(),ui):rt.updateChild(q.getNode(),Jt,ui,ln,NE,null)}const ht=mp(a,se,q.isFullyInitialized()||Fi(o),rt.filtersNodes());return A0(l,ht,o,g,new T0(g,ht,E),V)}function S0(l,a,o,u,g,E,x){const V=a.eventCache;let q,se;const rt=new T0(g,a,E);if(Fi(o))se=l.filter.updateFullNode(a.eventCache.getNode(),u,x),q=pp(a,se,!0,l.filter.filtersNodes());else{const ht=Ni(o);if(".priority"===ht)se=l.filter.updatePriority(a.eventCache.getNode(),u),q=pp(a,se,V.isFullyInitialized(),V.isFiltered());else{const Tt=Rr(o),Jt=V.getNode().getImmediateChild(ht);let ln;if(Fi(Tt))ln=u;else{const wn=rt.getCompleteChild(ht);ln=null!=wn?".priority"===fl(Tt)&&wn.getChild(Wv(Tt)).isEmpty()?wn:wn.updateChild(Tt,u):Ei.EMPTY_NODE}q=Jt.equals(ln)?a:pp(a,l.filter.updateChild(V.getNode(),ht,ln,Tt,rt,x),V.isFullyInitialized(),l.filter.filtersNodes())}}return q}function LE(l,a){return l.eventCache.isCompleteForChild(a)}function rb(l,a,o){return o.foreach((u,g)=>{a=a.updateChild(u,g)}),a}function _p(l,a,o,u,g,E,x,V){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;let se,q=a;se=Fi(o)?u:new r(null).setTree(o,u);const rt=a.serverCache.getNode();return se.children.inorderTraversal((ht,Tt)=>{if(rt.hasChild(ht)){const ln=rb(0,a.serverCache.getNode().getImmediateChild(ht),Tt);q=ib(l,q,new dr(ht),ln,g,E,x,V)}}),se.children.inorderTraversal((ht,Tt)=>{const Jt=!a.serverCache.isCompleteForChild(ht)&&null===Tt.value;if(!rt.hasChild(ht)&&!Jt){const wn=rb(0,a.serverCache.getNode().getImmediateChild(ht),Tt);q=ib(l,q,new dr(ht),wn,g,E,x,V)}}),q}function ob(l,a){const o=Ud(l.viewCache_);return o&&(l.query._queryParams.loadsAllData()||!Fi(a)&&!o.getImmediateChild(Ni(a)).isEmpty())?o.getChild(a):null}function R0(l,a,o,u){a.type===Xo.MERGE&&null!==a.source.queryId&&((0,At.hu)(Ud(l.viewCache_),"We should always have a full cache before handling merges"),(0,At.hu)(Bd(l.viewCache_),"Missing event cache, even though we have a server cache"));const g=l.viewCache_,E=function tu(l,a,o,u,g){const E=new D0;let x,V;if(o.type===Xo.OVERWRITE){const se=o;se.source.fromUser?x=S0(l,a,se.path,se.snap,u,g,E):((0,At.hu)(se.source.fromServer,"Unknown source."),V=se.source.tagged||a.serverCache.isFiltered()&&!Fi(se.path),x=ib(l,a,se.path,se.snap,u,g,V,E))}else if(o.type===Xo.MERGE){const se=o;se.source.fromUser?x=function eI(l,a,o,u,g,E,x){let V=a;return u.foreach((q,se)=>{const rt=Pr(o,q);LE(a,Ni(rt))&&(V=S0(l,V,rt,se,g,E,x))}),u.foreach((q,se)=>{const rt=Pr(o,q);LE(a,Ni(rt))||(V=S0(l,V,rt,se,g,E,x))}),V}(l,a,se.path,se.children,u,g,E):((0,At.hu)(se.source.fromServer,"Unknown source."),V=se.source.tagged||a.serverCache.isFiltered(),x=_p(l,a,se.path,se.children,u,g,V,E))}else if(o.type===Xo.ACK_USER_WRITE){const se=o;x=se.revert?function nI(l,a,o,u,g,E){let x;if(null!=ay(u,o))return a;{const V=new T0(u,a,g),q=a.eventCache.getNode();let se;if(Fi(o)||".priority"===Ni(o)){let rt;if(a.serverCache.isFullyInitialized())rt=zd(u,Ud(a));else{const ht=a.serverCache.getNode();(0,At.hu)(ht instanceof Ei,"serverChildren would be complete if leaf node"),rt=x0(u,ht)}se=l.filter.updateFullNode(q,rt,E)}else{const rt=Ni(o);let ht=tb(u,rt,a.serverCache);null==ht&&a.serverCache.isCompleteForChild(rt)&&(ht=q.getImmediateChild(rt)),se=null!=ht?l.filter.updateChild(q,rt,ht,Rr(o),V,E):a.eventCache.getNode().hasChild(rt)?l.filter.updateChild(q,rt,Ei.EMPTY_NODE,Rr(o),V,E):q,se.isEmpty()&&a.serverCache.isFullyInitialized()&&(x=zd(u,Ud(a)),x.isLeafNode()&&(se=l.filter.updateFullNode(se,x,E)))}return x=a.serverCache.isFullyInitialized()||null!=ay(u,tr()),pp(a,se,x,l.filter.filtersNodes())}}(l,a,se.path,u,g,E):function tI(l,a,o,u,g,E,x){if(null!=ay(g,o))return a;const V=a.serverCache.isFiltered(),q=a.serverCache;if(null!=u.value){if(Fi(o)&&q.isFullyInitialized()||q.isCompleteForPath(o))return ib(l,a,o,q.getNode().getChild(o),g,E,V,x);if(Fi(o)){let se=new r(null);return q.getNode().forEachChild(Sc,(rt,ht)=>{se=se.set(new dr(rt),ht)}),_p(l,a,o,se,g,E,V,x)}return a}{let se=new r(null);return u.foreach((rt,ht)=>{const Tt=Pr(o,rt);q.isCompleteForPath(Tt)&&(se=se.set(rt,q.getNode().getChild(Tt)))}),_p(l,a,o,se,g,E,V,x)}}(l,a,se.path,se.affectedTree,u,g,E)}else{if(o.type!==Xo.LISTEN_COMPLETE)throw(0,At.g5)("Unknown operation type: "+o.type);x=function VE(l,a,o,u,g){const E=a.serverCache;return A0(l,mp(a,E.getNode(),E.isFullyInitialized()||Fi(o),E.isFiltered()),o,u,NE,g)}(l,a,o.path,u,E)}const q=E.getChanges();return function FE(l,a,o){const u=a.eventCache;if(u.isFullyInitialized()){const g=u.getNode().isLeafNode()||u.getNode().isEmpty(),E=Bd(l);(o.length>0||!l.eventCache.isFullyInitialized()||g&&!u.getNode().equals(E)||!u.getNode().getPriority().equals(E.getPriority()))&&o.push(function qm(l){return{type:"value",snapshotNode:l}}(Bd(a)))}}(a,x,q),{viewCache:x,changes:q}}(l.processor_,g,a,o,u);return function eu(l,a){(0,At.hu)(a.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),(0,At.hu)(a.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}(l.processor_,E.viewCache),(0,At.hu)(E.viewCache.serverCache.isFullyInitialized()||!g.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=E.viewCache,function HE(l,a,o,u){return function oy(l,a,o,u){const g=[],E=[];return a.forEach(x=>{"child_changed"===x.type&&l.index_.indexedValueChanged(x.oldSnap,x.snapshotNode)&&E.push(function m0(l,a){return{type:"child_moved",snapshotNode:a,childName:l}}(x.childName,x.snapshotNode))}),Zh(l,g,"child_removed",a,u,o),Zh(l,g,"child_added",a,u,o),Zh(l,g,"child_moved",E,u,o),Zh(l,g,"child_changed",a,u,o),Zh(l,g,"value",a,u,o),g}(l.eventGenerator_,a,o,u?[u]:l.eventRegistrations_)}(l,E.changes,E.viewCache.eventCache.getNode(),null)}let sg,cb;function sb(l,a,o,u){const g=a.source.queryId;if(null!==g){const E=l.views.get(g);return(0,At.hu)(null!=E,"SyncTree gave us an op for an invalid query."),R0(E,a,o,u)}{let E=[];for(const x of l.views.values())E=E.concat(R0(x,a,o,u));return E}}function jd(l,a){let o=null;for(const u of l.views.values())o=o||ob(u,a);return o}class QE{constructor(a){this.listenProvider_=a,this.syncPointTree_=new r(null),this.pendingWriteTree_=function kE(){return{visibleWrites:e.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function O0(l,a,o,u,g){return function Lt(l,a,o,u,g){(0,At.hu)(u>l.lastWriteId,"Stacking an older write on top of newer ones"),void 0===g&&(g=!0),l.allWrites.push({path:a,snap:o,writeId:u,visible:g}),g&&(l.visibleWrites=n(l.visibleWrites,a,o)),l.lastWriteId=u}(l.pendingWriteTree_,a,o,u,g),g?yp(l,new Jl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,o)):[]}function Jh(l,a,o=!1){const u=function xn(l,a){for(let o=0;o<l.allWrites.length;o++){const u=l.allWrites[o];if(u.writeId===a)return u}return null}(l.pendingWriteTree_,a);if(function Dn(l,a){const o=l.allWrites.findIndex(V=>V.writeId===a);(0,At.hu)(o>=0,"removeWrite called with nonexistent writeId.");const u=l.allWrites[o];l.allWrites.splice(o,1);let g=u.visible,E=!1,x=l.allWrites.length-1;for(;g&&x>=0;){const V=l.allWrites[x];V.visible&&(x>=o&&si(V,u.path)?g=!1:ia(u.path,V.path)&&(E=!0)),x--}return!!g&&(E?(function pi(l){l.visibleWrites=ri(l.allWrites,fi,tr()),l.lastWriteId=l.allWrites.length>0?l.allWrites[l.allWrites.length-1].writeId:-1}(l),!0):(u.snap?l.visibleWrites=f(l.visibleWrites,u.path):Qo(u.children,q=>{l.visibleWrites=f(l.visibleWrites,Pr(u.path,q))}),!0))}(l.pendingWriteTree_,a)){let E=new r(null);return null!=u.snap?E=E.set(tr(),!0):Qo(u.children,x=>{E=E.set(new dr(x),!0)}),yp(l,new Yh(u.path,E,o))}return[]}function ly(l,a,o){return yp(l,new Jl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,o))}function uy(l,a,o){const g=l.pendingWriteTree_,E=l.syncPointTree_.findOnPath(a,(x,V)=>{const se=jd(V,na(x,a));if(se)return se});return yr(g,a,E,o,!0)}function yp(l,a){return F0(a,l.syncPointTree_,null,mt(l.pendingWriteTree_,tr()))}function F0(l,a,o,u){if(Fi(l.path))return L0(l,a,o,u);{const g=a.get(tr());null==o&&null!=g&&(o=jd(g,tr()));let E=[];const x=Ni(l.path),V=l.operationForChild(x),q=a.children.get(x);if(q&&V){const se=o?o.getImmediateChild(x):null,rt=Jw(u,x);E=E.concat(F0(V,q,se,rt))}return g&&(E=E.concat(sb(g,l,u,o))),E}}function L0(l,a,o,u){const g=a.get(tr());null==o&&null!=g&&(o=jd(g,tr()));let E=[];return a.children.inorderTraversal((x,V)=>{const q=o?o.getImmediateChild(x):null,se=Jw(u,x),rt=l.operationForChild(x);rt&&(E=E.concat(L0(rt,V,q,se)))}),g&&(E=E.concat(sb(g,l,u,o))),E}function Hd(l,a){return l.tagToQueryMap.get(a)}function B0(l){const a=l.indexOf("$");return(0,At.hu)(-1!==a&&a<l.length-1,"Bad queryKey."),{queryId:l.substr(a+1),path:new dr(l.substr(0,a))}}function U0(l,a,o){const u=l.syncPointTree_.get(a);return(0,At.hu)(u,"Missing sync point for query tag that we're tracking"),sb(u,o,mt(l.pendingWriteTree_,a),null)}class hb{constructor(a){this.node_=a}getImmediateChild(a){const o=this.node_.getImmediateChild(a);return new hb(o)}node(){return this.node_}}class tw{constructor(a,o){this.syncTree_=a,this.path_=o}getImmediateChild(a){const o=Pr(this.path_,a);return new tw(this.syncTree_,o)}node(){return uy(this.syncTree_,this.path_)}}const lg=function(l){return(l=l||{}).timestamp=l.timestamp||(new Date).getTime(),l},nw=function(l,a,o){return l&&"object"==typeof l?((0,At.hu)(".sv"in l,"Unexpected leaf node or priority contents"),"string"==typeof l[".sv"]?hI(l[".sv"],a,o):"object"==typeof l[".sv"]?fI(l[".sv"],a):void(0,At.hu)(!1,"Unexpected server value: "+JSON.stringify(l,null,2))):l},hI=function(l,a,o){if("timestamp"===l)return o.timestamp;(0,At.hu)(!1,"Unexpected server value: "+l)},fI=function(l,a,o){l.hasOwnProperty("increment")||(0,At.hu)(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const u=l.increment;"number"!=typeof u&&(0,At.hu)(!1,"Unexpected increment value: "+u);const g=a.node();if((0,At.hu)(null!==g&&typeof g<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!g.isLeafNode())return u;const x=g.getValue();return"number"!=typeof x?u:x+u},bp=function(l,a,o,u){return ug(a,new tw(o,l),u)},j0=function(l,a,o){return ug(l,new hb(a),o)};function ug(l,a,o){const u=l.getPriority().val(),g=nw(u,a.getImmediateChild(".priority"),o);let E;if(l.isLeafNode()){const x=l,V=nw(x.getValue(),a,o);return V!==x.getValue()||g!==x.getPriority().val()?new ku(V,Or(g)):l}{const x=l;return E=x,g!==x.getPriority().val()&&(E=E.updatePriority(new ku(g))),x.forEachChild(kr,(V,q)=>{const se=ug(q,a.getImmediateChild(V),o);se!==q&&(E=E.updateImmediateChild(V,se))}),E}}class dg{constructor(a="",o=null,u={children:{},childCount:0}){this.name=a,this.parent=o,this.node=u}}function zs(l,a){let o=a instanceof dr?a:new dr(a),u=l,g=Ni(o);for(;null!==g;){const E=(0,At.DV)(u.node.children,g)||{children:{},childCount:0};u=new dg(g,u,E),o=Rr(o),g=Ni(o)}return u}function hg(l){return l.node.value}function fb(l,a){l.node.value=a,W0(l)}function H0(l){return l.node.childCount>0}function dy(l,a){Qo(l.node.children,(o,u)=>{a(new dg(o,l,u))})}function $0(l,a,o,u){o&&!u&&a(l),dy(l,g=>{$0(g,a,!0,u)}),o&&u&&a(l)}function fg(l){return new dr(null===l.parent?l.name:fg(l.parent)+"/"+l.name)}function W0(l){null!==l.parent&&function mI(l,a,o){const u=function pI(l){return void 0===hg(l)&&!H0(l)}(o),g=(0,At.r3)(l.node.children,a);u&&g?(delete l.node.children[a],l.node.childCount--,W0(l)):!u&&!g&&(l.node.children[a]=o.node,l.node.childCount++,W0(l))}(l.parent,l.name,l)}const gI=/[\[\].#$\/\u0000-\u001F\u007F]/,hy=/[\[\].#$\u0000-\u001F\u007F]/,G0=10485760,pb=function(l){return"string"==typeof l&&0!==l.length&&!gI.test(l)},mg=function(l,a,o){const u=o instanceof dr?new Km(o,l):o;if(void 0===a)throw new Error(l+"contains undefined "+qr(u));if("function"==typeof a)throw new Error(l+"contains a function "+qr(u)+" with contents = "+a.toString());if(Rh(a))throw new Error(l+"contains "+a.toString()+" "+qr(u));if("string"==typeof a&&a.length>G0/3&&(0,At.ug)(a)>G0)throw new Error(l+"contains a string greater than "+G0+" utf8 bytes "+qr(u)+" ('"+a.substring(0,50)+"...')");if(a&&"object"==typeof a){let g=!1,E=!1;if(Qo(a,(x,V)=>{if(".value"===x)g=!0;else if(".priority"!==x&&".sv"!==x&&(E=!0,!pb(x)))throw new Error(l+" contains an invalid key ("+x+") "+qr(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ad(l,a){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(a),l.byteLength_+=(0,At.ug)(a),Sd(l)})(u,x),mg(l,V,u),function Tc(l){const a=l.parts_.pop();l.byteLength_-=(0,At.ug)(a),l.parts_.length>0&&(l.byteLength_-=1)}(u)}),g&&E)throw new Error(l+' contains ".value" child '+qr(u)+" in addition to actual children.")}},Y0=function(l,a){const o=a.path.toString();if("string"!=typeof a.repoInfo.host||0===a.repoInfo.host.length||!pb(a.repoInfo.namespace)&&"localhost"!==a.repoInfo.host.split(":")[0]||0!==o.length&&!function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),function(l){return"string"==typeof l&&0!==l.length&&!hy.test(l)}(l)}(o))throw new Error((0,At.gK)(l,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ow{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nc(l,a,o){(function gb(l,a){let o=null;for(let u=0;u<a.length;u++){const g=a[u],E=g.getPath();null!==o&&!hp(E,o.path)&&(l.eventLists_.push(o),o=null),null===o&&(o={events:[],path:E}),o.events.push(g)}o&&l.eventLists_.push(o)})(l,o),function sw(l,a){l.recursionDepth_++;let o=!0;for(let u=0;u<l.eventLists_.length;u++){const g=l.eventLists_[u];g&&(a(g.path)?(PC(l.eventLists_[u]),l.eventLists_[u]=null):o=!1)}o&&(l.eventLists_=[]),l.recursionDepth_--}(l,u=>ia(u,a)||ia(a,u))}function PC(l){for(let a=0;a<l.events.length;a++){const o=l.events[a];if(null!==o){l.events[a]=null;const u=o.getEventRunner();ll&&no("event: "+o.toString()),Id(u)}}}const kC=25;class OC{constructor(a,o,u,g){this.repoInfo_=a,this.forceRestClient_=o,this.authTokenProvider_=u,this.appCheckProvider_=g,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ow,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kh(),this.transactionQueueTree_=new dg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function py(l){const o=l.infoData_.getNode(new dr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function my(l){return lg({timestamp:py(l)})}function cw(l,a,o,u,g){l.dataUpdateCount++;const E=new dr(a);o=l.interceptServerDataCallback_?l.interceptServerDataCallback_(a,o):o;let x=[];if(g)if(u){const q=(0,At.UI)(o,se=>Or(se));x=function XE(l,a,o,u){const g=Hd(l,u);if(g){const E=B0(g),x=E.path,V=E.queryId,q=na(x,a),se=r.fromObject(o);return U0(l,x,new Fu(rg(V),q,se))}return[]}(l.serverSyncTree_,E,q,g)}else{const q=Or(o);x=function N0(l,a,o,u){const g=Hd(l,u);if(null!=g){const E=B0(g),x=E.path,V=E.queryId,q=na(x,a);return U0(l,x,new Jl(rg(V),q,o))}return[]}(l.serverSyncTree_,E,q,g)}else if(u){const q=(0,At.UI)(o,se=>Or(se));x=function lI(l,a,o){const u=r.fromObject(o);return yp(l,new Fu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,u))}(l.serverSyncTree_,E,q)}else{const q=Or(o);x=ly(l.serverSyncTree_,E,q)}let V=E;x.length>0&&(V=wp(l,E)),Nc(l.eventQueue_,V,x)}function Z0(l,a){Q0(l,"connected",a),!1===a&&function EI(l){_g(l,"onDisconnectEvents");const a=my(l),o=Kh();ty(l.onDisconnect_,tr(),(g,E)=>{const x=bp(g,E,l.serverSyncTree_,a);Nu(o,g,x)});let u=[];ty(o,tr(),(g,E)=>{u=u.concat(ly(l.serverSyncTree_,g,E));const x=function wb(l,a){const o=fg(pw(l,a)),u=zs(l.transactionQueueTree_,a);return function iw(l,a,o){let u=o?l:l.parent;for(;null!==u;){if(a(u))return!0;u=u.parent}}(u,g=>{J0(l,g)}),J0(l,u),$0(u,g=>{J0(l,g)}),o}(l,g);wp(l,x)}),l.onDisconnect_=Kh(),Nc(l.eventQueue_,tr(),u)}(l)}function Q0(l,a,o){const u=new dr("/.info/"+a),g=Or(o);l.infoData_.updateSnapshot(u,g);const E=ly(l.infoSyncTree_,u,g);Nc(l.eventQueue_,u,E)}function _b(l){return l.nextWriteId_++}function _g(l,...a){let o="";l.persistentConnection_&&(o=l.persistentConnection_.id+":"),no(o,...a)}function yy(l,a,o){return uy(l.serverSyncTree_,a,o)||Ei.EMPTY_NODE}function vb(l,a=l.transactionQueueTree_){if(a||Eb(l,a),hg(a)){const o=mw(l,a);(0,At.hu)(o.length>0,"Sending zero length transaction queue"),o.every(g=>0===g.status)&&function fw(l,a,o){const u=o.map(se=>se.currentWriteId),g=yy(l,a,u);let E=g;const x=g.hash();for(let se=0;se<o.length;se++){const rt=o[se];(0,At.hu)(0===rt.status,"tryToSendTransactionQueue_: items in queue should all be run."),rt.status=1,rt.retryCount++;const ht=na(a,rt.path);E=E.updateChild(ht,rt.currentOutputSnapshotRaw)}const V=E.val(!0),q=a;l.server_.put(q.toString(),V,se=>{_g(l,"transaction put response",{path:q.toString(),status:se});let rt=[];if("ok"===se){const ht=[];for(let Tt=0;Tt<o.length;Tt++)o[Tt].status=2,rt=rt.concat(Jh(l.serverSyncTree_,o[Tt].currentWriteId)),o[Tt].onComplete&&ht.push(()=>o[Tt].onComplete(null,!0,o[Tt].currentOutputSnapshotResolved)),o[Tt].unwatcher();Eb(l,zs(l.transactionQueueTree_,a)),vb(l,l.transactionQueueTree_),Nc(l.eventQueue_,a,rt);for(let Tt=0;Tt<ht.length;Tt++)Id(ht[Tt])}else{if("datastale"===se)for(let ht=0;ht<o.length;ht++)o[ht].status=3===o[ht].status?4:0;else{Ro("transaction at "+q.toString()+" failed: "+se);for(let ht=0;ht<o.length;ht++)o[ht].status=4,o[ht].abortReason=se}wp(l,a)}},x)}(l,fg(a),o)}else H0(a)&&dy(a,o=>{vb(l,o)})}function wp(l,a){const o=pw(l,a),u=fg(o);return function xI(l,a,o){if(0===a.length)return;const u=[];let g=[];const x=a.filter(V=>0===V.status).map(V=>V.currentWriteId);for(let V=0;V<a.length;V++){const q=a[V],se=na(o,q.path);let ht,rt=!1;if((0,At.hu)(null!==se,"rerunTransactionsUnderNode_: relativePath should not be null."),4===q.status)rt=!0,ht=q.abortReason,g=g.concat(Jh(l.serverSyncTree_,q.currentWriteId,!0));else if(0===q.status)if(q.retryCount>=kC)rt=!0,ht="maxretry",g=g.concat(Jh(l.serverSyncTree_,q.currentWriteId,!0));else{const Tt=yy(l,q.path,x);q.currentInputSnapshot=Tt;const Jt=a[V].update(Tt.val());if(void 0!==Jt){mg("transaction failed: Data returned ",Jt,q.path);let ln=Or(Jt);"object"==typeof Jt&&null!=Jt&&(0,At.r3)(Jt,".priority")||(ln=ln.updatePriority(Tt.getPriority()));const ui=q.currentWriteId,xr=my(l),Dr=j0(ln,Tt,xr);q.currentOutputSnapshotRaw=ln,q.currentOutputSnapshotResolved=Dr,q.currentWriteId=_b(l),x.splice(x.indexOf(ui),1),g=g.concat(O0(l.serverSyncTree_,q.path,Dr,q.currentWriteId,q.applyLocally)),g=g.concat(Jh(l.serverSyncTree_,ui,!0))}else rt=!0,ht="nodata",g=g.concat(Jh(l.serverSyncTree_,q.currentWriteId,!0))}Nc(l.eventQueue_,o,g),g=[],rt&&(a[V].status=2,setTimeout(a[V].unwatcher,Math.floor(0)),a[V].onComplete&&u.push("nodata"===ht?()=>a[V].onComplete(null,!1,a[V].currentInputSnapshot):()=>a[V].onComplete(new Error(ht),!1,null)))}Eb(l,l.transactionQueueTree_);for(let V=0;V<u.length;V++)Id(u[V]);vb(l,l.transactionQueueTree_)}(l,mw(l,o),u),u}function pw(l,a){let o,u=l.transactionQueueTree_;for(o=Ni(a);null!==o&&void 0===hg(u);)u=zs(u,o),o=Ni(a=Rr(a));return u}function mw(l,a){const o=[];return bb(l,a,o),o.sort((u,g)=>u.order-g.order),o}function bb(l,a,o){const u=hg(a);if(u)for(let g=0;g<u.length;g++)o.push(u[g]);dy(a,g=>{bb(l,g,o)})}function Eb(l,a){const o=hg(a);if(o){let u=0;for(let g=0;g<o.length;g++)2!==o[g].status&&(o[u]=o[g],u++);o.length=u,fb(a,o.length>0?o:void 0)}dy(a,u=>{Eb(l,u)})}function J0(l,a){const o=hg(a);if(o){const u=[];let g=[],E=-1;for(let x=0;x<o.length;x++)3===o[x].status||(1===o[x].status?((0,At.hu)(E===x-1,"All SENT items should be at beginning of queue."),E=x,o[x].status=3,o[x].abortReason="set"):((0,At.hu)(0===o[x].status,"Unexpected transaction status in abort"),o[x].unwatcher(),g=g.concat(Jh(l.serverSyncTree_,o[x].currentWriteId,!0)),o[x].onComplete&&u.push(o[x].onComplete.bind(null,new Error("set"),!1,null))));-1===E?fb(a,void 0):o.length=E+1,Nc(l.eventQueue_,fg(a),g);for(let x=0;x<u.length;x++)Id(u[x])}}const eE=function(l,a){const o=AI(l),u=o.namespace;return"firebase.com"===o.domain&&Ia(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==o.domain&&Ia("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ro("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new W_(o.host,o.secure,u,"ws"===o.scheme||"wss"===o.scheme,a,"",u!==o.subdomain),path:new dr(o.pathString)}},AI=function(l){let a="",o="",u="",g="",E="",x=!0,V="https",q=443;if("string"==typeof l){let se=l.indexOf("//");se>=0&&(V=l.substring(0,se-1),l=l.substring(se+2));let rt=l.indexOf("/");-1===rt&&(rt=l.length);let ht=l.indexOf("?");-1===ht&&(ht=l.length),a=l.substring(0,Math.min(rt,ht)),rt<ht&&(g=function DI(l){let a="";const o=l.split("/");for(let u=0;u<o.length;u++)if(o[u].length>0){let g=o[u];try{g=decodeURIComponent(g.replace(/\+/g," "))}catch{}a+="/"+g}return a}(l.substring(rt,ht)));const Tt=function TI(l){const a={};"?"===l.charAt(0)&&(l=l.substring(1));for(const o of l.split("&")){if(0===o.length)continue;const u=o.split("=");2===u.length?a[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Ro(`Invalid query segment '${o}' in query '${l}'`)}return a}(l.substring(Math.min(l.length,ht)));se=a.indexOf(":"),se>=0?(x="https"===V||"wss"===V,q=parseInt(a.substring(se+1),10)):se=a.length;const Jt=a.slice(0,se);if("localhost"===Jt.toLowerCase())o="localhost";else if(Jt.split(".").length<=2)o=Jt;else{const ln=a.indexOf(".");u=a.substring(0,ln).toLowerCase(),o=a.substring(ln+1),E=u}"ns"in Tt&&(E=Tt.ns)}return{host:a,port:q,domain:o,subdomain:u,secure:x,scheme:V,pathString:g,namespace:E}};class Fc{constructor(a,o,u,g){this._repo=a,this._path=o,this._queryParams=u,this._orderByCalled=g}get key(){return Fi(this._path)?null:fl(this._path)}get ref(){return new ru(this._repo,this._path)}get _queryIdentifier(){const a=eg(this._queryParams),o=Oh(a);return"{}"===o?"default":o}get _queryObject(){return eg(this._queryParams)}isEqual(a){if(!((a=(0,At.m9)(a))instanceof Fc))return!1;const o=this._repo===a._repo,u=hp(this._path,a._path);return o&&u&&this._queryIdentifier===a._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function dp(l){let a="";for(let o=l.pieceNum_;o<l.pieces_.length;o++)""!==l.pieces_[o]&&(a+="/"+encodeURIComponent(String(l.pieces_[o])));return a||"/"}(this._path)}}class ru extends Fc{constructor(a,o){super(a,o,new Qm,!1)}get parent(){const a=Wv(this._path);return null===a?null:new ru(this._repo,a)}get root(){let a=this;for(;null!==a.parent;)a=a.parent;return a}}(function $E(l){(0,At.hu)(!sg,"__referenceConstructor has already been defined"),sg=l})(ru),function oI(l){(0,At.hu)(!cb,"__referenceConstructor has already been defined"),cb=l}(ru);const sE={};class Mw{constructor(a,o){this._repoInternal=a,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function aw(l,a,o){if(l.stats_=Bh(l.repoInfo_),l.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)l.server_=new Gh(l.repoInfo_,(u,g,E,x)=>{cw(l,u,g,E,x)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>Z0(l,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,At.Wl)(o)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}l.persistentConnection_=new Da(l.repoInfo_,a,(u,g,E,x)=>{cw(l,u,g,E,x)},u=>{Z0(l,u)},u=>{!function gy(l,a){Qo(a,(o,u)=>{Q0(l,o,u)})}(l,u)},l.authTokenProvider_,l.appCheckProvider_,o),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(u=>{l.server_.refreshAuthToken(u)}),l.appCheckProvider_.addTokenChangeListener(u=>{l.server_.refreshAppCheckToken(u.token)}),l.statsReporter_=function Nv(l,a){const o=l.toString();return Dd[o]||(Dd[o]=a()),Dd[o]}(l.repoInfo_,()=>new ig(l.stats_,l.server_)),l.infoData_=new v0,l.infoSyncTree_=new QE({startListening:(u,g,E,x)=>{let V=[];const q=l.infoData_.getNode(u._path);return q.isEmpty()||(V=ly(l.infoSyncTree_,u._path,q),setTimeout(()=>{x("ok")},0)),V},stopListening:()=>{}}),Q0(l,"connected",!1),l.serverSyncTree_=new QE({startListening:(u,g,E,x)=>(l.server_.listen(u,E,g,(V,q)=>{const se=x(V,q);Nc(l.eventQueue_,u._path,se)}),[]),stopListening:(u,g)=>{l.server_.unlisten(u,g)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ru(this._repo,tr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Tw(l,a){const o=sE[a];(!o||o[l.key]!==l)&&Ia(`Database ${a}(${l.repoInfo_}) has already been deleted.`),function dw(l){l.persistentConnection_&&l.persistentConnection_.interrupt("repo_interrupt")}(l),delete o[l.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(a){null===this._rootInternal&&Ia("Cannot call "+a+" on a deleted database.")}}function ZC(l=(0,lr.getApp)(),a){const o=(0,lr._getProvider)(l,"database").getImmediate({identifier:a});if(!o._instanceStarted){const u=(0,At.P0)("database");u&&function Rw(l,a,o,u={}){(l=(0,At.m9)(l))._checkNotDeleted("useEmulator"),l._instanceStarted&&Ia("Cannot call useEmulator() after instance has already been initialized.");const g=l._repoInternal;let E;if(g.repoInfo_.nodeAdmin)u.mockUserToken&&Ia('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),E=new Lh(Lh.OWNER);else if(u.mockUserToken){const x="string"==typeof u.mockUserToken?u.mockUserToken:(0,At.Sg)(u.mockUserToken,l.app.options.projectId);E=new Lh(x)}!function Ey(l,a,o,u){l.repoInfo_=new W_(`${a}:${o}`,!1,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0),u&&(l.authTokenProvider_=u)}(g,a,o,E)}(o,...u)}return o}Da.prototype.simpleListen=function(l,a){this.sendRequest("q",{p:l},a)},Da.prototype.echo=function(l,a){this.sendRequest("echo",{d:l},a)},function WI(l){(function rp(l){km=l})(lr.SDK_VERSION),(0,lr._registerComponent)(new va.wA("database",(a,{instanceIdentifier:o})=>function aE(l,a,o,u,g){let E=u||l.options.databaseURL;void 0===E&&(l.options.projectId||Ia("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),no("Using default host for project ",l.options.projectId),E=`${l.options.projectId}-default-rtdb.firebaseio.com`);let q,se,x=eE(E,g),V=x.repoInfo;typeof process<"u"&&process.env&&(se=process.env.FIREBASE_DATABASE_EMULATOR_HOST),se?(q=!0,E=`http://${se}?ns=${V.namespace}`,x=eE(E,g),V=x.repoInfo):q=!x.repoInfo.secure;const rt=g&&q?new Lh(Lh.OWNER):new Fh(l.name,l.options,a);Y0("Invalid Firebase Database URL",x),Fi(x.path)||Ia("Database URL must point to the root of a Firebase Database (not including a child path).");const ht=function Aw(l,a,o,u){let g=sE[a.name];g||(g={},sE[a.name]=g);let E=g[l.toURLString()];return E&&Ia("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),E=new OC(l,!1,o,u),g[l.toURLString()]=E,E}(V,l,rt,new Av(l.name,o));return new Mw(ht,l)}(a.getProvider("app").getImmediate(),a.getProvider("auth-internal"),a.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,lr.registerVersion)(ip,"1.0.1",l),(0,lr.registerVersion)(ip,"1.0.1","esm2017")}();class uE{constructor(a){return a}}const Pw="database",Tb=new I.OlP("angularfire2.database-instances");function kw(l){return(a,o)=>{const u=a.runOutsideAngular(()=>l(o));return new uE(u)}}const Ab={provide:class KI{constructor(){return(0,Ji.vb)(Pw)}},deps:[[new I.FiY,Tb]]},qI={provide:uE,useFactory:function YI(l,a){const o=(0,Ji.JM)(Pw,l,a);return o&&new uE(o)},deps:[[new I.FiY,Tb],Os]};let ZI=(()=>{class l{constructor(){(0,ki.KN)("angularfire",Ji.q4.full,"rtdb")}static \u0275fac=function(u){return new(u||l)};static \u0275mod=I.oAB({type:l});static \u0275inj=I.cJS({providers:[qI,Ab]})}return l})();function Ow(l,...a){return{ngModule:ZI,providers:[{provide:Tb,useFactory:kw(l),multi:!0,deps:[I.R0b,I.zs3,Ji.HU,Wo,[new I.FiY,fu],[new I.FiY,Ji.Rf],...a]}]}}const Vw=(0,Ji.u3)(ZC,!0),Dp={apiKey:"AIzaSyAXWTYmLGrFHqSeSfJmnOryyLtAXMfRTCw",authDomain:"message-table-56e67.firebaseapp.com",projectId:"message-table-56e67",storageBucket:"message-table-56e67.appspot.com",messagingSenderId:"103850090635",appId:"1:103850090635:web:daa28e9dc5093db268f48e",measurementId:"G-04VN7TSPXH"},fE=function Cm(l=(0,lr.getApp)()){l=(0,At.m9)(l);const a=(0,lr._getProvider)(l,xu);return a.isInitialized()?a.getImmediate():function E_(l,a={}){const o=(0,lr._getProvider)(l,xu);if(o.isInitialized()){const g=o.getImmediate();if((0,At.vZ)(a,o.getOptions()))return g;throw Vo.create("already-initialized")}return o.initialize({options:a})}(l)}((0,ki.ZF)(Dp));let pC=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=I.oAB({type:l,bootstrap:[ti]});static#n=this.\u0275inj=I.cJS({providers:[k_,{provide:Ev.Dh,useValue:Dp},{provide:ka,useValue:{color:"accent"}},{provide:D.o2,useValue:{appearance:"outline"}}],imports:[h.b2,Me,Sn,ec.UX,X.ot,be.Ps,Xn,Te,D.lN,S,ec.u5,Pp,tc.c,kn,kp.JX,Op.p0,Ig.LD,Np.TU,N.Is,F.ZX,_o,Hn,Su.JF,cf(()=>yo(Dp)),n0(()=>fE),qn(()=>Ko()),Ow(()=>Vw())]})}return l})();h.q6().bootstrapModule(pC).catch(l=>console.error(l))},5619:(on,et,T)=>{T.d(et,{X:()=>k});var h=T(8645);class k extends h.x{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const ge=super._subscribe(I);return!ge.closed&&I.next(this._value),ge}getValue(){const{hasError:I,thrownError:ge,_value:Ae}=this;if(I)throw ge;return this._throwIfClosed(),Ae}next(I){super.next(this._value=I)}}},5592:(on,et,T)=>{T.d(et,{y:()=>X});var h=T(305),k=T(7394),z=T(4850),I=T(8407),ge=T(2653),Ae=T(4674),Me=T(1441);let X=(()=>{class Re{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Qe=new Re;return Qe.source=this,Qe.operator=Fe,Qe}subscribe(Fe,Qe,Ue){const ye=function de(Re){return Re&&Re instanceof h.Lv||function ne(Re){return Re&&(0,Ae.m)(Re.next)&&(0,Ae.m)(Re.error)&&(0,Ae.m)(Re.complete)}(Re)&&(0,k.Nn)(Re)}(Fe)?Fe:new h.Hp(Fe,Qe,Ue);return(0,Me.x)(()=>{const{operator:Ee,source:bt}=this;ye.add(Ee?Ee.call(ye,bt):bt?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Qe){Fe.error(Qe)}}forEach(Fe,Qe){return new(Qe=be(Qe))((Ue,ye)=>{const Ee=new h.Hp({next:bt=>{try{Fe(bt)}catch(ct){ye(ct),Ee.unsubscribe()}},error:ye,complete:Ue});this.subscribe(Ee)})}_subscribe(Fe){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Fe)}[z.L](){return this}pipe(...Fe){return(0,I.U)(Fe)(this)}toPromise(Fe){return new(Fe=be(Fe))((Qe,Ue)=>{let ye;this.subscribe(Ee=>ye=Ee,Ee=>Ue(Ee),()=>Qe(ye))})}}return Re.create=nt=>new Re(nt),Re})();function be(Re){var nt;return null!==(nt=Re??ge.config.Promise)&&void 0!==nt?nt:Promise}},8645:(on,et,T)=>{T.d(et,{x:()=>Me});var h=T(5592),k=T(7394);const I=(0,T(2306).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=T(9039),Ae=T(1441);let Me=(()=>{class be extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Re=new X(this,this);return Re.operator=de,Re}_throwIfClosed(){if(this.closed)throw new I}next(de){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(de)}})}error(de){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Re}=this;for(;Re.length;)Re.shift().error(de)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Re,isStopped:nt,observers:Fe}=this;return Re||nt?k.Lc:(this.currentObservers=null,Fe.push(de),new k.w0(()=>{this.currentObservers=null,(0,ge.P)(Fe,de)}))}_checkFinalizedStatuses(de){const{hasError:Re,thrownError:nt,isStopped:Fe}=this;Re?de.error(nt):Fe&&de.complete()}asObservable(){const de=new h.y;return de.source=this,de}}return be.create=(ne,de)=>new X(ne,de),be})();class X extends Me{constructor(ne,de){super(),this.destination=ne,this.source=de}next(ne){var de,Re;null===(Re=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Re||Re.call(de,ne)}error(ne){var de,Re;null===(Re=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Re||Re.call(de,ne)}complete(){var ne,de;null===(de=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===de||de.call(ne)}_subscribe(ne){var de,Re;return null!==(Re=null===(de=this.source)||void 0===de?void 0:de.subscribe(ne))&&void 0!==Re?Re:k.Lc}}},305:(on,et,T)=>{T.d(et,{Hp:()=>Ue,Lv:()=>Re});var h=T(4674),k=T(7394),z=T(2653),I=T(3894),ge=T(2420);const Ae=be("C",void 0,void 0);function be(fe,Ne,xe){return{kind:fe,value:Ne,error:xe}}var ne=T(7599),de=T(1441);class Re extends k.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,k.Nn)(Ne)&&Ne.add(this)):this.destination=ct}static create(Ne,xe,He){return new Ue(Ne,xe,He)}next(Ne){this.isStopped?bt(function X(fe){return be("N",fe,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?bt(function Me(fe){return be("E",void 0,fe)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?bt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function Fe(fe,Ne){return nt.call(fe,Ne)}class Qe{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Ne)}catch(He){ye(He)}}error(Ne){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Ne)}catch(He){ye(He)}else ye(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(xe){ye(xe)}}}class Ue extends Re{constructor(Ne,xe,He){let it;if(super(),(0,h.m)(Ne)||!Ne)it={next:Ne??void 0,error:xe??void 0,complete:He??void 0};else{let ke;this&&z.config.useDeprecatedNextContext?(ke=Object.create(Ne),ke.unsubscribe=()=>this.unsubscribe(),it={next:Ne.next&&Fe(Ne.next,ke),error:Ne.error&&Fe(Ne.error,ke),complete:Ne.complete&&Fe(Ne.complete,ke)}):it=Ne}this.destination=new Qe(it)}}function ye(fe){z.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(fe):(0,I.h)(fe)}function bt(fe,Ne){const{onStoppedNotification:xe}=z.config;xe&&ne.z.setTimeout(()=>xe(fe,Ne))}const ct={closed:!0,next:ge.Z,error:function Ee(fe){throw fe},complete:ge.Z}},7394:(on,et,T)=>{T.d(et,{Lc:()=>Ae,w0:()=>ge,Nn:()=>Me});var h=T(4674);const z=(0,T(2306).d)(be=>function(de){be(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Re,nt)=>`${nt+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var I=T(9039);class ge{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Fe of de)Fe.remove(this);else de.remove(this);const{initialTeardown:Re}=this;if((0,h.m)(Re))try{Re()}catch(Fe){ne=Fe instanceof z?Fe.errors:[Fe]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const Fe of nt)try{X(Fe)}catch(Qe){ne=ne??[],Qe instanceof z?ne=[...ne,...Qe.errors]:ne.push(Qe)}}if(ne)throw new z(ne)}}add(ne){var de;if(ne&&ne!==this)if(this.closed)X(ne);else{if(ne instanceof ge){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ne)}}_hasParent(ne){const{_parentage:de}=this;return de===ne||Array.isArray(de)&&de.includes(ne)}_addParent(ne){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ne),de):de?[de,ne]:ne}_removeParent(ne){const{_parentage:de}=this;de===ne?this._parentage=null:Array.isArray(de)&&(0,I.P)(de,ne)}remove(ne){const{_finalizers:de}=this;de&&(0,I.P)(de,ne),ne instanceof ge&&ne._removeParent(this)}}ge.EMPTY=(()=>{const be=new ge;return be.closed=!0,be})();const Ae=ge.EMPTY;function Me(be){return be instanceof ge||be&&"closed"in be&&(0,h.m)(be.remove)&&(0,h.m)(be.add)&&(0,h.m)(be.unsubscribe)}function X(be){(0,h.m)(be)?be():be.unsubscribe()}},2653:(on,et,T)=>{T.d(et,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(on,et,T)=>{T.d(et,{c:()=>Ae});var h=T(5592),k=T(7394),z=T(6196),I=T(8251),ge=T(9360);class Ae extends h.y{constructor(X,be){super(),this.source=X,this.subjectFactory=be,this._subject=null,this._refCount=0,this._connection=null,(0,ge.A)(X)&&(this.lift=X.lift)}_subscribe(X){return this.getSubject().subscribe(X)}getSubject(){const X=this._subject;return(!X||X.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:X}=this;this._subject=this._connection=null,X?.unsubscribe()}connect(){let X=this._connection;if(!X){X=this._connection=new k.w0;const be=this.getSubject();X.add(this.source.subscribe((0,I.x)(be,void 0,()=>{this._teardown(),be.complete()},ne=>{this._teardown(),be.error(ne)},()=>this._teardown()))),X.closed&&(this._connection=null,X=k.w0.EMPTY)}return X}refCount(){return(0,z.x)()(this)}}},2572:(on,et,T)=>{T.d(et,{a:()=>ne});var h=T(5592),k=T(7453),z=T(2459),I=T(2737),ge=T(7400),Ae=T(9940),Me=T(2714),X=T(8251),be=T(7103);function ne(...nt){const Fe=(0,Ae.yG)(nt),Qe=(0,Ae.jO)(nt),{args:Ue,keys:ye}=(0,k.D)(nt);if(0===Ue.length)return(0,z.D)([],Fe);const Ee=new h.y(function de(nt,Fe,Qe=I.y){return Ue=>{Re(Fe,()=>{const{length:ye}=nt,Ee=new Array(ye);let bt=ye,ct=ye;for(let fe=0;fe<ye;fe++)Re(Fe,()=>{const Ne=(0,z.D)(nt[fe],Fe);let xe=!1;Ne.subscribe((0,X.x)(Ue,He=>{Ee[fe]=He,xe||(xe=!0,ct--),ct||Ue.next(Qe(Ee.slice()))},()=>{--bt||Ue.complete()}))},Ue)},Ue)}}(Ue,Fe,ye?bt=>(0,Me.n)(ye,bt):I.y));return Qe?Ee.pipe((0,ge.Z)(Qe)):Ee}function Re(nt,Fe,Qe){nt?(0,be.f)(Qe,nt,Fe):Fe()}},5211:(on,et,T)=>{T.d(et,{z:()=>ge});var h=T(7537),z=T(9940),I=T(2459);function ge(...Ae){return function k(){return(0,h.J)(1)}()((0,I.D)(Ae,(0,z.yG)(Ae)))}},4911:(on,et,T)=>{T.d(et,{P:()=>z});var h=T(5592),k=T(4829);function z(I){return new h.y(ge=>{(0,k.Xf)(I()).subscribe(ge)})}},6232:(on,et,T)=>{T.d(et,{E:()=>k});const k=new(T(5592).y)(ge=>ge.complete())},9315:(on,et,T)=>{T.d(et,{D:()=>X});var h=T(5592),k=T(7453),z=T(4829),I=T(9940),ge=T(8251),Ae=T(7400),Me=T(2714);function X(...be){const ne=(0,I.jO)(be),{args:de,keys:Re}=(0,k.D)(be),nt=new h.y(Fe=>{const{length:Qe}=de;if(!Qe)return void Fe.complete();const Ue=new Array(Qe);let ye=Qe,Ee=Qe;for(let bt=0;bt<Qe;bt++){let ct=!1;(0,z.Xf)(de[bt]).subscribe((0,ge.x)(Fe,fe=>{ct||(ct=!0,Ee--),Ue[bt]=fe},()=>ye--,void 0,()=>{(!ye||!ct)&&(Ee||Fe.next(Re?(0,Me.n)(Re,Ue):Ue),Fe.complete())}))}});return ne?nt.pipe((0,Ae.Z)(ne)):nt}},2459:(on,et,T)=>{T.d(et,{D:()=>Ne});var h=T(4829),k=T(3093),z=T(5137),Ae=T(5592),X=T(4971),be=T(4674),ne=T(7103);function Re(xe,He){if(!xe)throw new Error("Iterable cannot be null");return new Ae.y(it=>{(0,ne.f)(it,He,()=>{const ke=xe[Symbol.asyncIterator]();(0,ne.f)(it,He,()=>{ke.next().then($t=>{$t.done?it.complete():it.next($t.value)})},0,!0)})})}var nt=T(8382),Fe=T(4026),Qe=T(4266),Ue=T(3664),ye=T(5726),Ee=T(9853),bt=T(541);function Ne(xe,He){return He?function fe(xe,He){if(null!=xe){if((0,nt.c)(xe))return function I(xe,He){return(0,h.Xf)(xe).pipe((0,z.R)(He),(0,k.Q)(He))}(xe,He);if((0,Qe.z)(xe))return function Me(xe,He){return new Ae.y(it=>{let ke=0;return He.schedule(function(){ke===xe.length?it.complete():(it.next(xe[ke++]),it.closed||this.schedule())})})}(xe,He);if((0,Fe.t)(xe))return function ge(xe,He){return(0,h.Xf)(xe).pipe((0,z.R)(He),(0,k.Q)(He))}(xe,He);if((0,ye.D)(xe))return Re(xe,He);if((0,Ue.T)(xe))return function de(xe,He){return new Ae.y(it=>{let ke;return(0,ne.f)(it,He,()=>{ke=xe[X.h](),(0,ne.f)(it,He,()=>{let $t,an;try{({value:$t,done:an}=ke.next())}catch(Gt){return void it.error(Gt)}an?it.complete():it.next($t)},0,!0)}),()=>(0,be.m)(ke?.return)&&ke.return()})}(xe,He);if((0,bt.L)(xe))return function ct(xe,He){return Re((0,bt.Q)(xe),He)}(xe,He)}throw(0,Ee.z)(xe)}(xe,He):(0,h.Xf)(xe)}},2438:(on,et,T)=>{T.d(et,{R:()=>ne});var h=T(4829),k=T(5592),z=T(1631),I=T(4266),ge=T(4674),Ae=T(7400);const Me=["addListener","removeListener"],X=["addEventListener","removeEventListener"],be=["on","off"];function ne(Qe,Ue,ye,Ee){if((0,ge.m)(ye)&&(Ee=ye,ye=void 0),Ee)return ne(Qe,Ue,ye).pipe((0,Ae.Z)(Ee));const[bt,ct]=function Fe(Qe){return(0,ge.m)(Qe.addEventListener)&&(0,ge.m)(Qe.removeEventListener)}(Qe)?X.map(fe=>Ne=>Qe[fe](Ue,Ne,ye)):function Re(Qe){return(0,ge.m)(Qe.addListener)&&(0,ge.m)(Qe.removeListener)}(Qe)?Me.map(de(Qe,Ue)):function nt(Qe){return(0,ge.m)(Qe.on)&&(0,ge.m)(Qe.off)}(Qe)?be.map(de(Qe,Ue)):[];if(!bt&&(0,I.z)(Qe))return(0,z.z)(fe=>ne(fe,Ue,ye))((0,h.Xf)(Qe));if(!bt)throw new TypeError("Invalid event target");return new k.y(fe=>{const Ne=(...xe)=>fe.next(1<xe.length?xe:xe[0]);return bt(Ne),()=>ct(Ne)})}function de(Qe,Ue){return ye=>Ee=>Qe[ye](Ue,Ee)}},4829:(on,et,T)=>{T.d(et,{Xf:()=>nt});var h=T(7582),k=T(4266),z=T(4026),I=T(5592),ge=T(8382),Ae=T(5726),Me=T(9853),X=T(3664),be=T(541),ne=T(4674),de=T(3894),Re=T(4850);function nt(fe){if(fe instanceof I.y)return fe;if(null!=fe){if((0,ge.c)(fe))return function Fe(fe){return new I.y(Ne=>{const xe=fe[Re.L]();if((0,ne.m)(xe.subscribe))return xe.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,k.z)(fe))return function Qe(fe){return new I.y(Ne=>{for(let xe=0;xe<fe.length&&!Ne.closed;xe++)Ne.next(fe[xe]);Ne.complete()})}(fe);if((0,z.t)(fe))return function Ue(fe){return new I.y(Ne=>{fe.then(xe=>{Ne.closed||(Ne.next(xe),Ne.complete())},xe=>Ne.error(xe)).then(null,de.h)})}(fe);if((0,Ae.D)(fe))return Ee(fe);if((0,X.T)(fe))return function ye(fe){return new I.y(Ne=>{for(const xe of fe)if(Ne.next(xe),Ne.closed)return;Ne.complete()})}(fe);if((0,be.L)(fe))return function bt(fe){return Ee((0,be.Q)(fe))}(fe)}throw(0,Me.z)(fe)}function Ee(fe){return new I.y(Ne=>{(function ct(fe,Ne){var xe,He,it,ke;return(0,h.mG)(this,void 0,void 0,function*(){try{for(xe=(0,h.KL)(fe);!(He=yield xe.next()).done;)if(Ne.next(He.value),Ne.closed)return}catch($t){it={error:$t}}finally{try{He&&!He.done&&(ke=xe.return)&&(yield ke.call(xe))}finally{if(it)throw it.error}}Ne.complete()})})(fe,Ne).catch(xe=>Ne.error(xe))})}},3019:(on,et,T)=>{T.d(et,{T:()=>Ae});var h=T(7537),k=T(4829),z=T(6232),I=T(9940),ge=T(2459);function Ae(...Me){const X=(0,I.yG)(Me),be=(0,I._6)(Me,1/0),ne=Me;return ne.length?1===ne.length?(0,k.Xf)(ne[0]):(0,h.J)(be)((0,ge.D)(ne,X)):z.E}},2096:(on,et,T)=>{T.d(et,{of:()=>z});var h=T(9940),k=T(2459);function z(...I){const ge=(0,h.yG)(I);return(0,k.D)(I,ge)}},8504:(on,et,T)=>{T.d(et,{_:()=>z});var h=T(5592),k=T(4674);function z(I,ge){const Ae=(0,k.m)(I)?I:()=>I,Me=X=>X.error(Ae());return new h.y(ge?X=>ge.schedule(Me,0,X):Me)}},4825:(on,et,T)=>{T.d(et,{H:()=>ge});var h=T(5592),k=T(6321),z=T(671);function ge(Ae=0,Me,X=k.P){let be=-1;return null!=Me&&((0,z.K)(Me)?X=Me:be=Me),new h.y(ne=>{let de=function I(Ae){return Ae instanceof Date&&!isNaN(Ae)}(Ae)?+Ae-X.now():Ae;de<0&&(de=0);let Re=0;return X.schedule(function(){ne.closed||(ne.next(Re++),0<=be?this.schedule(void 0,be):ne.complete())},de)})}},8251:(on,et,T)=>{T.d(et,{Q:()=>z,x:()=>k});var h=T(305);function k(I,ge,Ae,Me,X){return new z(I,ge,Ae,Me,X)}class z extends h.Lv{constructor(ge,Ae,Me,X,be,ne){super(ge),this.onFinalize=be,this.shouldUnsubscribe=ne,this._next=Ae?function(de){try{Ae(de)}catch(Re){ge.error(Re)}}:super._next,this._error=X?function(de){try{X(de)}catch(Re){ge.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(de){ge.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},9028:(on,et,T)=>{T.d(et,{e:()=>Me});var h=T(6321),k=T(9360),z=T(4829),I=T(8251),Ae=T(4825);function Me(X,be=h.z){return function ge(X){return(0,k.e)((be,ne)=>{let de=!1,Re=null,nt=null,Fe=!1;const Qe=()=>{if(nt?.unsubscribe(),nt=null,de){de=!1;const ye=Re;Re=null,ne.next(ye)}Fe&&ne.complete()},Ue=()=>{nt=null,Fe&&ne.complete()};be.subscribe((0,I.x)(ne,ye=>{de=!0,Re=ye,nt||(0,z.Xf)(X(ye)).subscribe(nt=(0,I.x)(ne,Qe,Ue))},()=>{Fe=!0,(!de||!nt||nt.closed)&&ne.complete()}))})}(()=>(0,Ae.H)(X,be))}},6306:(on,et,T)=>{T.d(et,{K:()=>I});var h=T(4829),k=T(8251),z=T(9360);function I(ge){return(0,z.e)((Ae,Me)=>{let ne,X=null,be=!1;X=Ae.subscribe((0,k.x)(Me,void 0,void 0,de=>{ne=(0,h.Xf)(ge(de,I(ge)(Ae))),X?(X.unsubscribe(),X=null,ne.subscribe(Me)):be=!0})),be&&(X.unsubscribe(),X=null,ne.subscribe(Me))})}},6328:(on,et,T)=>{T.d(et,{b:()=>z});var h=T(1631),k=T(4674);function z(I,ge){return(0,k.m)(ge)?(0,h.z)(I,ge,1):(0,h.z)(I,1)}},3620:(on,et,T)=>{T.d(et,{b:()=>I});var h=T(6321),k=T(9360),z=T(8251);function I(ge,Ae=h.z){return(0,k.e)((Me,X)=>{let be=null,ne=null,de=null;const Re=()=>{if(be){be.unsubscribe(),be=null;const Fe=ne;ne=null,X.next(Fe)}};function nt(){const Fe=de+ge,Qe=Ae.now();if(Qe<Fe)return be=this.schedule(void 0,Fe-Qe),void X.add(be);Re()}Me.subscribe((0,z.x)(X,Fe=>{ne=Fe,de=Ae.now(),be||(be=Ae.schedule(nt,ge),X.add(be))},()=>{Re(),X.complete()},void 0,()=>{ne=be=null}))})}},3572:(on,et,T)=>{T.d(et,{d:()=>z});var h=T(9360),k=T(8251);function z(I){return(0,h.e)((ge,Ae)=>{let Me=!1;ge.subscribe((0,k.x)(Ae,X=>{Me=!0,Ae.next(X)},()=>{Me||Ae.next(I),Ae.complete()}))})}},3997:(on,et,T)=>{T.d(et,{x:()=>I});var h=T(2737),k=T(9360),z=T(8251);function I(Ae,Me=h.y){return Ae=Ae??ge,(0,k.e)((X,be)=>{let ne,de=!0;X.subscribe((0,z.x)(be,Re=>{const nt=Me(Re);(de||!Ae(ne,nt))&&(de=!1,ne=nt,be.next(Re))}))})}function ge(Ae,Me){return Ae===Me}},2181:(on,et,T)=>{T.d(et,{h:()=>z});var h=T(9360),k=T(8251);function z(I,ge){return(0,h.e)((Ae,Me)=>{let X=0;Ae.subscribe((0,k.x)(Me,be=>I.call(ge,be,X++)&&Me.next(be)))})}},4716:(on,et,T)=>{T.d(et,{x:()=>k});var h=T(9360);function k(z){return(0,h.e)((I,ge)=>{try{I.subscribe(ge)}finally{ge.add(z)}})}},1374:(on,et,T)=>{T.d(et,{P:()=>Me});var h=T(6973),k=T(2181),z=T(8180),I=T(3572),ge=T(3026),Ae=T(2737);function Me(X,be){const ne=arguments.length>=2;return de=>de.pipe(X?(0,k.h)((Re,nt)=>X(Re,nt,de)):Ae.y,(0,z.q)(1),ne?(0,I.d)(be):(0,ge.T)(()=>new h.K))}},7398:(on,et,T)=>{T.d(et,{U:()=>z});var h=T(9360),k=T(8251);function z(I,ge){return(0,h.e)((Ae,Me)=>{let X=0;Ae.subscribe((0,k.x)(Me,be=>{Me.next(I.call(ge,be,X++))}))})}},975:(on,et,T)=>{T.d(et,{h:()=>k});var h=T(7398);function k(z){return(0,h.U)(()=>z)}},7537:(on,et,T)=>{T.d(et,{J:()=>z});var h=T(1631),k=T(2737);function z(I=1/0){return(0,h.z)(k.y,I)}},1631:(on,et,T)=>{T.d(et,{z:()=>X});var h=T(7398),k=T(4829),z=T(9360),I=T(7103),ge=T(8251),Me=T(4674);function X(be,ne,de=1/0){return(0,Me.m)(ne)?X((Re,nt)=>(0,h.U)((Fe,Qe)=>ne(Re,Fe,nt,Qe))((0,k.Xf)(be(Re,nt))),de):("number"==typeof ne&&(de=ne),(0,z.e)((Re,nt)=>function Ae(be,ne,de,Re,nt,Fe,Qe,Ue){const ye=[];let Ee=0,bt=0,ct=!1;const fe=()=>{ct&&!ye.length&&!Ee&&ne.complete()},Ne=He=>Ee<Re?xe(He):ye.push(He),xe=He=>{Fe&&ne.next(He),Ee++;let it=!1;(0,k.Xf)(de(He,bt++)).subscribe((0,ge.x)(ne,ke=>{nt?.(ke),Fe?Ne(ke):ne.next(ke)},()=>{it=!0},void 0,()=>{if(it)try{for(Ee--;ye.length&&Ee<Re;){const ke=ye.shift();Qe?(0,I.f)(ne,Qe,()=>xe(ke)):xe(ke)}fe()}catch(ke){ne.error(ke)}}))};return be.subscribe((0,ge.x)(ne,Ne,()=>{ct=!0,fe()})),()=>{Ue?.()}}(Re,nt,be,de)))}},3093:(on,et,T)=>{T.d(et,{Q:()=>I});var h=T(7103),k=T(9360),z=T(8251);function I(ge,Ae=0){return(0,k.e)((Me,X)=>{Me.subscribe((0,z.x)(X,be=>(0,h.f)(X,ge,()=>X.next(be),Ae),()=>(0,h.f)(X,ge,()=>X.complete(),Ae),be=>(0,h.f)(X,ge,()=>X.error(be),Ae)))})}},9384:(on,et,T)=>{T.d(et,{G:()=>z});var h=T(9360),k=T(8251);function z(){return(0,h.e)((I,ge)=>{let Ae,Me=!1;I.subscribe((0,k.x)(ge,X=>{const be=Ae;Ae=X,Me&&ge.next([be,X]),Me=!0}))})}},6196:(on,et,T)=>{T.d(et,{x:()=>z});var h=T(9360),k=T(8251);function z(){return(0,h.e)((I,ge)=>{let Ae=null;I._refCount++;const Me=(0,k.x)(ge,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(Ae=null);const X=I._connection,be=Ae;Ae=null,X&&(!be||X===be)&&X.unsubscribe(),ge.unsubscribe()});I.subscribe(Me),Me.closed||(Ae=I.connect())})}},6699:(on,et,T)=>{T.d(et,{R:()=>I});var h=T(9360),k=T(8251);function I(ge,Ae){return(0,h.e)(function z(ge,Ae,Me,X,be){return(ne,de)=>{let Re=Me,nt=Ae,Fe=0;ne.subscribe((0,k.x)(de,Qe=>{const Ue=Fe++;nt=Re?ge(nt,Qe,Ue):(Re=!0,Qe),X&&de.next(nt)},be&&(()=>{Re&&de.next(nt),de.complete()})))}}(ge,Ae,arguments.length>=2,!0))}},3020:(on,et,T)=>{T.d(et,{B:()=>ge});var h=T(4829),k=T(8645),z=T(305),I=T(9360);function ge(Me={}){const{connector:X=(()=>new k.x),resetOnError:be=!0,resetOnComplete:ne=!0,resetOnRefCountZero:de=!0}=Me;return Re=>{let nt,Fe,Qe,Ue=0,ye=!1,Ee=!1;const bt=()=>{Fe?.unsubscribe(),Fe=void 0},ct=()=>{bt(),nt=Qe=void 0,ye=Ee=!1},fe=()=>{const Ne=nt;ct(),Ne?.unsubscribe()};return(0,I.e)((Ne,xe)=>{Ue++,!Ee&&!ye&&bt();const He=Qe=Qe??X();xe.add(()=>{Ue--,0===Ue&&!Ee&&!ye&&(Fe=Ae(fe,de))}),He.subscribe(xe),!nt&&Ue>0&&(nt=new z.Hp({next:it=>He.next(it),error:it=>{Ee=!0,bt(),Fe=Ae(ct,be,it),He.error(it)},complete:()=>{ye=!0,bt(),Fe=Ae(ct,ne),He.complete()}}),(0,h.Xf)(Ne).subscribe(nt))})(Re)}}function Ae(Me,X,...be){if(!0===X)return void Me();if(!1===X)return;const ne=new z.Hp({next:()=>{ne.unsubscribe(),Me()}});return(0,h.Xf)(X(...be)).subscribe(ne)}},940:(on,et,T)=>{T.d(et,{d:()=>ge});var h=T(8645),k=T(4552);class z extends h.x{constructor(Me=1/0,X=1/0,be=k.l){super(),this._bufferSize=Me,this._windowTime=X,this._timestampProvider=be,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=X===1/0,this._bufferSize=Math.max(1,Me),this._windowTime=Math.max(1,X)}next(Me){const{isStopped:X,_buffer:be,_infiniteTimeWindow:ne,_timestampProvider:de,_windowTime:Re}=this;X||(be.push(Me),!ne&&be.push(de.now()+Re)),this._trimBuffer(),super.next(Me)}_subscribe(Me){this._throwIfClosed(),this._trimBuffer();const X=this._innerSubscribe(Me),{_infiniteTimeWindow:be,_buffer:ne}=this,de=ne.slice();for(let Re=0;Re<de.length&&!Me.closed;Re+=be?1:2)Me.next(de[Re]);return this._checkFinalizedStatuses(Me),X}_trimBuffer(){const{_bufferSize:Me,_timestampProvider:X,_buffer:be,_infiniteTimeWindow:ne}=this,de=(ne?1:2)*Me;if(Me<1/0&&de<be.length&&be.splice(0,be.length-de),!ne){const Re=X.now();let nt=0;for(let Fe=1;Fe<be.length&&be[Fe]<=Re;Fe+=2)nt=Fe;nt&&be.splice(0,nt+1)}}}var I=T(3020);function ge(Ae,Me,X){let be,ne=!1;return Ae&&"object"==typeof Ae?({bufferSize:be=1/0,windowTime:Me=1/0,refCount:ne=!1,scheduler:X}=Ae):be=Ae??1/0,(0,I.B)({connector:()=>new z(be,Me,X),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ne})}},836:(on,et,T)=>{T.d(et,{T:()=>k});var h=T(2181);function k(z){return(0,h.h)((I,ge)=>z<=ge)}},7921:(on,et,T)=>{T.d(et,{O:()=>I});var h=T(5211),k=T(9940),z=T(9360);function I(...ge){const Ae=(0,k.yG)(ge);return(0,z.e)((Me,X)=>{(Ae?(0,h.z)(ge,Me,Ae):(0,h.z)(ge,Me)).subscribe(X)})}},5137:(on,et,T)=>{T.d(et,{R:()=>k});var h=T(9360);function k(z,I=0){return(0,h.e)((ge,Ae)=>{Ae.add(z.schedule(()=>ge.subscribe(Ae),I))})}},4664:(on,et,T)=>{T.d(et,{w:()=>I});var h=T(4829),k=T(9360),z=T(8251);function I(ge,Ae){return(0,k.e)((Me,X)=>{let be=null,ne=0,de=!1;const Re=()=>de&&!be&&X.complete();Me.subscribe((0,z.x)(X,nt=>{be?.unsubscribe();let Fe=0;const Qe=ne++;(0,h.Xf)(ge(nt,Qe)).subscribe(be=(0,z.x)(X,Ue=>X.next(Ae?Ae(nt,Ue,Qe,Fe++):Ue),()=>{be=null,Re()}))},()=>{de=!0,Re()}))})}},8180:(on,et,T)=>{T.d(et,{q:()=>I});var h=T(6232),k=T(9360),z=T(8251);function I(ge){return ge<=0?()=>h.E:(0,k.e)((Ae,Me)=>{let X=0;Ae.subscribe((0,z.x)(Me,be=>{++X<=ge&&(Me.next(be),ge<=X&&Me.complete())}))})}},9773:(on,et,T)=>{T.d(et,{R:()=>ge});var h=T(9360),k=T(8251),z=T(4829),I=T(2420);function ge(Ae){return(0,h.e)((Me,X)=>{(0,z.Xf)(Ae).subscribe((0,k.x)(X,()=>X.complete(),I.Z)),!X.closed&&Me.subscribe(X)})}},9397:(on,et,T)=>{T.d(et,{b:()=>ge});var h=T(4674),k=T(9360),z=T(8251),I=T(2737);function ge(Ae,Me,X){const be=(0,h.m)(Ae)||Me||X?{next:Ae,error:Me,complete:X}:Ae;return be?(0,k.e)((ne,de)=>{var Re;null===(Re=be.subscribe)||void 0===Re||Re.call(be);let nt=!0;ne.subscribe((0,z.x)(de,Fe=>{var Qe;null===(Qe=be.next)||void 0===Qe||Qe.call(be,Fe),de.next(Fe)},()=>{var Fe;nt=!1,null===(Fe=be.complete)||void 0===Fe||Fe.call(be),de.complete()},Fe=>{var Qe;nt=!1,null===(Qe=be.error)||void 0===Qe||Qe.call(be,Fe),de.error(Fe)},()=>{var Fe,Qe;nt&&(null===(Fe=be.unsubscribe)||void 0===Fe||Fe.call(be)),null===(Qe=be.finalize)||void 0===Qe||Qe.call(be)}))}):I.y}},3026:(on,et,T)=>{T.d(et,{T:()=>I});var h=T(6973),k=T(9360),z=T(8251);function I(Ae=ge){return(0,k.e)((Me,X)=>{let be=!1;Me.subscribe((0,z.x)(X,ne=>{be=!0,X.next(ne)},()=>be?X.complete():X.error(Ae())))})}function ge(){return new h.K}},1954:(on,et,T)=>{T.d(et,{o:()=>ge});var h=T(7394);class k extends h.w0{constructor(Me,X){super()}schedule(Me,X=0){return this}}const z={setInterval(Ae,Me,...X){const{delegate:be}=z;return be?.setInterval?be.setInterval(Ae,Me,...X):setInterval(Ae,Me,...X)},clearInterval(Ae){const{delegate:Me}=z;return(Me?.clearInterval||clearInterval)(Ae)},delegate:void 0};var I=T(9039);class ge extends k{constructor(Me,X){super(Me,X),this.scheduler=Me,this.work=X,this.pending=!1}schedule(Me,X=0){var be;if(this.closed)return this;this.state=Me;const ne=this.id,de=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(de,ne,X)),this.pending=!0,this.delay=X,this.id=null!==(be=this.id)&&void 0!==be?be:this.requestAsyncId(de,this.id,X),this}requestAsyncId(Me,X,be=0){return z.setInterval(Me.flush.bind(Me,this),be)}recycleAsyncId(Me,X,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return X;null!=X&&z.clearInterval(X)}execute(Me,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(Me,X);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,X){let ne,be=!1;try{this.work(Me)}catch(de){be=!0,ne=de||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Me,scheduler:X}=this,{actions:be}=X;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.P)(be,this),null!=Me&&(this.id=this.recycleAsyncId(X,Me,null)),this.delay=null,super.unsubscribe()}}}},2631:(on,et,T)=>{T.d(et,{v:()=>z});var h=T(4552);class k{constructor(ge,Ae=k.now){this.schedulerActionCtor=ge,this.now=Ae}schedule(ge,Ae=0,Me){return new this.schedulerActionCtor(this,ge).schedule(Me,Ae)}}k.now=h.l.now;class z extends k{constructor(ge,Ae=k.now){super(ge,Ae),this.actions=[],this._active=!1}flush(ge){const{actions:Ae}=this;if(this._active)return void Ae.push(ge);let Me;this._active=!0;do{if(Me=ge.execute(ge.state,ge.delay))break}while(ge=Ae.shift());if(this._active=!1,Me){for(;ge=Ae.shift();)ge.unsubscribe();throw Me}}}},6410:(on,et,T)=>{T.d(et,{E:()=>Fe});var h=T(1954);let z,k=1;const I={};function ge(Ue){return Ue in I&&(delete I[Ue],!0)}const Ae={setImmediate(Ue){const ye=k++;return I[ye]=!0,z||(z=Promise.resolve()),z.then(()=>ge(ye)&&Ue()),ye},clearImmediate(Ue){ge(Ue)}},{setImmediate:X,clearImmediate:be}=Ae,ne={setImmediate(...Ue){const{delegate:ye}=ne;return(ye?.setImmediate||X)(...Ue)},clearImmediate(Ue){const{delegate:ye}=ne;return(ye?.clearImmediate||be)(Ue)},delegate:void 0};var Re=T(2631);const Fe=new class nt extends Re.v{flush(ye){this._active=!0;const Ee=this._scheduled;this._scheduled=void 0;const{actions:bt}=this;let ct;ye=ye||bt.shift();do{if(ct=ye.execute(ye.state,ye.delay))break}while((ye=bt[0])&&ye.id===Ee&&bt.shift());if(this._active=!1,ct){for(;(ye=bt[0])&&ye.id===Ee&&bt.shift();)ye.unsubscribe();throw ct}}}(class de extends h.o{constructor(ye,Ee){super(ye,Ee),this.scheduler=ye,this.work=Ee}requestAsyncId(ye,Ee,bt=0){return null!==bt&&bt>0?super.requestAsyncId(ye,Ee,bt):(ye.actions.push(this),ye._scheduled||(ye._scheduled=ne.setImmediate(ye.flush.bind(ye,void 0))))}recycleAsyncId(ye,Ee,bt=0){var ct;if(null!=bt?bt>0:this.delay>0)return super.recycleAsyncId(ye,Ee,bt);const{actions:fe}=ye;null!=Ee&&(null===(ct=fe[fe.length-1])||void 0===ct?void 0:ct.id)!==Ee&&(ne.clearImmediate(Ee),ye._scheduled===Ee&&(ye._scheduled=void 0))}})},6321:(on,et,T)=>{T.d(et,{P:()=>I,z:()=>z});var h=T(1954);const z=new(T(2631).v)(h.o),I=z},4552:(on,et,T)=>{T.d(et,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(on,et,T)=>{T.d(et,{z:()=>h});const h={setTimeout(k,z,...I){const{delegate:ge}=h;return ge?.setTimeout?ge.setTimeout(k,z,...I):setTimeout(k,z,...I)},clearTimeout(k){const{delegate:z}=h;return(z?.clearTimeout||clearTimeout)(k)},delegate:void 0}},4971:(on,et,T)=>{T.d(et,{h:()=>k});const k=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(on,et,T)=>{T.d(et,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(on,et,T)=>{T.d(et,{K:()=>k});const k=(0,T(2306).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(on,et,T)=>{T.d(et,{_6:()=>Ae,jO:()=>I,yG:()=>ge});var h=T(4674),k=T(671);function z(Me){return Me[Me.length-1]}function I(Me){return(0,h.m)(z(Me))?Me.pop():void 0}function ge(Me){return(0,k.K)(z(Me))?Me.pop():void 0}function Ae(Me,X){return"number"==typeof z(Me)?Me.pop():X}},7453:(on,et,T)=>{T.d(et,{D:()=>ge});const{isArray:h}=Array,{getPrototypeOf:k,prototype:z,keys:I}=Object;function ge(Me){if(1===Me.length){const X=Me[0];if(h(X))return{args:X,keys:null};if(function Ae(Me){return Me&&"object"==typeof Me&&k(Me)===z}(X)){const be=I(X);return{args:be.map(ne=>X[ne]),keys:be}}}return{args:Me,keys:null}}},9039:(on,et,T)=>{function h(k,z){if(k){const I=k.indexOf(z);0<=I&&k.splice(I,1)}}T.d(et,{P:()=>h})},2306:(on,et,T)=>{function h(k){const I=k(ge=>{Error.call(ge),ge.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}T.d(et,{d:()=>h})},2714:(on,et,T)=>{function h(k,z){return k.reduce((I,ge,Ae)=>(I[ge]=z[Ae],I),{})}T.d(et,{n:()=>h})},1441:(on,et,T)=>{T.d(et,{O:()=>I,x:()=>z});var h=T(2653);let k=null;function z(ge){if(h.config.useDeprecatedSynchronousErrorHandling){const Ae=!k;if(Ae&&(k={errorThrown:!1,error:null}),ge(),Ae){const{errorThrown:Me,error:X}=k;if(k=null,Me)throw X}}else ge()}function I(ge){h.config.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=ge)}},7103:(on,et,T)=>{function h(k,z,I,ge=0,Ae=!1){const Me=z.schedule(function(){I(),Ae?k.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(k.add(Me),!Ae)return Me}T.d(et,{f:()=>h})},2737:(on,et,T)=>{function h(k){return k}T.d(et,{y:()=>h})},4266:(on,et,T)=>{T.d(et,{z:()=>h});const h=k=>k&&"number"==typeof k.length&&"function"!=typeof k},5726:(on,et,T)=>{T.d(et,{D:()=>k});var h=T(4674);function k(z){return Symbol.asyncIterator&&(0,h.m)(z?.[Symbol.asyncIterator])}},4674:(on,et,T)=>{function h(k){return"function"==typeof k}T.d(et,{m:()=>h})},8382:(on,et,T)=>{T.d(et,{c:()=>z});var h=T(4850),k=T(4674);function z(I){return(0,k.m)(I[h.L])}},3664:(on,et,T)=>{T.d(et,{T:()=>z});var h=T(4971),k=T(4674);function z(I){return(0,k.m)(I?.[h.h])}},2664:(on,et,T)=>{T.d(et,{b:()=>z});var h=T(5592),k=T(4674);function z(I){return!!I&&(I instanceof h.y||(0,k.m)(I.lift)&&(0,k.m)(I.subscribe))}},4026:(on,et,T)=>{T.d(et,{t:()=>k});var h=T(4674);function k(z){return(0,h.m)(z?.then)}},541:(on,et,T)=>{T.d(et,{L:()=>I,Q:()=>z});var h=T(7582),k=T(4674);function z(ge){return(0,h.FC)(this,arguments,function*(){const Me=ge.getReader();try{for(;;){const{value:X,done:be}=yield(0,h.qq)(Me.read());if(be)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(X)}}finally{Me.releaseLock()}})}function I(ge){return(0,k.m)(ge?.getReader)}},671:(on,et,T)=>{T.d(et,{K:()=>k});var h=T(4674);function k(z){return z&&(0,h.m)(z.schedule)}},9360:(on,et,T)=>{T.d(et,{A:()=>k,e:()=>z});var h=T(4674);function k(I){return(0,h.m)(I?.lift)}function z(I){return ge=>{if(k(ge))return ge.lift(function(Ae){try{return I(Ae,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(on,et,T)=>{T.d(et,{Z:()=>I});var h=T(7398);const{isArray:k}=Array;function I(ge){return(0,h.U)(Ae=>function z(ge,Ae){return k(Ae)?ge(...Ae):ge(Ae)}(ge,Ae))}},2420:(on,et,T)=>{function h(){}T.d(et,{Z:()=>h})},8407:(on,et,T)=>{T.d(et,{U:()=>z,z:()=>k});var h=T(2737);function k(...I){return z(I)}function z(I){return 0===I.length?h.y:1===I.length?I[0]:function(Ae){return I.reduce((Me,X)=>X(Me),Ae)}}},3894:(on,et,T)=>{T.d(et,{h:()=>z});var h=T(2653),k=T(7599);function z(I){k.z.setTimeout(()=>{const{onUnhandledError:ge}=h.config;if(!ge)throw I;ge(I)})}},9853:(on,et,T)=>{function h(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(et,{z:()=>h})},6825:(on,et,T)=>{T.d(et,{F4:()=>ne,IO:()=>Qe,LC:()=>k,SB:()=>be,X$:()=>I,ZE:()=>Ee,ZN:()=>ye,_j:()=>h,eR:()=>de,jt:()=>ge,k1:()=>bt,l3:()=>z,oB:()=>X,pV:()=>nt,ru:()=>Ae,vP:()=>Me});class h{}class k{}const z="*";function I(ct,fe){return{type:7,name:ct,definitions:fe,options:{}}}function ge(ct,fe=null){return{type:4,styles:fe,timings:ct}}function Ae(ct,fe=null){return{type:3,steps:ct,options:fe}}function Me(ct,fe=null){return{type:2,steps:ct,options:fe}}function X(ct){return{type:6,styles:ct,offset:null}}function be(ct,fe,Ne){return{type:0,name:ct,styles:fe,options:Ne}}function ne(ct){return{type:5,steps:ct}}function de(ct,fe,Ne=null){return{type:1,expr:ct,animation:fe,options:Ne}}function nt(ct=null){return{type:9,options:ct}}function Qe(ct,fe,Ne=null){return{type:11,selector:ct,animation:fe,options:Ne}}class ye{constructor(fe=0,Ne=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=fe+Ne}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}onStart(fe){this._originalOnStartFns.push(fe),this._onStartFns.push(fe)}onDone(fe){this._originalOnDoneFns.push(fe),this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fe=>fe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(fe){this._position=this.totalTime?fe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(fe){const Ne="start"==fe?this._onStartFns:this._onDoneFns;Ne.forEach(xe=>xe()),Ne.length=0}}class Ee{constructor(fe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=fe;let Ne=0,xe=0,He=0;const it=this.players.length;0==it?queueMicrotask(()=>this._onFinish()):this.players.forEach(ke=>{ke.onDone(()=>{++Ne==it&&this._onFinish()}),ke.onDestroy(()=>{++xe==it&&this._onDestroy()}),ke.onStart(()=>{++He==it&&this._onStart()})}),this.totalTime=this.players.reduce((ke,$t)=>Math.max(ke,$t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}init(){this.players.forEach(fe=>fe.init())}onStart(fe){this._onStartFns.push(fe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fe=>fe()),this._onStartFns=[])}onDone(fe){this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(fe=>fe.play())}pause(){this.players.forEach(fe=>fe.pause())}restart(){this.players.forEach(fe=>fe.restart())}finish(){this._onFinish(),this.players.forEach(fe=>fe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(fe=>fe.destroy()),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this.players.forEach(fe=>fe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(fe){const Ne=fe*this.totalTime;this.players.forEach(xe=>{const He=xe.totalTime?Math.min(1,Ne/xe.totalTime):1;xe.setPosition(He)})}getPosition(){const fe=this.players.reduce((Ne,xe)=>null===Ne||xe.totalTime>Ne.totalTime?xe:Ne,null);return null!=fe?fe.getPosition():0}beforeDestroy(){this.players.forEach(fe=>{fe.beforeDestroy&&fe.beforeDestroy()})}triggerCallback(fe){const Ne="start"==fe?this._onStartFns:this._onDoneFns;Ne.forEach(xe=>xe()),Ne.length=0}}const bt="!"},4300:(on,et,T)=>{T.d(et,{$s:()=>an,Em:()=>en,Kd:()=>gt,X6:()=>gi,Zf:()=>fe,iD:()=>Ne,ic:()=>tn,qV:()=>qt,qm:()=>Vn,rt:()=>kt,s1:()=>bn,tE:()=>In,yG:()=>ai});var h=T(6814),k=T(5879),z=T(2831),I=T(8645),ge=T(7394),Ae=T(5619),Me=T(2096),X=T(6028),be=T(9397),ne=T(3620),de=T(2181),Re=T(7398),nt=T(8180),Fe=T(836),Qe=T(3997),Ue=T(9773),ye=T(2495),Ee=T(7131),bt=T(1088);const ct=" ";function fe(lt,ze,Te){const Ze=xe(lt,ze);Ze.some(xt=>xt.trim()==Te.trim())||(Ze.push(Te.trim()),lt.setAttribute(ze,Ze.join(ct)))}function Ne(lt,ze,Te){const xt=xe(lt,ze).filter(ve=>ve!=Te.trim());xt.length?lt.setAttribute(ze,xt.join(ct)):lt.removeAttribute(ze)}function xe(lt,ze){return(lt.getAttribute(ze)||"").match(/\S+/g)||[]}const it="cdk-describedby-message",ke="cdk-describedby-host";let $t=0,an=(()=>{class lt{constructor(Te,Ze){this._platform=Ze,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+$t++,this._document=Te,this._id=(0,k.f3M)(k.AFp)+"-"+$t++}describe(Te,Ze,xt){if(!this._canBeDescribed(Te,Ze))return;const ve=Gt(Ze,xt);"string"!=typeof Ze?(_n(Ze,this._id),this._messageRegistry.set(ve,{messageElement:Ze,referenceCount:0})):this._messageRegistry.has(ve)||this._createMessageElement(Ze,xt),this._isElementDescribedByMessage(Te,ve)||this._addMessageReference(Te,ve)}removeDescription(Te,Ze,xt){if(!Ze||!this._isElementNode(Te))return;const ve=Gt(Ze,xt);if(this._isElementDescribedByMessage(Te,ve)&&this._removeMessageReference(Te,ve),"string"==typeof Ze){const ie=this._messageRegistry.get(ve);ie&&0===ie.referenceCount&&this._deleteMessageElement(ve)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Te=this._document.querySelectorAll(`[${ke}="${this._id}"]`);for(let Ze=0;Ze<Te.length;Ze++)this._removeCdkDescribedByReferenceIds(Te[Ze]),Te[Ze].removeAttribute(ke);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Te,Ze){const xt=this._document.createElement("div");_n(xt,this._id),xt.textContent=Te,Ze&&xt.setAttribute("role",Ze),this._createMessagesContainer(),this._messagesContainer.appendChild(xt),this._messageRegistry.set(Gt(Te,Ze),{messageElement:xt,referenceCount:0})}_deleteMessageElement(Te){this._messageRegistry.get(Te)?.messageElement?.remove(),this._messageRegistry.delete(Te)}_createMessagesContainer(){if(this._messagesContainer)return;const Te="cdk-describedby-message-container",Ze=this._document.querySelectorAll(`.${Te}[platform="server"]`);for(let ve=0;ve<Ze.length;ve++)Ze[ve].remove();const xt=this._document.createElement("div");xt.style.visibility="hidden",xt.classList.add(Te),xt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&xt.setAttribute("platform","server"),this._document.body.appendChild(xt),this._messagesContainer=xt}_removeCdkDescribedByReferenceIds(Te){const Ze=xe(Te,"aria-describedby").filter(xt=>0!=xt.indexOf(it));Te.setAttribute("aria-describedby",Ze.join(" "))}_addMessageReference(Te,Ze){const xt=this._messageRegistry.get(Ze);fe(Te,"aria-describedby",xt.messageElement.id),Te.setAttribute(ke,this._id),xt.referenceCount++}_removeMessageReference(Te,Ze){const xt=this._messageRegistry.get(Ze);xt.referenceCount--,Ne(Te,"aria-describedby",xt.messageElement.id),Te.removeAttribute(ke)}_isElementDescribedByMessage(Te,Ze){const xt=xe(Te,"aria-describedby"),ve=this._messageRegistry.get(Ze),ie=ve&&ve.messageElement.id;return!!ie&&-1!=xt.indexOf(ie)}_canBeDescribed(Te,Ze){if(!this._isElementNode(Te))return!1;if(Ze&&"object"==typeof Ze)return!0;const xt=null==Ze?"":`${Ze}`.trim(),ve=Te.getAttribute("aria-label");return!(!xt||ve&&ve.trim()===xt)}_isElementNode(Te){return Te.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Ze){return new(Ze||lt)(k.LFG(h.K0),k.LFG(z.t4))};static#t=this.\u0275prov=k.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"})}return lt})();function Gt(lt,ze){return"string"==typeof lt?`${ze||""}/${lt}`:lt}function _n(lt,ze){lt.id||(lt.id=`${it}-${ze}-${$t++}`)}class Yt{constructor(ze){this._items=ze,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new I.x,this._typeaheadSubscription=ge.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Te=>Te.disabled,this._pressedLetters=[],this.tabOut=new I.x,this.change=new I.x,ze instanceof k.n_E&&(this._itemChangesSubscription=ze.changes.subscribe(Te=>{if(this._activeItem){const xt=Te.toArray().indexOf(this._activeItem);xt>-1&&xt!==this._activeItemIndex&&(this._activeItemIndex=xt)}}))}skipPredicate(ze){return this._skipPredicateFn=ze,this}withWrap(ze=!0){return this._wrap=ze,this}withVerticalOrientation(ze=!0){return this._vertical=ze,this}withHorizontalOrientation(ze){return this._horizontal=ze,this}withAllowedModifierKeys(ze){return this._allowedModifierKeys=ze,this}withTypeAhead(ze=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,be.b)(Te=>this._pressedLetters.push(Te)),(0,ne.b)(ze),(0,de.h)(()=>this._pressedLetters.length>0),(0,Re.U)(()=>this._pressedLetters.join(""))).subscribe(Te=>{const Ze=this._getItemsArray();for(let xt=1;xt<Ze.length+1;xt++){const ve=(this._activeItemIndex+xt)%Ze.length,ie=Ze[ve];if(!this._skipPredicateFn(ie)&&0===ie.getLabel().toUpperCase().trim().indexOf(Te)){this.setActiveItem(ve);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ze=!0){return this._homeAndEnd=ze,this}withPageUpDown(ze=!0,Te=10){return this._pageUpAndDown={enabled:ze,delta:Te},this}setActiveItem(ze){const Te=this._activeItem;this.updateActiveItem(ze),this._activeItem!==Te&&this.change.next(this._activeItemIndex)}onKeydown(ze){const Te=ze.keyCode,xt=["altKey","ctrlKey","metaKey","shiftKey"].every(ve=>!ze[ve]||this._allowedModifierKeys.indexOf(ve)>-1);switch(Te){case X.Mf:return void this.tabOut.next();case X.JH:if(this._vertical&&xt){this.setNextItemActive();break}return;case X.LH:if(this._vertical&&xt){this.setPreviousItemActive();break}return;case X.SV:if(this._horizontal&&xt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case X.oh:if(this._horizontal&&xt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case X.Sd:if(this._homeAndEnd&&xt){this.setFirstItemActive();break}return;case X.uR:if(this._homeAndEnd&&xt){this.setLastItemActive();break}return;case X.Ku:if(this._pageUpAndDown.enabled&&xt){const ve=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(ve>0?ve:0,1);break}return;case X.VM:if(this._pageUpAndDown.enabled&&xt){const ve=this._activeItemIndex+this._pageUpAndDown.delta,ie=this._getItemsArray().length;this._setActiveItemByIndex(ve<ie?ve:ie-1,-1);break}return;default:return void((xt||(0,X.Vb)(ze,"shiftKey"))&&(ze.key&&1===ze.key.length?this._letterKeyStream.next(ze.key.toLocaleUpperCase()):(Te>=X.A&&Te<=X.Z||Te>=X.xE&&Te<=X.aO)&&this._letterKeyStream.next(String.fromCharCode(Te))))}this._pressedLetters=[],ze.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ze){const Te=this._getItemsArray(),Ze="number"==typeof ze?ze:Te.indexOf(ze);this._activeItem=Te[Ze]??null,this._activeItemIndex=Ze}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ze){this._wrap?this._setActiveInWrapMode(ze):this._setActiveInDefaultMode(ze)}_setActiveInWrapMode(ze){const Te=this._getItemsArray();for(let Ze=1;Ze<=Te.length;Ze++){const xt=(this._activeItemIndex+ze*Ze+Te.length)%Te.length;if(!this._skipPredicateFn(Te[xt]))return void this.setActiveItem(xt)}}_setActiveInDefaultMode(ze){this._setActiveItemByIndex(this._activeItemIndex+ze,ze)}_setActiveItemByIndex(ze,Te){const Ze=this._getItemsArray();if(Ze[ze]){for(;this._skipPredicateFn(Ze[ze]);)if(!Ze[ze+=Te])return;this.setActiveItem(ze)}}_getItemsArray(){return this._items instanceof k.n_E?this._items.toArray():this._items}}class bn extends Yt{setActiveItem(ze){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ze),this.activeItem&&this.activeItem.setActiveStyles()}}class en extends Yt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ze){return this._origin=ze,this}setActiveItem(ze){super.setActiveItem(ze),this.activeItem&&this.activeItem.focus(this._origin)}}let tn=(()=>{class lt{constructor(Te){this._platform=Te}isDisabled(Te){return Te.hasAttribute("disabled")}isVisible(Te){return function Le(lt){return!!(lt.offsetWidth||lt.offsetHeight||"function"==typeof lt.getClientRects&&lt.getClientRects().length)}(Te)&&"visible"===getComputedStyle(Te).visibility}isTabbable(Te){if(!this._platform.isBrowser)return!1;const Ze=function Ie(lt){try{return lt.frameElement}catch{return null}}(function wt(lt){return lt.ownerDocument&&lt.ownerDocument.defaultView||window}(Te));if(Ze&&(-1===We(Ze)||!this.isVisible(Ze)))return!1;let xt=Te.nodeName.toLowerCase(),ve=We(Te);return Te.hasAttribute("contenteditable")?-1!==ve:!("iframe"===xt||"object"===xt||this._platform.WEBKIT&&this._platform.IOS&&!function Ce(lt){let ze=lt.nodeName.toLowerCase(),Te="input"===ze&&lt.type;return"text"===Te||"password"===Te||"select"===ze||"textarea"===ze}(Te))&&("audio"===xt?!!Te.hasAttribute("controls")&&-1!==ve:"video"===xt?-1!==ve&&(null!==ve||this._platform.FIREFOX||Te.hasAttribute("controls")):Te.tabIndex>=0)}isFocusable(Te,Ze){return function dt(lt){return!function st(lt){return function Oe(lt){return"input"==lt.nodeName.toLowerCase()}(lt)&&"hidden"==lt.type}(lt)&&(function Se(lt){let ze=lt.nodeName.toLowerCase();return"input"===ze||"select"===ze||"button"===ze||"textarea"===ze}(lt)||function ot(lt){return function Nt(lt){return"a"==lt.nodeName.toLowerCase()}(lt)&&lt.hasAttribute("href")}(lt)||lt.hasAttribute("contenteditable")||De(lt))}(Te)&&!this.isDisabled(Te)&&(Ze?.ignoreVisibility||this.isVisible(Te))}static#e=this.\u0275fac=function(Ze){return new(Ze||lt)(k.LFG(z.t4))};static#t=this.\u0275prov=k.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"})}return lt})();function De(lt){if(!lt.hasAttribute("tabindex")||void 0===lt.tabIndex)return!1;let ze=lt.getAttribute("tabindex");return!(!ze||isNaN(parseInt(ze,10)))}function We(lt){if(!De(lt))return null;const ze=parseInt(lt.getAttribute("tabindex")||"",10);return isNaN(ze)?-1:ze}class Kt{get enabled(){return this._enabled}set enabled(ze){this._enabled=ze,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ze,this._startAnchor),this._toggleAnchorTabIndex(ze,this._endAnchor))}constructor(ze,Te,Ze,xt,ve=!1){this._element=ze,this._checker=Te,this._ngZone=Ze,this._document=xt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,ve||this.attachAnchors()}destroy(){const ze=this._startAnchor,Te=this._endAnchor;ze&&(ze.removeEventListener("focus",this.startAnchorListener),ze.remove()),Te&&(Te.removeEventListener("focus",this.endAnchorListener),Te.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ze){return new Promise(Te=>{this._executeOnStable(()=>Te(this.focusInitialElement(ze)))})}focusFirstTabbableElementWhenReady(ze){return new Promise(Te=>{this._executeOnStable(()=>Te(this.focusFirstTabbableElement(ze)))})}focusLastTabbableElementWhenReady(ze){return new Promise(Te=>{this._executeOnStable(()=>Te(this.focusLastTabbableElement(ze)))})}_getRegionBoundary(ze){const Te=this._element.querySelectorAll(`[cdk-focus-region-${ze}], [cdkFocusRegion${ze}], [cdk-focus-${ze}]`);return"start"==ze?Te.length?Te[0]:this._getFirstTabbableElement(this._element):Te.length?Te[Te.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ze){const Te=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Te){if(!this._checker.isFocusable(Te)){const Ze=this._getFirstTabbableElement(Te);return Ze?.focus(ze),!!Ze}return Te.focus(ze),!0}return this.focusFirstTabbableElement(ze)}focusFirstTabbableElement(ze){const Te=this._getRegionBoundary("start");return Te&&Te.focus(ze),!!Te}focusLastTabbableElement(ze){const Te=this._getRegionBoundary("end");return Te&&Te.focus(ze),!!Te}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ze){if(this._checker.isFocusable(ze)&&this._checker.isTabbable(ze))return ze;const Te=ze.children;for(let Ze=0;Ze<Te.length;Ze++){const xt=Te[Ze].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Te[Ze]):null;if(xt)return xt}return null}_getLastTabbableElement(ze){if(this._checker.isFocusable(ze)&&this._checker.isTabbable(ze))return ze;const Te=ze.children;for(let Ze=Te.length-1;Ze>=0;Ze--){const xt=Te[Ze].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Te[Ze]):null;if(xt)return xt}return null}_createAnchor(){const ze=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ze),ze.classList.add("cdk-visually-hidden"),ze.classList.add("cdk-focus-trap-anchor"),ze.setAttribute("aria-hidden","true"),ze}_toggleAnchorTabIndex(ze,Te){ze?Te.setAttribute("tabindex","0"):Te.removeAttribute("tabindex")}toggleAnchors(ze){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ze,this._startAnchor),this._toggleAnchorTabIndex(ze,this._endAnchor))}_executeOnStable(ze){this._ngZone.isStable?ze():this._ngZone.onStable.pipe((0,nt.q)(1)).subscribe(ze)}}let qt=(()=>{class lt{constructor(Te,Ze,xt){this._checker=Te,this._ngZone=Ze,this._document=xt}create(Te,Ze=!1){return new Kt(Te,this._checker,this._ngZone,this._document,Ze)}static#e=this.\u0275fac=function(Ze){return new(Ze||lt)(k.LFG(tn),k.LFG(k.R0b),k.LFG(h.K0))};static#t=this.\u0275prov=k.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"})}return lt})();function gi(lt){return 0===lt.buttons||0===lt.detail}function ai(lt){const ze=lt.touches&&lt.touches[0]||lt.changedTouches&&lt.changedTouches[0];return!(!ze||-1!==ze.identifier||null!=ze.radiusX&&1!==ze.radiusX||null!=ze.radiusY&&1!==ze.radiusY)}const sn=new k.OlP("cdk-input-modality-detector-options"),Ct={ignoreKeys:[X.zL,X.jx,X.b2,X.MW,X.JU]},Q=(0,z.i$)({passive:!0,capture:!0});let ue=(()=>{class lt{get mostRecentModality(){return this._modality.value}constructor(Te,Ze,xt,ve){this._platform=Te,this._mostRecentTarget=null,this._modality=new Ae.X(null),this._lastTouchMs=0,this._onKeydown=ie=>{this._options?.ignoreKeys?.some(Y=>Y===ie.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,z.sA)(ie))},this._onMousedown=ie=>{Date.now()-this._lastTouchMs<650||(this._modality.next(gi(ie)?"keyboard":"mouse"),this._mostRecentTarget=(0,z.sA)(ie))},this._onTouchstart=ie=>{ai(ie)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,z.sA)(ie))},this._options={...Ct,...ve},this.modalityDetected=this._modality.pipe((0,Fe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Qe.x)()),Te.isBrowser&&Ze.runOutsideAngular(()=>{xt.addEventListener("keydown",this._onKeydown,Q),xt.addEventListener("mousedown",this._onMousedown,Q),xt.addEventListener("touchstart",this._onTouchstart,Q)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Q),document.removeEventListener("mousedown",this._onMousedown,Q),document.removeEventListener("touchstart",this._onTouchstart,Q))}static#e=this.\u0275fac=function(Ze){return new(Ze||lt)(k.LFG(z.t4),k.LFG(k.R0b),k.LFG(h.K0),k.LFG(sn,8))};static#t=this.\u0275prov=k.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"})}return lt})();const pt=new k.OlP("liveAnnouncerElement",{providedIn:"root",factory:function je(){return null}}),It=new k.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ve=0,gt=(()=>{class lt{constructor(Te,Ze,xt,ve){this._ngZone=Ze,this._defaultOptions=ve,this._document=xt,this._liveElement=Te||this._createLiveElement()}announce(Te,...Ze){const xt=this._defaultOptions;let ve,ie;return 1===Ze.length&&"number"==typeof Ze[0]?ie=Ze[0]:[ve,ie]=Ze,this.clear(),clearTimeout(this._previousTimeout),ve||(ve=xt&&xt.politeness?xt.politeness:"polite"),null==ie&&xt&&(ie=xt.duration),this._liveElement.setAttribute("aria-live",ve),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Y=>this._currentResolve=Y)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Te,"number"==typeof ie&&(this._previousTimeout=setTimeout(()=>this.clear(),ie)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Te="cdk-live-announcer-element",Ze=this._document.getElementsByClassName(Te),xt=this._document.createElement("div");for(let ve=0;ve<Ze.length;ve++)Ze[ve].remove();return xt.classList.add(Te),xt.classList.add("cdk-visually-hidden"),xt.setAttribute("aria-atomic","true"),xt.setAttribute("aria-live","polite"),xt.id="cdk-live-announcer-"+Ve++,this._document.body.appendChild(xt),xt}_exposeAnnouncerToModals(Te){const Ze=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let xt=0;xt<Ze.length;xt++){const ve=Ze[xt],ie=ve.getAttribute("aria-owns");ie?-1===ie.indexOf(Te)&&ve.setAttribute("aria-owns",ie+" "+Te):ve.setAttribute("aria-owns",Te)}}static#e=this.\u0275fac=function(Ze){return new(Ze||lt)(k.LFG(pt,8),k.LFG(k.R0b),k.LFG(h.K0),k.LFG(It,8))};static#t=this.\u0275prov=k.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"})}return lt})();const Zt=new k.OlP("cdk-focus-monitor-default-options"),Wt=(0,z.i$)({passive:!0,capture:!0});let In=(()=>{class lt{constructor(Te,Ze,xt,ve,ie){this._ngZone=Te,this._platform=Ze,this._inputModalityDetector=xt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new I.x,this._rootNodeFocusAndBlurListener=Y=>{for(let B=(0,z.sA)(Y);B;B=B.parentElement)"focus"===Y.type?this._onFocus(Y,B):this._onBlur(Y,B)},this._document=ve,this._detectionMode=ie?.detectionMode||0}monitor(Te,Ze=!1){const xt=(0,ye.fI)(Te);if(!this._platform.isBrowser||1!==xt.nodeType)return(0,Me.of)();const ve=(0,z.kV)(xt)||this._getDocument(),ie=this._elementInfo.get(xt);if(ie)return Ze&&(ie.checkChildren=!0),ie.subject;const Y={checkChildren:Ze,subject:new I.x,rootNode:ve};return this._elementInfo.set(xt,Y),this._registerGlobalListeners(Y),Y.subject}stopMonitoring(Te){const Ze=(0,ye.fI)(Te),xt=this._elementInfo.get(Ze);xt&&(xt.subject.complete(),this._setClasses(Ze),this._elementInfo.delete(Ze),this._removeGlobalListeners(xt))}focusVia(Te,Ze,xt){const ve=(0,ye.fI)(Te);ve===this._getDocument().activeElement?this._getClosestElementsInfo(ve).forEach(([Y,$])=>this._originChanged(Y,Ze,$)):(this._setOrigin(Ze),"function"==typeof ve.focus&&ve.focus(xt))}ngOnDestroy(){this._elementInfo.forEach((Te,Ze)=>this.stopMonitoring(Ze))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Te){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Te)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Te&&this._isLastInteractionFromInputLabel(Te)?"mouse":"program"}_shouldBeAttributedToTouch(Te){return 1===this._detectionMode||!!Te?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Te,Ze){Te.classList.toggle("cdk-focused",!!Ze),Te.classList.toggle("cdk-touch-focused","touch"===Ze),Te.classList.toggle("cdk-keyboard-focused","keyboard"===Ze),Te.classList.toggle("cdk-mouse-focused","mouse"===Ze),Te.classList.toggle("cdk-program-focused","program"===Ze)}_setOrigin(Te,Ze=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Te,this._originFromTouchInteraction="touch"===Te&&Ze,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Te,Ze){const xt=this._elementInfo.get(Ze),ve=(0,z.sA)(Te);!xt||!xt.checkChildren&&Ze!==ve||this._originChanged(Ze,this._getFocusOrigin(ve),xt)}_onBlur(Te,Ze){const xt=this._elementInfo.get(Ze);!xt||xt.checkChildren&&Te.relatedTarget instanceof Node&&Ze.contains(Te.relatedTarget)||(this._setClasses(Ze),this._emitOrigin(xt,null))}_emitOrigin(Te,Ze){Te.subject.observers.length&&this._ngZone.run(()=>Te.subject.next(Ze))}_registerGlobalListeners(Te){if(!this._platform.isBrowser)return;const Ze=Te.rootNode,xt=this._rootNodeFocusListenerCount.get(Ze)||0;xt||this._ngZone.runOutsideAngular(()=>{Ze.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wt),Ze.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wt)}),this._rootNodeFocusListenerCount.set(Ze,xt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ue.R)(this._stopInputModalityDetector)).subscribe(ve=>{this._setOrigin(ve,!0)}))}_removeGlobalListeners(Te){const Ze=Te.rootNode;if(this._rootNodeFocusListenerCount.has(Ze)){const xt=this._rootNodeFocusListenerCount.get(Ze);xt>1?this._rootNodeFocusListenerCount.set(Ze,xt-1):(Ze.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wt),Ze.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wt),this._rootNodeFocusListenerCount.delete(Ze))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Te,Ze,xt){this._setClasses(Te,Ze),this._emitOrigin(xt,Ze),this._lastFocusOrigin=Ze}_getClosestElementsInfo(Te){const Ze=[];return this._elementInfo.forEach((xt,ve)=>{(ve===Te||xt.checkChildren&&ve.contains(Te))&&Ze.push([ve,xt])}),Ze}_isLastInteractionFromInputLabel(Te){const{_mostRecentTarget:Ze,mostRecentModality:xt}=this._inputModalityDetector;if("mouse"!==xt||!Ze||Ze===Te||"INPUT"!==Te.nodeName&&"TEXTAREA"!==Te.nodeName||Te.disabled)return!1;const ve=Te.labels;if(ve)for(let ie=0;ie<ve.length;ie++)if(ve[ie].contains(Ze))return!0;return!1}static#e=this.\u0275fac=function(Ze){return new(Ze||lt)(k.LFG(k.R0b),k.LFG(z.t4),k.LFG(ue),k.LFG(h.K0,8),k.LFG(Zt,8))};static#t=this.\u0275prov=k.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"})}return lt})();const Xn="cdk-high-contrast-black-on-white",Fn="cdk-high-contrast-white-on-black",Mt="cdk-high-contrast-active";let Vn=(()=>{class lt{constructor(Te,Ze){this._platform=Te,this._document=Ze,this._breakpointSubscription=(0,k.f3M)(bt.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Te=this._document.createElement("div");Te.style.backgroundColor="rgb(1,2,3)",Te.style.position="absolute",this._document.body.appendChild(Te);const Ze=this._document.defaultView||window,xt=Ze&&Ze.getComputedStyle?Ze.getComputedStyle(Te):null,ve=(xt&&xt.backgroundColor||"").replace(/ /g,"");switch(Te.remove(),ve){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Te=this._document.body.classList;Te.remove(Mt,Xn,Fn),this._hasCheckedHighContrastMode=!0;const Ze=this.getHighContrastMode();1===Ze?Te.add(Mt,Xn):2===Ze&&Te.add(Mt,Fn)}}static#e=this.\u0275fac=function(Ze){return new(Ze||lt)(k.LFG(z.t4),k.LFG(h.K0))};static#t=this.\u0275prov=k.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"})}return lt})(),kt=(()=>{class lt{constructor(Te){Te._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Ze){return new(Ze||lt)(k.LFG(Vn))};static#t=this.\u0275mod=k.oAB({type:lt});static#n=this.\u0275inj=k.cJS({imports:[Ee.Q8]})}return lt})()},9388:(on,et,T)=>{T.d(et,{Is:()=>Me,vT:()=>be});var h=T(5879),k=T(6814);const z=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function I(){return(0,h.f3M)(k.K0)}}),ge=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Me=(()=>{class ne{constructor(Re){this.value="ltr",this.change=new h.vpe,Re&&(this.value=function Ae(ne){const de=ne?.toLowerCase()||"";return"auto"===de&&typeof navigator<"u"&&navigator?.language?ge.test(navigator.language)?"rtl":"ltr":"rtl"===de?"rtl":"ltr"}((Re.body?Re.body.dir:null)||(Re.documentElement?Re.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(nt){return new(nt||ne)(h.LFG(z,8))};static#t=this.\u0275prov=h.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})(),be=(()=>{class ne{static#e=this.\u0275fac=function(nt){return new(nt||ne)};static#t=this.\u0275mod=h.oAB({type:ne});static#n=this.\u0275inj=h.cJS({})}return ne})()},2495:(on,et,T)=>{T.d(et,{Eq:()=>ge,HM:()=>Ae,Ig:()=>k,fI:()=>Me,su:()=>z,t6:()=>I});var h=T(5879);function k(be){return null!=be&&"false"!=`${be}`}function z(be,ne=0){return I(be)?Number(be):ne}function I(be){return!isNaN(parseFloat(be))&&!isNaN(Number(be))}function ge(be){return Array.isArray(be)?be:[be]}function Ae(be){return null==be?"":"string"==typeof be?be:`${be}px`}function Me(be){return be instanceof h.SBq?be.nativeElement:be}},8337:(on,et,T)=>{T.d(et,{A8:()=>de,Ov:()=>be,Z9:()=>ge,eX:()=>X,k:()=>Re,o2:()=>I,yy:()=>Me});var h=T(3168),k=T(8645),z=T(5879);class I{}function ge(nt){return nt&&"function"==typeof nt.connect&&!(nt instanceof h.c)}class Me{applyChanges(Fe,Qe,Ue,ye,Ee){Fe.forEachOperation((bt,ct,fe)=>{let Ne,xe;if(null==bt.previousIndex){const He=Ue(bt,ct,fe);Ne=Qe.createEmbeddedView(He.templateRef,He.context,He.index),xe=1}else null==fe?(Qe.remove(ct),xe=3):(Ne=Qe.get(ct),Qe.move(Ne,fe),xe=2);Ee&&Ee({context:Ne?.context,operation:xe,record:bt})})}detach(){}}class X{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Fe,Qe,Ue,ye,Ee){Fe.forEachOperation((bt,ct,fe)=>{let Ne,xe;null==bt.previousIndex?(Ne=this._insertView(()=>Ue(bt,ct,fe),fe,Qe,ye(bt)),xe=Ne?1:0):null==fe?(this._detachAndCacheView(ct,Qe),xe=3):(Ne=this._moveView(ct,fe,Qe,ye(bt)),xe=2),Ee&&Ee({context:Ne?.context,operation:xe,record:bt})})}detach(){for(const Fe of this._viewCache)Fe.destroy();this._viewCache=[]}_insertView(Fe,Qe,Ue,ye){const Ee=this._insertViewFromCache(Qe,Ue);if(Ee)return void(Ee.context.$implicit=ye);const bt=Fe();return Ue.createEmbeddedView(bt.templateRef,bt.context,bt.index)}_detachAndCacheView(Fe,Qe){const Ue=Qe.detach(Fe);this._maybeCacheView(Ue,Qe)}_moveView(Fe,Qe,Ue,ye){const Ee=Ue.get(Fe);return Ue.move(Ee,Qe),Ee.context.$implicit=ye,Ee}_maybeCacheView(Fe,Qe){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Fe);else{const Ue=Qe.indexOf(Fe);-1===Ue?Fe.destroy():Qe.remove(Ue)}}_insertViewFromCache(Fe,Qe){const Ue=this._viewCache.pop();return Ue&&Qe.insert(Ue,Fe),Ue||null}}class be{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(Fe=!1,Qe,Ue=!0,ye){this._multiple=Fe,this._emitChanges=Ue,this.compareWith=ye,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new k.x,Qe&&Qe.length&&(Fe?Qe.forEach(Ee=>this._markSelected(Ee)):this._markSelected(Qe[0]),this._selectedToEmit.length=0)}select(...Fe){this._verifyValueAssignment(Fe),Fe.forEach(Ue=>this._markSelected(Ue));const Qe=this._hasQueuedChanges();return this._emitChangeEvent(),Qe}deselect(...Fe){this._verifyValueAssignment(Fe),Fe.forEach(Ue=>this._unmarkSelected(Ue));const Qe=this._hasQueuedChanges();return this._emitChangeEvent(),Qe}setSelection(...Fe){this._verifyValueAssignment(Fe);const Qe=this.selected,Ue=new Set(Fe);Fe.forEach(Ee=>this._markSelected(Ee)),Qe.filter(Ee=>!Ue.has(Ee)).forEach(Ee=>this._unmarkSelected(Ee));const ye=this._hasQueuedChanges();return this._emitChangeEvent(),ye}toggle(Fe){return this.isSelected(Fe)?this.deselect(Fe):this.select(Fe)}clear(Fe=!0){this._unmarkAll();const Qe=this._hasQueuedChanges();return Fe&&this._emitChangeEvent(),Qe}isSelected(Fe){return this._selection.has(this._getConcreteValue(Fe))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Fe){this._multiple&&this.selected&&this._selected.sort(Fe)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Fe){Fe=this._getConcreteValue(Fe),this.isSelected(Fe)||(this._multiple||this._unmarkAll(),this.isSelected(Fe)||this._selection.add(Fe),this._emitChanges&&this._selectedToEmit.push(Fe))}_unmarkSelected(Fe){Fe=this._getConcreteValue(Fe),this.isSelected(Fe)&&(this._selection.delete(Fe),this._emitChanges&&this._deselectedToEmit.push(Fe))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Fe=>this._unmarkSelected(Fe))}_verifyValueAssignment(Fe){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(Fe){if(this.compareWith){for(let Qe of this._selection)if(this.compareWith(Fe,Qe))return Qe;return Fe}return Fe}}let de=(()=>{class nt{constructor(){this._listeners=[]}notify(Qe,Ue){for(let ye of this._listeners)ye(Qe,Ue)}listen(Qe){return this._listeners.push(Qe),()=>{this._listeners=this._listeners.filter(Ue=>Qe!==Ue)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(Ue){return new(Ue||nt)};static#t=this.\u0275prov=z.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();const Re=new z.OlP("_ViewRepeater")},6028:(on,et,T)=>{T.d(et,{A:()=>st,JH:()=>ct,JU:()=>Ae,K5:()=>ge,Ku:()=>nt,LH:()=>Ee,L_:()=>Re,MW:()=>It,Mf:()=>z,SV:()=>bt,Sd:()=>Ue,VM:()=>Fe,Vb:()=>Wr,Z:()=>je,aO:()=>Ut,b2:()=>Wi,hY:()=>de,jx:()=>Me,oh:()=>ye,uR:()=>Qe,xE:()=>it,zL:()=>X});const z=9,ge=13,Ae=16,Me=17,X=18,de=27,Re=32,nt=33,Fe=34,Qe=35,Ue=36,ye=37,Ee=38,bt=39,ct=40,it=48,Ut=57,st=65,je=90,It=91,Wi=224;function Wr(es,...fs){return fs.length?fs.some(pr=>es[pr]):es.altKey||es.shiftKey||es.ctrlKey||es.metaKey}},1088:(on,et,T)=>{T.d(et,{Yg:()=>ct,u3:()=>Ne});var h=T(5879),k=T(2495),z=T(8645),I=T(2572),ge=T(5211),Ae=T(5592),Me=T(8180),X=T(836),be=T(3620),ne=T(7398),de=T(7921),Re=T(9773),nt=T(2831);const Qe=new Set;let Ue,ye=(()=>{class xe{constructor(it,ke){this._platform=it,this._nonce=ke,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bt}matchMedia(it){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ee(xe,He){if(!Qe.has(xe))try{Ue||(Ue=document.createElement("style"),He&&(Ue.nonce=He),Ue.setAttribute("type","text/css"),document.head.appendChild(Ue)),Ue.sheet&&(Ue.sheet.insertRule(`@media ${xe} {body{ }}`,0),Qe.add(xe))}catch(it){console.error(it)}}(it,this._nonce),this._matchMedia(it)}static#e=this.\u0275fac=function(ke){return new(ke||xe)(h.LFG(nt.t4),h.LFG(h.Ojb,8))};static#t=this.\u0275prov=h.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})();function bt(xe){return{matches:"all"===xe||""===xe,media:xe,addListener:()=>{},removeListener:()=>{}}}let ct=(()=>{class xe{constructor(it,ke){this._mediaMatcher=it,this._zone=ke,this._queries=new Map,this._destroySubject=new z.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(it){return fe((0,k.Eq)(it)).some($t=>this._registerQuery($t).mql.matches)}observe(it){const $t=fe((0,k.Eq)(it)).map(Gt=>this._registerQuery(Gt).observable);let an=(0,I.a)($t);return an=(0,ge.z)(an.pipe((0,Me.q)(1)),an.pipe((0,X.T)(1),(0,be.b)(0))),an.pipe((0,ne.U)(Gt=>{const _n={matches:!1,breakpoints:{}};return Gt.forEach(({matches:Yt,query:bn})=>{_n.matches=_n.matches||Yt,_n.breakpoints[bn]=Yt}),_n}))}_registerQuery(it){if(this._queries.has(it))return this._queries.get(it);const ke=this._mediaMatcher.matchMedia(it),an={observable:new Ae.y(Gt=>{const _n=Yt=>this._zone.run(()=>Gt.next(Yt));return ke.addListener(_n),()=>{ke.removeListener(_n)}}).pipe((0,de.O)(ke),(0,ne.U)(({matches:Gt})=>({query:it,matches:Gt})),(0,Re.R)(this._destroySubject)),mql:ke};return this._queries.set(it,an),an}static#e=this.\u0275fac=function(ke){return new(ke||xe)(h.LFG(ye),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})();function fe(xe){return xe.map(He=>He.split(",")).reduce((He,it)=>He.concat(it)).map(He=>He.trim())}const Ne={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(on,et,T)=>{T.d(et,{Q8:()=>ge});var h=T(5879);let k=(()=>{class Ae{create(X){return typeof MutationObserver>"u"?null:new MutationObserver(X)}static#e=this.\u0275fac=function(be){return new(be||Ae)};static#t=this.\u0275prov=h.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})(),ge=(()=>{class Ae{static#e=this.\u0275fac=function(be){return new(be||Ae)};static#t=this.\u0275mod=h.oAB({type:Ae});static#n=this.\u0275inj=h.cJS({providers:[k]})}return Ae})()},3651:(on,et,T)=>{T.d(et,{pI:()=>zn,xu:()=>un,aV:()=>An,X_:()=>$t,Xj:()=>Ie,U8:()=>ai,Iu:()=>Le});var h=T(5407),k=T(6814),z=T(5879),I=T(2495),ge=T(2831),Ae=T(2181),Me=T(8180),X=T(9773),be=T(9360),ne=T(8251),Re=T(9388),nt=T(8484),Fe=T(8645),Qe=T(7394),Ue=T(3019),ye=T(6028);const Ee=(0,ge.Mq)();class bt{constructor(H,Q){this._viewportRuler=H,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Q}attach(){}enable(){if(this._canBeEnabled()){const H=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=H.style.left||"",this._previousHTMLStyles.top=H.style.top||"",H.style.left=(0,I.HM)(-this._previousScrollPosition.left),H.style.top=(0,I.HM)(-this._previousScrollPosition.top),H.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const H=this._document.documentElement,ue=H.style,pt=this._document.body.style,je=ue.scrollBehavior||"",It=pt.scrollBehavior||"";this._isEnabled=!1,ue.left=this._previousHTMLStyles.left,ue.top=this._previousHTMLStyles.top,H.classList.remove("cdk-global-scrollblock"),Ee&&(ue.scrollBehavior=pt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ee&&(ue.scrollBehavior=je,pt.scrollBehavior=It)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Q=this._document.body,ue=this._viewportRuler.getViewportSize();return Q.scrollHeight>ue.height||Q.scrollWidth>ue.width}}class fe{constructor(H,Q,ue,pt){this._scrollDispatcher=H,this._ngZone=Q,this._viewportRuler=ue,this._config=pt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(H){this._overlayRef=H}enable(){if(this._scrollSubscription)return;const H=this._scrollDispatcher.scrolled(0).pipe((0,Ae.h)(Q=>!Q||!this._overlayRef.overlayElement.contains(Q.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=H.subscribe(()=>{const Q=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Q-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=H.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ne{enable(){}disable(){}attach(){}}function xe(Ct,H){return H.some(Q=>Ct.bottom<Q.top||Ct.top>Q.bottom||Ct.right<Q.left||Ct.left>Q.right)}function He(Ct,H){return H.some(Q=>Ct.top<Q.top||Ct.bottom>Q.bottom||Ct.left<Q.left||Ct.right>Q.right)}class it{constructor(H,Q,ue,pt){this._scrollDispatcher=H,this._viewportRuler=Q,this._ngZone=ue,this._config=pt,this._scrollSubscription=null}attach(H){this._overlayRef=H}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Q=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ue,height:pt}=this._viewportRuler.getViewportSize();xe(Q,[{width:ue,height:pt,bottom:pt,right:ue,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ke=(()=>{class Ct{constructor(Q,ue,pt,je){this._scrollDispatcher=Q,this._viewportRuler=ue,this._ngZone=pt,this.noop=()=>new Ne,this.close=It=>new fe(this._scrollDispatcher,this._ngZone,this._viewportRuler,It),this.block=()=>new bt(this._viewportRuler,this._document),this.reposition=It=>new it(this._scrollDispatcher,this._viewportRuler,this._ngZone,It),this._document=je}static#e=this.\u0275fac=function(ue){return new(ue||Ct)(z.LFG(h.mF),z.LFG(h.rL),z.LFG(z.R0b),z.LFG(k.K0))};static#t=this.\u0275prov=z.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})();class $t{constructor(H){if(this.scrollStrategy=new Ne,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,H){const Q=Object.keys(H);for(const ue of Q)void 0!==H[ue]&&(this[ue]=H[ue])}}}class _n{constructor(H,Q){this.connectionPair=H,this.scrollableViewProperties=Q}}let en=(()=>{class Ct{constructor(Q){this._attachedOverlays=[],this._document=Q}ngOnDestroy(){this.detach()}add(Q){this.remove(Q),this._attachedOverlays.push(Q)}remove(Q){const ue=this._attachedOverlays.indexOf(Q);ue>-1&&this._attachedOverlays.splice(ue,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(ue){return new(ue||Ct)(z.LFG(k.K0))};static#t=this.\u0275prov=z.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})(),Ut=(()=>{class Ct extends en{constructor(Q,ue){super(Q),this._ngZone=ue,this._keydownListener=pt=>{const je=this._attachedOverlays;for(let It=je.length-1;It>-1;It--)if(je[It]._keydownEvents.observers.length>0){const Ve=je[It]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ve.next(pt)):Ve.next(pt);break}}}add(Q){super.add(Q),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(ue){return new(ue||Ct)(z.LFG(k.K0),z.LFG(z.R0b,8))};static#t=this.\u0275prov=z.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})(),tn=(()=>{class Ct extends en{constructor(Q,ue,pt){super(Q),this._platform=ue,this._ngZone=pt,this._cursorStyleIsSet=!1,this._pointerDownListener=je=>{this._pointerDownEventTarget=(0,ge.sA)(je)},this._clickListener=je=>{const It=(0,ge.sA)(je),Ve="click"===je.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:It;this._pointerDownEventTarget=null;const gt=this._attachedOverlays.slice();for(let ut=gt.length-1;ut>-1;ut--){const Zt=gt[ut];if(Zt._outsidePointerEvents.observers.length<1||!Zt.hasAttached())continue;if(Zt.overlayElement.contains(It)||Zt.overlayElement.contains(Ve))break;const Wt=Zt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Wt.next(je)):Wt.next(je)}}}add(Q){if(super.add(Q),!this._isAttached){const ue=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ue)):this._addEventListeners(ue),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ue.style.cursor,ue.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Q=this._document.body;Q.removeEventListener("pointerdown",this._pointerDownListener,!0),Q.removeEventListener("click",this._clickListener,!0),Q.removeEventListener("auxclick",this._clickListener,!0),Q.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Q.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Q){Q.addEventListener("pointerdown",this._pointerDownListener,!0),Q.addEventListener("click",this._clickListener,!0),Q.addEventListener("auxclick",this._clickListener,!0),Q.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(ue){return new(ue||Ct)(z.LFG(k.K0),z.LFG(ge.t4),z.LFG(z.R0b,8))};static#t=this.\u0275prov=z.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})(),Ie=(()=>{class Ct{constructor(Q,ue){this._platform=ue,this._document=Q}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Q="cdk-overlay-container";if(this._platform.isBrowser||(0,ge.Oy)()){const pt=this._document.querySelectorAll(`.${Q}[platform="server"], .${Q}[platform="test"]`);for(let je=0;je<pt.length;je++)pt[je].remove()}const ue=this._document.createElement("div");ue.classList.add(Q),(0,ge.Oy)()?ue.setAttribute("platform","test"):this._platform.isBrowser||ue.setAttribute("platform","server"),this._document.body.appendChild(ue),this._containerElement=ue}static#e=this.\u0275fac=function(ue){return new(ue||Ct)(z.LFG(k.K0),z.LFG(ge.t4))};static#t=this.\u0275prov=z.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})();class Le{constructor(H,Q,ue,pt,je,It,Ve,gt,ut,Zt=!1){this._portalOutlet=H,this._host=Q,this._pane=ue,this._config=pt,this._ngZone=je,this._keyboardDispatcher=It,this._document=Ve,this._location=gt,this._outsideClickDispatcher=ut,this._animationsDisabled=Zt,this._backdropElement=null,this._backdropClick=new Fe.x,this._attachments=new Fe.x,this._detachments=new Fe.x,this._locationChanges=Qe.w0.EMPTY,this._backdropClickHandler=Wt=>this._backdropClick.next(Wt),this._backdropTransitionendHandler=Wt=>{this._disposeBackdrop(Wt.target)},this._keydownEvents=new Fe.x,this._outsidePointerEvents=new Fe.x,pt.scrollStrategy&&(this._scrollStrategy=pt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=pt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(H){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Q=this._portalOutlet.attach(H);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Me.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Q?.onDestroy&&Q.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Q}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const H=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),H}dispose(){const H=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,H&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(H){H!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=H,this.hasAttached()&&(H.attach(this),this.updatePosition()))}updateSize(H){this._config={...this._config,...H},this._updateElementSize()}setDirection(H){this._config={...this._config,direction:H},this._updateElementDirection()}addPanelClass(H){this._pane&&this._toggleClasses(this._pane,H,!0)}removePanelClass(H){this._pane&&this._toggleClasses(this._pane,H,!1)}getDirection(){const H=this._config.direction;return H?"string"==typeof H?H:H.value:"ltr"}updateScrollStrategy(H){H!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=H,this.hasAttached()&&(H.attach(this),H.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const H=this._pane.style;H.width=(0,I.HM)(this._config.width),H.height=(0,I.HM)(this._config.height),H.minWidth=(0,I.HM)(this._config.minWidth),H.minHeight=(0,I.HM)(this._config.minHeight),H.maxWidth=(0,I.HM)(this._config.maxWidth),H.maxHeight=(0,I.HM)(this._config.maxHeight)}_togglePointerEvents(H){this._pane.style.pointerEvents=H?"":"none"}_attachBackdrop(){const H="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(H)})}):this._backdropElement.classList.add(H)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const H=this._backdropElement;if(H){if(this._animationsDisabled)return void this._disposeBackdrop(H);H.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{H.addEventListener("transitionend",this._backdropTransitionendHandler)}),H.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(H)},500))}}_toggleClasses(H,Q,ue){const pt=(0,I.Eq)(Q||[]).filter(je=>!!je);pt.length&&(ue?H.classList.add(...pt):H.classList.remove(...pt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const H=this._ngZone.onStable.pipe((0,X.R)((0,Ue.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),H.unsubscribe())})})}_disposeScrollStrategy(){const H=this._scrollStrategy;H&&(H.disable(),H.detach&&H.detach())}_disposeBackdrop(H){H&&(H.removeEventListener("click",this._backdropClickHandler),H.removeEventListener("transitionend",this._backdropTransitionendHandler),H.remove(),this._backdropElement===H&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Se="cdk-overlay-connected-position-bounding-box",st=/([A-Za-z%]+)$/;class ot{get positions(){return this._preferredPositions}constructor(H,Q,ue,pt,je){this._viewportRuler=Q,this._document=ue,this._platform=pt,this._overlayContainer=je,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Fe.x,this._resizeSubscription=Qe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(H)}attach(H){this._validatePositions(),H.hostElement.classList.add(Se),this._overlayRef=H,this._boundingBox=H.hostElement,this._pane=H.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const H=this._originRect,Q=this._overlayRect,ue=this._viewportRect,pt=this._containerRect,je=[];let It;for(let Ve of this._preferredPositions){let gt=this._getOriginPoint(H,pt,Ve),ut=this._getOverlayPoint(gt,Q,Ve),Zt=this._getOverlayFit(ut,Q,ue,Ve);if(Zt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ve,gt);this._canFitWithFlexibleDimensions(Zt,ut,ue)?je.push({position:Ve,origin:gt,overlayRect:Q,boundingBoxRect:this._calculateBoundingBoxRect(gt,Ve)}):(!It||It.overlayFit.visibleArea<Zt.visibleArea)&&(It={overlayFit:Zt,overlayPoint:ut,originPoint:gt,position:Ve,overlayRect:Q})}if(je.length){let Ve=null,gt=-1;for(const ut of je){const Zt=ut.boundingBoxRect.width*ut.boundingBoxRect.height*(ut.position.weight||1);Zt>gt&&(gt=Zt,Ve=ut)}return this._isPushed=!1,void this._applyPosition(Ve.position,Ve.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(It.position,It.originPoint);this._applyPosition(It.position,It.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Oe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Se),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const H=this._lastPosition;if(H){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Q=this._getOriginPoint(this._originRect,this._containerRect,H);this._applyPosition(H,Q)}else this.apply()}withScrollableContainers(H){return this._scrollables=H,this}withPositions(H){return this._preferredPositions=H,-1===H.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(H){return this._viewportMargin=H,this}withFlexibleDimensions(H=!0){return this._hasFlexibleDimensions=H,this}withGrowAfterOpen(H=!0){return this._growAfterOpen=H,this}withPush(H=!0){return this._canPush=H,this}withLockedPosition(H=!0){return this._positionLocked=H,this}setOrigin(H){return this._origin=H,this}withDefaultOffsetX(H){return this._offsetX=H,this}withDefaultOffsetY(H){return this._offsetY=H,this}withTransformOriginOn(H){return this._transformOriginSelector=H,this}_getOriginPoint(H,Q,ue){let pt,je;if("center"==ue.originX)pt=H.left+H.width/2;else{const It=this._isRtl()?H.right:H.left,Ve=this._isRtl()?H.left:H.right;pt="start"==ue.originX?It:Ve}return Q.left<0&&(pt-=Q.left),je="center"==ue.originY?H.top+H.height/2:"top"==ue.originY?H.top:H.bottom,Q.top<0&&(je-=Q.top),{x:pt,y:je}}_getOverlayPoint(H,Q,ue){let pt,je;return pt="center"==ue.overlayX?-Q.width/2:"start"===ue.overlayX?this._isRtl()?-Q.width:0:this._isRtl()?0:-Q.width,je="center"==ue.overlayY?-Q.height/2:"top"==ue.overlayY?0:-Q.height,{x:H.x+pt,y:H.y+je}}_getOverlayFit(H,Q,ue,pt){const je=De(Q);let{x:It,y:Ve}=H,gt=this._getOffset(pt,"x"),ut=this._getOffset(pt,"y");gt&&(It+=gt),ut&&(Ve+=ut);let In=0-Ve,Un=Ve+je.height-ue.height,Xn=this._subtractOverflows(je.width,0-It,It+je.width-ue.width),Fn=this._subtractOverflows(je.height,In,Un),Mt=Xn*Fn;return{visibleArea:Mt,isCompletelyWithinViewport:je.width*je.height===Mt,fitsInViewportVertically:Fn===je.height,fitsInViewportHorizontally:Xn==je.width}}_canFitWithFlexibleDimensions(H,Q,ue){if(this._hasFlexibleDimensions){const pt=ue.bottom-Q.y,je=ue.right-Q.x,It=Nt(this._overlayRef.getConfig().minHeight),Ve=Nt(this._overlayRef.getConfig().minWidth);return(H.fitsInViewportVertically||null!=It&&It<=pt)&&(H.fitsInViewportHorizontally||null!=Ve&&Ve<=je)}return!1}_pushOverlayOnScreen(H,Q,ue){if(this._previousPushAmount&&this._positionLocked)return{x:H.x+this._previousPushAmount.x,y:H.y+this._previousPushAmount.y};const pt=De(Q),je=this._viewportRect,It=Math.max(H.x+pt.width-je.width,0),Ve=Math.max(H.y+pt.height-je.height,0),gt=Math.max(je.top-ue.top-H.y,0),ut=Math.max(je.left-ue.left-H.x,0);let Zt=0,Wt=0;return Zt=pt.width<=je.width?ut||-It:H.x<this._viewportMargin?je.left-ue.left-H.x:0,Wt=pt.height<=je.height?gt||-Ve:H.y<this._viewportMargin?je.top-ue.top-H.y:0,this._previousPushAmount={x:Zt,y:Wt},{x:H.x+Zt,y:H.y+Wt}}_applyPosition(H,Q){if(this._setTransformOrigin(H),this._setOverlayElementStyles(Q,H),this._setBoundingBoxStyles(Q,H),H.panelClass&&this._addPanelClasses(H.panelClass),this._lastPosition=H,this._positionChanges.observers.length){const ue=this._getScrollVisibility(),pt=new _n(H,ue);this._positionChanges.next(pt)}this._isInitialRender=!1}_setTransformOrigin(H){if(!this._transformOriginSelector)return;const Q=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ue,pt=H.overlayY;ue="center"===H.overlayX?"center":this._isRtl()?"start"===H.overlayX?"right":"left":"start"===H.overlayX?"left":"right";for(let je=0;je<Q.length;je++)Q[je].style.transformOrigin=`${ue} ${pt}`}_calculateBoundingBoxRect(H,Q){const ue=this._viewportRect,pt=this._isRtl();let je,It,Ve,Zt,Wt,In;if("top"===Q.overlayY)It=H.y,je=ue.height-It+this._viewportMargin;else if("bottom"===Q.overlayY)Ve=ue.height-H.y+2*this._viewportMargin,je=ue.height-Ve+this._viewportMargin;else{const Un=Math.min(ue.bottom-H.y+ue.top,H.y),Xn=this._lastBoundingBoxSize.height;je=2*Un,It=H.y-Un,je>Xn&&!this._isInitialRender&&!this._growAfterOpen&&(It=H.y-Xn/2)}if("end"===Q.overlayX&&!pt||"start"===Q.overlayX&&pt)In=ue.width-H.x+this._viewportMargin,Zt=H.x-this._viewportMargin;else if("start"===Q.overlayX&&!pt||"end"===Q.overlayX&&pt)Wt=H.x,Zt=ue.right-H.x;else{const Un=Math.min(ue.right-H.x+ue.left,H.x),Xn=this._lastBoundingBoxSize.width;Zt=2*Un,Wt=H.x-Un,Zt>Xn&&!this._isInitialRender&&!this._growAfterOpen&&(Wt=H.x-Xn/2)}return{top:It,left:Wt,bottom:Ve,right:In,width:Zt,height:je}}_setBoundingBoxStyles(H,Q){const ue=this._calculateBoundingBoxRect(H,Q);!this._isInitialRender&&!this._growAfterOpen&&(ue.height=Math.min(ue.height,this._lastBoundingBoxSize.height),ue.width=Math.min(ue.width,this._lastBoundingBoxSize.width));const pt={};if(this._hasExactPosition())pt.top=pt.left="0",pt.bottom=pt.right=pt.maxHeight=pt.maxWidth="",pt.width=pt.height="100%";else{const je=this._overlayRef.getConfig().maxHeight,It=this._overlayRef.getConfig().maxWidth;pt.height=(0,I.HM)(ue.height),pt.top=(0,I.HM)(ue.top),pt.bottom=(0,I.HM)(ue.bottom),pt.width=(0,I.HM)(ue.width),pt.left=(0,I.HM)(ue.left),pt.right=(0,I.HM)(ue.right),pt.alignItems="center"===Q.overlayX?"center":"end"===Q.overlayX?"flex-end":"flex-start",pt.justifyContent="center"===Q.overlayY?"center":"bottom"===Q.overlayY?"flex-end":"flex-start",je&&(pt.maxHeight=(0,I.HM)(je)),It&&(pt.maxWidth=(0,I.HM)(It))}this._lastBoundingBoxSize=ue,Oe(this._boundingBox.style,pt)}_resetBoundingBoxStyles(){Oe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Oe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(H,Q){const ue={},pt=this._hasExactPosition(),je=this._hasFlexibleDimensions,It=this._overlayRef.getConfig();if(pt){const Zt=this._viewportRuler.getViewportScrollPosition();Oe(ue,this._getExactOverlayY(Q,H,Zt)),Oe(ue,this._getExactOverlayX(Q,H,Zt))}else ue.position="static";let Ve="",gt=this._getOffset(Q,"x"),ut=this._getOffset(Q,"y");gt&&(Ve+=`translateX(${gt}px) `),ut&&(Ve+=`translateY(${ut}px)`),ue.transform=Ve.trim(),It.maxHeight&&(pt?ue.maxHeight=(0,I.HM)(It.maxHeight):je&&(ue.maxHeight="")),It.maxWidth&&(pt?ue.maxWidth=(0,I.HM)(It.maxWidth):je&&(ue.maxWidth="")),Oe(this._pane.style,ue)}_getExactOverlayY(H,Q,ue){let pt={top:"",bottom:""},je=this._getOverlayPoint(Q,this._overlayRect,H);return this._isPushed&&(je=this._pushOverlayOnScreen(je,this._overlayRect,ue)),"bottom"===H.overlayY?pt.bottom=this._document.documentElement.clientHeight-(je.y+this._overlayRect.height)+"px":pt.top=(0,I.HM)(je.y),pt}_getExactOverlayX(H,Q,ue){let It,pt={left:"",right:""},je=this._getOverlayPoint(Q,this._overlayRect,H);return this._isPushed&&(je=this._pushOverlayOnScreen(je,this._overlayRect,ue)),It=this._isRtl()?"end"===H.overlayX?"left":"right":"end"===H.overlayX?"right":"left","right"===It?pt.right=this._document.documentElement.clientWidth-(je.x+this._overlayRect.width)+"px":pt.left=(0,I.HM)(je.x),pt}_getScrollVisibility(){const H=this._getOriginRect(),Q=this._pane.getBoundingClientRect(),ue=this._scrollables.map(pt=>pt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:He(H,ue),isOriginOutsideView:xe(H,ue),isOverlayClipped:He(Q,ue),isOverlayOutsideView:xe(Q,ue)}}_subtractOverflows(H,...Q){return Q.reduce((ue,pt)=>ue-Math.max(pt,0),H)}_getNarrowedViewportRect(){const H=this._document.documentElement.clientWidth,Q=this._document.documentElement.clientHeight,ue=this._viewportRuler.getViewportScrollPosition();return{top:ue.top+this._viewportMargin,left:ue.left+this._viewportMargin,right:ue.left+H-this._viewportMargin,bottom:ue.top+Q-this._viewportMargin,width:H-2*this._viewportMargin,height:Q-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(H,Q){return"x"===Q?null==H.offsetX?this._offsetX:H.offsetX:null==H.offsetY?this._offsetY:H.offsetY}_validatePositions(){}_addPanelClasses(H){this._pane&&(0,I.Eq)(H).forEach(Q=>{""!==Q&&-1===this._appliedPanelClasses.indexOf(Q)&&(this._appliedPanelClasses.push(Q),this._pane.classList.add(Q))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(H=>{this._pane.classList.remove(H)}),this._appliedPanelClasses=[])}_getOriginRect(){const H=this._origin;if(H instanceof z.SBq)return H.nativeElement.getBoundingClientRect();if(H instanceof Element)return H.getBoundingClientRect();const Q=H.width||0,ue=H.height||0;return{top:H.y,bottom:H.y+ue,left:H.x,right:H.x+Q,height:ue,width:Q}}}function Oe(Ct,H){for(let Q in H)H.hasOwnProperty(Q)&&(Ct[Q]=H[Q]);return Ct}function Nt(Ct){if("number"!=typeof Ct&&null!=Ct){const[H,Q]=Ct.split(st);return Q&&"px"!==Q?null:parseFloat(H)}return Ct||null}function De(Ct){return{top:Math.floor(Ct.top),right:Math.floor(Ct.right),bottom:Math.floor(Ct.bottom),left:Math.floor(Ct.left),width:Math.floor(Ct.width),height:Math.floor(Ct.height)}}const dt="cdk-global-overlay-wrapper";class wt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(H){const Q=H.getConfig();this._overlayRef=H,this._width&&!Q.width&&H.updateSize({width:this._width}),this._height&&!Q.height&&H.updateSize({height:this._height}),H.hostElement.classList.add(dt),this._isDisposed=!1}top(H=""){return this._bottomOffset="",this._topOffset=H,this._alignItems="flex-start",this}left(H=""){return this._xOffset=H,this._xPosition="left",this}bottom(H=""){return this._topOffset="",this._bottomOffset=H,this._alignItems="flex-end",this}right(H=""){return this._xOffset=H,this._xPosition="right",this}start(H=""){return this._xOffset=H,this._xPosition="start",this}end(H=""){return this._xOffset=H,this._xPosition="end",this}width(H=""){return this._overlayRef?this._overlayRef.updateSize({width:H}):this._width=H,this}height(H=""){return this._overlayRef?this._overlayRef.updateSize({height:H}):this._height=H,this}centerHorizontally(H=""){return this.left(H),this._xPosition="center",this}centerVertically(H=""){return this.top(H),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const H=this._overlayRef.overlayElement.style,Q=this._overlayRef.hostElement.style,ue=this._overlayRef.getConfig(),{width:pt,height:je,maxWidth:It,maxHeight:Ve}=ue,gt=!("100%"!==pt&&"100vw"!==pt||It&&"100%"!==It&&"100vw"!==It),ut=!("100%"!==je&&"100vh"!==je||Ve&&"100%"!==Ve&&"100vh"!==Ve),Zt=this._xPosition,Wt=this._xOffset,In="rtl"===this._overlayRef.getConfig().direction;let Un="",Xn="",Fn="";gt?Fn="flex-start":"center"===Zt?(Fn="center",In?Xn=Wt:Un=Wt):In?"left"===Zt||"end"===Zt?(Fn="flex-end",Un=Wt):("right"===Zt||"start"===Zt)&&(Fn="flex-start",Xn=Wt):"left"===Zt||"start"===Zt?(Fn="flex-start",Un=Wt):("right"===Zt||"end"===Zt)&&(Fn="flex-end",Xn=Wt),H.position=this._cssPosition,H.marginLeft=gt?"0":Un,H.marginTop=ut?"0":this._topOffset,H.marginBottom=this._bottomOffset,H.marginRight=gt?"0":Xn,Q.justifyContent=Fn,Q.alignItems=ut?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const H=this._overlayRef.overlayElement.style,Q=this._overlayRef.hostElement,ue=Q.style;Q.classList.remove(dt),ue.justifyContent=ue.alignItems=H.marginTop=H.marginBottom=H.marginLeft=H.marginRight=H.position="",this._overlayRef=null,this._isDisposed=!0}}let Kt=(()=>{class Ct{constructor(Q,ue,pt,je){this._viewportRuler=Q,this._document=ue,this._platform=pt,this._overlayContainer=je}global(){return new wt}flexibleConnectedTo(Q){return new ot(Q,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(ue){return new(ue||Ct)(z.LFG(h.rL),z.LFG(k.K0),z.LFG(ge.t4),z.LFG(Ie))};static#t=this.\u0275prov=z.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})(),qt=0,An=(()=>{class Ct{constructor(Q,ue,pt,je,It,Ve,gt,ut,Zt,Wt,In,Un){this.scrollStrategies=Q,this._overlayContainer=ue,this._componentFactoryResolver=pt,this._positionBuilder=je,this._keyboardDispatcher=It,this._injector=Ve,this._ngZone=gt,this._document=ut,this._directionality=Zt,this._location=Wt,this._outsideClickDispatcher=In,this._animationsModuleType=Un}create(Q){const ue=this._createHostElement(),pt=this._createPaneElement(ue),je=this._createPortalOutlet(pt),It=new $t(Q);return It.direction=It.direction||this._directionality.value,new Le(je,ue,pt,It,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Q){const ue=this._document.createElement("div");return ue.id="cdk-overlay-"+qt++,ue.classList.add("cdk-overlay-pane"),Q.appendChild(ue),ue}_createHostElement(){const Q=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Q),Q}_createPortalOutlet(Q){return this._appRef||(this._appRef=this._injector.get(z.z2F)),new nt.u0(Q,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(ue){return new(ue||Ct)(z.LFG(ke),z.LFG(Ie),z.LFG(z._Vd),z.LFG(Kt),z.LFG(Ut),z.LFG(z.zs3),z.LFG(z.R0b),z.LFG(k.K0),z.LFG(Re.Is),z.LFG(k.Ye),z.LFG(tn),z.LFG(z.QbO,8))};static#t=this.\u0275prov=z.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})();const at=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Bt=new z.OlP("cdk-connected-overlay-scroll-strategy");let un=(()=>{class Ct{constructor(Q){this.elementRef=Q}static#e=this.\u0275fac=function(ue){return new(ue||Ct)(z.Y36(z.SBq))};static#t=this.\u0275dir=z.lG2({type:Ct,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Ct})(),zn=(()=>{class Ct{get offsetX(){return this._offsetX}set offsetX(Q){this._offsetX=Q,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Q){this._offsetY=Q,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Q){this._hasBackdrop=(0,I.Ig)(Q)}get lockPosition(){return this._lockPosition}set lockPosition(Q){this._lockPosition=(0,I.Ig)(Q)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Q){this._flexibleDimensions=(0,I.Ig)(Q)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Q){this._growAfterOpen=(0,I.Ig)(Q)}get push(){return this._push}set push(Q){this._push=(0,I.Ig)(Q)}constructor(Q,ue,pt,je,It){this._overlay=Q,this._dir=It,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Qe.w0.EMPTY,this._attachSubscription=Qe.w0.EMPTY,this._detachSubscription=Qe.w0.EMPTY,this._positionSubscription=Qe.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new z.vpe,this.positionChange=new z.vpe,this.attach=new z.vpe,this.detach=new z.vpe,this.overlayKeydown=new z.vpe,this.overlayOutsideClick=new z.vpe,this._templatePortal=new nt.UE(ue,pt),this._scrollStrategyFactory=je,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Q){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Q.origin&&this.open&&this._position.apply()),Q.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=at);const Q=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Q.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Q.detachments().subscribe(()=>this.detach.emit()),Q.keydownEvents().subscribe(ue=>{this.overlayKeydown.next(ue),ue.keyCode===ye.hY&&!this.disableClose&&!(0,ye.Vb)(ue)&&(ue.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(ue=>{this.overlayOutsideClick.next(ue)})}_buildConfig(){const Q=this._position=this.positionStrategy||this._createPositionStrategy(),ue=new $t({direction:this._dir,positionStrategy:Q,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(ue.width=this.width),(this.height||0===this.height)&&(ue.height=this.height),(this.minWidth||0===this.minWidth)&&(ue.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(ue.minHeight=this.minHeight),this.backdropClass&&(ue.backdropClass=this.backdropClass),this.panelClass&&(ue.panelClass=this.panelClass),ue}_updatePositionStrategy(Q){const ue=this.positions.map(pt=>({originX:pt.originX,originY:pt.originY,overlayX:pt.overlayX,overlayY:pt.overlayY,offsetX:pt.offsetX||this.offsetX,offsetY:pt.offsetY||this.offsetY,panelClass:pt.panelClass||void 0}));return Q.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(ue).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Q=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Q),Q}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof un?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Q=>{this.backdropClick.emit(Q)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function de(Ct,H=!1){return(0,be.e)((Q,ue)=>{let pt=0;Q.subscribe((0,ne.x)(ue,je=>{const It=Ct(je,pt++);(It||H)&&ue.next(je),!It&&ue.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Q=>{this.positionChange.emit(Q),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(ue){return new(ue||Ct)(z.Y36(An),z.Y36(z.Rgc),z.Y36(z.s_b),z.Y36(Bt),z.Y36(Re.Is,8))};static#t=this.\u0275dir=z.lG2({type:Ct,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[z.TTD]})}return Ct})();const gi={provide:Bt,deps:[An],useFactory:function Qn(Ct){return()=>Ct.scrollStrategies.reposition()}};let ai=(()=>{class Ct{static#e=this.\u0275fac=function(ue){return new(ue||Ct)};static#t=this.\u0275mod=z.oAB({type:Ct});static#n=this.\u0275inj=z.cJS({providers:[An,gi],imports:[Re.vT,nt.eL,h.Cl,h.Cl]})}return Ct})()},2831:(on,et,T)=>{T.d(et,{Mq:()=>Fe,Oy:()=>fe,ht:()=>bt,i$:()=>de,kV:()=>Ee,qK:()=>X,sA:()=>ct,t4:()=>I});var h=T(5879),k=T(6814);let z;try{z=typeof Intl<"u"&&Intl.v8BreakIterator}catch{z=!1}let Ae,I=(()=>{class Ne{constructor(He){this._platformId=He,this.isBrowser=this._platformId?(0,k.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!z)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(it){return new(it||Ne)(h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();const Me=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function X(){if(Ae)return Ae;if("object"!=typeof document||!document)return Ae=new Set(Me),Ae;let Ne=document.createElement("input");return Ae=new Set(Me.filter(xe=>(Ne.setAttribute("type",xe),Ne.type===xe))),Ae}let be,nt,Ue;function de(Ne){return function ne(){if(null==be&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>be=!0}))}finally{be=be||!1}return be}()?Ne:!!Ne.capture}function Fe(){if(null==nt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nt=!1,nt;if("scrollBehavior"in document.documentElement.style)nt=!0;else{const Ne=Element.prototype.scrollTo;nt=!!Ne&&!/\{\s*\[native code\]\s*\}/.test(Ne.toString())}}return nt}function Ee(Ne){if(function ye(){if(null==Ue){const Ne=typeof document<"u"?document.head:null;Ue=!(!Ne||!Ne.createShadowRoot&&!Ne.attachShadow)}return Ue}()){const xe=Ne.getRootNode?Ne.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&xe instanceof ShadowRoot)return xe}return null}function bt(){let Ne=typeof document<"u"&&document?document.activeElement:null;for(;Ne&&Ne.shadowRoot;){const xe=Ne.shadowRoot.activeElement;if(xe===Ne)break;Ne=xe}return Ne}function ct(Ne){return Ne.composedPath?Ne.composedPath()[0]:Ne.target}function fe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(on,et,T)=>{T.d(et,{C5:()=>ne,Pl:()=>bt,UE:()=>de,eL:()=>fe,en:()=>nt,u0:()=>Qe});var h=T(5879),k=T(6814);class be{attach(He){return this._attachedHost=He,He.attach(this)}detach(){let He=this._attachedHost;null!=He&&(this._attachedHost=null,He.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(He){this._attachedHost=He}}class ne extends be{constructor(He,it,ke,$t,an){super(),this.component=He,this.viewContainerRef=it,this.injector=ke,this.componentFactoryResolver=$t,this.projectableNodes=an}}class de extends be{constructor(He,it,ke,$t){super(),this.templateRef=He,this.viewContainerRef=it,this.context=ke,this.injector=$t}get origin(){return this.templateRef.elementRef}attach(He,it=this.context){return this.context=it,super.attach(He)}detach(){return this.context=void 0,super.detach()}}class Re extends be{constructor(He){super(),this.element=He instanceof h.SBq?He.nativeElement:He}}class nt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(He){return He instanceof ne?(this._attachedPortal=He,this.attachComponentPortal(He)):He instanceof de?(this._attachedPortal=He,this.attachTemplatePortal(He)):this.attachDomPortal&&He instanceof Re?(this._attachedPortal=He,this.attachDomPortal(He)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(He){this._disposeFn=He}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Qe extends nt{constructor(He,it,ke,$t,an){super(),this.outletElement=He,this._componentFactoryResolver=it,this._appRef=ke,this._defaultInjector=$t,this.attachDomPortal=Gt=>{const _n=Gt.element,Yt=this._document.createComment("dom-portal");_n.parentNode.insertBefore(Yt,_n),this.outletElement.appendChild(_n),this._attachedPortal=Gt,super.setDisposeFn(()=>{Yt.parentNode&&Yt.parentNode.replaceChild(_n,Yt)})},this._document=an}attachComponentPortal(He){const ke=(He.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(He.component);let $t;return He.viewContainerRef?($t=He.viewContainerRef.createComponent(ke,He.viewContainerRef.length,He.injector||He.viewContainerRef.injector,He.projectableNodes||void 0),this.setDisposeFn(()=>$t.destroy())):($t=ke.create(He.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView($t.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView($t.hostView),$t.destroy()})),this.outletElement.appendChild(this._getComponentRootNode($t)),this._attachedPortal=He,$t}attachTemplatePortal(He){let it=He.viewContainerRef,ke=it.createEmbeddedView(He.templateRef,He.context,{injector:He.injector});return ke.rootNodes.forEach($t=>this.outletElement.appendChild($t)),ke.detectChanges(),this.setDisposeFn(()=>{let $t=it.indexOf(ke);-1!==$t&&it.remove($t)}),this._attachedPortal=He,ke}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(He){return He.hostView.rootNodes[0]}}let bt=(()=>{class xe extends nt{constructor(it,ke,$t){super(),this._componentFactoryResolver=it,this._viewContainerRef=ke,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=an=>{const Gt=an.element,_n=this._document.createComment("dom-portal");an.setAttachedHost(this),Gt.parentNode.insertBefore(_n,Gt),this._getRootNode().appendChild(Gt),this._attachedPortal=an,super.setDisposeFn(()=>{_n.parentNode&&_n.parentNode.replaceChild(Gt,_n)})},this._document=$t}get portal(){return this._attachedPortal}set portal(it){this.hasAttached()&&!it&&!this._isInitialized||(this.hasAttached()&&super.detach(),it&&super.attach(it),this._attachedPortal=it||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(it){it.setAttachedHost(this);const ke=null!=it.viewContainerRef?it.viewContainerRef:this._viewContainerRef,an=(it.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(it.component),Gt=ke.createComponent(an,ke.length,it.injector||ke.injector,it.projectableNodes||void 0);return ke!==this._viewContainerRef&&this._getRootNode().appendChild(Gt.hostView.rootNodes[0]),super.setDisposeFn(()=>Gt.destroy()),this._attachedPortal=it,this._attachedRef=Gt,this.attached.emit(Gt),Gt}attachTemplatePortal(it){it.setAttachedHost(this);const ke=this._viewContainerRef.createEmbeddedView(it.templateRef,it.context,{injector:it.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=it,this._attachedRef=ke,this.attached.emit(ke),ke}_getRootNode(){const it=this._viewContainerRef.element.nativeElement;return it.nodeType===it.ELEMENT_NODE?it:it.parentNode}static#e=this.\u0275fac=function(ke){return new(ke||xe)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(k.K0))};static#t=this.\u0275dir=h.lG2({type:xe,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]})}return xe})(),fe=(()=>{class xe{static#e=this.\u0275fac=function(ke){return new(ke||xe)};static#t=this.\u0275mod=h.oAB({type:xe});static#n=this.\u0275inj=h.cJS({})}return xe})()},5407:(on,et,T)=>{T.d(et,{ZD:()=>Oe,mF:()=>an,Cl:()=>Nt,rL:()=>Yt});var h=T(2495),k=T(5879),z=T(8645),I=T(2096),ge=T(5592),Ae=T(2438),Me=T(1954),X=T(7394);const be={schedule(De){let We=requestAnimationFrame,Ce=cancelAnimationFrame;const{delegate:dt}=be;dt&&(We=dt.requestAnimationFrame,Ce=dt.cancelAnimationFrame);const wt=We(Kt=>{Ce=void 0,De(Kt)});return new X.w0(()=>Ce?.(wt))},requestAnimationFrame(...De){const{delegate:We}=be;return(We?.requestAnimationFrame||requestAnimationFrame)(...De)},cancelAnimationFrame(...De){const{delegate:We}=be;return(We?.cancelAnimationFrame||cancelAnimationFrame)(...De)},delegate:void 0};var de=T(2631);new class Re extends de.v{flush(We){this._active=!0;const Ce=this._scheduled;this._scheduled=void 0;const{actions:dt}=this;let wt;We=We||dt.shift();do{if(wt=We.execute(We.state,We.delay))break}while((We=dt[0])&&We.id===Ce&&dt.shift());if(this._active=!1,wt){for(;(We=dt[0])&&We.id===Ce&&dt.shift();)We.unsubscribe();throw wt}}}(class ne extends Me.o{constructor(We,Ce){super(We,Ce),this.scheduler=We,this.work=Ce}requestAsyncId(We,Ce,dt=0){return null!==dt&&dt>0?super.requestAsyncId(We,Ce,dt):(We.actions.push(this),We._scheduled||(We._scheduled=be.requestAnimationFrame(()=>We.flush(void 0))))}recycleAsyncId(We,Ce,dt=0){var wt;if(null!=dt?dt>0:this.delay>0)return super.recycleAsyncId(We,Ce,dt);const{actions:Kt}=We;null!=Ce&&(null===(wt=Kt[Kt.length-1])||void 0===wt?void 0:wt.id)!==Ce&&(be.cancelAnimationFrame(Ce),We._scheduled=void 0)}});T(6410);var Ue=T(9028),ye=T(2181),Ee=T(2831),bt=T(6814),ct=T(9388);let an=(()=>{class De{constructor(Ce,dt,wt){this._ngZone=Ce,this._platform=dt,this._scrolled=new z.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=wt}register(Ce){this.scrollContainers.has(Ce)||this.scrollContainers.set(Ce,Ce.elementScrolled().subscribe(()=>this._scrolled.next(Ce)))}deregister(Ce){const dt=this.scrollContainers.get(Ce);dt&&(dt.unsubscribe(),this.scrollContainers.delete(Ce))}scrolled(Ce=20){return this._platform.isBrowser?new ge.y(dt=>{this._globalSubscription||this._addGlobalListener();const wt=Ce>0?this._scrolled.pipe((0,Ue.e)(Ce)).subscribe(dt):this._scrolled.subscribe(dt);return this._scrolledCount++,()=>{wt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,I.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ce,dt)=>this.deregister(dt)),this._scrolled.complete()}ancestorScrolled(Ce,dt){const wt=this.getAncestorScrollContainers(Ce);return this.scrolled(dt).pipe((0,ye.h)(Kt=>!Kt||wt.indexOf(Kt)>-1))}getAncestorScrollContainers(Ce){const dt=[];return this.scrollContainers.forEach((wt,Kt)=>{this._scrollableContainsElement(Kt,Ce)&&dt.push(Kt)}),dt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ce,dt){let wt=(0,h.fI)(dt),Kt=Ce.getElementRef().nativeElement;do{if(wt==Kt)return!0}while(wt=wt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ce=this._getWindow();return(0,Ae.R)(Ce.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(dt){return new(dt||De)(k.LFG(k.R0b),k.LFG(Ee.t4),k.LFG(bt.K0,8))};static#t=this.\u0275prov=k.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),Yt=(()=>{class De{constructor(Ce,dt,wt){this._platform=Ce,this._change=new z.x,this._changeListener=Kt=>{this._change.next(Kt)},this._document=wt,dt.runOutsideAngular(()=>{if(Ce.isBrowser){const Kt=this._getWindow();Kt.addEventListener("resize",this._changeListener),Kt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ce=this._getWindow();Ce.removeEventListener("resize",this._changeListener),Ce.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ce={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ce}getViewportRect(){const Ce=this.getViewportScrollPosition(),{width:dt,height:wt}=this.getViewportSize();return{top:Ce.top,left:Ce.left,bottom:Ce.top+wt,right:Ce.left+dt,height:wt,width:dt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ce=this._document,dt=this._getWindow(),wt=Ce.documentElement,Kt=wt.getBoundingClientRect();return{top:-Kt.top||Ce.body.scrollTop||dt.scrollY||wt.scrollTop||0,left:-Kt.left||Ce.body.scrollLeft||dt.scrollX||wt.scrollLeft||0}}change(Ce=20){return Ce>0?this._change.pipe((0,Ue.e)(Ce)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ce=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ce.innerWidth,height:Ce.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(dt){return new(dt||De)(k.LFG(Ee.t4),k.LFG(k.R0b),k.LFG(bt.K0,8))};static#t=this.\u0275prov=k.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),Oe=(()=>{class De{static#e=this.\u0275fac=function(dt){return new(dt||De)};static#t=this.\u0275mod=k.oAB({type:De});static#n=this.\u0275inj=k.cJS({})}return De})(),Nt=(()=>{class De{static#e=this.\u0275fac=function(dt){return new(dt||De)};static#t=this.\u0275mod=k.oAB({type:De});static#n=this.\u0275inj=k.cJS({imports:[ct.vT,Oe,ct.vT,Oe]})}return De})()},6263:(on,et,T)=>{T.d(et,{IC:()=>nt,Ky:()=>Fe,Lq:()=>de});var h=T(2831),k=T(5879),z=T(2495),I=T(6232),ge=T(8645),Ae=T(2438),Me=T(9028),X=T(9773),be=T(6814);const ne=(0,h.i$)({passive:!0});let de=(()=>{class Qe{constructor(ye,Ee){this._platform=ye,this._ngZone=Ee,this._monitoredElements=new Map}monitor(ye){if(!this._platform.isBrowser)return I.E;const Ee=(0,z.fI)(ye),bt=this._monitoredElements.get(Ee);if(bt)return bt.subject;const ct=new ge.x,fe="cdk-text-field-autofilled",Ne=xe=>{"cdk-text-field-autofill-start"!==xe.animationName||Ee.classList.contains(fe)?"cdk-text-field-autofill-end"===xe.animationName&&Ee.classList.contains(fe)&&(Ee.classList.remove(fe),this._ngZone.run(()=>ct.next({target:xe.target,isAutofilled:!1}))):(Ee.classList.add(fe),this._ngZone.run(()=>ct.next({target:xe.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Ee.addEventListener("animationstart",Ne,ne),Ee.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Ee,{subject:ct,unlisten:()=>{Ee.removeEventListener("animationstart",Ne,ne)}}),ct}stopMonitoring(ye){const Ee=(0,z.fI)(ye),bt=this._monitoredElements.get(Ee);bt&&(bt.unlisten(),bt.subject.complete(),Ee.classList.remove("cdk-text-field-autofill-monitored"),Ee.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Ee))}ngOnDestroy(){this._monitoredElements.forEach((ye,Ee)=>this.stopMonitoring(Ee))}static#e=this.\u0275fac=function(Ee){return new(Ee||Qe)(k.LFG(h.t4),k.LFG(k.R0b))};static#t=this.\u0275prov=k.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})(),nt=(()=>{class Qe{get minRows(){return this._minRows}set minRows(ye){this._minRows=(0,z.su)(ye),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(ye){this._maxRows=(0,z.su)(ye),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(ye){ye=(0,z.Ig)(ye),this._enabled!==ye&&((this._enabled=ye)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(ye){this._cachedPlaceholderHeight=void 0,ye?this._textareaElement.setAttribute("placeholder",ye):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(ye,Ee,bt,ct){this._elementRef=ye,this._platform=Ee,this._ngZone=bt,this._destroyed=new ge.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=fe=>{this._hasFocus="focus"===fe.type},this._document=ct,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){const ye=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;ye&&(this._textareaElement.style.minHeight=ye)}_setMaxHeight(){const ye=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;ye&&(this._textareaElement.style.maxHeight=ye)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{const ye=this._getWindow();(0,Ae.R)(ye,"resize").pipe((0,Me.e)(16),(0,X.R)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let ye=this._textareaElement.cloneNode(!1);ye.rows=1,ye.style.position="absolute",ye.style.visibility="hidden",ye.style.border="none",ye.style.padding="0",ye.style.height="",ye.style.minHeight="",ye.style.maxHeight="",ye.style.overflow="hidden",this._textareaElement.parentNode.appendChild(ye),this._cachedLineHeight=ye.clientHeight,ye.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const ye=this._textareaElement,Ee=ye.style.marginBottom||"",bt=this._platform.FIREFOX,ct=bt&&this._hasFocus,fe=bt?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";ct&&(ye.style.marginBottom=`${ye.clientHeight}px`),ye.classList.add(fe);const Ne=ye.scrollHeight-4;return ye.classList.remove(fe),ct&&(ye.style.marginBottom=Ee),Ne}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const ye=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=ye}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(ye=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const Ee=this._elementRef.nativeElement,bt=Ee.value;if(!ye&&this._minRows===this._previousMinRows&&bt===this._previousValue)return;const ct=this._measureScrollHeight(),fe=Math.max(ct,this._cachedPlaceholderHeight||0);Ee.style.height=`${fe}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(Ee)):setTimeout(()=>this._scrollToCaretPosition(Ee))}),this._previousValue=bt,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(ye){const{selectionStart:Ee,selectionEnd:bt}=ye;!this._destroyed.isStopped&&this._hasFocus&&ye.setSelectionRange(Ee,bt)}static#e=this.\u0275fac=function(Ee){return new(Ee||Qe)(k.Y36(k.SBq),k.Y36(h.t4),k.Y36(k.R0b),k.Y36(be.K0,8))};static#t=this.\u0275dir=k.lG2({type:Qe,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(Ee,bt){1&Ee&&k.NdJ("input",function(){return bt._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]})}return Qe})(),Fe=(()=>{class Qe{static#e=this.\u0275fac=function(Ee){return new(Ee||Qe)};static#t=this.\u0275mod=k.oAB({type:Qe});static#n=this.\u0275inj=k.cJS({})}return Qe})()},6814:(on,et,T)=>{T.d(et,{Do:()=>Ue,ED:()=>oa,EM:()=>zo,HT:()=>I,JF:()=>Co,K0:()=>Ae,Mx:()=>cn,NF:()=>ao,O5:()=>Wi,Ov:()=>oo,PM:()=>co,RF:()=>pr,S$:()=>nt,V_:()=>X,Ye:()=>ye,b0:()=>Qe,bD:()=>Si,ez:()=>so,mk:()=>ni,n9:()=>js,q:()=>z,sg:()=>Di,tP:()=>aa,uU:()=>Li,w_:()=>ge});var h=T(5879);let k=null;function z(){return k}function I(R){k||(k=R)}class ge{}const Ae=new h.OlP("DocumentToken");let Me=(()=>{class R{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||R)};static#t=this.\u0275prov=h.Yz7({token:R,factory:function(){return(0,h.f3M)(be)},providedIn:"platform"})}return R})();const X=new h.OlP("Location Initialized");let be=(()=>{class R extends Me{constructor(){super(),this._doc=(0,h.f3M)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(j){const ee=z().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",j,!1),()=>ee.removeEventListener("popstate",j)}onHashChange(j){const ee=z().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",j,!1),()=>ee.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,ee,Ge){this._history.pushState(j,ee,Ge)}replaceState(j,ee,Ge){this._history.replaceState(j,ee,Ge)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(ee){return new(ee||R)};static#t=this.\u0275prov=h.Yz7({token:R,factory:function(){return new R},providedIn:"platform"})}return R})();function ne(R,oe){if(0==R.length)return oe;if(0==oe.length)return R;let j=0;return R.endsWith("/")&&j++,oe.startsWith("/")&&j++,2==j?R+oe.substring(1):1==j?R+oe:R+"/"+oe}function de(R){const oe=R.match(/#|\?|$/),j=oe&&oe.index||R.length;return R.slice(0,j-("/"===R[j-1]?1:0))+R.slice(j)}function Re(R){return R&&"?"!==R[0]?"?"+R:R}let nt=(()=>{class R{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||R)};static#t=this.\u0275prov=h.Yz7({token:R,factory:function(){return(0,h.f3M)(Qe)},providedIn:"root"})}return R})();const Fe=new h.OlP("appBaseHref");let Qe=(()=>{class R extends nt{constructor(j,ee){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ne(this._baseHref,j)}path(j=!1){const ee=this._platformLocation.pathname+Re(this._platformLocation.search),Ge=this._platformLocation.hash;return Ge&&j?`${ee}${Ge}`:ee}pushState(j,ee,Ge,Vt){const nn=this.prepareExternalUrl(Ge+Re(Vt));this._platformLocation.pushState(j,ee,nn)}replaceState(j,ee,Ge,Vt){const nn=this.prepareExternalUrl(Ge+Re(Vt));this._platformLocation.replaceState(j,ee,nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(ee){return new(ee||R)(h.LFG(Me),h.LFG(Fe,8))};static#t=this.\u0275prov=h.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})(),Ue=(()=>{class R extends nt{constructor(j,ee){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(j){const ee=ne(this._baseHref,j);return ee.length>0?"#"+ee:ee}pushState(j,ee,Ge,Vt){let nn=this.prepareExternalUrl(Ge+Re(Vt));0==nn.length&&(nn=this._platformLocation.pathname),this._platformLocation.pushState(j,ee,nn)}replaceState(j,ee,Ge,Vt){let nn=this.prepareExternalUrl(Ge+Re(Vt));0==nn.length&&(nn=this._platformLocation.pathname),this._platformLocation.replaceState(j,ee,nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(ee){return new(ee||R)(h.LFG(Me),h.LFG(Fe,8))};static#t=this.\u0275prov=h.Yz7({token:R,factory:R.\u0275fac})}return R})(),ye=(()=>{class R{constructor(j){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const ee=this._locationStrategy.getBaseHref();this._basePath=function fe(R){if(new RegExp("^(https?:)?//").test(R)){const[,j]=R.split(/\/\/[^\/]+/);return j}return R}(de(ct(ee))),this._locationStrategy.onPopState(Ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ge.state,type:Ge.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,ee=""){return this.path()==this.normalize(j+Re(ee))}normalize(j){return R.stripTrailingSlash(function bt(R,oe){if(!R||!oe.startsWith(R))return oe;const j=oe.substring(R.length);return""===j||["/",";","?","#"].includes(j[0])?j:oe}(this._basePath,ct(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,ee="",Ge=null){this._locationStrategy.pushState(Ge,"",j,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Re(ee)),Ge)}replaceState(j,ee="",Ge=null){this._locationStrategy.replaceState(Ge,"",j,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Re(ee)),Ge)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",ee){this._urlChangeListeners.forEach(Ge=>Ge(j,ee))}subscribe(j,ee,Ge){return this._subject.subscribe({next:j,error:ee,complete:Ge})}static#e=this.normalizeQueryParams=Re;static#t=this.joinWithSlash=ne;static#n=this.stripTrailingSlash=de;static#i=this.\u0275fac=function(ee){return new(ee||R)(h.LFG(nt))};static#r=this.\u0275prov=h.Yz7({token:R,factory:function(){return function Ee(){return new ye((0,h.LFG)(nt))}()},providedIn:"root"})}return R})();function ct(R){return R.replace(/\/index.html$/,"")}var it=function(R){return R[R.Format=0]="Format",R[R.Standalone=1]="Standalone",R}(it||{}),ke=function(R){return R[R.Narrow=0]="Narrow",R[R.Abbreviated=1]="Abbreviated",R[R.Wide=2]="Wide",R[R.Short=3]="Short",R}(ke||{}),$t=function(R){return R[R.Short=0]="Short",R[R.Medium=1]="Medium",R[R.Long=2]="Long",R[R.Full=3]="Full",R}($t||{}),an=function(R){return R[R.Decimal=0]="Decimal",R[R.Group=1]="Group",R[R.List=2]="List",R[R.PercentSign=3]="PercentSign",R[R.PlusSign=4]="PlusSign",R[R.MinusSign=5]="MinusSign",R[R.Exponential=6]="Exponential",R[R.SuperscriptingExponent=7]="SuperscriptingExponent",R[R.PerMille=8]="PerMille",R[R.Infinity=9]="Infinity",R[R.NaN=10]="NaN",R[R.TimeSeparator=11]="TimeSeparator",R[R.CurrencyDecimal=12]="CurrencyDecimal",R[R.CurrencyGroup=13]="CurrencyGroup",R}(an||{});function Le(R,oe){return at((0,h.cg1)(R)[h.wAp.DateFormat],oe)}function Se(R,oe){return at((0,h.cg1)(R)[h.wAp.TimeFormat],oe)}function st(R,oe){return at((0,h.cg1)(R)[h.wAp.DateTimeFormat],oe)}function ot(R,oe){const j=(0,h.cg1)(R),ee=j[h.wAp.NumberSymbols][oe];if(typeof ee>"u"){if(oe===an.CurrencyDecimal)return j[h.wAp.NumberSymbols][an.Decimal];if(oe===an.CurrencyGroup)return j[h.wAp.NumberSymbols][an.Group]}return ee}function wt(R){if(!R[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function at(R,oe){for(let j=oe;j>-1;j--)if(typeof R[j]<"u")return R[j];throw new Error("Locale data API: locale data undefined")}function Bt(R){const[oe,j]=R.split(":");return{hours:+oe,minutes:+j}}const gi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ai={},sn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ct=function(R){return R[R.Short=0]="Short",R[R.ShortGMT=1]="ShortGMT",R[R.Long=2]="Long",R[R.Extended=3]="Extended",R}(Ct||{}),H=function(R){return R[R.FullYear=0]="FullYear",R[R.Month=1]="Month",R[R.Date=2]="Date",R[R.Hours=3]="Hours",R[R.Minutes=4]="Minutes",R[R.Seconds=5]="Seconds",R[R.FractionalSeconds=6]="FractionalSeconds",R[R.Day=7]="Day",R}(H||{}),Q=function(R){return R[R.DayPeriods=0]="DayPeriods",R[R.Days=1]="Days",R[R.Months=2]="Months",R[R.Eras=3]="Eras",R}(Q||{});function ue(R,oe,j,ee){let Ge=function ie(R){if($(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[Ge,Vt=1,nn=1]=R.split("-").map(Wn=>+Wn);return pt(Ge,Vt-1,nn)}const j=parseFloat(R);if(!isNaN(R-j))return new Date(j);let ee;if(ee=R.match(gi))return function Y(R){const oe=new Date(0);let j=0,ee=0;const Ge=R[8]?oe.setUTCFullYear:oe.setFullYear,Vt=R[8]?oe.setUTCHours:oe.setHours;R[9]&&(j=Number(R[9]+R[10]),ee=Number(R[9]+R[11])),Ge.call(oe,Number(R[1]),Number(R[2])-1,Number(R[3]));const nn=Number(R[4]||0)-j,Wn=Number(R[5]||0)-ee,Gi=Number(R[6]||0),Ui=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return Vt.call(oe,nn,Wn,Gi,Ui),oe}(ee)}const oe=new Date(R);if(!$(oe))throw new Error(`Unable to convert "${R}" into a date`);return oe}(R);oe=je(j,oe)||oe;let Wn,nn=[];for(;oe;){if(Wn=sn.exec(oe),!Wn){nn.push(oe);break}{nn=nn.concat(Wn.slice(1));const Ri=nn.pop();if(!Ri)break;oe=Ri}}let Gi=Ge.getTimezoneOffset();ee&&(Gi=Ze(ee,Gi),Ge=function ve(R,oe,j){const ee=j?-1:1,Ge=R.getTimezoneOffset();return function xt(R,oe){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+oe),R}(R,ee*(Ze(oe,Ge)-Ge))}(Ge,ee,!0));let Ui="";return nn.forEach(Ri=>{const jn=function Te(R){if(ze[R])return ze[R];let oe;switch(R){case"G":case"GG":case"GGG":oe=Wt(Q.Eras,ke.Abbreviated);break;case"GGGG":oe=Wt(Q.Eras,ke.Wide);break;case"GGGGG":oe=Wt(Q.Eras,ke.Narrow);break;case"y":oe=ut(H.FullYear,1,0,!1,!0);break;case"yy":oe=ut(H.FullYear,2,0,!0,!0);break;case"yyy":oe=ut(H.FullYear,3,0,!1,!0);break;case"yyyy":oe=ut(H.FullYear,4,0,!1,!0);break;case"Y":oe=lt(1);break;case"YY":oe=lt(2,!0);break;case"YYY":oe=lt(3);break;case"YYYY":oe=lt(4);break;case"M":case"L":oe=ut(H.Month,1,1);break;case"MM":case"LL":oe=ut(H.Month,2,1);break;case"MMM":oe=Wt(Q.Months,ke.Abbreviated);break;case"MMMM":oe=Wt(Q.Months,ke.Wide);break;case"MMMMM":oe=Wt(Q.Months,ke.Narrow);break;case"LLL":oe=Wt(Q.Months,ke.Abbreviated,it.Standalone);break;case"LLLL":oe=Wt(Q.Months,ke.Wide,it.Standalone);break;case"LLLLL":oe=Wt(Q.Months,ke.Narrow,it.Standalone);break;case"w":oe=kt(1);break;case"ww":oe=kt(2);break;case"W":oe=kt(1,!0);break;case"d":oe=ut(H.Date,1);break;case"dd":oe=ut(H.Date,2);break;case"c":case"cc":oe=ut(H.Day,1);break;case"ccc":oe=Wt(Q.Days,ke.Abbreviated,it.Standalone);break;case"cccc":oe=Wt(Q.Days,ke.Wide,it.Standalone);break;case"ccccc":oe=Wt(Q.Days,ke.Narrow,it.Standalone);break;case"cccccc":oe=Wt(Q.Days,ke.Short,it.Standalone);break;case"E":case"EE":case"EEE":oe=Wt(Q.Days,ke.Abbreviated);break;case"EEEE":oe=Wt(Q.Days,ke.Wide);break;case"EEEEE":oe=Wt(Q.Days,ke.Narrow);break;case"EEEEEE":oe=Wt(Q.Days,ke.Short);break;case"a":case"aa":case"aaa":oe=Wt(Q.DayPeriods,ke.Abbreviated);break;case"aaaa":oe=Wt(Q.DayPeriods,ke.Wide);break;case"aaaaa":oe=Wt(Q.DayPeriods,ke.Narrow);break;case"b":case"bb":case"bbb":oe=Wt(Q.DayPeriods,ke.Abbreviated,it.Standalone,!0);break;case"bbbb":oe=Wt(Q.DayPeriods,ke.Wide,it.Standalone,!0);break;case"bbbbb":oe=Wt(Q.DayPeriods,ke.Narrow,it.Standalone,!0);break;case"B":case"BB":case"BBB":oe=Wt(Q.DayPeriods,ke.Abbreviated,it.Format,!0);break;case"BBBB":oe=Wt(Q.DayPeriods,ke.Wide,it.Format,!0);break;case"BBBBB":oe=Wt(Q.DayPeriods,ke.Narrow,it.Format,!0);break;case"h":oe=ut(H.Hours,1,-12);break;case"hh":oe=ut(H.Hours,2,-12);break;case"H":oe=ut(H.Hours,1);break;case"HH":oe=ut(H.Hours,2);break;case"m":oe=ut(H.Minutes,1);break;case"mm":oe=ut(H.Minutes,2);break;case"s":oe=ut(H.Seconds,1);break;case"ss":oe=ut(H.Seconds,2);break;case"S":oe=ut(H.FractionalSeconds,1);break;case"SS":oe=ut(H.FractionalSeconds,2);break;case"SSS":oe=ut(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":oe=Un(Ct.Short);break;case"ZZZZZ":oe=Un(Ct.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":oe=Un(Ct.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":oe=Un(Ct.Long);break;default:return null}return ze[R]=oe,oe}(Ri);Ui+=jn?jn(Ge,j,Gi):"''"===Ri?"'":Ri.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ui}function pt(R,oe,j){const ee=new Date(0);return ee.setFullYear(R,oe,j),ee.setHours(0,0,0),ee}function je(R,oe){const j=function _n(R){return(0,h.cg1)(R)[h.wAp.LocaleId]}(R);if(ai[j]=ai[j]||{},ai[j][oe])return ai[j][oe];let ee="";switch(oe){case"shortDate":ee=Le(R,$t.Short);break;case"mediumDate":ee=Le(R,$t.Medium);break;case"longDate":ee=Le(R,$t.Long);break;case"fullDate":ee=Le(R,$t.Full);break;case"shortTime":ee=Se(R,$t.Short);break;case"mediumTime":ee=Se(R,$t.Medium);break;case"longTime":ee=Se(R,$t.Long);break;case"fullTime":ee=Se(R,$t.Full);break;case"short":const Ge=je(R,"shortTime"),Vt=je(R,"shortDate");ee=It(st(R,$t.Short),[Ge,Vt]);break;case"medium":const nn=je(R,"mediumTime"),Wn=je(R,"mediumDate");ee=It(st(R,$t.Medium),[nn,Wn]);break;case"long":const Gi=je(R,"longTime"),Ui=je(R,"longDate");ee=It(st(R,$t.Long),[Gi,Ui]);break;case"full":const Ri=je(R,"fullTime"),jn=je(R,"fullDate");ee=It(st(R,$t.Full),[Ri,jn])}return ee&&(ai[j][oe]=ee),ee}function It(R,oe){return oe&&(R=R.replace(/\{([^}]+)}/g,function(j,ee){return null!=oe&&ee in oe?oe[ee]:j})),R}function Ve(R,oe,j="-",ee,Ge){let Vt="";(R<0||Ge&&R<=0)&&(Ge?R=1-R:(R=-R,Vt=j));let nn=String(R);for(;nn.length<oe;)nn="0"+nn;return ee&&(nn=nn.slice(nn.length-oe)),Vt+nn}function ut(R,oe,j=0,ee=!1,Ge=!1){return function(Vt,nn){let Wn=function Zt(R,oe){switch(R){case H.FullYear:return oe.getFullYear();case H.Month:return oe.getMonth();case H.Date:return oe.getDate();case H.Hours:return oe.getHours();case H.Minutes:return oe.getMinutes();case H.Seconds:return oe.getSeconds();case H.FractionalSeconds:return oe.getMilliseconds();case H.Day:return oe.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,Vt);if((j>0||Wn>-j)&&(Wn+=j),R===H.Hours)0===Wn&&-12===j&&(Wn=12);else if(R===H.FractionalSeconds)return function gt(R,oe){return Ve(R,3).substring(0,oe)}(Wn,oe);const Gi=ot(nn,an.MinusSign);return Ve(Wn,oe,Gi,ee,Ge)}}function Wt(R,oe,j=it.Format,ee=!1){return function(Ge,Vt){return function In(R,oe,j,ee,Ge,Vt){switch(j){case Q.Months:return function en(R,oe,j){const ee=(0,h.cg1)(R),Vt=at([ee[h.wAp.MonthsFormat],ee[h.wAp.MonthsStandalone]],oe);return at(Vt,j)}(oe,Ge,ee)[R.getMonth()];case Q.Days:return function bn(R,oe,j){const ee=(0,h.cg1)(R),Vt=at([ee[h.wAp.DaysFormat],ee[h.wAp.DaysStandalone]],oe);return at(Vt,j)}(oe,Ge,ee)[R.getDay()];case Q.DayPeriods:const nn=R.getHours(),Wn=R.getMinutes();if(Vt){const Ui=function Kt(R){const oe=(0,h.cg1)(R);return wt(oe),(oe[h.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?Bt(ee):[Bt(ee[0]),Bt(ee[1])])}(oe),Ri=function qt(R,oe,j){const ee=(0,h.cg1)(R);wt(ee);const Vt=at([ee[h.wAp.ExtraData][0],ee[h.wAp.ExtraData][1]],oe)||[];return at(Vt,j)||[]}(oe,Ge,ee),jn=Ui.findIndex(Zi=>{if(Array.isArray(Zi)){const[Ii,ar]=Zi,_s=nn>=Ii.hours&&Wn>=Ii.minutes,Qt=nn<ar.hours||nn===ar.hours&&Wn<ar.minutes;if(Ii.hours<ar.hours){if(_s&&Qt)return!0}else if(_s||Qt)return!0}else if(Zi.hours===nn&&Zi.minutes===Wn)return!0;return!1});if(-1!==jn)return Ri[jn]}return function Yt(R,oe,j){const ee=(0,h.cg1)(R),Vt=at([ee[h.wAp.DayPeriodsFormat],ee[h.wAp.DayPeriodsStandalone]],oe);return at(Vt,j)}(oe,Ge,ee)[nn<12?0:1];case Q.Eras:return function Ut(R,oe){return at((0,h.cg1)(R)[h.wAp.Eras],oe)}(oe,ee)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Ge,Vt,R,oe,j,ee)}}function Un(R){return function(oe,j,ee){const Ge=-1*ee,Vt=ot(j,an.MinusSign),nn=Ge>0?Math.floor(Ge/60):Math.ceil(Ge/60);switch(R){case Ct.Short:return(Ge>=0?"+":"")+Ve(nn,2,Vt)+Ve(Math.abs(Ge%60),2,Vt);case Ct.ShortGMT:return"GMT"+(Ge>=0?"+":"")+Ve(nn,1,Vt);case Ct.Long:return"GMT"+(Ge>=0?"+":"")+Ve(nn,2,Vt)+":"+Ve(Math.abs(Ge%60),2,Vt);case Ct.Extended:return 0===ee?"Z":(Ge>=0?"+":"")+Ve(nn,2,Vt)+":"+Ve(Math.abs(Ge%60),2,Vt);default:throw new Error(`Unknown zone width "${R}"`)}}}const Xn=0,Fn=4;function Vn(R){return pt(R.getFullYear(),R.getMonth(),R.getDate()+(Fn-R.getDay()))}function kt(R,oe=!1){return function(j,ee){let Ge;if(oe){const Vt=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,nn=j.getDate();Ge=1+Math.floor((nn+Vt)/7)}else{const Vt=Vn(j),nn=function Mt(R){const oe=pt(R,Xn,1).getDay();return pt(R,0,1+(oe<=Fn?Fn:Fn+7)-oe)}(Vt.getFullYear()),Wn=Vt.getTime()-nn.getTime();Ge=1+Math.round(Wn/6048e5)}return Ve(Ge,R,ot(ee,an.MinusSign))}}function lt(R,oe=!1){return function(j,ee){return Ve(Vn(j).getFullYear(),R,ot(ee,an.MinusSign),oe)}}const ze={};function Ze(R,oe){R=R.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(j)?oe:j}function $(R){return R instanceof Date&&!isNaN(R.valueOf())}function cn(R,oe){oe=encodeURIComponent(oe);for(const j of R.split(";")){const ee=j.indexOf("="),[Ge,Vt]=-1==ee?[j,""]:[j.slice(0,ee),j.slice(ee+1)];if(Ge.trim()===oe)return decodeURIComponent(Vt)}return null}const $n=/\s+/,Tn=[];let ni=(()=>{class R{constructor(j,ee,Ge,Vt){this._iterableDiffers=j,this._keyValueDiffers=ee,this._ngEl=Ge,this._renderer=Vt,this.initialClasses=Tn,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split($n):Tn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split($n):j}ngDoCheck(){for(const ee of this.initialClasses)this._updateState(ee,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const ee of j)this._updateState(ee,!0);else if(null!=j)for(const ee of Object.keys(j))this._updateState(ee,!!j[ee]);this._applyStateDiff()}_updateState(j,ee){const Ge=this.stateMap.get(j);void 0!==Ge?(Ge.enabled!==ee&&(Ge.changed=!0,Ge.enabled=ee),Ge.touched=!0):this.stateMap.set(j,{enabled:ee,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const ee=j[0],Ge=j[1];Ge.changed?(this._toggleClass(ee,Ge.enabled),Ge.changed=!1):Ge.touched||(Ge.enabled&&this._toggleClass(ee,!1),this.stateMap.delete(ee)),Ge.touched=!1}}_toggleClass(j,ee){(j=j.trim()).length>0&&j.split($n).forEach(Ge=>{ee?this._renderer.addClass(this._ngEl.nativeElement,Ge):this._renderer.removeClass(this._ngEl.nativeElement,Ge)})}static#e=this.\u0275fac=function(ee){return new(ee||R)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))};static#t=this.\u0275dir=h.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return R})();class Ln{constructor(oe,j,ee,Ge){this.$implicit=oe,this.ngForOf=j,this.index=ee,this.count=Ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Di=(()=>{class R{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,ee,Ge){this._viewContainer=j,this._template=ee,this._differs=Ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ee=this._viewContainer;j.forEachOperation((Ge,Vt,nn)=>{if(null==Ge.previousIndex)ee.createEmbeddedView(this._template,new Ln(Ge.item,this._ngForOf,-1,-1),null===nn?void 0:nn);else if(null==nn)ee.remove(null===Vt?void 0:Vt);else if(null!==Vt){const Wn=ee.get(Vt);ee.move(Wn,nn),Br(Wn,Ge)}});for(let Ge=0,Vt=ee.length;Ge<Vt;Ge++){const Wn=ee.get(Ge).context;Wn.index=Ge,Wn.count=Vt,Wn.ngForOf=this._ngForOf}j.forEachIdentityChange(Ge=>{Br(ee.get(Ge.currentIndex),Ge)})}static ngTemplateContextGuard(j,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||R)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))};static#t=this.\u0275dir=h.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return R})();function Br(R,oe){R.context.$implicit=oe.item}let Wi=(()=>{class R{constructor(j,ee){this._viewContainer=j,this._context=new Wr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){es("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){es("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||R)(h.Y36(h.s_b),h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return R})();class Wr{constructor(){this.$implicit=null,this.ngIf=null}}function es(R,oe){if(oe&&!oe.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,h.AaK)(oe)}'.`)}class fs{constructor(oe,j){this._viewContainerRef=oe,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(oe){oe&&!this._created?this.create():!oe&&this._created&&this.destroy()}}let pr=(()=>{class R{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const ee=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ee,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ee}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const ee of this._defaultViews)ee.enforceState(j)}}static#e=this.\u0275fac=function(ee){return new(ee||R)};static#t=this.\u0275dir=h.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return R})(),js=(()=>{class R{constructor(j,ee,Ge){this.ngSwitch=Ge,Ge._addCase(),this._view=new fs(j,ee)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(ee){return new(ee||R)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(pr,9))};static#t=this.\u0275dir=h.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return R})(),oa=(()=>{class R{constructor(j,ee,Ge){Ge._addDefault(new fs(j,ee))}static#e=this.\u0275fac=function(ee){return new(ee||R)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(pr,9))};static#t=this.\u0275dir=h.lG2({type:R,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return R})(),aa=(()=>{class R{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const ee=this._viewContainerRef;if(this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ge,ngTemplateOutletContext:Vt,ngTemplateOutletInjector:nn}=this;this._viewRef=ee.createEmbeddedView(Ge,Vt,nn?{injector:nn}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(ee){return new(ee||R)(h.Y36(h.s_b))};static#t=this.\u0275dir=h.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.TTD]})}return R})();function Gr(R,oe){return new h.vHH(2100,!1)}class ca{createSubscription(oe,j){return(0,h.rg0)(()=>oe.subscribe({next:j,error:ee=>{throw ee}}))}dispose(oe){(0,h.rg0)(()=>oe.unsubscribe())}}class Eo{createSubscription(oe,j){return oe.then(j,ee=>{throw ee})}dispose(oe){}}const la=new Eo,Bo=new ca;let oo=(()=>{class R{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,ee=>this._updateLatestValue(j,ee))}_selectStrategy(j){if((0,h.QGY)(j))return la;if((0,h.F4k)(j))return Bo;throw Gr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,ee){j===this._obj&&(this._latestValue=ee,this._ref.markForCheck())}static#e=this.\u0275fac=function(ee){return new(ee||R)(h.Y36(h.sBO,16))};static#t=this.\u0275pipe=h.Yjl({name:"async",type:R,pure:!1,standalone:!0})}return R})();const _i=new h.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),rr=new h.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Li=(()=>{class R{constructor(j,ee,Ge){this.locale=j,this.defaultTimezone=ee,this.defaultOptions=Ge}transform(j,ee,Ge,Vt){if(null==j||""===j||j!=j)return null;try{return ue(j,ee??this.defaultOptions?.dateFormat??"mediumDate",Vt||this.locale,Ge??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(nn){throw Gr()}}static#e=this.\u0275fac=function(ee){return new(ee||R)(h.Y36(h.soG,16),h.Y36(_i,24),h.Y36(rr,24))};static#t=this.\u0275pipe=h.Yjl({name:"date",type:R,pure:!0,standalone:!0})}return R})(),so=(()=>{class R{static#e=this.\u0275fac=function(ee){return new(ee||R)};static#t=this.\u0275mod=h.oAB({type:R});static#n=this.\u0275inj=h.cJS({})}return R})();const Si="browser",Ur="server";function ao(R){return R===Si}function co(R){return R===Ur}let zo=(()=>{class R{static#e=this.\u0275prov=(0,h.Yz7)({token:R,providedIn:"root",factory:()=>new zr((0,h.LFG)(Ae),window)})}return R})();class zr{constructor(oe,j){this.document=oe,this.window=j,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(oe){this.supportsScrolling()&&this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){if(!this.supportsScrolling())return;const j=function Fr(R,oe){const j=R.getElementById(oe)||R.getElementsByName(oe)[0];if(j)return j;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const ee=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Ge=ee.currentNode;for(;Ge;){const Vt=Ge.shadowRoot;if(Vt){const nn=Vt.getElementById(oe)||Vt.querySelector(`[name="${oe}"]`);if(nn)return nn}Ge=ee.nextNode()}}return null}(this.document,oe);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(oe){this.supportsScrolling()&&(this.window.history.scrollRestoration=oe)}scrollToElement(oe){const j=oe.getBoundingClientRect(),ee=j.left+this.window.pageXOffset,Ge=j.top+this.window.pageYOffset,Vt=this.offset();this.window.scrollTo(ee-Vt[0],Ge-Vt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Co{}},9862:(on,et,T)=>{T.d(et,{JF:()=>B,eN:()=>Ie});var h=T(5879),k=T(2096),z=T(2459),I=T(5592),ge=T(6328),Ae=T(2181),Me=T(7398),X=T(4716),be=T(4664),ne=T(6814);class de{}class Re{}class nt{constructor(tt){this.normalizedNames=new Map,this.lazyUpdate=null,tt?"string"==typeof tt?this.lazyInit=()=>{this.headers=new Map,tt.split("\n").forEach(ft=>{const Ke=ft.indexOf(":");if(Ke>0){const $e=ft.slice(0,Ke),Dt=$e.toLowerCase(),Pt=ft.slice(Ke+1).trim();this.maybeSetNormalizedName($e,Dt),this.headers.has(Dt)?this.headers.get(Dt).push(Pt):this.headers.set(Dt,[Pt])}})}:typeof Headers<"u"&&tt instanceof Headers?(this.headers=new Map,tt.forEach((ft,Ke)=>{this.setHeaderEntries(Ke,ft)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(tt).forEach(([ft,Ke])=>{this.setHeaderEntries(ft,Ke)})}:this.headers=new Map}has(tt){return this.init(),this.headers.has(tt.toLowerCase())}get(tt){this.init();const ft=this.headers.get(tt.toLowerCase());return ft&&ft.length>0?ft[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(tt){return this.init(),this.headers.get(tt.toLowerCase())||null}append(tt,ft){return this.clone({name:tt,value:ft,op:"a"})}set(tt,ft){return this.clone({name:tt,value:ft,op:"s"})}delete(tt,ft){return this.clone({name:tt,value:ft,op:"d"})}maybeSetNormalizedName(tt,ft){this.normalizedNames.has(ft)||this.normalizedNames.set(ft,tt)}init(){this.lazyInit&&(this.lazyInit instanceof nt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(tt=>this.applyUpdate(tt)),this.lazyUpdate=null))}copyFrom(tt){tt.init(),Array.from(tt.headers.keys()).forEach(ft=>{this.headers.set(ft,tt.headers.get(ft)),this.normalizedNames.set(ft,tt.normalizedNames.get(ft))})}clone(tt){const ft=new nt;return ft.lazyInit=this.lazyInit&&this.lazyInit instanceof nt?this.lazyInit:this,ft.lazyUpdate=(this.lazyUpdate||[]).concat([tt]),ft}applyUpdate(tt){const ft=tt.name.toLowerCase();switch(tt.op){case"a":case"s":let Ke=tt.value;if("string"==typeof Ke&&(Ke=[Ke]),0===Ke.length)return;this.maybeSetNormalizedName(tt.name,ft);const $e=("a"===tt.op?this.headers.get(ft):void 0)||[];$e.push(...Ke),this.headers.set(ft,$e);break;case"d":const Dt=tt.value;if(Dt){let Pt=this.headers.get(ft);if(!Pt)return;Pt=Pt.filter(he=>-1===Dt.indexOf(he)),0===Pt.length?(this.headers.delete(ft),this.normalizedNames.delete(ft)):this.headers.set(ft,Pt)}else this.headers.delete(ft),this.normalizedNames.delete(ft)}}setHeaderEntries(tt,ft){const Ke=(Array.isArray(ft)?ft:[ft]).map(Dt=>Dt.toString()),$e=tt.toLowerCase();this.headers.set($e,Ke),this.maybeSetNormalizedName(tt,$e)}forEach(tt){this.init(),Array.from(this.normalizedNames.keys()).forEach(ft=>tt(this.normalizedNames.get(ft),this.headers.get(ft)))}}class Qe{encodeKey(tt){return bt(tt)}encodeValue(tt){return bt(tt)}decodeKey(tt){return decodeURIComponent(tt)}decodeValue(tt){return decodeURIComponent(tt)}}const ye=/%(\d[a-f0-9])/gi,Ee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bt(Et){return encodeURIComponent(Et).replace(ye,(tt,ft)=>Ee[ft]??tt)}function ct(Et){return`${Et}`}class fe{constructor(tt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=tt.encoder||new Qe,tt.fromString){if(tt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ue(Et,tt){const ft=new Map;return Et.length>0&&Et.replace(/^\?/,"").split("&").forEach($e=>{const Dt=$e.indexOf("="),[Pt,he]=-1==Dt?[tt.decodeKey($e),""]:[tt.decodeKey($e.slice(0,Dt)),tt.decodeValue($e.slice(Dt+1))],_t=ft.get(Pt)||[];_t.push(he),ft.set(Pt,_t)}),ft}(tt.fromString,this.encoder)}else tt.fromObject?(this.map=new Map,Object.keys(tt.fromObject).forEach(ft=>{const Ke=tt.fromObject[ft],$e=Array.isArray(Ke)?Ke.map(ct):[ct(Ke)];this.map.set(ft,$e)})):this.map=null}has(tt){return this.init(),this.map.has(tt)}get(tt){this.init();const ft=this.map.get(tt);return ft?ft[0]:null}getAll(tt){return this.init(),this.map.get(tt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(tt,ft){return this.clone({param:tt,value:ft,op:"a"})}appendAll(tt){const ft=[];return Object.keys(tt).forEach(Ke=>{const $e=tt[Ke];Array.isArray($e)?$e.forEach(Dt=>{ft.push({param:Ke,value:Dt,op:"a"})}):ft.push({param:Ke,value:$e,op:"a"})}),this.clone(ft)}set(tt,ft){return this.clone({param:tt,value:ft,op:"s"})}delete(tt,ft){return this.clone({param:tt,value:ft,op:"d"})}toString(){return this.init(),this.keys().map(tt=>{const ft=this.encoder.encodeKey(tt);return this.map.get(tt).map(Ke=>ft+"="+this.encoder.encodeValue(Ke)).join("&")}).filter(tt=>""!==tt).join("&")}clone(tt){const ft=new fe({encoder:this.encoder});return ft.cloneFrom=this.cloneFrom||this,ft.updates=(this.updates||[]).concat(tt),ft}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(tt=>this.map.set(tt,this.cloneFrom.map.get(tt))),this.updates.forEach(tt=>{switch(tt.op){case"a":case"s":const ft=("a"===tt.op?this.map.get(tt.param):void 0)||[];ft.push(ct(tt.value)),this.map.set(tt.param,ft);break;case"d":if(void 0===tt.value){this.map.delete(tt.param);break}{let Ke=this.map.get(tt.param)||[];const $e=Ke.indexOf(ct(tt.value));-1!==$e&&Ke.splice($e,1),Ke.length>0?this.map.set(tt.param,Ke):this.map.delete(tt.param)}}}),this.cloneFrom=this.updates=null)}}class xe{constructor(){this.map=new Map}set(tt,ft){return this.map.set(tt,ft),this}get(tt){return this.map.has(tt)||this.map.set(tt,tt.defaultValue()),this.map.get(tt)}delete(tt){return this.map.delete(tt),this}has(tt){return this.map.has(tt)}keys(){return this.map.keys()}}function it(Et){return typeof ArrayBuffer<"u"&&Et instanceof ArrayBuffer}function ke(Et){return typeof Blob<"u"&&Et instanceof Blob}function $t(Et){return typeof FormData<"u"&&Et instanceof FormData}class Gt{constructor(tt,ft,Ke,$e){let Dt;if(this.url=ft,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=tt.toUpperCase(),function He(Et){switch(Et){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||$e?(this.body=void 0!==Ke?Ke:null,Dt=$e):Dt=Ke,Dt&&(this.reportProgress=!!Dt.reportProgress,this.withCredentials=!!Dt.withCredentials,Dt.responseType&&(this.responseType=Dt.responseType),Dt.headers&&(this.headers=Dt.headers),Dt.context&&(this.context=Dt.context),Dt.params&&(this.params=Dt.params)),this.headers||(this.headers=new nt),this.context||(this.context=new xe),this.params){const Pt=this.params.toString();if(0===Pt.length)this.urlWithParams=ft;else{const he=ft.indexOf("?");this.urlWithParams=ft+(-1===he?"?":he<ft.length-1?"&":"")+Pt}}else this.params=new fe,this.urlWithParams=ft}serializeBody(){return null===this.body?null:it(this.body)||ke(this.body)||$t(this.body)||function an(Et){return typeof URLSearchParams<"u"&&Et instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$t(this.body)?null:ke(this.body)?this.body.type||null:it(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(tt={}){const ft=tt.method||this.method,Ke=tt.url||this.url,$e=tt.responseType||this.responseType,Dt=void 0!==tt.body?tt.body:this.body,Pt=void 0!==tt.withCredentials?tt.withCredentials:this.withCredentials,he=void 0!==tt.reportProgress?tt.reportProgress:this.reportProgress;let _t=tt.headers||this.headers,re=tt.params||this.params;const we=tt.context??this.context;return void 0!==tt.setHeaders&&(_t=Object.keys(tt.setHeaders).reduce((Je,jt)=>Je.set(jt,tt.setHeaders[jt]),_t)),tt.setParams&&(re=Object.keys(tt.setParams).reduce((Je,jt)=>Je.set(jt,tt.setParams[jt]),re)),new Gt(ft,Ke,Dt,{params:re,headers:_t,context:we,reportProgress:he,responseType:$e,withCredentials:Pt})}}var _n=function(Et){return Et[Et.Sent=0]="Sent",Et[Et.UploadProgress=1]="UploadProgress",Et[Et.ResponseHeader=2]="ResponseHeader",Et[Et.DownloadProgress=3]="DownloadProgress",Et[Et.Response=4]="Response",Et[Et.User=5]="User",Et}(_n||{});class Yt{constructor(tt,ft=200,Ke="OK"){this.headers=tt.headers||new nt,this.status=void 0!==tt.status?tt.status:ft,this.statusText=tt.statusText||Ke,this.url=tt.url||null,this.ok=this.status>=200&&this.status<300}}class bn extends Yt{constructor(tt={}){super(tt),this.type=_n.ResponseHeader}clone(tt={}){return new bn({headers:tt.headers||this.headers,status:void 0!==tt.status?tt.status:this.status,statusText:tt.statusText||this.statusText,url:tt.url||this.url||void 0})}}class en extends Yt{constructor(tt={}){super(tt),this.type=_n.Response,this.body=void 0!==tt.body?tt.body:null}clone(tt={}){return new en({body:void 0!==tt.body?tt.body:this.body,headers:tt.headers||this.headers,status:void 0!==tt.status?tt.status:this.status,statusText:tt.statusText||this.statusText,url:tt.url||this.url||void 0})}}class Ut extends Yt{constructor(tt){super(tt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${tt.url||"(unknown url)"}`:`Http failure response for ${tt.url||"(unknown url)"}: ${tt.status} ${tt.statusText}`,this.error=tt.error||null}}function tn(Et,tt){return{body:tt,headers:Et.headers,context:Et.context,observe:Et.observe,params:Et.params,reportProgress:Et.reportProgress,responseType:Et.responseType,withCredentials:Et.withCredentials}}let Ie=(()=>{class Et{constructor(ft){this.handler=ft}request(ft,Ke,$e={}){let Dt;if(ft instanceof Gt)Dt=ft;else{let _t,re;_t=$e.headers instanceof nt?$e.headers:new nt($e.headers),$e.params&&(re=$e.params instanceof fe?$e.params:new fe({fromObject:$e.params})),Dt=new Gt(ft,Ke,void 0!==$e.body?$e.body:null,{headers:_t,context:$e.context,params:re,reportProgress:$e.reportProgress,responseType:$e.responseType||"json",withCredentials:$e.withCredentials})}const Pt=(0,k.of)(Dt).pipe((0,ge.b)(_t=>this.handler.handle(_t)));if(ft instanceof Gt||"events"===$e.observe)return Pt;const he=Pt.pipe((0,Ae.h)(_t=>_t instanceof en));switch($e.observe||"body"){case"body":switch(Dt.responseType){case"arraybuffer":return he.pipe((0,Me.U)(_t=>{if(null!==_t.body&&!(_t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _t.body}));case"blob":return he.pipe((0,Me.U)(_t=>{if(null!==_t.body&&!(_t.body instanceof Blob))throw new Error("Response is not a Blob.");return _t.body}));case"text":return he.pipe((0,Me.U)(_t=>{if(null!==_t.body&&"string"!=typeof _t.body)throw new Error("Response is not a string.");return _t.body}));default:return he.pipe((0,Me.U)(_t=>_t.body))}case"response":return he;default:throw new Error(`Unreachable: unhandled observe type ${$e.observe}}`)}}delete(ft,Ke={}){return this.request("DELETE",ft,Ke)}get(ft,Ke={}){return this.request("GET",ft,Ke)}head(ft,Ke={}){return this.request("HEAD",ft,Ke)}jsonp(ft,Ke){return this.request("JSONP",ft,{params:(new fe).append(Ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ft,Ke={}){return this.request("OPTIONS",ft,Ke)}patch(ft,Ke,$e={}){return this.request("PATCH",ft,tn($e,Ke))}post(ft,Ke,$e={}){return this.request("POST",ft,tn($e,Ke))}put(ft,Ke,$e={}){return this.request("PUT",ft,tn($e,Ke))}static#e=this.\u0275fac=function(Ke){return new(Ke||Et)(h.LFG(de))};static#t=this.\u0275prov=h.Yz7({token:Et,factory:Et.\u0275fac})}return Et})();function We(Et,tt){return tt(Et)}function Ce(Et,tt){return(ft,Ke)=>tt.intercept(ft,{handle:$e=>Et($e,Ke)})}const wt=new h.OlP(""),Kt=new h.OlP(""),qt=new h.OlP("");function An(){let Et=null;return(tt,ft)=>{null===Et&&(Et=((0,h.f3M)(wt,{optional:!0})??[]).reduceRight(Ce,We));const Ke=(0,h.f3M)(h.HDt),$e=Ke.add();return Et(tt,ft).pipe((0,X.x)(()=>Ke.remove($e)))}}let at=(()=>{class Et extends de{constructor(ft,Ke){super(),this.backend=ft,this.injector=Ke,this.chain=null,this.pendingTasks=(0,h.f3M)(h.HDt)}handle(ft){if(null===this.chain){const $e=Array.from(new Set([...this.injector.get(Kt),...this.injector.get(qt,[])]));this.chain=$e.reduceRight((Dt,Pt)=>function dt(Et,tt,ft){return(Ke,$e)=>ft.runInContext(()=>tt(Ke,Dt=>Et(Dt,$e)))}(Dt,Pt,this.injector),We)}const Ke=this.pendingTasks.add();return this.chain(ft,$e=>this.backend.handle($e)).pipe((0,X.x)(()=>this.pendingTasks.remove(Ke)))}static#e=this.\u0275fac=function(Ke){return new(Ke||Et)(h.LFG(Re),h.LFG(h.lqb))};static#t=this.\u0275prov=h.Yz7({token:Et,factory:Et.\u0275fac})}return Et})();const pt=/^\)\]\}',?\n/;let It=(()=>{class Et{constructor(ft){this.xhrFactory=ft}handle(ft){if("JSONP"===ft.method)throw new h.vHH(-2800,!1);const Ke=this.xhrFactory;return(Ke.\u0275loadImpl?(0,z.D)(Ke.\u0275loadImpl()):(0,k.of)(null)).pipe((0,be.w)(()=>new I.y(Dt=>{const Pt=Ke.build();if(Pt.open(ft.method,ft.urlWithParams),ft.withCredentials&&(Pt.withCredentials=!0),ft.headers.forEach((Tn,ni)=>Pt.setRequestHeader(Tn,ni.join(","))),ft.headers.has("Accept")||Pt.setRequestHeader("Accept","application/json, text/plain, */*"),!ft.headers.has("Content-Type")){const Tn=ft.detectContentTypeHeader();null!==Tn&&Pt.setRequestHeader("Content-Type",Tn)}if(ft.responseType){const Tn=ft.responseType.toLowerCase();Pt.responseType="json"!==Tn?Tn:"text"}const he=ft.serializeBody();let _t=null;const re=()=>{if(null!==_t)return _t;const Tn=Pt.statusText||"OK",ni=new nt(Pt.getAllResponseHeaders()),ci=function je(Et){return"responseURL"in Et&&Et.responseURL?Et.responseURL:/^X-Request-URL:/m.test(Et.getAllResponseHeaders())?Et.getResponseHeader("X-Request-URL"):null}(Pt)||ft.url;return _t=new bn({headers:ni,status:Pt.status,statusText:Tn,url:ci}),_t},we=()=>{let{headers:Tn,status:ni,statusText:ci,url:Ai}=re(),Ln=null;204!==ni&&(Ln=typeof Pt.response>"u"?Pt.responseText:Pt.response),0===ni&&(ni=Ln?200:0);let Di=ni>=200&&ni<300;if("json"===ft.responseType&&"string"==typeof Ln){const Br=Ln;Ln=Ln.replace(pt,"");try{Ln=""!==Ln?JSON.parse(Ln):null}catch(fr){Ln=Br,Di&&(Di=!1,Ln={error:fr,text:Ln})}}Di?(Dt.next(new en({body:Ln,headers:Tn,status:ni,statusText:ci,url:Ai||void 0})),Dt.complete()):Dt.error(new Ut({error:Ln,headers:Tn,status:ni,statusText:ci,url:Ai||void 0}))},Je=Tn=>{const{url:ni}=re(),ci=new Ut({error:Tn,status:Pt.status||0,statusText:Pt.statusText||"Unknown Error",url:ni||void 0});Dt.error(ci)};let jt=!1;const cn=Tn=>{jt||(Dt.next(re()),jt=!0);let ni={type:_n.DownloadProgress,loaded:Tn.loaded};Tn.lengthComputable&&(ni.total=Tn.total),"text"===ft.responseType&&Pt.responseText&&(ni.partialText=Pt.responseText),Dt.next(ni)},$n=Tn=>{let ni={type:_n.UploadProgress,loaded:Tn.loaded};Tn.lengthComputable&&(ni.total=Tn.total),Dt.next(ni)};return Pt.addEventListener("load",we),Pt.addEventListener("error",Je),Pt.addEventListener("timeout",Je),Pt.addEventListener("abort",Je),ft.reportProgress&&(Pt.addEventListener("progress",cn),null!==he&&Pt.upload&&Pt.upload.addEventListener("progress",$n)),Pt.send(he),Dt.next({type:_n.Sent}),()=>{Pt.removeEventListener("error",Je),Pt.removeEventListener("abort",Je),Pt.removeEventListener("load",we),Pt.removeEventListener("timeout",Je),ft.reportProgress&&(Pt.removeEventListener("progress",cn),null!==he&&Pt.upload&&Pt.upload.removeEventListener("progress",$n)),Pt.readyState!==Pt.DONE&&Pt.abort()}})))}static#e=this.\u0275fac=function(Ke){return new(Ke||Et)(h.LFG(ne.JF))};static#t=this.\u0275prov=h.Yz7({token:Et,factory:Et.\u0275fac})}return Et})();const Ve=new h.OlP("XSRF_ENABLED"),ut=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Wt=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class In{}let Un=(()=>{class Et{constructor(ft,Ke,$e){this.doc=ft,this.platform=Ke,this.cookieName=$e,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ft=this.doc.cookie||"";return ft!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ne.Mx)(ft,this.cookieName),this.lastCookieString=ft),this.lastToken}static#e=this.\u0275fac=function(Ke){return new(Ke||Et)(h.LFG(ne.K0),h.LFG(h.Lbi),h.LFG(ut))};static#t=this.\u0275prov=h.Yz7({token:Et,factory:Et.\u0275fac})}return Et})();function Xn(Et,tt){const ft=Et.url.toLowerCase();if(!(0,h.f3M)(Ve)||"GET"===Et.method||"HEAD"===Et.method||ft.startsWith("http://")||ft.startsWith("https://"))return tt(Et);const Ke=(0,h.f3M)(In).getToken(),$e=(0,h.f3M)(Wt);return null!=Ke&&!Et.headers.has($e)&&(Et=Et.clone({headers:Et.headers.set($e,Ke)})),tt(Et)}var Mt=function(Et){return Et[Et.Interceptors=0]="Interceptors",Et[Et.LegacyInterceptors=1]="LegacyInterceptors",Et[Et.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Et[Et.NoXsrfProtection=3]="NoXsrfProtection",Et[Et.JsonpSupport=4]="JsonpSupport",Et[Et.RequestsMadeViaParent=5]="RequestsMadeViaParent",Et[Et.Fetch=6]="Fetch",Et}(Mt||{});function kt(...Et){const tt=[Ie,It,at,{provide:de,useExisting:at},{provide:Re,useExisting:It},{provide:Kt,useValue:Xn,multi:!0},{provide:Ve,useValue:!0},{provide:In,useClass:Un}];for(const ft of Et)tt.push(...ft.\u0275providers);return(0,h.MR2)(tt)}const ze=new h.OlP("LEGACY_INTERCEPTOR_FN");function Te(){return function Vn(Et,tt){return{\u0275kind:Et,\u0275providers:tt}}(Mt.LegacyInterceptors,[{provide:ze,useFactory:An},{provide:Kt,useExisting:ze,multi:!0}])}let B=(()=>{class Et{static#e=this.\u0275fac=function(Ke){return new(Ke||Et)};static#t=this.\u0275mod=h.oAB({type:Et});static#n=this.\u0275inj=h.cJS({providers:[kt(Te())]})}return Et})()},5879:(on,et,T)=>{T.d(et,{$8M:()=>sc,$WT:()=>Qr,$Z:()=>ll,AFp:()=>f_,ALo:()=>cE,AaK:()=>Re,BQk:()=>ng,CHM:()=>uu,CRH:()=>aC,DdM:()=>xw,EJc:()=>hD,EiD:()=>r_,EpF:()=>rg,F$t:()=>og,F4k:()=>qh,FYo:()=>yc,FiY:()=>tl,Gf:()=>oC,GfV:()=>uv,GkF:()=>ig,Gpc:()=>Qe,Gre:()=>jd,HDt:()=>vx,Hsn:()=>pp,Ikx:()=>vp,JOm:()=>_u,JVY:()=>nm,JZr:()=>ct,KtG:()=>po,L6k:()=>fh,LAX:()=>dc,LFG:()=>vn,Lbi:()=>yh,Lck:()=>by,MAs:()=>ey,MMx:()=>OI,MR2:()=>sm,NdJ:()=>Jl,O4$:()=>Pp,Ojb:()=>Wf,OlP:()=>ut,Oqu:()=>sg,P3R:()=>a_,PXZ:()=>zD,Q6J:()=>eg,QGY:()=>Yh,QbO:()=>mm,Qsj:()=>b_,R0b:()=>Zo,RDi:()=>Vl,Rgc:()=>Db,SBq:()=>_c,Sil:()=>mD,Suo:()=>sC,TTD:()=>jn,TgZ:()=>Kh,Udp:()=>nb,VuI:()=>IT,W1O:()=>dC,WFA:()=>Fu,X6Q:()=>qD,XFs:()=>Ct,Xpm:()=>Eo,Xq5:()=>Fi,Xts:()=>Bf,Y36:()=>Ec,YKP:()=>PI,YNc:()=>Jv,Yjl:()=>Ds,Yz7:()=>wt,Z0I:()=>at,ZZ4:()=>TC,_Bn:()=>RI,_UZ:()=>tg,_Vd:()=>Wl,_c5:()=>dT,_uU:()=>M0,aQg:()=>AC,c2e:()=>yx,cJS:()=>qt,cg1:()=>z0,d8E:()=>ag,dDg:()=>LD,dqk:()=>It,eBb:()=>kf,eFA:()=>Sx,eJc:()=>jw,ekj:()=>D0,eoX:()=>xx,f3M:()=>Rn,g9A:()=>fm,h0i:()=>yg,hGG:()=>hT,hij:()=>cy,iGM:()=>rC,ifc:()=>Pt,ip1:()=>_x,jDz:()=>NI,kL8:()=>ew,kcU:()=>Op,lG2:()=>ts,lcZ:()=>Rw,lqb:()=>Vs,lri:()=>Ix,mCW:()=>hc,n5z:()=>df,n_E:()=>lE,oAB:()=>Zr,oxw:()=>I0,pB0:()=>ld,q3G:()=>zl,q4F:()=>Cm,qFp:()=>xT,qLn:()=>vd,qOj:()=>xc,qZA:()=>Nu,qzn:()=>Ul,rWj:()=>Cx,rg0:()=>Vt,s9C:()=>mp,sBO:()=>ZD,s_b:()=>hE,soG:()=>Ww,tb:()=>EC,tp0:()=>rh,uIk:()=>Md,vHH:()=>fe,vpe:()=>Gl,wAp:()=>lg,xi3:()=>$I,xp6:()=>V_,ynx:()=>ny,z2F:()=>Sb,z3N:()=>La,zSh:()=>u_,zs3:()=>ws});var h=T(8645),k=T(7394),z=T(5592),I=T(3019),ge=T(5619),Ae=T(2096),Me=T(3020),X=T(4664),be=T(3997);function ne(t){for(let i in t)if(t[i]===ne)return i;throw Error("Could not find renamed property on target object.")}function de(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function Re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function nt(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const Fe=ne({__forward_ref__:ne});function Qe(t){return t.__forward_ref__=Qe,t.toString=function(){return Re(this())},t}function Ue(t){return ye(t)?t():t}function ye(t){return"function"==typeof t&&t.hasOwnProperty(Fe)&&t.__forward_ref__===Qe}function Ee(t){return t&&!!t.\u0275providers}const ct="https://g.co/ng/security#xss";class fe extends Error{constructor(i,s){super(function Ne(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,s)),this.code=i}}function xe(t){return"string"==typeof t?t:null==t?"":String(t)}function an(t,i){throw new fe(-201,!1)}function Nt(t,i){null==t&&function De(t,i,s,d){throw new Error(`ASSERTION ERROR: ${t}`+(null==d?"":` [Expected=> ${s} ${d} ${i} <=Actual]`))}(i,t,null,"!=")}function wt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function An(t){return Bt(t,Qn)||Bt(t,ai)}function at(t){return null!==An(t)}function Bt(t,i){return t.hasOwnProperty(i)?t[i]:null}function zn(t){return t&&(t.hasOwnProperty(gi)||t.hasOwnProperty(sn))?t[gi]:null}const Qn=ne({\u0275prov:ne}),gi=ne({\u0275inj:ne}),ai=ne({ngInjectableDef:ne}),sn=ne({ngInjectorDef:ne});var Ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ct||{});let H;function ue(t){const i=H;return H=t,i}function pt(t,i,s){const d=An(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&Ct.Optional?null:void 0!==i?i:void an(Re(t))}const It=globalThis;class ut{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=wt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Te={},Ze="__NG_DI_FLAG__",xt="ngTempTokenPath",ie=/\n/gm,$="__source";let B;function Xe(t){const i=B;return B=t,i}function Xt(t,i=Ct.Default){if(void 0===B)throw new fe(-203,!1);return null===B?pt(t,void 0,i):B.get(t,i&Ct.Optional?null:void 0,i)}function vn(t,i=Ct.Default){return(function Q(){return H}()||Xt)(Ue(t),i)}function Rn(t,i=Ct.Default){return vn(t,Gn(i))}function Gn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ti(t){const i=[];for(let s=0;s<t.length;s++){const d=Ue(t[s]);if(Array.isArray(d)){if(0===d.length)throw new fe(900,!1);let p,_=Ct.Default;for(let w=0;w<d.length;w++){const A=d[w],O=tt(A);"number"==typeof O?-1===O?p=A.token:_|=O:p=A}i.push(vn(p,_))}else i.push(vn(d))}return i}function Et(t,i){return t[Ze]=i,t.prototype[Ze]=i,t}function tt(t){return t[Ze]}function $e(t){return{toString:t}.toString()}var Dt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Dt||{}),Pt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pt||{});const he={},_t=[],re=ne({\u0275cmp:ne}),we=ne({\u0275dir:ne}),Je=ne({\u0275pipe:ne}),jt=ne({\u0275mod:ne}),cn=ne({\u0275fac:ne}),$n=ne({__NG_ELEMENT_ID__:ne}),Tn=ne({__NG_ENV_ID__:ne});function ni(t,i,s){let d=t.length;for(;;){const p=t.indexOf(i,s);if(-1===p)return p;if(0===p||t.charCodeAt(p-1)<=32){const _=i.length;if(p+_===d||t.charCodeAt(p+_)<=32)return p}s=p+1}}function ci(t,i,s){let d=0;for(;d<s.length;){const p=s[d];if("number"==typeof p){if(0!==p)break;d++;const _=s[d++],w=s[d++],A=s[d++];t.setAttribute(i,w,A,_)}else{const _=p,w=s[++d];Ln(_)?t.setProperty(i,_,w):t.setAttribute(i,_,w),d++}}return d}function Ai(t){return 3===t||4===t||6===t}function Ln(t){return 64===t.charCodeAt(0)}function Di(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let d=0;d<i.length;d++){const p=i[d];"number"==typeof p?s=p:0===s||Br(t,s,p,null,-1===s||2===s?i[++d]:null)}}return t}function Br(t,i,s,d,p){let _=0,w=t.length;if(-1===i)w=-1;else for(;_<t.length;){const A=t[_++];if("number"==typeof A){if(A===i){w=-1;break}if(A>i){w=_-1;break}}}for(;_<t.length;){const A=t[_];if("number"==typeof A)break;if(A===s){if(null===d)return void(null!==p&&(t[_+1]=p));if(d===t[_+1])return void(t[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==w&&(t.splice(w,0,i),_=w+1),t.splice(_++,0,s),null!==d&&t.splice(_++,0,d),null!==p&&t.splice(_++,0,p)}const fr="ng-template";function Wi(t,i,s){let d=0,p=!0;for(;d<t.length;){let _=t[d++];if("string"==typeof _&&p){const w=t[d++];if(s&&"class"===_&&-1!==ni(w.toLowerCase(),i,0))return!0}else{if(1===_){for(;d<t.length&&"string"==typeof(_=t[d++]);)if(_.toLowerCase()===i)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function Wr(t){return 4===t.type&&t.value!==fr}function es(t,i,s){return i===(4!==t.type||s?t.value:fr)}function fs(t,i,s){let d=4;const p=t.attrs||[],_=function sa(t){for(let i=0;i<t.length;i++)if(Ai(t[i]))return i;return t.length}(p);let w=!1;for(let A=0;A<i.length;A++){const O=i[A];if("number"!=typeof O){if(!w)if(4&d){if(d=2|1&d,""!==O&&!es(t,O,s)||""===O&&1===i.length){if(pr(d))return!1;w=!0}}else{const W=8&d?O:i[++A];if(8&d&&null!==t.attrs){if(!Wi(t.attrs,W,s)){if(pr(d))return!1;w=!0}continue}const Be=js(8&d?"class":O,p,Wr(t),s);if(-1===Be){if(pr(d))return!1;w=!0;continue}if(""!==W){let vt;vt=Be>_?"":p[Be+1].toLowerCase();const St=8&d?vt:null;if(St&&-1!==ni(St,W,0)||2&d&&W!==vt){if(pr(d))return!1;w=!0}}}}else{if(!w&&!pr(d)&&!pr(O))return!1;if(w&&pr(O))continue;w=!1,d=O|1&d}}return pr(d)||w}function pr(t){return 0==(1&t)}function js(t,i,s,d){if(null===i)return-1;let p=0;if(d||!s){let _=!1;for(;p<i.length;){const w=i[p];if(w===t)return p;if(3===w||6===w)_=!0;else{if(1===w||2===w){let A=i[++p];for(;"string"==typeof A;)A=i[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=_?1:2}return-1}return function Sa(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const d=t[s];if("number"==typeof d)return-1;if(d===i)return s;s++}return-1}(i,t)}function oa(t,i,s=!1){for(let d=0;d<i.length;d++)if(fs(t,i[d],s))return!0;return!1}function Hs(t,i){e:for(let s=0;s<i.length;s++){const d=i[s];if(t.length===d.length){for(let p=0;p<t.length;p++)if(t[p]!==d[p])continue e;return!0}}return!1}function aa(t,i){return t?":not("+i.trim()+")":i}function Lc(t){let i=t[0],s=1,d=2,p="",_=!1;for(;s<t.length;){let w=t[s];if("string"==typeof w)if(2&d){const A=t[++s];p+="["+w+(A.length>0?'="'+A+'"':"")+"]"}else 8&d?p+="."+w:4&d&&(p+=" "+w);else""!==p&&!pr(w)&&(i+=aa(_,p),p=""),d=w,_=_||!pr(d);s++}return""!==p&&(i+=aa(_,p)),i}function Eo(t){return $e(()=>{const i=ko(t),s={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Dt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pt.Emulated,styles:t.styles||_t,_:null,schemas:t.schemas||null,tView:null,id:""};ns(s);const d=t.dependencies;return s.directiveDefs=Vi(d,!1),s.pipeDefs=Vi(d,!0),s.id=function Uo(t){let i=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const p of s)i=Math.imul(31,i)+p.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function Bo(t){return _i(t)||rr(t)}function oo(t){return null!==t}function Zr(t){return $e(()=>({type:t.type,bootstrap:t.bootstrap||_t,declarations:t.declarations||_t,imports:t.imports||_t,exports:t.exports||_t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function wo(t,i){if(null==t)return he;const s={};for(const d in t)if(t.hasOwnProperty(d)){let p=t[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),s[p]=d,i&&(i[p]=_)}return s}function ts(t){return $e(()=>{const i=ko(t);return ns(i),i})}function Ds(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function _i(t){return t[re]||null}function rr(t){return t[we]||null}function Li(t){return t[Je]||null}function Qr(t){const i=_i(t)||rr(t)||Li(t);return null!==i&&i.standalone}function vr(t,i){const s=t[jt]||null;if(!s&&!0===i)throw new Error(`Type ${Re(t)} does not have '\u0275mod' property.`);return s}function ko(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||he,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||_t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wo(t.inputs,i),outputs:wo(t.outputs)}}function ns(t){t.features?.forEach(i=>i(t))}function Vi(t,i){if(!t)return null;const s=i?Li:Bo;return()=>("function"==typeof t?t():t).map(d=>s(d)).filter(oo)}const Mi=0,Cn=1,ii=2,ji=3,Nr=4,is=5,nr=6,so=7,Si=8,Ur=9,or=10,Yn=11,ao=12,co=13,Io=14,Hi=15,ja=16,zo=17,zr=18,Fr=19,rs=20,Co=21,lo=22,jr=23,Ts=24,Jn=25,jo=1,xo=2,mr=7,uo=9,br=11;function yi(t){return Array.isArray(t)&&"object"==typeof t[jo]}function Xi(t){return Array.isArray(t)&&!0===t[jo]}function bl(t){return 0!=(4&t.flags)}function Ss(t){return t.componentOffset>-1}function Ms(t){return 1==(1&t.flags)}function Er(t){return!!t.template}function ua(t){return 0!=(512&t[ii])}function Oo(t,i){return t.hasOwnProperty(cn)?t[cn]:null}let wr=null,$o=!1;function Ar(t){const i=wr;return wr=t,i}const Vc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Jr(t){if(!To(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Bc(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ga(t){t.dirty=!0,function Ya(t){if(void 0===t.liveConsumerNode)return;const i=$o;$o=!0;try{for(const s of t.liveConsumerNode)s.dirty||ga(s)}finally{$o=i}}(t),t.consumerMarkedDirty?.(t)}function su(t){return t&&(t.nextProducerIndex=0),Ar(t)}function eo(t,i){if(Ar(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(To(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Ma(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bc(t){Ws(t);for(let i=0;i<t.producerNode.length;i++){const s=t.producerNode[i],d=t.producerLastReadVersion[i];if(d!==s.version||(Jr(s),d!==s.version))return!0}return!1}function Bi(t){if(Ws(t),To(t))for(let i=0;i<t.producerNode.length;i++)Ma(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ma(t,i){if(function Za(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ws(t),1===t.liveConsumerNode.length)for(let d=0;d<t.producerNode.length;d++)Ma(t.producerNode[d],t.producerIndexOfThis[d]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const d=t.liveConsumerIndexOfThis[i],p=t.liveConsumerNode[i];Ws(p),p.producerIndexOfThis[d]=i}}function To(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ws(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let _a=null;function Vt(t){const i=Ar(null);try{return t()}finally{Ar(i)}}const Wn=()=>{},Gi=(()=>({...Vc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Wn}))();class Ri{constructor(i,s,d){this.previousValue=i,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function jn(){return Zi}function Zi(t){return t.type.prototype.ngOnChanges&&(t.setInput=ar),Ii}function Ii(){const t=Qt(this),i=t?.current;if(i){const s=t.previous;if(s===he)t.previous=i;else for(let d in i)s[d]=i[d];t.current=null,this.ngOnChanges(i)}}function ar(t,i,s,d){const p=this.declaredInputs[s],_=Qt(t)||function $i(t,i){return t[_s]=i}(t,{previous:he,current:null}),w=_.current||(_.current={}),A=_.previous,O=A[p];w[p]=new Ri(O&&O.currentValue,i,A===he),t[d]=i}jn.ngInherit=!0;const _s="__ngSimpleChanges__";function Qt(t){return t[_s]||null}const En=function(t,i,s){},On="svg";function fn(t){for(;Array.isArray(t);)t=t[Mi];return t}function hn(t,i){return fn(i[t])}function Ki(t,i){return fn(i[t.index])}function Kd(t,i){return t.data[i]}function Xa(t,i){return t[i]}function Ao(t,i){const s=i[t];return yi(s)?s:s[Mi]}function Ps(t,i){return null==i?null:t[i]}function nf(t){t[zo]=0}function wg(t){1024&t[ii]||(t[ii]|=1024,li(t,1))}function Wu(t){1024&t[ii]&&(t[ii]&=-1025,li(t,-1))}function li(t,i){let s=t[ji];if(null===s)return;s[is]+=i;let d=s;for(s=s[ji];null!==s&&(1===i&&1===d[is]||-1===i&&0===d[is]);)s[is]+=i,d=s,s=s[ji]}const Nn={lFrame:ya(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Sn(){return Nn.bindingsEnabled}function Ys(){return null!==Nn.skipHydrationRootTNode}function dn(){return Nn.lFrame.lView}function ei(){return Nn.lFrame.tView}function uu(t){return Nn.lFrame.contextLView=t,t[Si]}function po(t){return Nn.lFrame.contextLView=null,t}function to(){let t=$c();for(;null!==t&&64===t.type;)t=t.parent;return t}function $c(){return Nn.lFrame.currentTNode}function mo(t,i){const s=Nn.lFrame;s.currentTNode=t,s.isParent=i}function xl(){return Nn.lFrame.isParent}function Rt(){Nn.lFrame.isParent=!1}function Hr(){const t=Nn.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function D(){return Nn.lFrame.bindingIndex++}function N(t){const i=Nn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}function Ye(t,i){const s=Nn.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ft(i)}function Ft(t){Nn.lFrame.currentDirectiveIndex=t}function Mn(t){const i=Nn.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function bi(){return Nn.lFrame.currentQueryIndex}function Ci(t){Nn.lFrame.currentQueryIndex=t}function Yi(t){const i=t[Cn];return 2===i.type?i.declTNode:1===i.type?t[nr]:null}function Zs(t,i,s){if(s&Ct.SkipSelf){let p=i,_=t;for(;!(p=p.parent,null!==p||s&Ct.Host||(p=Yi(_),null===p||(_=_[Io],10&p.type))););if(null===p)return!1;i=p,t=_}const d=Nn.lFrame=Gc();return d.currentTNode=i,d.lView=t,!0}function Fo(t){const i=Gc(),s=t[Cn];Nn.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Gc(){const t=Nn.lFrame,i=null===t?null:t.child;return null===i?ya(t):i}function ya(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function nc(){const t=Nn.lFrame;return Nn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const sf=nc;function Mp(){const t=nc();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ys(){return Nn.lFrame.selectedIndex}function du(t){Nn.lFrame.selectedIndex=t}function Kr(){const t=Nn.lFrame;return Kd(t.tView,t.selectedIndex)}function Pp(){Nn.lFrame.currentNamespace=On}function Op(){!function Ig(){Nn.lFrame.currentNamespace=null}()}let Yd=!0;function qd(){return Yd}function Oa(t){Yd=t}function Tl(t,i){for(let s=i.directiveStart,d=i.directiveEnd;s<d;s++){const _=t.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:A,ngAfterViewInit:O,ngAfterViewChecked:W,ngOnDestroy:le}=_;w&&(t.contentHooks??=[]).push(-s,w),A&&((t.contentHooks??=[]).push(s,A),(t.contentCheckHooks??=[]).push(s,A)),O&&(t.viewHooks??=[]).push(-s,O),W&&((t.viewHooks??=[]).push(s,W),(t.viewCheckHooks??=[]).push(s,W)),null!=le&&(t.destroyHooks??=[]).push(s,le)}}function Ku(t,i,s){Sl(t,i,3,s)}function Al(t,i,s,d){(3&t[ii])===s&&Sl(t,i,s,d)}function hu(t,i){let s=t[ii];(3&s)===i&&(s&=8191,s+=1,t[ii]=s)}function Sl(t,i,s,d){const _=d??-1,w=i.length-1;let A=0;for(let O=void 0!==d?65535&t[zo]:0;O<w;O++)if("number"==typeof i[O+1]){if(A=i[O],null!=d&&A>=d)break}else i[O]<0&&(t[zo]+=65536),(A<_||-1==_)&&(Zd(t,s,i,O),t[zo]=(4294901760&t[zo])+O+2),O++}function go(t,i){En(4,t,i);const s=Ar(null);try{i.call(t)}finally{Ar(s),En(5,t,i)}}function Zd(t,i,s,d){const p=s[d]<0,_=s[d+1],A=t[p?-s[d]:s[d]];p?t[ii]>>13<t[zo]>>16&&(3&t[ii])===i&&(t[ii]+=8192,go(A,_)):go(A,_)}const ks=-1;class Qs{constructor(i,s,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function Yu(t){return t!==ks}function Sr(t){return 32767&t}function Xs(t,i){let s=function af(t){return t>>16}(t),d=i;for(;s>0;)d=d[Io],s--;return d}let Ir=!0;function vs(t){const i=Ir;return Ir=t,i}const Kc=255,qu=5;let Ay=0;const yo={};function Yc(t,i){const s=Js(t,i);if(-1!==s)return s;const d=i[Cn];d.firstCreatePass&&(t.injectorIndex=i.length,rc(d.data,t),rc(i,null),rc(d.blueprint,null));const p=At(t,i),_=t.injectorIndex;if(Yu(p)){const w=Sr(p),A=Xs(p,i),O=A[Cn].data;for(let W=0;W<8;W++)i[_+W]=A[w+W]|O[w+W]}return i[_+8]=p,_}function rc(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Js(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function At(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,d=null,p=i;for(;null!==p;){if(d=Cr(p),null===d)return ks;if(s++,p=p[Io],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return ks}function lr(t,i,s){!function ic(t,i,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty($n)&&(d=s[$n]),null==d&&(d=s[$n]=Ay++);const p=d&Kc;i.data[t+(p>>qu)]|=1<<p}(t,i,s)}function va(t,i,s){if(s&Ct.Optional||void 0!==t)return t;an()}function Ml(t,i,s,d){if(s&Ct.Optional&&void 0===d&&(d=null),!(s&(Ct.Self|Ct.Host))){const p=t[Ur],_=ue(void 0);try{return p?p.get(i,d,s&Ct.Optional):pt(i,d,s&Ct.Optional)}finally{ue(_)}}return va(d,0,s)}function Zu(t,i,s,d=Ct.Default,p){if(null!==t){if(2048&i[ii]&&!(d&Ct.Self)){const w=function hf(t,i,s,d,p){let _=t,w=i;for(;null!==_&&null!==w&&2048&w[ii]&&!(512&w[ii]);){const A=qc(_,w,s,d|Ct.Self,yo);if(A!==yo)return A;let O=_.parent;if(!O){const W=w[rs];if(W){const le=W.get(s,yo,d);if(le!==yo)return le}O=Cr(w),w=w[Io]}_=O}return p}(t,i,s,d,yo);if(w!==yo)return w}const _=qc(t,i,s,d,yo);if(_!==yo)return _}return Ml(i,s,d,p)}function qc(t,i,s,d,p){const _=function fu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty($n)?t[$n]:void 0;return"number"==typeof i?i>=0?i&Kc:uf:i}(s);if("function"==typeof _){if(!Zs(i,t,d))return d&Ct.Host?va(p,0,d):Ml(i,s,d,p);try{let w;if(w=_(d),null!=w||d&Ct.Optional)return w;an()}finally{sf()}}else if("number"==typeof _){let w=null,A=Js(t,i),O=ks,W=d&Ct.Host?i[Hi][nr]:null;for((-1===A||d&Ct.SkipSelf)&&(O=-1===A?At(t,i):i[A+8],O!==ks&&Na(d,!1)?(w=i[Cn],A=Sr(O),i=Xs(O,i)):A=-1);-1!==A;){const le=i[Cn];if(eh(_,A,le.data)){const Be=Jd(A,i,s,w,d,W);if(Be!==yo)return Be}O=i[A+8],O!==ks&&Na(d,i[Cn].data[A+8]===W)&&eh(_,A,i)?(w=le,A=Sr(O),i=Xs(O,i)):A=-1}}return p}function Jd(t,i,s,d,p,_){const w=i[Cn],A=w.data[t+8],le=oc(A,w,s,null==d?Ss(A)&&Ir:d!=w&&0!=(3&A.type),p&Ct.Host&&_===A);return null!==le?ba(i,w,le,A):yo}function oc(t,i,s,d,p){const _=t.providerIndexes,w=i.data,A=1048575&_,O=t.directiveStart,le=_>>20,vt=p?A+le:t.directiveEnd;for(let St=d?A:A+le;St<vt;St++){const rn=w[St];if(St<O&&s===rn||St>=O&&rn.type===s)return St}if(p){const St=w[O];if(St&&Er(St)&&St.type===s)return O}return null}function ba(t,i,s,d){let p=t[s];const _=i.data;if(function ur(t){return t instanceof Qs}(p)){const w=p;w.resolving&&function it(t,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new fe(-200,`Circular dependency in DI detected for ${t}${s}`)}(function He(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():xe(t)}(_[s]));const A=vs(w.canSeeViewProviders);w.resolving=!0;const W=w.injectImpl?ue(w.injectImpl):null;Zs(t,d,Ct.Default);try{p=t[s]=w.factory(void 0,_,t,d),i.firstCreatePass&&s>=d.directiveStart&&function Fp(t,i,s){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=i.type.prototype;if(d){const w=Zi(i);(s.preOrderHooks??=[]).push(t,w),(s.preOrderCheckHooks??=[]).push(t,w)}p&&(s.preOrderHooks??=[]).push(0-t,p),_&&((s.preOrderHooks??=[]).push(t,_),(s.preOrderCheckHooks??=[]).push(t,_))}(s,_[s],i)}finally{null!==W&&ue(W),vs(A),w.resolving=!1,sf()}}return p}function eh(t,i,s){return!!(s[i+(t>>qu)]&1<<t)}function Na(t,i){return!(t&Ct.Self||t&Ct.Host&&i)}class as{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,d){return Zu(this._tNode,this._lView,i,Gn(d),s)}}function uf(){return new as(to(),dn())}function df(t){return $e(()=>{const i=t.prototype.constructor,s=i[cn]||vo(i),d=Object.prototype;let p=Object.getPrototypeOf(t.prototype).constructor;for(;p&&p!==d;){const _=p[cn]||vo(p);if(_&&_!==s)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function vo(t){return ye(t)?()=>{const i=vo(Ue(t));return i&&i()}:Oo(t)}function Cr(t){const i=t[Cn],s=i.type;return 2===s?i.declTNode:1===s?t[nr]:null}function sc(t){return function Xd(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const d=s.length;let p=0;for(;p<d;){const _=s[p];if(Ai(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof s[p];)p++;else{if(_===i)return s[p+1];p+=2}}}return null}(to(),t)}const Qc="__parameters__";function xi(t,i,s){return $e(()=>{const d=function ff(t){return function(...s){if(t){const d=t(...s);for(const p in d)this[p]=d[p]}}}(i);function p(..._){if(this instanceof p)return d.apply(this,_),this;const w=new p(..._);return A.annotation=w,A;function A(O,W,le){const Be=O.hasOwnProperty(Qc)?O[Qc]:Object.defineProperty(O,Qc,{value:[]})[Qc];for(;Be.length<=le;)Be.push(null);return(Be[le]=Be[le]||[]).push(w),O}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=t,p.annotationCls=p,p})}function Xu(t,i){t.forEach(s=>Array.isArray(s)?Xu(s,i):i(s))}function Sg(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function Ju(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function wa(t,i){const s=[];for(let d=0;d<t;d++)s.push(i);return s}function Ns(t,i,s){let d=Xc(t,i);return d>=0?t[1|d]=s:(d=~d,function mf(t,i,s,d){let p=t.length;if(p==i)t.push(s,d);else if(1===p)t.push(d,t[0]),t[0]=s;else{for(p--,t.push(t[p-1],t[p]);p>i;)t[p]=t[p-2],p--;t[i]=s,t[i+1]=d}}(t,d,i,s)),d}function ea(t,i){const s=Xc(t,i);if(s>=0)return t[1|s]}function Xc(t,i){return function ih(t,i,s){let d=0,p=t.length>>s;for(;p!==d;){const _=d+(p-d>>1),w=t[_<<s];if(i===w)return _<<s;w>i?p=_:d=_+1}return~(p<<s)}(t,i,1)}const tl=Et(xi("Optional"),8),rh=Et(xi("SkipSelf"),4);function Gp(t){return 128==(128&t.flags)}var _u=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_u||{});const Vy=/^>|^->|<!--|-->|--!>|<!-$/g,By=/(<|>)/g,Uy="\u200b$1\u200b";const zy=new Map;let yE=0;const Lg="__ngContext__";function Ko(t,i){yi(i)?(t[Lg]=i[Fr],function er(t){zy.set(t[Fr],t)}(i)):t[Lg]=i}let Yy;function qy(t,i){return Yy(t,i)}function ah(t){const i=t[ji];return Xi(i)?i[ji]:i}function Lb(t){return Bg(t[ao])}function bo(t){return Bg(t[Nr])}function Bg(t){for(;null!==t&&!Xi(t);)t=t[Nr];return t}function ch(t,i,s,d,p){if(null!=d){let _,w=!1;Xi(d)?_=d:yi(d)&&(w=!0,d=d[Mi]);const A=fn(d);0===t&&null!==s?null==p?jg(i,s,A):od(i,s,A,p||null,!0):1===t&&null!==s?od(i,s,A,p||null,!0):2===t?function Ls(t,i,s){const d=lh(t,i);d&&function vu(t,i,s,d){t.removeChild(i,s,d)}(t,d,i,s)}(i,A,w):3===t&&i.destroyNode(A),null!=_&&function Yg(t,i,s,d,p){const _=s[mr];_!==fn(s)&&ch(i,t,d,_,p);for(let A=br;A<s.length;A++){const O=s[A];uh(O[Cn],O,t,i,d,_)}}(i,t,_,s,p)}}function Yp(t,i){return t.createComment(function Ng(t){return t.replace(Vy,i=>i.replace(By,Uy))}(i))}function qp(t,i,s){return t.createElement(i,s)}function If(t,i){const s=t[uo],d=s.indexOf(i);Wu(i),s.splice(d,1)}function Cf(t,i){if(t.length<=br)return;const s=br+i,d=t[s];if(d){const p=d[ja];null!==p&&p!==t&&If(p,d),i>0&&(t[s-1][Nr]=d[Nr]);const _=Ju(t,br+i);!function Zp(t,i){uh(t,i,i[Yn],2,null,null),i[Mi]=null,i[nr]=null}(d[Cn],d);const w=_[zr];null!==w&&w.detachView(_[Cn]),d[ji]=null,d[Nr]=null,d[ii]&=-129}return d}function Zy(t,i){if(!(256&i[ii])){const s=i[Yn];i[jr]&&Bi(i[jr]),i[Ts]&&Bi(i[Ts]),s.destroyNode&&uh(t,i,s,3,null,null),function Ub(t){let i=t[ao];if(!i)return Qi(t[Cn],t);for(;i;){let s=null;if(yi(i))s=i[ao];else{const d=i[br];d&&(s=d)}if(!s){for(;i&&!i[Nr]&&i!==t;)yi(i)&&Qi(i[Cn],i),i=i[ji];null===i&&(i=t),yi(i)&&Qi(i[Cn],i),s=i&&i[Nr]}i=s}}(i)}}function Qi(t,i){if(!(256&i[ii])){i[ii]&=-129,i[ii]|=256,function Qy(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let d=0;d<s.length;d+=2){const p=i[s[d]];if(!(p instanceof Qs)){const _=s[d+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const A=p[_[w]],O=_[w+1];En(4,A,O);try{O.call(A)}finally{En(5,A,O)}}else{En(4,p,_);try{_.call(p)}finally{En(5,p,_)}}}}}(t,i),function Qp(t,i){const s=t.cleanup,d=i[so];if(null!==s)for(let _=0;_<s.length-1;_+=2)if("string"==typeof s[_]){const w=s[_+3];w>=0?d[w]():d[-w].unsubscribe(),_+=2}else s[_].call(d[s[_+1]]);null!==d&&(i[so]=null);const p=i[Co];if(null!==p){i[Co]=null;for(let _=0;_<p.length;_++)(0,p[_])()}}(t,i),1===i[Cn].type&&i[Yn].destroy();const s=i[ja];if(null!==s&&Xi(i[ji])){s!==i[ji]&&If(s,i);const d=i[zr];null!==d&&d.detachView(t)}!function kb(t){zy.delete(t[Fr])}(i)}}function Ug(t,i,s){return function zg(t,i,s){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return s[Mi];{const{componentOffset:p}=d;if(p>-1){const{encapsulation:_}=t.data[d.directiveStart+p];if(_===Pt.None||_===Pt.Emulated)return null}return Ki(d,s)}}(t,i.parent,s)}function od(t,i,s,d,p){t.insertBefore(i,s,d,p)}function jg(t,i,s){t.appendChild(i,s)}function Hg(t,i,s,d,p){null!==d?od(t,i,s,d,p):jg(t,i,s)}function lh(t,i){return t.parentNode(i)}function Xp(t,i,s){return Df(t,i,s)}let Wg,uc,cs,dh,Df=function Fa(t,i,s){return 40&t.type?Ki(t,s):null};function Fl(t,i,s,d){const p=Ug(t,d,i),_=i[Yn],A=Xp(d.parent||i[nr],d,i);if(null!=p)if(Array.isArray(s))for(let O=0;O<s.length;O++)Hg(_,p,s[O],A,!1);else Hg(_,p,s,A,!1);void 0!==Wg&&Wg(_,d,i,s,p)}function lc(t,i){if(null!==i){const s=i.type;if(3&s)return Ki(i,t);if(4&s)return Ll(-1,t[i.index]);if(8&s){const d=i.child;if(null!==d)return lc(t,d);{const p=t[i.index];return Xi(p)?Ll(-1,p):fn(p)}}if(32&s)return qy(i,t)()||fn(t[i.index]);{const d=bu(t,i);return null!==d?Array.isArray(d)?d[0]:lc(ah(t[Hi]),d):lc(t,i.next)}}return null}function bu(t,i){return null!==i?t[Hi][nr].projection[i.projection]:null}function Ll(t,i){const s=br+t+1;if(s<i.length){const d=i[s],p=d[Cn].firstChild;if(null!==p)return lc(d,p)}return i[mr]}function Af(t,i,s,d,p,_,w){for(;null!=s;){const A=d[s.index],O=s.type;if(w&&0===i&&(A&&Ko(fn(A),d),s.flags|=2),32!=(32&s.flags))if(8&O)Af(t,i,s.child,d,p,_,!1),ch(i,t,p,A,_);else if(32&O){const W=qy(s,d);let le;for(;le=W();)ch(i,t,p,le,_);ch(i,t,p,A,_)}else 16&O?Kg(t,i,d,s,p,_):ch(i,t,p,A,_);s=w?s.projectionNext:s.next}}function uh(t,i,s,d,p,_){Af(s,d,t.firstChild,i,p,_,!1)}function Kg(t,i,s,d,p,_){const w=s[Hi],O=w[nr].projection[d.projection];if(Array.isArray(O))for(let W=0;W<O.length;W++)ch(i,t,p,O[W],_);else{let W=O;const le=w[ji];Gp(d)&&(W.flags|=128),Af(t,i,W,le,p,_,!0)}}function sd(t,i,s){""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s)}function ad(t,i,s){const{mergedAttrs:d,classes:p,styles:_}=s;null!==d&&ci(t,i,d),null!==p&&sd(t,i,p),null!==_&&function Zg(t,i,s){t.setAttribute(i,"style",s)}(t,i,_)}function cd(t){return function Jp(){if(void 0===uc&&(uc=null,It.trustedTypes))try{uc=It.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return uc}()?.createHTML(t)||t}function Vl(t){cs=t}function Rf(t){return function hh(){if(void 0===dh&&(dh=null,It.trustedTypes))try{dh=It.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return dh}()?.createScriptURL(t)||t}class ol{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}class Pf extends ol{getTypeName(){return"HTML"}}class Qg extends ol{getTypeName(){return"Style"}}class Jy extends ol{getTypeName(){return"Script"}}class tm extends ol{getTypeName(){return"URL"}}class Xg extends ol{getTypeName(){return"ResourceURL"}}function La(t){return t instanceof ol?t.changingThisBreaksApplicationSecurity:t}function Ul(t,i){const s=function Hb(t){return t instanceof ol&&t.getTypeName()||null}(t);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${ct})`)}return s===i}function nm(t){return new Pf(t)}function fh(t){return new Qg(t)}function kf(t){return new Jy(t)}function dc(t){return new tm(t)}function ld(t){return new Xg(t)}class Es{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(cd(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class ev{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=cd(i),s}}const rm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hc(t){return(t=String(t)).match(rm)?t:"unsafe:"+t}function ls(t){const i={};for(const s of t.split(","))i[s]=!0;return i}function fc(...t){const i={};for(const s of t)for(const d in s)s.hasOwnProperty(d)&&(i[d]=!0);return i}const Jg=ls("area,br,col,hr,img,wbr"),Eu=ls("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wu=ls("rp,rt"),ph=fc(Jg,fc(Eu,ls("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fc(wu,ls("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fc(wu,Eu)),Nf=ls("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ff=fc(Nf,ls("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ls("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),n_=ls("script,style,template");class mh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,d=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?d=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,d&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let p=this.checkClobberedElement(s,s.nextSibling);if(p){s=p;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!ph.hasOwnProperty(s))return this.sanitizedSomething=!0,!n_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const d=i.attributes;for(let p=0;p<d.length;p++){const _=d.item(p),w=_.name,A=w.toLowerCase();if(!Ff.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let O=_.value;Nf[A]&&(O=hc(O)),this.buf.push(" ",w,'="',i_(O),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();ph.hasOwnProperty(s)&&!Jg.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(i_(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const tv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$b=/([^\#-~ |!])/g;function i_(t){return t.replace(/&/g,"&amp;").replace(tv,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace($b,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gh;function r_(t,i){let s=null;try{gh=gh||function im(t){const i=new ev(t);return function Of(){try{return!!(new window.DOMParser).parseFromString(cd(""),"text/html")}catch{return!1}}()?new Es(i):i}(t);let d=i?String(i):"";s=gh.getInertBodyElement(d);let p=5,_=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=_,_=s.innerHTML,s=gh.getInertBodyElement(d)}while(d!==_);return cd((new mh).sanitizeChildren(pc(s)||s))}finally{if(s){const d=pc(s)||s;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function pc(t){return"content"in t&&function _h(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var zl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(zl||{});function Lf(t){const i=Iu();return i?i.sanitize(zl.URL,t)||"":Ul(t,"URL")?La(t):hc(xe(t))}function iv(t){const i=Iu();if(i)return Rf(i.sanitize(zl.RESOURCE_URL,t)||"");if(Ul(t,"ResourceURL"))return Rf(La(t));throw new fe(904,!1)}function a_(t,i,s){return function s_(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?iv:Lf}(i,s)(t)}function Iu(){const t=dn();return t&&t[or].sanitizer}const Bf=new ut("ENVIRONMENT_INITIALIZER"),Uf=new ut("INJECTOR",-1),zf=new ut("INJECTOR_DEF_TYPES");class c_{get(i,s=Te){if(s===Te){const d=new Error(`NullInjectorError: No provider for ${Re(i)}!`);throw d.name="NullInjectorError",d}return s}}function sm(t){return{\u0275providers:t}}function jf(...t){return{\u0275providers:am(0,t),\u0275fromNgModule:!0}}function am(t,...i){const s=[],d=new Set;let p;const _=w=>{s.push(w)};return Xu(i,w=>{const A=w;dd(A,_,[],d)&&(p||=[],p.push(A))}),void 0!==p&&Cu(p,_),s}function Cu(t,i){for(let s=0;s<t.length;s++){const{ngModule:d,providers:p}=t[s];Hf(p,_=>{i(_,d)})}}function dd(t,i,s,d){if(!(t=Ue(t)))return!1;let p=null,_=zn(t);const w=!_&&_i(t);if(_||w){if(w&&!w.standalone)return!1;p=t}else{const O=t.ngModule;if(_=zn(O),!_)return!1;p=O}const A=d.has(p);if(w){if(A)return!1;if(d.add(p),w.dependencies){const O="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const W of O)dd(W,i,s,d)}}else{if(!_)return!1;{if(null!=_.imports&&!A){let W;d.add(p);try{Xu(_.imports,le=>{dd(le,i,s,d)&&(W||=[],W.push(le))})}finally{}void 0!==W&&Cu(W,i)}if(!A){const W=Oo(p)||(()=>new p);i({provide:p,useFactory:W,deps:_t},p),i({provide:zf,useValue:p,multi:!0},p),i({provide:Bf,useValue:()=>vn(p),multi:!0},p)}const O=_.providers;if(null!=O&&!A){const W=t;Hf(O,le=>{i(le,W)})}}}return p!==t&&void 0!==t.providers}function Hf(t,i){for(let s of t)Ee(s)&&(s=s.\u0275providers),Array.isArray(s)?Hf(s,i):i(s)}const l_=ne({provide:String,useValue:ne});function lm(t){return null!==t&&"object"==typeof t&&l_ in t}function hd(t){return"function"==typeof t}const u_=new ut("Set Injector scope."),fd={},sv={};let um;function dm(){return void 0===um&&(um=new c_),um}class Vs{}class mc extends Vs{get destroyed(){return this._destroyed}constructor(i,s,d,p){super(),this.parent=s,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vo(i,w=>this.processProvider(w)),this.records.set(Uf,pd(void 0,this)),p.has("environment")&&this.records.set(Vs,pd(void 0,this));const _=this.records.get(u_);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(zf.multi,_t,Ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=Xe(this),d=ue(void 0);try{return i()}finally{Xe(s),ue(d)}}get(i,s=Te,d=Ct.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Tn))return i[Tn](this);d=Gn(d);const _=Xe(this),w=ue(void 0);try{if(!(d&Ct.SkipSelf)){let O=this.records.get(i);if(void 0===O){const W=function Kb(t){return"function"==typeof t||"object"==typeof t&&t instanceof ut}(i)&&An(i);O=W&&this.injectableDefInScope(W)?pd(xu(i),fd):null,this.records.set(i,O)}if(null!=O)return this.hydrate(i,O)}return(d&Ct.Self?dm():this.parent).get(i,s=d&Ct.Optional&&s===Te?null:s)}catch(A){if("NullInjectorError"===A.name){if((A[xt]=A[xt]||[]).unshift(Re(i)),_)throw A;return function ft(t,i,s,d){const p=t[xt];throw i[$]&&p.unshift(i[$]),t.message=function Ke(t,i,s,d=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let p=Re(i);if(Array.isArray(i))p=i.map(Re).join(" -> ");else if("object"==typeof i){let _=[];for(let w in i)if(i.hasOwnProperty(w)){let A=i[w];_.push(w+":"+("string"==typeof A?JSON.stringify(A):Re(A)))}p=`{${_.join(", ")}}`}return`${s}${d?"("+d+")":""}[${p}]: ${t.replace(ie,"\n  ")}`}("\n"+t.message,p,s,d),t.ngTokenPath=p,t[xt]=null,t}(A,i,"R3InjectorError",this.source)}throw A}finally{ue(w),Xe(_)}}resolveInjectorInitializers(){const i=Xe(this),s=ue(void 0);try{const p=this.get(Bf.multi,_t,Ct.Self);for(const _ of p)_()}finally{Xe(i),ue(s)}}toString(){const i=[],s=this.records;for(const d of s.keys())i.push(Re(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(i){let s=hd(i=Ue(i))?i:Ue(i&&i.provide);const d=function av(t){return lm(t)?pd(void 0,t.useValue):pd(d_(t),fd)}(i);if(hd(i)||!0!==i.multi)this.records.get(s);else{let p=this.records.get(s);p||(p=pd(void 0,fd,!0),p.factory=()=>ti(p.multi),this.records.set(s,p)),s=i,p.multi.push(i)}this.records.set(s,d)}hydrate(i,s){return s.value===fd&&(s.value=sv,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Mo(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Ue(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function xu(t){const i=An(t),s=null!==i?i.factory:Oo(t);if(null!==s)return s;if(t instanceof ut)throw new fe(204,!1);if(t instanceof Function)return function hm(t){const i=t.length;if(i>0)throw wa(i,"?"),new fe(204,!1);const s=function un(t){return t&&(t[Qn]||t[ai])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new fe(204,!1)}function d_(t,i,s){let d;if(hd(t)){const p=Ue(t);return Oo(p)||xu(p)}if(lm(t))d=()=>Ue(t.useValue);else if(function $f(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...ti(t.deps||[]));else if(function Gb(t){return!(!t||!t.useExisting)}(t))d=()=>vn(Ue(t.useExisting));else{const p=Ue(t&&(t.useClass||t.provide));if(!function h_(t){return!!t.deps}(t))return Oo(p)||xu(p);d=()=>new p(...ti(t.deps))}return d}function pd(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function Vo(t,i){for(const s of t)Array.isArray(s)?Vo(s,i):s&&Ee(s)?Vo(s.\u0275providers,i):i(s)}const f_=new ut("AppId",{providedIn:"root",factory:()=>p_}),p_="ng",fm=new ut("Platform Initializer"),yh=new ut("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mm=new ut("AnimationModuleType"),Wf=new ut("CSP nonce",{providedIn:"root",factory:()=>function Bl(){if(void 0!==cs)return cs;if(typeof document<"u")return document;throw new fe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vm=(t,i,s)=>null;function $l(t,i,s=!1){return vm(t,i,s)}class Zb{}class Ch{}class Va{resolveComponentFactory(i){throw function Qb(t){const i=Error(`No component factory found for ${Re(t)}.`);return i.ngComponent=t,i}(i)}}let Wl=(()=>{class t{static#e=this.NULL=new Va}return t})();function wm(){return al(to(),dn())}function al(t,i){return new _c(Ki(t,i))}let _c=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=wm}return t})();function Im(t){return t instanceof _c?t.nativeElement:t}class yc{}let b_=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Xb(){const t=dn(),s=Ao(to().index,t);return(yi(s)?s:t)[Yn]}()}return t})(),lv=(()=>{class t{static#e=this.\u0275prov=wt({token:t,providedIn:"root",factory:()=>null})}return t})();class uv{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Cm=new uv("16.2.12"),E_={};function ep(t,i=null,s=null,d){const p=Au(t,i,s,d);return p.resolveInjectorInitializers(),p}function Au(t,i=null,s=null,d,p=new Set){const _=[s||_t,jf(t)];return d=d||("object"==typeof t?void 0:Re(t)),new mc(_,i||dm(),d||null,p)}let ws=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Te;static#t=this.NULL=new c_;static create(s,d){if(Array.isArray(s))return ep({name:""},d,s,"");{const p=s.name??"";return ep({name:p},s.parent,s.providers,p)}}static#n=this.\u0275prov=wt({token:t,providedIn:"any",factory:()=>vn(Uf)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function x_(t){return t.ngOriginalError}class vd{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&x_(i);for(;s&&x_(s);)s=x_(s);return s||null}}function pv(t){return i=>{setTimeout(t,void 0,i)}}const Gl=class Dm extends h.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,d){let p=i,_=s||(()=>null),w=d;if(i&&"object"==typeof i){const O=i;p=O.next?.bind(O),_=O.error?.bind(O),w=O.complete?.bind(O)}this.__isAsync&&(_=pv(_),p&&(p=pv(p)),w&&(w=pv(w)));const A=super.subscribe({next:p,error:_,complete:w});return i instanceof k.w0&&i.add(A),A}};function D_(...t){}class Zo{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gl(!1),this.onMicrotaskEmpty=new Gl(!1),this.onStable=new Gl(!1),this.onError=new Gl(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&s,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function T_(){const t="function"==typeof It.requestAnimationFrame;let i=It[t?"requestAnimationFrame":"setTimeout"],s=It[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&s){const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d);const p=s[Zone.__symbol__("OriginalDelegate")];p&&(s=p)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function mv(t){const i=()=>{!function Jb(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,S_(t),t.isCheckStableRunning=!0,A_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),S_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,p,_,w,A)=>{if(function R_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return s.invokeTask(p,_,w,A);try{return M_(t),s.invokeTask(p,_,w,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||t.shouldCoalesceRunChangeDetection)&&i(),gv(t)}},onInvoke:(s,d,p,_,w,A,O)=>{try{return M_(t),s.invoke(p,_,w,A,O)}finally{t.shouldCoalesceRunChangeDetection&&i(),gv(t)}},onHasTask:(s,d,p,_)=>{s.hasTask(p,_),d===p&&("microTask"==_.change?(t._hasPendingMicrotasks=_.microTask,S_(t),A_(t)):"macroTask"==_.change&&(t.hasPendingMacrotasks=_.macroTask))},onHandleError:(s,d,p,_)=>(s.handleError(p,_),t.runOutsideAngular(()=>t.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zo.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(Zo.isInAngularZone())throw new fe(909,!1)}run(i,s,d){return this._inner.run(i,s,d)}runTask(i,s,d,p){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+p,i,SE,D_,D_);try{return _.runTask(w,s,d)}finally{_.cancelTask(w)}}runGuarded(i,s,d){return this._inner.runGuarded(i,s,d)}runOutsideAngular(i){return this._outer.run(i)}}const SE={};function A_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function S_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function M_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gv(t){t._nesting--,A_(t)}class e0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gl,this.onMicrotaskEmpty=new Gl,this.onStable=new Gl,this.onError=new Gl}run(i,s,d){return i.apply(s,d)}runGuarded(i,s,d){return i.apply(s,d)}runOutsideAngular(i){return i()}runTask(i,s,d,p){return i.apply(s,d)}}const _v=new ut("",{providedIn:"root",factory:Tm});function Tm(){const t=Rn(Zo);let i=!0;const s=new z.y(p=>{i=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{p.next(i),p.complete()})}),d=new z.y(p=>{let _;t.runOutsideAngular(()=>{_=t.onStable.subscribe(()=>{Zo.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(i=!0,p.next(!0))})})});const w=t.onUnstable.subscribe(()=>{Zo.assertInAngularZone(),i&&(i=!1,t.runOutsideAngular(()=>{p.next(!1)}))});return()=>{_.unsubscribe(),w.unsubscribe()}});return(0,I.T)(s,d.pipe((0,Me.B)()))}function vc(t){return t instanceof Function?t():t}let P_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=wt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kl(t){for(;t;){t[ii]|=64;const i=ah(t);if(ua(t)&&!i)return t;t=i}return null}const k_=new ut("",{providedIn:"root",factory:()=>!1});let rp=null;function wv(t,i){return t[i]??Nm()}function Om(t,i){const s=Nm();s.producerNode?.length&&(t[i]=rp,s.lView=t,rp=cl())}const Iv={...Vc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kl(t.lView)},lView:null};function cl(){return Object.create(Iv)}function Nm(){return rp??=cl(),rp}const hi={};function V_(t){op(ei(),dn(),ys()+t,!1)}function op(t,i,s,d){if(!d)if(3==(3&i[ii])){const _=t.preOrderCheckHooks;null!==_&&Ku(i,_,s)}else{const _=t.preOrderHooks;null!==_&&Al(i,_,0,s)}du(s)}function Ec(t,i=Ct.Default){const s=dn();return null===s?vn(t,i):Zu(to(),s,Ue(t),i)}function ll(){throw new Error("invalid")}function sp(t,i,s,d,p,_,w,A,O,W,le){const Be=i.blueprint.slice();return Be[Mi]=p,Be[ii]=140|d,(null!==W||t&&2048&t[ii])&&(Be[ii]|=2048),nf(Be),Be[ji]=Be[Io]=t,Be[Si]=s,Be[or]=w||t&&t[or],Be[Yn]=A||t&&t[Yn],Be[Ur]=O||t&&t[Ur]||null,Be[nr]=_,Be[Fr]=function Lo(){return yE++}(),Be[lo]=le,Be[rs]=W,Be[Hi]=2==i.type?t[Hi]:Be,Be}function no(t,i,s,d,p){let _=t.data[i];if(null===_)_=function Yl(t,i,s,d,p){const _=$c(),w=xl(),O=t.data[i]=function xv(t,i,s,d,p,_){let w=i?i.injectorIndex:-1,A=0;return Ys()&&(A|=128),{type:s,index:d,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,s,i,d,p);return null===t.firstChild&&(t.firstChild=O),null!==_&&(w?null==_.child&&null!==O.parent&&(_.child=O):null===_.next&&(_.next=O,O.prev=_)),O}(t,i,s,d,p),function G(){return Nn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=s,_.value=d,_.attrs=p;const w=function ka(){const t=Nn.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return mo(_,!0),_}function Ed(t,i,s,d){if(0===s)return-1;const p=i.length;for(let _=0;_<s;_++)i.push(d),t.blueprint.push(d),t.data.push(null);return p}function Ia(t,i,s,d,p){const _=wv(i,jr),w=ys(),A=2&d;try{du(-1),A&&i.length>Jn&&op(t,i,Jn,!1),En(A?2:0,p);const W=A?_:null,le=su(W);try{null!==W&&(W.dirty=!1),s(d,p)}finally{eo(W,le)}}finally{A&&null===i[jr]&&Om(i,jr),du(w),En(A?3:1,p)}}function Ro(t,i,s){if(bl(i)){const d=Ar(null);try{const _=i.directiveEnd;for(let w=i.directiveStart;w<_;w++){const A=t.data[w];A.contentQueries&&A.contentQueries(1,s[w],w)}}finally{Ar(d)}}}function ap(t,i,s){Sn()&&(function Lh(t,i,s,d){const p=s.directiveStart,_=s.directiveEnd;Ss(s)&&function $_(t,i,s){const d=Ki(i,t),p=Ph(s);let w=16;s.signals?w=4096:s.onPush&&(w=64);const A=Dd(t,sp(t,p,null,w,d,i,null,t[or].rendererFactory.createRenderer(d,s),null,null,null));t[i.index]=A}(i,s,t.data[p+s.componentOffset]),t.firstCreatePass||Yc(s,i),Ko(d,i);const w=s.initialInputs;for(let A=p;A<_;A++){const O=t.data[A],W=ba(i,t,A,s);Ko(W,i),null!==w&&W_(0,A-p,W,O,0,w),Er(O)&&(Ao(s.index,i)[Si]=ba(i,t,A,s))}}(t,i,s,Ki(s,i)),64==(64&s.flags)&&Cd(t,i,s))}function Rh(t,i,s=Ki){const d=i.localNames;if(null!==d){let p=i.index+1;for(let _=0;_<d.length;_+=2){const w=d[_+1],A=-1===w?s(i,t):t[w];t[p++]=A}}}function Ph(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=ul(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function ul(t,i,s,d,p,_,w,A,O,W,le){const Be=Jn+d,vt=Be+p,St=function wc(t,i){const s=[];for(let d=0;d<i;d++)s.push(d<t?null:hi);return s}(Be,vt),rn="function"==typeof W?W():W;return St[Cn]={type:t,blueprint:St,template:s,queries:null,viewQuery:A,declTNode:i,data:St.slice().fill(null,Be),bindingStartIndex:Be,expandoStartIndex:vt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:O,consts:rn,incompleteFirstPass:!1,ssrId:le}}let wd=t=>null;function Dv(t,i,s,d){for(let p in t)if(t.hasOwnProperty(p)){s=null===s?{}:s;const _=t[p];null===d?cp(s,i,p,_):d.hasOwnProperty(p)&&cp(s,i,d[p],_)}return s}function cp(t,i,s,d){t.hasOwnProperty(s)?t[s].push(i,d):t[s]=[i,d]}function Bs(t,i,s,d,p,_,w,A){const O=Ki(i,s);let le,W=i.inputs;!A&&null!=W&&(le=W[d])?(zi(t,s,le,d,p),Ss(i)&&function Tv(t,i){const s=Ao(i,t);16&s[ii]||(s[ii]|=64)}(s,i.index)):3&i.type&&(d=function z_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),p=null!=w?w(p,i.value||"",d):p,_.setProperty(O,d,p))}function Nh(t,i,s,d){if(Sn()){const p=null===d?null:{"":-1},_=function xd(t,i){const s=t.directiveRegistry;let d=null,p=null;if(s)for(let _=0;_<s.length;_++){const w=s[_];if(oa(i,w.selectors,!1))if(d||(d=[]),Er(w))if(null!==w.findHostDirectiveDefs){const A=[];p=p||new Map,w.findHostDirectiveDefs(w,A,p),d.unshift(...A,w),Vh(t,i,A.length)}else d.unshift(w),Vh(t,i,0);else p=p||new Map,w.findHostDirectiveDefs?.(w,d,p),d.push(w)}return null===d?null:[d,p]}(t,s);let w,A;null===_?w=A=null:[w,A]=_,null!==w&&Ru(t,i,s,w,p,A),p&&function Sv(t,i,s){if(i){const d=t.localNames=[];for(let p=0;p<i.length;p+=2){const _=s[i[p+1]];if(null==_)throw new fe(-301,!1);d.push(i[p],_)}}}(s,d,p)}s.mergedAttrs=Di(s.mergedAttrs,s.attrs)}function Ru(t,i,s,d,p,_){for(let W=0;W<d.length;W++)lr(Yc(s,i),t,d[W].type);!function Rv(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}(s,t.data.length,d.length);for(let W=0;W<d.length;W++){const le=d[W];le.providersResolver&&le.providersResolver(le)}let w=!1,A=!1,O=Ed(t,i,d.length,null);for(let W=0;W<d.length;W++){const le=d[W];s.mergedAttrs=Di(s.mergedAttrs,le.hostAttrs),H_(t,s,i,O,le),Mv(O,le,p),null!==le.contentQueries&&(s.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(s.flags|=64);const Be=le.type.prototype;!w&&(Be.ngOnChanges||Be.ngOnInit||Be.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),w=!0),!A&&(Be.ngOnChanges||Be.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),A=!0),O++}!function U_(t,i,s){const p=i.directiveEnd,_=t.data,w=i.attrs,A=[];let O=null,W=null;for(let le=i.directiveStart;le<p;le++){const Be=_[le],vt=s?s.get(Be):null,rn=vt?vt.outputs:null;O=Dv(Be.inputs,le,O,vt?vt.inputs:null),W=Dv(Be.outputs,le,W,rn);const gn=null===O||null===w||Wr(i)?null:kv(O,le,w);A.push(gn)}null!==O&&(O.hasOwnProperty("class")&&(i.flags|=8),O.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=A,i.inputs=O,i.outputs=W}(t,s,_)}function Cd(t,i,s){const d=s.directiveStart,p=s.directiveEnd,_=s.index,w=function Ot(){return Nn.lFrame.currentDirectiveIndex}();try{du(_);for(let A=d;A<p;A++){const O=t.data[A],W=i[A];Ft(A),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&j_(O,W)}}finally{du(-1),Ft(w)}}function j_(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function Vh(t,i,s){i.componentOffset=s,(t.components??=[]).push(i.index)}function Mv(t,i,s){if(s){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)s[i.exportAs[d]]=t;Er(i)&&(s[""]=t)}}function H_(t,i,s,d,p){t.data[d]=p;const _=p.factory||(p.factory=Oo(p.type)),w=new Qs(_,Er(p),Ec);t.blueprint[d]=w,s[d]=w,function Av(t,i,s,d,p){const _=p.hostBindings;if(_){let w=t.hostBindingOpCodes;null===w&&(w=t.hostBindingOpCodes=[]);const A=~i.index;(function Fh(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(w)!=A&&w.push(A),w.push(s,d,_)}}(t,i,d,Ed(t,s,p.hostVars,hi),p)}function Ba(t,i,s,d,p,_){const w=Ki(t,i);!function Lm(t,i,s,d,p,_,w){if(null==_)t.removeAttribute(i,p,s);else{const A=null==w?xe(_):w(_,d||"",p);t.setAttribute(i,p,A,s)}}(i[Yn],w,_,t.value,s,d,p)}function W_(t,i,s,d,p,_){const w=_[i];if(null!==w)for(let A=0;A<w.length;)Pv(d,s,w[A++],w[A++],w[A++])}function Pv(t,i,s,d,p){const _=Ar(null);try{const w=t.inputTransforms;null!==w&&w.hasOwnProperty(d)&&(p=w[d].call(i,p)),null!==t.setInput?t.setInput(i,p,s,d):i[d]=p}finally{Ar(_)}}function kv(t,i,s){let d=null,p=0;for(;p<s.length;){const _=s[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(t.hasOwnProperty(_)){null===d&&(d=[]);const w=t[_];for(let A=0;A<w.length;A+=2)if(w[A]===i){d.push(_,w[A+1],s[p+1]);break}}p+=2}else p+=2;else p+=4}return d}function Ov(t,i,s,d){return[t,!0,!1,i,null,0,d,s,null,null,null]}function Vm(t,i){const s=t.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const _=s[d+1];if(-1!==_){const w=t.data[_];Ci(s[d]),w.contentQueries(2,i[_],_)}}}function Dd(t,i){return t[ao]?t[co][Nr]=i:t[ao]=i,t[co]=i,i}function Bh(t,i,s){Ci(0);const d=Ar(null);try{i(t,s)}finally{Ar(d)}}function G_(t){return t[so]||(t[so]=[])}function Bm(t){return t.cleanup||(t.cleanup=[])}function K_(t,i,s){return(null===t||Er(t))&&(s=function zt(t){for(;Array.isArray(t);){if("object"==typeof t[jo])return t;t=t[Mi]}return null}(s[i.index])),s[Yn]}function lp(t,i){const s=t[Ur],d=s?s.get(vd,null):null;d&&d.handleError(i)}function zi(t,i,s,d,p){for(let _=0;_<s.length;){const w=s[_++],A=s[_++];Pv(t.data[w],i[w],d,A,p)}}function Y_(t,i){const s=Ao(i,t),d=s[Cn];!function Uh(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])}(d,s);const p=s[Mi];null!==p&&null===s[lo]&&(s[lo]=$l(p,s[Ur])),Um(d,s,s[Si])}function Um(t,i,s){Fo(i);try{const d=t.viewQuery;null!==d&&Bh(1,d,s);const p=t.template;null!==p&&Ia(t,i,p,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Vm(t,i),t.staticViewQueries&&Bh(2,t.viewQuery,s);const _=t.components;null!==_&&function us(t,i){for(let s=0;s<i.length;s++)Y_(t,i[s])}(i,_)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{i[ii]&=-5,Mp()}}let io=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,d,p){const _=typeof Zone>"u"?null:Zone.current,w=function nn(t,i,s){const d=Object.create(Gi);s&&(d.consumerAllowSignalWrites=!0),d.fn=t,d.schedule=i;const p=w=>{d.cleanupFn=w};return d.ref={notify:()=>ga(d),run:()=>{if(d.dirty=!1,d.hasRun&&!Bc(d))return;d.hasRun=!0;const w=su(d);try{d.cleanupFn(),d.cleanupFn=Wn,d.fn(p)}finally{eo(d,w)}},cleanup:()=>d.cleanupFn()},d.ref}(s,W=>{this.all.has(W)&&this.queue.set(W,_)},p);let A;this.all.add(w),w.notify();const O=()=>{w.cleanup(),A?.(),this.all.delete(w),this.queue.delete(w)};return A=d?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[s,d]of this.queue)this.queue.delete(s),d?d.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=wt({token:t,providedIn:"root",factory:()=>new t})}return t})();function zm(t,i,s){let d=s?t.styles:null,p=s?t.classes:null,_=0;if(null!==i)for(let w=0;w<i.length;w++){const A=i[w];"number"==typeof A?_=A:1==_?p=nt(p,A):2==_&&(d=nt(d,A+": "+i[++w]+";"))}s?t.styles=d:t.stylesWithoutHost=d,s?t.classes=p:t.classesWithoutHost=p}function zh(t,i,s,d,p=!1){for(;null!==s;){const _=i[s.index];null!==_&&d.push(fn(_)),Xi(_)&&jm(_,d);const w=s.type;if(8&w)zh(t,i,s.child,d);else if(32&w){const A=qy(s,i);let O;for(;O=A();)d.push(O)}else if(16&w){const A=bu(i,s);if(Array.isArray(A))d.push(...A);else{const O=ah(i[Hi]);zh(O[Cn],O,A,d,!0)}}s=p?s.projectionNext:s.next}return d}function jm(t,i){for(let s=br;s<t.length;s++){const d=t[s],p=d[Cn].firstChild;null!==p&&zh(d[Cn],d,p,i)}t[mr]!==t[Mi]&&i.push(t[mr])}function Hm(t,i,s,d=!0){const p=i[or],_=p.rendererFactory,w=p.afterRenderEventManager;_.begin?.(),w?.begin();try{Cc(t,i,t.template,s)}catch(O){throw d&&lp(i,O),O}finally{_.end?.(),p.effectManager?.flush(),w?.end()}}function Cc(t,i,s,d){const p=i[ii];if(256!=(256&p)){i[or].effectManager?.flush(),Fo(i);try{nf(i),function F(t){return Nn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Ia(t,i,s,2,d);const w=3==(3&p);if(w){const W=t.preOrderCheckHooks;null!==W&&Ku(i,W,null)}else{const W=t.preOrderHooks;null!==W&&Al(i,W,0,null),hu(i,0)}if(function o0(t){for(let i=Lb(t);null!==i;i=bo(i)){if(!i[xo])continue;const s=i[uo];for(let d=0;d<s.length;d++){wg(s[d])}}}(i),$m(i,2),null!==t.contentQueries&&Vm(t,i),w){const W=t.contentCheckHooks;null!==W&&Ku(i,W)}else{const W=t.contentHooks;null!==W&&Al(i,W,1),hu(i,1)}!function B_(t,i){const s=t.hostBindingOpCodes;if(null===s)return;const d=wv(i,Ts);try{for(let p=0;p<s.length;p++){const _=s[p];if(_<0)du(~_);else{const w=_,A=s[++p],O=s[++p];Ye(A,w),d.dirty=!1;const W=su(d);try{O(2,i[w])}finally{eo(d,W)}}}}finally{null===i[Ts]&&Om(i,Ts),du(-1)}}(t,i);const A=t.components;null!==A&&Td(i,A,0);const O=t.viewQuery;if(null!==O&&Bh(2,O,d),w){const W=t.viewCheckHooks;null!==W&&Ku(i,W)}else{const W=t.viewHooks;null!==W&&Al(i,W,2),hu(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[ii]&=-73,Wu(i)}finally{Mp()}}}function $m(t,i){for(let s=Lb(t);null!==s;s=bo(s))for(let d=br;d<s.length;d++)Wm(s[d],i)}function Vr(t,i,s){Wm(Ao(i,t),s)}function Wm(t,i){if(!function cu(t){return 128==(128&t[ii])}(t))return;const s=t[Cn],d=t[ii];if(80&d&&0===i||1024&d||2===i)Cc(s,t,s.template,t[Si]);else if(t[is]>0){$m(t,1);const p=s.components;null!==p&&Td(t,p,1)}}function Td(t,i,s){for(let d=0;d<i.length;d++)Vr(t,i[d],s)}class Mr{get rootNodes(){const i=this._lView,s=i[Cn];return zh(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Si]}set context(i){this._lView[Si]=i}get destroyed(){return 256==(256&this._lView[ii])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[ji];if(Xi(i)){const s=i[8],d=s?s.indexOf(this):-1;d>-1&&(Cf(i,d),Ju(s,d))}this._attachedToViewContainer=!1}Zy(this._lView[Cn],this._lView)}onDestroy(i){!function Ks(t,i){if(256==(256&t[ii]))throw new fe(911,!1);null===t[Co]&&(t[Co]=[]),t[Co].push(i)}(this._lView,i)}markForCheck(){Kl(this._cdRefInjectingView||this._lView)}detach(){this._lView[ii]&=-129}reattach(){this._lView[ii]|=128}detectChanges(){Hm(this._lView[Cn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bb(t,i){uh(t,i,i[Yn],2,null,null)}(this._lView[Cn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=i}}class Lv extends Mr{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Hm(i[Cn],i,i[Si],!1)}checkNoChanges(){}get context(){return null}}class Vv extends Wl{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=_i(i);return new jh(s,this.ngModule)}}function Bv(t){const i=[];for(let s in t)t.hasOwnProperty(s)&&i.push({propName:t[s],templateName:s});return i}class q_{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,d){d=Gn(d);const p=this.injector.get(i,E_,d);return p!==E_||s===E_?p:this.parentInjector.get(i,s,d)}}class jh extends Ch{get inputs(){const i=this.componentDef,s=i.inputTransforms,d=Bv(i.inputs);if(null!==s)for(const p of d)s.hasOwnProperty(p.propName)&&(p.transform=s[p.propName]);return d}get outputs(){return Bv(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Gr(t){return t.map(Lc).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,d,p){let _=(p=p||this.ngModule)instanceof Vs?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new q_(i,_):i,A=w.get(yc,null);if(null===A)throw new fe(407,!1);const Be={rendererFactory:A,sanitizer:w.get(lv,null),effectManager:w.get(io,null),afterRenderEventManager:w.get(P_,null)},vt=A.createRenderer(null,this.componentDef),St=this.componentDef.selectors[0][0]||"div",rn=d?function Mu(t,i,s,d){const _=d.get(k_,!1)||s===Pt.ShadowDom,w=t.selectRootElement(i,_);return function kh(t){wd(t)}(w),w}(vt,d,this.componentDef.encapsulation,w):qp(vt,St,function Uv(t){const i=t.toLowerCase();return"svg"===i?On:"math"===i?"math":null}(St)),oi=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let mn=null;null!==rn&&(mn=$l(rn,w,!0));const Ti=ul(0,null,null,1,0,null,null,null,null,null,null),qi=sp(null,Ti,null,oi,null,null,Be,vt,w,null,mn);let $r,vl;Fo(qi);try{const Ap=this.componentDef;let Mb,MC=null;Ap.findHostDirectiveDefs?(Mb=[],MC=new Map,Ap.findHostDirectiveDefs(Ap,Mb,MC),Mb.push(Ap)):Mb=[Ap];const DT=function zv(t,i){const s=t[Cn],d=Jn;return t[d]=i,no(s,d,2,"#host",null)}(qi,rn),TT=function ME(t,i,s,d,p,_,w){const A=p[Cn];!function jv(t,i,s,d){for(const p of t)i.mergedAttrs=Di(i.mergedAttrs,p.hostAttrs);null!==i.mergedAttrs&&(zm(i,i.mergedAttrs,!0),null!==s&&ad(d,s,i))}(d,t,i,w);let O=null;null!==i&&(O=$l(i,p[Ur]));const W=_.rendererFactory.createRenderer(i,s);let le=16;s.signals?le=4096:s.onPush&&(le=64);const Be=sp(p,Ph(s),null,le,p[t.index],t,_,W,null,null,O);return A.firstCreatePass&&Vh(A,t,d.length-1),Dd(p,Be),p[t.index]=Be}(DT,rn,Ap,Mb,qi,Be,vt);vl=Kd(Ti,Jn),rn&&function Z_(t,i,s,d){if(d)ci(t,s,["ng-version",Cm.full]);else{const{attrs:p,classes:_}=function ca(t){const i=[],s=[];let d=1,p=2;for(;d<t.length;){let _=t[d];if("string"==typeof _)2===p?""!==_&&i.push(_,t[++d]):8===p&&s.push(_);else{if(!pr(p))break;p=_}d++}return{attrs:i,classes:s}}(i.selectors[0]);p&&ci(t,s,p),_&&_.length>0&&sd(t,s,_.join(" "))}}(vt,Ap,rn,d),void 0!==s&&function Hh(t,i,s){const d=t.projection=[];for(let p=0;p<i.length;p++){const _=s[p];d.push(null!=_?Array.from(_):null)}}(vl,this.ngContentSelectors,s),$r=function Hv(t,i,s,d,p,_){const w=to(),A=p[Cn],O=Ki(w,p);Ru(A,p,w,s,null,d);for(let le=0;le<s.length;le++)Ko(ba(p,A,w.directiveStart+le,w),p);Cd(A,p,w),O&&Ko(O,p);const W=ba(p,A,w.directiveStart+w.componentOffset,w);if(t[Si]=p[Si]=W,null!==_)for(const le of _)le(W,i);return Ro(A,w,t),W}(TT,Ap,Mb,MC,qi,[a0]),Um(Ti,qi,null)}finally{Mp()}return new s0(this.componentType,$r,al(vl,qi),qi,vl)}}class s0 extends Zb{constructor(i,s,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Lv(p),this.componentType=i}setInput(i,s){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const _=this._rootLView;zi(_[Cn],_,p,i,s),this.previousInputValues.set(i,s),Kl(Ao(this._tNode.index,_))}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function a0(){const t=to();Tl(dn()[Cn],t)}function xc(t){let i=function hl(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const d=[t];for(;i;){let p;if(Er(t))p=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new fe(903,!1);p=i.\u0275dir}if(p){if(s){d.push(p);const w=t;w.inputs=Ca(t.inputs),w.inputTransforms=Ca(t.inputTransforms),w.declaredInputs=Ca(t.declaredInputs),w.outputs=Ca(t.outputs);const A=p.hostBindings;A&&dr(t,A);const O=p.viewQuery,W=p.contentQueries;if(O&&up(t,O),W&&$v(t,W),de(t.inputs,p.inputs),de(t.declaredInputs,p.declaredInputs),de(t.outputs,p.outputs),null!==p.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),de(w.inputTransforms,p.inputTransforms)),Er(p)&&p.data.animation){const le=t.data;le.animation=(le.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let w=0;w<_.length;w++){const A=_[w];A&&A.ngInherit&&A(t),A===xc&&(s=!1)}}i=Object.getPrototypeOf(i)}!function c0(t){let i=0,s=null;for(let d=t.length-1;d>=0;d--){const p=t[d];p.hostVars=i+=p.hostVars,p.hostAttrs=Di(p.hostAttrs,s=Di(s,p.hostAttrs))}}(d)}function Ca(t){return t===he?{}:t===_t?[]:t}function up(t,i){const s=t.viewQuery;t.viewQuery=s?(d,p)=>{i(d,p),s(d,p)}:i}function $v(t,i){const s=t.contentQueries;t.contentQueries=s?(d,p,_)=>{i(d,p,_),s(d,p,_)}:i}function dr(t,i){const s=t.hostBindings;t.hostBindings=s?(d,p)=>{i(d,p),s(d,p)}:i}function Fi(t){const i=t.inputConfig,s={};for(const d in i)if(i.hasOwnProperty(d)){const p=i[d];Array.isArray(p)&&p[2]&&(s[d]=p[2])}t.inputTransforms=s}function Gm(t){return!!Km(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Km(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Tc(t,i,s){return t[i]=s}function qr(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function Md(t,i,s,d){const p=dn();return qr(p,D(),i)&&(ei(),Ba(Kr(),p,t,i,s,d)),Md}function pl(t,i,s,d){return qr(t,D(),s)?i+xe(s)+d:hi}function Jv(t,i,s,d,p,_,w,A){const O=dn(),W=ei(),le=t+Jn,Be=W.firstCreatePass?function y0(t,i,s,d,p,_,w,A,O){const W=i.consts,le=no(i,t,4,w||null,Ps(W,A));Nh(i,s,le,Ps(W,O)),Tl(i,le);const Be=le.tView=ul(2,le,d,p,_,i.directiveRegistry,i.pipeRegistry,null,i.schemas,W,null);return null!==i.queries&&(i.queries.template(i,le),Be.queries=i.queries.embeddedTView(le)),le}(le,W,O,i,s,d,p,_,w):W.data[le];mo(Be,!1);const vt=Xm(W,O,Be,t);qd()&&Fl(W,O,vt,Be),Ko(vt,O),Dd(O,O[le]=Ov(vt,O,vt,Be)),Ms(Be)&&ap(W,O,Be),null!=w&&Rh(O,Be,A)}let Xm=function Ld(t,i,s,d){return Oa(!0),i[Yn].createComment("")};function ey(t){return Xa(function Wc(){return Nn.lFrame.contextLView}(),Jn+t)}function eg(t,i,s){const d=dn();return qr(d,D(),i)&&Bs(ei(),Kr(),d,t,i,d[Yn],s,!1),eg}function Gh(t,i,s,d,p){const w=p?"class":"style";zi(t,s,i.inputs[w],w,d)}function Kh(t,i,s,d){const p=dn(),_=ei(),w=Jn+t,A=p[Yn],O=_.firstCreatePass?function v0(t,i,s,d,p,_){const w=i.consts,O=no(i,t,2,d,Ps(w,p));return Nh(i,s,O,Ps(w,_)),null!==O.attrs&&zm(O,O.attrs,!1),null!==O.mergedAttrs&&zm(O,O.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,O),O}(w,_,p,i,s,d):_.data[w],W=ty(_,p,O,A,i,t);p[w]=W;const le=Ms(O);return mo(O,!0),ad(A,W,O),32!=(32&O.flags)&&qd()&&Fl(_,p,W,O),0===function Pi(){return Nn.lFrame.elementDepthCount}()&&Ko(W,p),function Gu(){Nn.lFrame.elementDepthCount++}(),le&&(ap(_,p,O),Ro(_,O,p)),null!==d&&Rh(p,O),Kh}function Nu(){let t=to();xl()?Rt():(t=t.parent,mo(t,!1));const i=t;(function rf(t){return Nn.skipHydrationRootTNode===t})(i)&&function Cl(){Nn.skipHydrationRootTNode=null}(),function gr(){Nn.lFrame.elementDepthCount--}();const s=ei();return s.firstCreatePass&&(Tl(s,t),bl(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Ji(t){return 0!=(8&t.flags)}(i)&&Gh(s,i,dn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Os(t){return 0!=(16&t.flags)}(i)&&Gh(s,i,dn(),i.stylesWithoutHost,!1),Nu}function tg(t,i,s,d){return Kh(t,i,s,d),Nu(),tg}let ty=(t,i,s,d,p,_)=>(Oa(!0),qp(d,p,function Np(){return Nn.lFrame.currentNamespace}()));function ny(t,i,s){const d=dn(),p=ei(),_=t+Jn,w=p.firstCreatePass?function eb(t,i,s,d,p){const _=i.consts,w=Ps(_,d),A=no(i,t,8,"ng-container",w);return null!==w&&zm(A,w,!0),Nh(i,s,A,Ps(_,p)),null!==i.queries&&i.queries.elementStart(i,A),A}(_,p,d,i,s):p.data[_];mo(w,!0);const A=Xo(p,d,w,t);return d[_]=A,qd()&&Fl(p,d,A,w),Ko(A,d),Ms(w)&&(ap(p,d,w),Ro(p,w,d)),null!=s&&Rh(d,w),ny}function ng(){let t=to();const i=ei();return xl()?Rt():(t=t.parent,mo(t,!1)),i.firstCreatePass&&(Tl(i,t),bl(t)&&i.queries.elementEnd(t)),ng}function ig(t,i,s){return ny(t,i,s),ng(),ig}let Xo=(t,i,s,d)=>(Oa(!0),Yp(i[Yn],""));function rg(){return dn()}function Yh(t){return!!t&&"function"==typeof t.then}function qh(t){return!!t&&"function"==typeof t.subscribe}function Jl(t,i,s,d){const p=dn(),_=ei(),w=to();return w0(_,p,p[Yn],w,t,i,d),Jl}function Fu(t,i){const s=to(),d=dn(),p=ei();return w0(p,d,K_(Mn(p.data),s,d),s,t,i),Fu}function w0(t,i,s,d,p,_,w){const A=Ms(d),W=t.firstCreatePass&&Bm(t),le=i[Si],Be=G_(i);let vt=!0;if(3&d.type||w){const gn=Ki(d,i),Bn=w?w(gn):gn,oi=Be.length,mn=w?qi=>w(fn(qi[d.index])):d.index;let Ti=null;if(!w&&A&&(Ti=function Vd(t,i,s,d){const p=t.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const w=p[_];if(w===s&&p[_+1]===d){const A=i[so],O=p[_+2];return A.length>O?A[O]:null}"string"==typeof w&&(_+=2)}return null}(t,i,p,d.index)),null!==Ti)(Ti.__ngLastListenerFn__||Ti).__ngNextListenerFn__=_,Ti.__ngLastListenerFn__=_,vt=!1;else{_=Zh(d,i,le,_,!1);const qi=s.listen(Bn,p,_);Be.push(_,qi),W&&W.push(p,mn,oi,oi+1)}}else _=Zh(d,i,le,_,!1);const St=d.outputs;let rn;if(vt&&null!==St&&(rn=St[p])){const gn=rn.length;if(gn)for(let Bn=0;Bn<gn;Bn+=2){const $r=i[rn[Bn]][rn[Bn+1]].subscribe(_),vl=Be.length;Be.push(_,$r),W&&W.push(p,d.index,vl,-(vl+1))}}}function oy(t,i,s,d){try{return En(6,i,s),!1!==s(d)}catch(p){return lp(t,p),!1}finally{En(7,i,s)}}function Zh(t,i,s,d,p){return function _(w){if(w===Function)return d;Kl(t.componentOffset>-1?Ao(t.index,i):i);let O=oy(i,s,d,w),W=_.__ngNextListenerFn__;for(;W;)O=oy(i,s,W,w)&&O,W=W.__ngNextListenerFn__;return p&&!1===O&&w.preventDefault(),O}}function I0(t=1){return function Rp(t){return(Nn.lFrame.contextLView=function Dy(t,i){for(;t>0;)i=i[Io],t--;return i}(t,Nn.lFrame.contextLView))[Si]}(t)}function PE(t,i){let s=null;const d=function za(t){const i=t.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(t);for(let p=0;p<i.length;p++){const _=i[p];if("*"!==_){if(null===d?oa(t,_,!0):Hs(d,_))return p}else s=p}return s}function og(t){const i=dn()[Hi][nr];if(!i.projection){const d=i.projection=wa(t?t.length:1,null),p=d.slice();let _=i.child;for(;null!==_;){const w=t?PE(_,t):0;null!==w&&(p[w]?p[w].projectionNext=_:d[w]=_,p[w]=_),_=_.next}}}function pp(t,i=0,s){const d=dn(),p=ei(),_=no(p,Jn+t,16,null,s||null);null===_.projection&&(_.projection=i),Rt(),(!d[lo]||Ys())&&32!=(32&_.flags)&&function Xy(t,i,s){Kg(i[Yn],0,i,s,Ug(t,s,i),Xp(s.parent||i[nr],s,i))}(p,d,_)}function mp(t,i,s){return Bd(t,"",i,"",s),mp}function Bd(t,i,s,d,p){const _=dn(),w=pl(_,i,s,d);return w!==hi&&Bs(ei(),Kr(),_,t,w,_[Yn],p,!1),Bd}function m(t,i){return t<<17|i<<2}function v(t){return t>>17&32767}function K(t){return 2|t}function ae(t){return(131068&t)>>2}function Pe(t,i){return-131069&t|i<<2}function Lt(t){return 1|t}function pi(t,i,s,d,p){const _=t[s+1],w=null===i;let A=d?v(_):ae(_),O=!1;for(;0!==A&&(!1===O||w);){const le=t[A+1];fi(t[A],i)&&(O=!0,t[A+1]=d?Lt(le):K(le)),A=d?v(le):ae(le)}O&&(t[s+1]=d?K(_):Lt(_))}function fi(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&Xc(t,i)>=0}const ri={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yr(t){return t.substring(ri.key,ri.keyEnd)}function Oc(t,i){const s=ri.textEnd;return s===i?-1:(i=ri.keyEnd=function x0(t,i,s){for(;i<s&&t.charCodeAt(i)>32;)i++;return i}(t,ri.key=i,s),zd(t,i,s))}function zd(t,i,s){for(;i<s&&t.charCodeAt(i)<=32;)i++;return i}function nb(t,i,s){return eu(t,i,s,!1),nb}function D0(t,i){return eu(t,i,null,!0),D0}function Vu(t,i){for(let s=function Jo(t){return function kE(t){ri.key=0,ri.keyEnd=0,ri.value=0,ri.valueEnd=0,ri.textEnd=t.length}(t),Oc(t,zd(t,0,ri.textEnd))}(i);s>=0;s=Oc(i,s))Ns(t,yr(i),!0)}function eu(t,i,s,d){const p=dn(),_=ei(),w=N(2);_.firstUpdatePass&&A0(_,t,w,d),i!==hi&&qr(p,w,i)&&BE(_,_.data[ys()],p,p[Yn],t,p[w+1]=function zE(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=Re(La(t)))),t}(i,s),d,w)}function FE(t,i){return i>=t.expandoStartIndex}function A0(t,i,s,d){const p=t.data;if(null===p[s+1]){const _=p[ys()],w=FE(t,s);jE(_,d)&&null===i&&!w&&(i=!1),i=function ib(t,i,s,d){const p=Mn(t);let _=d?i.residualClasses:i.residualStyles;if(null===p)0===(d?i.classBindings:i.styleBindings)&&(s=_p(s=rb(null,t,i,s,d),i.attrs,d),_=null);else{const w=i.directiveStylingLast;if(-1===w||t[w]!==p)if(s=rb(p,t,i,s,d),null===_){let O=function S0(t,i,s){const d=s?i.classBindings:i.styleBindings;if(0!==ae(d))return t[v(d)]}(t,i,d);void 0!==O&&Array.isArray(O)&&(O=rb(null,t,i,O[1],d),O=_p(O,i.attrs,d),function LE(t,i,s,d){t[v(s?i.classBindings:i.styleBindings)]=d}(t,i,d,O))}else _=function eI(t,i,s){let d;const p=i.directiveEnd;for(let _=1+i.directiveStylingLast;_<p;_++)d=_p(d,t[_].hostAttrs,s);return _p(d,i.attrs,s)}(t,i,d)}return void 0!==_&&(d?i.residualClasses=_:i.residualStyles=_),s}(p,_,i,d),function Dn(t,i,s,d,p,_){let w=_?i.classBindings:i.styleBindings,A=v(w),O=ae(w);t[d]=s;let le,W=!1;if(Array.isArray(s)?(le=s[1],(null===le||Xc(s,le)>0)&&(W=!0)):le=s,p)if(0!==O){const vt=v(t[A+1]);t[d+1]=m(vt,A),0!==vt&&(t[vt+1]=Pe(t[vt+1],d)),t[A+1]=function L(t,i){return 131071&t|i<<17}(t[A+1],d)}else t[d+1]=m(A,0),0!==A&&(t[A+1]=Pe(t[A+1],d)),A=d;else t[d+1]=m(O,0),0===A?A=d:t[O+1]=Pe(t[O+1],d),O=d;W&&(t[d+1]=K(t[d+1])),pi(t,le,d,!0),pi(t,le,d,!1),function si(t,i,s,d,p){const _=p?t.residualClasses:t.residualStyles;null!=_&&"string"==typeof i&&Xc(_,i)>=0&&(s[d+1]=Lt(s[d+1]))}(i,le,t,d,_),w=m(A,O),_?i.classBindings=w:i.styleBindings=w}(p,_,i,s,w,d)}}function rb(t,i,s,d,p){let _=null;const w=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<w&&(_=i[A],d=_p(d,_.hostAttrs,p),_!==t);)A++;return null!==t&&(s.directiveStylingLast=A),d}function _p(t,i,s){const d=s?1:2;let p=-1;if(null!==i)for(let _=0;_<i.length;_++){const w=i[_];"number"==typeof w?p=w:p===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ns(t,w,!!s||i[++_]))}return void 0===t?null:t}function BE(t,i,s,d,p,_,w,A){if(!(3&i.type))return;const O=t.data,W=O[A+1],le=function mt(t){return 1==(1&t)}(W)?UE(O,i,s,p,ae(W),w):void 0;ob(le)||(ob(_)||function P(t){return 2==(2&t)}(W)&&(_=UE(O,null,s,p,A,w)),function qg(t,i,s,d,p){if(i)p?t.addClass(s,d):t.removeClass(s,d);else{let _=-1===d.indexOf("-")?void 0:_u.DashCase;null==p?t.removeStyle(s,d,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=_u.Important),t.setStyle(s,d,p,_))}}(d,w,hn(ys(),s),p,_))}function UE(t,i,s,d,p,_){const w=null===i;let A;for(;p>0;){const O=t[p],W=Array.isArray(O),le=W?O[1]:O,Be=null===le;let vt=s[p+1];vt===hi&&(vt=Be?_t:void 0);let St=Be?ea(vt,d):le===d?vt:void 0;if(W&&!ob(St)&&(St=ea(O,d)),ob(St)&&(A=St,w))return A;const rn=t[p+1];p=w?v(rn):ae(rn)}if(null!==i){let O=_?i.residualClasses:i.residualStyles;null!=O&&(A=ea(O,d))}return A}function ob(t){return void 0!==t}function jE(t,i){return 0!=(t.flags&(i?8:16))}function M0(t,i=""){const s=dn(),d=ei(),p=t+Jn,_=d.firstCreatePass?no(d,p,1,i,null):d.data[p],w=R0(d,s,_,i,t);s[p]=w,qd()&&Fl(d,s,w,_),mo(_,!1)}let R0=(t,i,s,d,p)=>(Oa(!0),function rd(t,i){return t.createText(i)}(i[Yn],d));function sg(t){return cy("",t,""),sg}function cy(t,i,s){const d=dn(),p=pl(d,t,i,s);return p!==hi&&function Ic(t,i,s){const d=hn(i,t);!function rl(t,i,s){t.setValue(i,s)}(t[Yn],d,s)}(d,ys(),p),cy}function jd(t,i,s){!function tu(t,i,s,d){const p=ei(),_=N(2);p.firstUpdatePass&&A0(p,null,_,d);const w=dn();if(s!==hi&&qr(w,_,s)){const A=p.data[ys()];if(jE(A,d)&&!FE(p,_)){let O=d?A.classesWithoutHost:A.stylesWithoutHost;null!==O&&(s=nt(O,s||"")),Gh(p,A,w,s,d)}else!function iI(t,i,s,d,p,_,w,A){p===hi&&(p=_t);let O=0,W=0,le=0<p.length?p[0]:null,Be=0<_.length?_[0]:null;for(;null!==le||null!==Be;){const vt=O<p.length?p[O+1]:void 0,St=W<_.length?_[W+1]:void 0;let gn,rn=null;le===Be?(O+=2,W+=2,vt!==St&&(rn=Be,gn=St)):null===Be||null!==le&&le<Be?(O+=2,rn=le):(W+=2,rn=Be,gn=St),null!==rn&&BE(t,i,s,d,rn,gn,w,A),le=O<p.length?p[O]:null,Be=W<_.length?_[W]:null}}(p,A,w,w[Yn],w[_+1],w[_+1]=function tI(t,i,s){if(null==s||""===s)return _t;const d=[],p=La(s);if(Array.isArray(p))for(let _=0;_<p.length;_++)t(d,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&t(d,_,p[_]);else"string"==typeof p&&i(d,p);return d}(t,i,s),d,_)}}(Ns,Vu,pl(dn(),t,i,s),!0)}function vp(t,i,s){const d=dn();return qr(d,D(),i)&&Bs(ei(),Kr(),d,t,i,d[Yn],s,!0),vp}function ag(t,i,s){const d=dn();if(qr(d,D(),i)){const _=ei(),w=Kr();Bs(_,w,d,t,i,K_(Mn(_.data),w,d),s,!0)}return ag}const Hd=void 0;var U0=["en",[["a","p"],["AM","PM"],Hd],[["AM","PM"],Hd,Hd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hd,"{1} 'at' {0}",Hd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function B0(t){const s=Math.floor(Math.abs(t)),d=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let cg={};function z0(t){const i=function nw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=hb(i);if(s)return s;const d=i.split("-")[0];if(s=hb(d),s)return s;if("en"===d)return U0;throw new fe(701,!1)}function ew(t){return z0(t)[lg.PluralCase]}function hb(t){return t in cg||(cg[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),cg[t]}var lg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(lg||{});const bp="en-US";let fb=bp;function nE(t,i,s,d,p){if(t=Ue(t),Array.isArray(t))for(let _=0;_<t.length;_++)nE(t[_],i,s,d,p);else{const _=ei(),w=dn(),A=to();let O=hd(t)?t:Ue(t.provide);const W=d_(t),le=1048575&A.providerIndexes,Be=A.directiveStart,vt=A.providerIndexes>>20;if(hd(t)||!t.multi){const St=new Qs(W,p,Ec),rn=vw(O,i,p?le:le+vt,Be);-1===rn?(lr(Yc(A,w),_,O),yw(_,t,i.length),i.push(O),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),s.push(St),w.push(St)):(s[rn]=St,w[rn]=St)}else{const St=vw(O,i,le+vt,Be),rn=vw(O,i,le,le+vt),Bn=rn>=0&&s[rn];if(p&&!Bn||!p&&!(St>=0&&s[St])){lr(Yc(A,w),_,O);const oi=function VC(t,i,s,d,p){const _=new Qs(t,s,Ec);return _.multi=[],_.index=i,_.componentProviders=0,Cp(_,p,d&&!s),_}(p?LC:FC,s.length,p,d,W);!p&&Bn&&(s[rn].providerFactory=oi),yw(_,t,i.length,0),i.push(O),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),s.push(oi),w.push(oi)}else yw(_,t,St>-1?St:rn,Cp(s[p?rn:St],W,!p&&d));!p&&d&&Bn&&s[rn].componentProviders++}}}function yw(t,i,s,d){const p=hd(i),_=function ov(t){return!!t.useClass}(i);if(p||_){const O=(_?Ue(i.useClass):i).prototype.ngOnDestroy;if(O){const W=t.destroyHooks||(t.destroyHooks=[]);if(!p&&i.multi){const le=W.indexOf(s);-1===le?W.push(s,[d,O]):W[le+1].push(d,O)}else W.push(s,O)}}}function Cp(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function vw(t,i,s,d){for(let p=s;p<d;p++)if(i[p]===t)return p;return-1}function FC(t,i,s,d){return xb(this.multi,[])}function LC(t,i,s,d){const p=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,A=ba(s,s[Cn],this.providerFactory.index,d);_=A.slice(0,w),xb(p,_);for(let O=w;O<A.length;O++)_.push(A[O])}else _=[],xb(p,_);return _}function xb(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function RI(t,i=[]){return s=>{s.providersResolver=(d,p)=>function Ip(t,i,s){const d=ei();if(d.firstCreatePass){const p=Er(t);nE(s,d.data,d.blueprint,p,!0),nE(i,d.data,d.blueprint,p,!1)}}(d,p?p(t):t,i)}}class yg{}class PI{}function by(t,i){return new xp(t,i??null,[])}class xp extends yg{constructor(i,s,d){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const p=vr(i);this._bootstrapComponents=vc(p.bootstrap),this._r3Injector=Au(i,s,[{provide:yg,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver},...d],Re(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class rE extends PI{constructor(i){super(),this.moduleType=i}create(i){return new xp(this.moduleType,i,[])}}class kI extends yg{constructor(i){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const s=new mc([...i.providers,{provide:yg,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],i.parent||dm(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function OI(t,i,s=null){return new kI({providers:t,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let UC=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const d=am(0,s.type),p=d.length>0?OI([d],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,p)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=wt({token:t,providedIn:"environment",factory:()=>new t(vn(Vs))})}return t})();function NI(t){t.getStandaloneInjector=i=>i.get(UC).getOrCreateStandaloneInjector(t)}function xw(t,i,s){const d=Hr()+t,p=dn();return p[d]===hi?Tc(p,d,s?i.call(s):i()):function Sd(t,i){return t[i]}(p,d)}function Ey(t,i){const s=t[i];return s===hi?void 0:s}function Tw(t,i,s,d,p,_,w){const A=i+s;return function xa(t,i,s,d){const p=qr(t,i,s);return qr(t,i+1,d)||p}(t,A,p,_)?Tc(t,A+2,w?d.call(w,p,_):d(p,_)):Ey(t,A+2)}function cE(t,i){const s=ei();let d;const p=t+Jn;s.firstCreatePass?(d=function qC(t,i){if(i)for(let s=i.length-1;s>=0;s--){const d=i[s];if(t===d.name)return d}}(i,s.pipeRegistry),s.data[p]=d,d.onDestroy&&(s.destroyHooks??=[]).push(p,d.onDestroy)):d=s.data[p];const _=d.factory||(d.factory=Oo(d.type)),A=ue(Ec);try{const O=vs(!1),W=_();return vs(O),function Jm(t,i,s,d){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),i[s]=d}(s,dn(),p,W),W}finally{ue(A)}}function Rw(t,i,s){const d=t+Jn,p=dn(),_=Xa(p,d);return wy(p,d)?function aE(t,i,s,d,p,_){const w=i+s;return qr(t,w,p)?Tc(t,w+1,_?d.call(_,p):d(p)):Ey(t,w+1)}(p,Hr(),i,_.transform,s,_):_.transform(s)}function $I(t,i,s,d){const p=t+Jn,_=dn(),w=Xa(_,p);return wy(_,p)?Tw(_,Hr(),i,w.transform,s,d,w):w.transform(s,d)}function wy(t,i){return t[Cn].data[i].pure}function JC(){return this._results[Symbol.iterator]()}class lE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Gl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=lE.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=JC)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const d=this;d.dirty=!1;const p=function Ea(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Ag(t,i,s){if(t.length!==i.length)return!1;for(let d=0;d<t.length;d++){let p=t[d],_=i[d];if(s&&(p=s(p),_=s(_)),_!==p)return!1}return!0}(d._results,p,s))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ex(t,i,s,d=!0){const p=i[Cn];if(function wE(t,i,s,d){const p=br+d,_=s.length;d>0&&(s[p-1][Nr]=i),d<_-br?(i[Nr]=s[p],Sg(s,br+d,i)):(s.push(i),i[Nr]=null),i[ji]=s;const w=i[ja];null!==w&&s!==w&&function IE(t,i){const s=t[uo];i[Hi]!==i[ji][ji][Hi]&&(t[xo]=!0),null===s?t[uo]=[i]:s.push(i)}(w,i);const A=i[zr];null!==A&&A.insertView(t),i[ii]|=128}(p,i,t,s),d){const _=Ll(s,t),w=i[Yn],A=lh(w,t[mr]);null!==A&&function Vb(t,i,s,d,p,_){d[Mi]=p,d[nr]=i,uh(t,d,s,1,p,_)}(p,t[nr],w,i,A,_)}}let Db=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KI}return t})();const uE=Db,Pw=class extends uE{constructor(i,s,d){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,d){const p=function GI(t,i,s,d){const p=i.tView,A=sp(t,p,s,4096&t[ii]?4096:16,null,i,null,null,null,d?.injector??null,d?.hydrationInfo??null);A[ja]=t[i.index];const W=t[zr];return null!==W&&(A[zr]=W.createEmbeddedView(p)),Um(p,A,s),A}(this._declarationLView,this._declarationTContainer,i,{injector:s,hydrationInfo:d});return new Mr(p)}};function KI(){return dE(to(),dn())}function dE(t,i){return 4&t.type?new Pw(i,t,al(t,i)):null}let hE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ix}return t})();function ix(){return eC(to(),dn())}const rx=hE,XI=class extends rx{constructor(i,s,d){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=d}get element(){return al(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const i=At(this._hostTNode,this._hostLView);if(Yu(i)){const s=Xs(i,this._hostLView),d=Sr(i);return new as(s[Cn].data[d+8],s)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=JI(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-br}createEmbeddedView(i,s,d){let p,_;"number"==typeof d?p=d:null!=d&&(p=d.index,_=d.injector);const A=i.createEmbeddedViewImpl(s||{},_,null);return this.insertImpl(A,p,false),A}createComponent(i,s,d,p,_){const w=i&&!function mu(t){return"function"==typeof t}(i);let A;if(w)A=s;else{const gn=s||{};A=gn.index,d=gn.injector,p=gn.projectableNodes,_=gn.environmentInjector||gn.ngModuleRef}const O=w?i:new jh(_i(i)),W=d||this.parentInjector;if(!_&&null==O.ngModule){const Bn=(w?W:this.parentInjector).get(Vs,null);Bn&&(_=Bn)}_i(O.componentType??{});const St=O.create(W,p,null,_);return this.insertImpl(St.hostView,A,false),St}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,d){const p=i._lView;if(function Rs(t){return Xi(t[ji])}(p)){const O=this.indexOf(i);if(-1!==O)this.detach(O);else{const W=p[ji],le=new XI(W,W[nr],W[ji]);le.detach(le.indexOf(i))}}const w=this._adjustIndex(s),A=this._lContainer;return ex(A,p,w,!d),i.attachToViewContainerRef(),Sg(Nw(A),w,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=JI(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),d=Cf(this._lContainer,s);d&&(Ju(Nw(this._lContainer),s),Zy(d[Cn],d))}detach(i){const s=this._adjustIndex(i,-1),d=Cf(this._lContainer,s);return d&&null!=Ju(Nw(this._lContainer),s)?new Mr(d):null}_adjustIndex(i,s=0){return i??this.length+s}};function JI(t){return t[8]}function Nw(t){return t[8]||(t[8]=[])}function eC(t,i){let s;const d=i[t.index];return Xi(d)?s=d:(s=Ov(d,i,null,t),i[t.index]=s,Dd(i,s)),tC(s,i,t,d),new XI(s,t,i)}let tC=function nC(t,i,s,d){if(t[mr])return;let p;p=8&s.type?fn(d):function ox(t,i){const s=t[Yn],d=s.createComment(""),p=Ki(i,t);return od(s,lh(s,p),d,function $g(t,i){return t.nextSibling(i)}(s,p),!1),d}(i,s),t[mr]=p};class Fw{constructor(i){this.queryList=i,this.matches=null}clone(){return new Fw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const d=null!==i.contentQueries?i.contentQueries[0]:s.length,p=[];for(let _=0;_<d;_++){const w=s.getByIndex(_);p.push(this.queries[w.indexInDeclarationView].clone())}return new Lw(p)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==uC(i,s).matches&&this.queries[s].setDirty()}}class Vw{constructor(i,s,d=null){this.predicate=i,this.flags=s,this.read=d}}class Bw{constructor(i=[]){this.queries=i}elementStart(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let d=0;d<this.length;d++){const p=null!==s?s.length:0,_=this.getByIndex(d).embeddedTView(i,p);_&&(_.indexInDeclarationView=d,null!==s?s.push(_):s=[_])}return null!==s?new Bw(s):null}template(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Uw{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Uw(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(i,s,cx(s,_)),this.matchTNodeWithReadOption(i,s,oc(s,i,_,!1,!1))}else d===Db?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,oc(s,i,d,!1,!1))}matchTNodeWithReadOption(i,s,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===_c||p===hE||p===Db&&4&s.type)this.addMatch(s.index,-2);else{const _=oc(s,i,p,!1,!1);null!==_&&this.addMatch(s.index,_)}else this.addMatch(s.index,d)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function cx(t,i){const s=t.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===i)return s[d+1];return null}function ux(t,i,s,d){return-1===s?function lx(t,i){return 11&t.type?al(t,i):4&t.type?dE(t,i):null}(i,t):-2===s?function dx(t,i,s){return s===_c?al(i,t):s===Db?dE(i,t):s===hE?eC(i,t):void 0}(t,i,d):ba(t,t[Cn],s,i)}function iC(t,i,s,d){const p=i[zr].queries[d];if(null===p.matches){const _=t.data,w=s.matches,A=[];for(let O=0;O<w.length;O+=2){const W=w[O];A.push(W<0?null:ux(i,_[W],w[O+1],s.metadata.read))}p.matches=A}return p.matches}function zw(t,i,s,d){const p=t.queries.getByIndex(s),_=p.matches;if(null!==_){const w=iC(t,i,p,s);for(let A=0;A<_.length;A+=2){const O=_[A];if(O>0)d.push(w[A/2]);else{const W=_[A+1],le=i[-O];for(let Be=br;Be<le.length;Be++){const vt=le[Be];vt[ja]===vt[ji]&&zw(vt[Cn],vt,W,d)}if(null!==le[uo]){const Be=le[uo];for(let vt=0;vt<Be.length;vt++){const St=Be[vt];zw(St[Cn],St,W,d)}}}}}return d}function rC(t){const i=dn(),s=ei(),d=bi();Ci(d+1);const p=uC(s,d);if(t.dirty&&function jc(t){return 4==(4&t[ii])}(i)===(2==(2&p.metadata.flags))){if(null===p.matches)t.reset([]);else{const _=p.crossesNgTemplate?zw(s,i,d,[]):iC(s,i,p,d);t.reset(_,Im),t.notifyOnChanges()}return!0}return!1}function oC(t,i,s){const d=ei();d.firstCreatePass&&(lC(d,new Vw(t,i,s),-1),2==(2&i)&&(d.staticViewQueries=!0)),cC(d,dn(),i)}function sC(t,i,s,d){const p=ei();if(p.firstCreatePass){const _=to();lC(p,new Vw(i,s,d),_.index),function fx(t,i){const s=t.contentQueries||(t.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,i)}(p,t),2==(2&s)&&(p.staticContentQueries=!0)}cC(p,dn(),s)}function aC(){return function hx(t,i){return t[zr].queries[i].queryList}(dn(),bi())}function cC(t,i,s){const d=new lE(4==(4&s));(function Qo(t,i,s,d){const p=G_(i);p.push(s),t.firstCreatePass&&Bm(t).push(d,p.length-1)})(t,i,d,d.destroy),null===i[zr]&&(i[zr]=new Lw),i[zr].queries.push(new Fw(d))}function lC(t,i,s){null===t.queries&&(t.queries=new Bw),t.queries.track(new Uw(i,s))}function uC(t,i){return t.queries.getByIndex(i)}function dC(t,i){return dE(t,i)}function jw(t){return!!vr(t)}const _x=new ut("Application Initializer");let gC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,d)=>{this.resolve=s,this.reject=d}),this.appInits=Rn(_x,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const p of this.appInits){const _=p();if(Yh(_))s.push(_);else if(qh(_)){const w=new Promise((A,O)=>{_.subscribe({complete:A,error:O})});s.push(w)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{d()}).catch(p=>{this.reject(p)}),0===s.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yx=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ww=new ut("LocaleId",{providedIn:"root",factory:()=>Rn(Ww,Ct.Optional|Ct.SkipSelf)||function dD(){return typeof $localize<"u"&&$localize.locale||bp}()}),hD=new ut("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let vx=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ge.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class pD{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let mD=(()=>{class t{compileModuleSync(s){return new rE(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),_=vc(vr(s).declarations).reduce((w,A)=>{const O=_i(A);return O&&w.push(new jh(O)),w},[]);return new pD(d,_)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ix=new ut(""),Cx=new ut("");let vC,LD=(()=>{class t{constructor(s,d,p){this._ngZone=s,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vC||(function VD(t){vC=t}(p),p.addToWindow(d)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:_,updateCb:p})}whenStable(s,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,d,p){return[]}static#e=this.\u0275fac=function(d){return new(d||t)(vn(Zo),vn(xx),vn(Cx))};static#t=this.\u0275prov=wt({token:t,factory:t.\u0275fac})}return t})(),xx=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){return vC?.findTestabilityInTree(this,s,d)??null}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Eg=null;const Dx=new ut("AllowMultipleToken"),bC=new ut("PlatformDestroyListeners"),EC=new ut("appBootstrapListener");class zD{constructor(i,s){this.name=i,this.token=s}}function Sx(t,i,s=[]){const d=`Platform: ${i}`,p=new ut(d);return(_=[])=>{let w=wC();if(!w||w.injector.get(Dx,!1)){const A=[...s,..._,{provide:p,useValue:!0}];t?t(A):function jD(t){if(Eg&&!Eg.get(Dx,!1))throw new fe(400,!1);(function Tx(){!function Gs(t){_a=t}(()=>{throw new fe(600,!1)})})(),Eg=t;const i=t.get(Rx);(function Ax(t){t.get(fm,null)?.forEach(s=>s())})(t)}(function Mx(t=[],i){return ws.create({name:i,providers:[{provide:u_,useValue:"platform"},{provide:bC,useValue:new Set([()=>Eg=null])},...t]})}(A,d))}return function $D(t){const i=wC();if(!i)throw new fe(401,!1);return i}()}}function wC(){return Eg?.get(Rx)??null}let Rx=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const p=function WD(t="zone.js",i){return"noop"===t?new e0:"zone.js"===t?new Zo(i):t}(d?.ngZone,function Px(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return p.run(()=>{const _=function BC(t,i,s){return new xp(t,i,s)}(s.moduleType,this.injector,function Lx(t){return[{provide:Zo,useFactory:t},{provide:Bf,multi:!0,useFactory:()=>{const i=Rn(KD,{optional:!0});return()=>i.initialize()}},{provide:Fx,useFactory:GD},{provide:_v,useFactory:Tm}]}(()=>p)),w=_.injector.get(vd,null);return p.runOutsideAngular(()=>{const A=p.onError.subscribe({next:O=>{w.handleError(O)}});_.onDestroy(()=>{Kw(this._modules,_),A.unsubscribe()})}),function kx(t,i,s){try{const d=s();return Yh(d)?d.catch(p=>{throw i.runOutsideAngular(()=>t.handleError(p)),p}):d}catch(d){throw i.runOutsideAngular(()=>t.handleError(d)),d}}(w,p,()=>{const A=_.injector.get(gC);return A.runInitializers(),A.donePromise.then(()=>(function H0(t){Nt(t,"Expected localeId to be defined"),"string"==typeof t&&(fb=t.toLowerCase().replace(/_/g,"-"))}(_.injector.get(Ww,bp)||bp),this._moduleDoBootstrap(_),_))})})}bootstrapModule(s,d=[]){const p=Ox({},d);return function BD(t,i,s){const d=new rE(s);return Promise.resolve(d)}(0,0,s).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(s){const d=s.injector.get(Sb);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new fe(-403,!1);s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const s=this._injector.get(bC,null);s&&(s.forEach(d=>d()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||t)(vn(ws))};static#t=this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Ox(t,i){return Array.isArray(i)?i.reduce(Ox,t):{...t,...i}}let Sb=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Rn(Fx),this.zoneIsStable=Rn(_v),this.componentTypes=[],this.components=[],this.isStable=Rn(vx).hasPendingTasks.pipe((0,X.w)(s=>s?(0,Ae.of)(!1):this.zoneIsStable),(0,be.x)(),(0,Me.B)()),this._injector=Rn(Vs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,d){const p=s instanceof Ch;if(!this._injector.get(gC).done)throw!p&&Qr(s),new fe(405,!1);let w;w=p?s:this._injector.get(Wl).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const A=function UD(t){return t.isBoundToModule}(w)?void 0:this._injector.get(yg),W=w.create(ws.NULL,[],d||w.selector,A),le=W.location.nativeElement,Be=W.injector.get(Ix,null);return Be?.registerApplication(le),W.onDestroy(()=>{this.detachView(W.hostView),Kw(this.components,W),Be?.unregisterApplication(le)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;Kw(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const d=this._injector.get(EC,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Kw(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new fe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kw(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}const Fx=new ut("",{providedIn:"root",factory:()=>Rn(vd).handleError.bind(void 0)});function GD(){const t=Rn(Zo),i=Rn(vd);return s=>t.runOutsideAngular(()=>i.handleError(s))}let KD=(()=>{class t{constructor(){this.zone=Rn(Zo),this.applicationRef=Rn(Sb)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||t)};static#t=this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qD(){return!1}let ZD=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=QD}return t})();function QD(t){return function XD(t,i,s){if(Ss(t)&&!s){const d=Ao(t.index,i);return new Mr(d,d)}return 47&t.type?new Mr(i[Hi],i):null}(to(),dn(),16==(16&t))}class zx{constructor(){}supports(i){return Gm(i)}create(i){return new rT(i)}}const iT=(t,i)=>i;class rT{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||iT}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,d=this._removalsHead,p=0,_=null;for(;s||d;){const w=!d||s&&s.currentIndex<Hx(d,p,_)?s:d,A=Hx(w,p,_),O=w.currentIndex;if(w===d)p--,d=d._nextRemoved;else if(s=s._next,null==w.previousIndex)p++;else{_||(_=[]);const W=A-p,le=O-p;if(W!=le){for(let vt=0;vt<W;vt++){const St=vt<_.length?_[vt]:_[vt]=0,rn=St+vt;le<=rn&&rn<W&&(_[vt]=St+1)}_[w.previousIndex]=le-W}}A!==O&&i(w,A,O)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Gm(i))throw new fe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let p,_,w,s=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let A=0;A<this.length;A++)_=i[A],w=this._trackByFn(A,_),null!==s&&Object.is(s.trackById,w)?(d&&(s=this._verifyReinsertion(s,_,w,A)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,w,A),d=!0),s=s._next}else p=0,function ia(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[Symbol.iterator]();let d;for(;!(d=s.next()).done;)i(d.value)}}(i,A=>{w=this._trackByFn(p,A),null!==s&&Object.is(s.trackById,w)?(d&&(s=this._verifyReinsertion(s,A,w,p)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,w,p),d=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,d,p){let _;return null===i?_=this._itTail:(_=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,_,p)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,_,p)):i=this._addAfter(new oT(s,d),_,p),i}_verifyReinsertion(i,s,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?i=this._reinsertAfter(_,i._prev,p):i.currentIndex!=p&&(i.currentIndex=p,this._addToMoves(i,p)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const p=i._prevRemoved,_=i._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(i,s,d),this._addToMoves(i,d),i}_moveAfter(i,s,d){return this._unlink(i),this._insertAfter(i,s,d),this._addToMoves(i,d),i}_addAfter(i,s,d){return this._insertAfter(i,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,d){const p=null===s?this._itHead:s._next;return i._next=p,i._prev=s,null===p?this._itTail=i:p._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new jx),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,d=i._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jx),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class oT{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const s=i._prevDup,d=i._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class jx{constructor(){this.map=new Map}put(i){const s=i.trackById;let d=this.map.get(s);d||(d=new sT,this.map.set(s,d)),d.add(i)}get(i,s){const p=this.map.get(i);return p?p.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hx(t,i,s){const d=t.previousIndex;if(null===d)return d;let p=0;return s&&d<s.length&&(p=s[d]),d+i+p}class $x{constructor(){}supports(i){return i instanceof Map||Km(i)}create(){return new aT}}class aT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Km(i)))throw new fe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const _=this._getOrCreateRecordForKey(p,d);s=this._insertBeforeOrAppend(s,_)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const d=i._prev;return s._next=i,s._prev=d,i._prev=s,d&&(d._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const p=this._records.get(i);this._maybeAddToChanges(p,s);const _=p._prev,w=p._next;return _&&(_._next=w),w&&(w._prev=_),p._next=null,p._prev=null,p}const d=new cT(i);return this._records.set(i,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(d=>s(i[d],d))}}class cT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wx(){return new TC([new zx])}let TC=(()=>{class t{static#e=this.\u0275prov=wt({token:t,providedIn:"root",factory:Wx});constructor(s){this.factories=s}static create(s,d){if(null!=d){const p=d.factories.slice();s=s.concat(p)}return new t(s)}static extend(s){return{provide:t,useFactory:d=>t.create(s,d||Wx()),deps:[[t,new rh,new tl]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(null!=d)return d;throw new fe(901,!1)}}return t})();function Gx(){return new AC([new $x])}let AC=(()=>{class t{static#e=this.\u0275prov=wt({token:t,providedIn:"root",factory:Gx});constructor(s){this.factories=s}static create(s,d){if(d){const p=d.factories.slice();s=s.concat(p)}return new t(s)}static extend(s){return{provide:t,useFactory:d=>t.create(s,d||Gx()),deps:[[t,new rh,new tl]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(d)return d;throw new fe(901,!1)}}return t})();const dT=Sx(null,"core",[]);let hT=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(d){return new(d||t)(vn(Sb))};static#t=this.\u0275mod=Zr({type:t});static#n=this.\u0275inj=qt({})}return t})();function IT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function xT(t){const i=_i(t);if(!i)return null;const s=new jh(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},7217:(on,et,T)=>{T.d(et,{Dh:()=>Me,GT:()=>ge,cc:()=>nt,on:()=>be,pX:()=>I,xv:()=>X});var h=T(5879),k=T(7142);const z=["ngOnDestroy"],I=(ye,Ee,bt,ct={})=>new Proxy(ye,{get:(fe,Ne)=>bt.runOutsideAngular(()=>{if(ye[Ne])return ct?.spy?.get&&ct.spy.get(Ne,ye[Ne]),ye[Ne];if(z.indexOf(Ne)>-1)return()=>{};const xe=Ee.toPromise().then(He=>{const it=He?.[Ne];return"function"==typeof it?it.bind(He):it?.then?it.then(ke=>bt.run(()=>ke)):bt.run(()=>it)});return new Proxy(()=>{},{get:(He,it)=>xe[it],apply:(He,it,ke)=>xe.then($t=>{const an=$t?.(...ke);return ct?.spy?.apply&&ct.spy.apply(Ne,ke,an),an})})})}),ge=(ye,Ee)=>{Ee.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(ct=>{Object.defineProperty(ye.prototype,ct,Object.getOwnPropertyDescriptor(bt.prototype||bt,ct))})})};class Ae{constructor(Ee){return Ee}}const Me=new h.OlP("angularfire2.app.options"),X=new h.OlP("angularfire2.app.name");function be(ye,Ee,bt){const fe="object"==typeof bt&&bt||{};fe.name=fe.name||"string"==typeof bt&&bt||"[DEFAULT]";const xe=k.Z.apps.filter(He=>He&&He.name===fe.name)[0]||Ee.runOutsideAngular(()=>k.Z.initializeApp(ye,fe));try{if(JSON.stringify(ye)!==JSON.stringify(xe.options)){const He=!!module.hot;ne("error",`${xe.name} Firebase App already initialized with different options${He?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ae(xe)}const ne=(ye,...Ee)=>{(0,h.X6Q)()&&typeof console<"u"&&console[ye](...Ee)};function nt(ye,Ee,bt,ct,fe){const[,Ne,xe]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===ye)||[];if(Ne)return function Fe(ye,Ee){try{return ye.toString()===Ee.toString()}catch{return ye===Ee}}(fe,xe)||(Ue("error",`${Ee} was already initialized on the ${bt} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:fe,was:xe})),Ne;{const He=ct();return globalThis.\u0275AngularfireInstanceCache.push([ye,He,fe]),He}}const Qe=typeof module<"u"&&!!module.hot,Ue=(ye,...Ee)=>{(0,h.X6Q)()&&typeof console<"u"&&console[ye](...Ee)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(on,et,T)=>{T.d(et,{q4:()=>Fe,iC:()=>Gt,HU:()=>xe,Rf:()=>Ee,vb:()=>ye,JM:()=>Ue,af:()=>Qe,u3:()=>bn});var h=T(5879),k=T(3182),z=T(1954),ge=T(2631);const Me=new class Ae extends ge.v{}(class I extends z.o{constructor(Ut,tn){super(Ut,tn),this.scheduler=Ut,this.work=tn}schedule(Ut,tn=0){return tn>0?super.schedule(Ut,tn):(this.delay=tn,this.state=Ut,this.scheduler.flush(this),this)}execute(Ut,tn){return tn>0||this.closed?super.execute(Ut,tn):this._execute(Ut,tn)}requestAsyncId(Ut,tn,Ie=0){return null!=Ie&&Ie>0||null==Ie&&this.delay>0?super.requestAsyncId(Ut,tn,Ie):(Ut.flush(this),0)}});var be=T(6321),ne=T(5592),de=T(9397),Re=T(5137),nt=T(3093);const Fe=new h.GfV("ANGULARFIRE2_VERSION"),Qe=en=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${en} in the constructor, first ensure that ${en} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${en})\`.`;function Ue(en,Ut,tn){if(Ut){if(1===Ut.length)return Ut[0];const Se=Ut.filter(st=>st.app===tn);if(1===Se.length)return Se[0]}return tn.container.getProvider(en).getImmediate({optional:!0})}const ye=(en,Ut)=>{const tn=Ut?[Ut]:(0,k.C6)(),Ie=[];return tn.forEach(Le=>{Le.container.getProvider(en).instances.forEach(st=>{Ie.includes(st)||Ie.push(st)})}),Ie};class Ee{constructor(){return ye(bt)}}const bt="app-check";function ct(){}class fe{zone;delegate;constructor(Ut,tn=Me){this.zone=Ut,this.delegate=tn}now(){return this.delegate.now()}schedule(Ut,tn,Ie){const Le=this.zone;return this.delegate.schedule(function(st){Le.runGuarded(()=>{Ut.apply(this,[st])})},tn,Ie)}}class Ne{zone;task=null;constructor(Ut){this.zone=Ut}call(Ut,tn){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ct,{},ct,ct)),tn.pipe((0,de.b)({next:Ie,complete:Ie,error:Ie})).subscribe(Ut).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xe=(()=>{class en{ngZone;outsideAngular;insideAngular;constructor(tn){this.ngZone=tn,this.outsideAngular=tn.runOutsideAngular(()=>new fe(Zone.current)),this.insideAngular=tn.run(()=>new fe(Zone.current,be.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Ie){return new(Ie||en)(h.LFG(h.R0b))};static \u0275prov=h.Yz7({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();function He(){const en=globalThis.\u0275AngularFireScheduler;if(!en)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return en}function ke(en){return He().ngZone.run(()=>en())}function Gt(en){return function _n(en){return function(tn){return(tn=tn.lift(new Ne(en.ngZone))).pipe((0,Re.R)(en.outsideAngular),(0,nt.Q)(en.insideAngular))}}(He())(en)}const Yt=(en,Ut)=>function(){const Ie=arguments;return Ut&&setTimeout(()=>{"scheduled"===Ut.state&&Ut.invoke()},10),ke(()=>en.apply(void 0,Ie))},bn=(en,Ut)=>function(){let tn;const Ie=arguments;for(let Se=0;Se<arguments.length;Se++)"function"==typeof Ie[Se]&&(Ut&&(tn||=ke(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ct,{},ct,ct))),Ie[Se]=Yt(Ie[Se],tn));const Le=function it(en){return He().ngZone.runOutsideAngular(()=>en())}(()=>en.apply(this,Ie));if(!Ut){if(Le instanceof ne.y){const Se=He();return Le.pipe((0,Re.R)(Se.outsideAngular),(0,nt.Q)(Se.insideAngular))}return ke(()=>Le)}return Le instanceof ne.y?Le.pipe(Gt):Le instanceof Promise?ke(()=>new Promise((Se,st)=>Le.then(ot=>ke(()=>Se(ot)),ot=>ke(()=>st(ot))))):"function"==typeof Le&&tn?function(){return setTimeout(()=>{tn&&"scheduled"===tn.state&&tn.invoke()},10),Le.apply(this,arguments)}:ke(()=>Le)}},6223:(on,et,T)=>{T.d(et,{Cf:()=>ye,F:()=>Br,Fj:()=>Fe,JJ:()=>un,JL:()=>zn,JU:()=>X,NI:()=>Wr,UX:()=>Xr,Zs:()=>jr,_Y:()=>ca,a5:()=>qt,kI:()=>ct,qu:()=>Er,sg:()=>vr,u:()=>Cn,u5:()=>$a});var h=T(5879),k=T(6814),z=T(2459),I=T(9315),ge=T(7398);let Ae=(()=>{class Z{constructor(U,pe){this._renderer=U,this._elementRef=pe,this.onChange=qe=>{},this.onTouched=()=>{}}setProperty(U,pe){this._renderer.setProperty(this._elementRef.nativeElement,U,pe)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static#e=this.\u0275fac=function(pe){return new(pe||Z)(h.Y36(h.Qsj),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:Z})}return Z})(),Me=(()=>{class Z extends Ae{static#e=this.\u0275fac=function(){let U;return function(qe){return(U||(U=h.n5z(Z)))(qe||Z)}}();static#t=this.\u0275dir=h.lG2({type:Z,features:[h.qOj]})}return Z})();const X=new h.OlP("NgValueAccessor"),de={provide:X,useExisting:(0,h.Gpc)(()=>Fe),multi:!0},nt=new h.OlP("CompositionEventMode");let Fe=(()=>{class Z extends Ae{constructor(U,pe,qe){super(U,pe),this._compositionMode=qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Re(){const Z=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static#e=this.\u0275fac=function(pe){return new(pe||Z)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(nt,8))};static#t=this.\u0275dir=h.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(pe,qe){1&pe&&h.NdJ("input",function(mi){return qe._handleInput(mi.target.value)})("blur",function(){return qe.onTouched()})("compositionstart",function(){return qe._compositionStart()})("compositionend",function(mi){return qe._compositionEnd(mi.target.value)})},features:[h._Bn([de]),h.qOj]})}return Z})();function Qe(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}function Ue(Z){return null!=Z&&"number"==typeof Z.length}const ye=new h.OlP("NgValidators"),Ee=new h.OlP("NgAsyncValidators"),bt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ct{static min(te){return function fe(Z){return te=>{if(Qe(te.value)||Qe(Z))return null;const U=parseFloat(te.value);return!isNaN(U)&&U<Z?{min:{min:Z,actual:te.value}}:null}}(te)}static max(te){return function Ne(Z){return te=>{if(Qe(te.value)||Qe(Z))return null;const U=parseFloat(te.value);return!isNaN(U)&&U>Z?{max:{max:Z,actual:te.value}}:null}}(te)}static required(te){return xe(te)}static requiredTrue(te){return He(te)}static email(te){return function it(Z){return Qe(Z.value)||bt.test(Z.value)?null:{email:!0}}(te)}static minLength(te){return function ke(Z){return te=>Qe(te.value)||!Ue(te.value)?null:te.value.length<Z?{minlength:{requiredLength:Z,actualLength:te.value.length}}:null}(te)}static maxLength(te){return function $t(Z){return te=>Ue(te.value)&&te.value.length>Z?{maxlength:{requiredLength:Z,actualLength:te.value.length}}:null}(te)}static pattern(te){return function an(Z){if(!Z)return Gt;let te,U;return"string"==typeof Z?(U="","^"!==Z.charAt(0)&&(U+="^"),U+=Z,"$"!==Z.charAt(Z.length-1)&&(U+="$"),te=new RegExp(U)):(U=Z.toString(),te=Z),pe=>{if(Qe(pe.value))return null;const qe=pe.value;return te.test(qe)?null:{pattern:{requiredPattern:U,actualValue:qe}}}}(te)}static nullValidator(te){return null}static compose(te){return Ie(te)}static composeAsync(te){return Se(te)}}function xe(Z){return Qe(Z.value)?{required:!0}:null}function He(Z){return!0===Z.value?null:{required:!0}}function Gt(Z){return null}function _n(Z){return null!=Z}function Yt(Z){return(0,h.QGY)(Z)?(0,z.D)(Z):Z}function bn(Z){let te={};return Z.forEach(U=>{te=null!=U?{...te,...U}:te}),0===Object.keys(te).length?null:te}function en(Z,te){return te.map(U=>U(Z))}function tn(Z){return Z.map(te=>function Ut(Z){return!Z.validate}(te)?te:U=>te.validate(U))}function Ie(Z){if(!Z)return null;const te=Z.filter(_n);return 0==te.length?null:function(U){return bn(en(U,te))}}function Le(Z){return null!=Z?Ie(tn(Z)):null}function Se(Z){if(!Z)return null;const te=Z.filter(_n);return 0==te.length?null:function(U){const pe=en(U,te).map(Yt);return(0,I.D)(pe).pipe((0,ge.U)(bn))}}function st(Z){return null!=Z?Se(tn(Z)):null}function ot(Z,te){return null===Z?[te]:Array.isArray(Z)?[...Z,te]:[Z,te]}function Oe(Z){return Z._rawValidators}function Nt(Z){return Z._rawAsyncValidators}function De(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function We(Z,te){return Array.isArray(Z)?Z.includes(te):Z===te}function Ce(Z,te){const U=De(te);return De(Z).forEach(qe=>{We(U,qe)||U.push(qe)}),U}function dt(Z,te){return De(te).filter(U=>!We(Z,U))}class wt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(te){this._rawValidators=te||[],this._composedValidatorFn=Le(this._rawValidators)}_setAsyncValidators(te){this._rawAsyncValidators=te||[],this._composedAsyncValidatorFn=st(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(te){this._onDestroyCallbacks.push(te)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(te=>te()),this._onDestroyCallbacks=[]}reset(te=void 0){this.control&&this.control.reset(te)}hasError(te,U){return!!this.control&&this.control.hasError(te,U)}getError(te,U){return this.control?this.control.getError(te,U):null}}class Kt extends wt{get formDirective(){return null}get path(){return null}}class qt extends wt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class An{constructor(te){this._cd=te}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let un=(()=>{class Z extends An{constructor(U){super(U)}static#e=this.\u0275fac=function(pe){return new(pe||Z)(h.Y36(qt,2))};static#t=this.\u0275dir=h.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(pe,qe){2&pe&&h.ekj("ng-untouched",qe.isUntouched)("ng-touched",qe.isTouched)("ng-pristine",qe.isPristine)("ng-dirty",qe.isDirty)("ng-valid",qe.isValid)("ng-invalid",qe.isInvalid)("ng-pending",qe.isPending)},features:[h.qOj]})}return Z})(),zn=(()=>{class Z extends An{constructor(U){super(U)}static#e=this.\u0275fac=function(pe){return new(pe||Z)(h.Y36(Kt,10))};static#t=this.\u0275dir=h.lG2({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(pe,qe){2&pe&&h.ekj("ng-untouched",qe.isUntouched)("ng-touched",qe.isTouched)("ng-pristine",qe.isPristine)("ng-dirty",qe.isDirty)("ng-valid",qe.isValid)("ng-invalid",qe.isInvalid)("ng-pending",qe.isPending)("ng-submitted",qe.isSubmitted)},features:[h.qOj]})}return Z})();const Un="VALID",Xn="INVALID",Fn="PENDING",Mt="DISABLED";function Vn(Z){return(Te(Z)?Z.validators:Z)||null}function lt(Z,te){return(Te(te)?te.asyncValidators:Z)||null}function Te(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}function Ze(Z,te,U){const pe=Z.controls;if(!(te?Object.keys(pe):pe).length)throw new h.vHH(1e3,"");if(!pe[U])throw new h.vHH(1001,"")}function xt(Z,te,U){Z._forEachChild((pe,qe)=>{if(void 0===U[qe])throw new h.vHH(1002,"")})}class ve{constructor(te,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(te),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(te){this._rawValidators=this._composedValidatorFn=te}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(te){this._rawAsyncValidators=this._composedAsyncValidatorFn=te}get parent(){return this._parent}get valid(){return this.status===Un}get invalid(){return this.status===Xn}get pending(){return this.status==Fn}get disabled(){return this.status===Mt}get enabled(){return this.status!==Mt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(te){this._assignValidators(te)}setAsyncValidators(te){this._assignAsyncValidators(te)}addValidators(te){this.setValidators(Ce(te,this._rawValidators))}addAsyncValidators(te){this.setAsyncValidators(Ce(te,this._rawAsyncValidators))}removeValidators(te){this.setValidators(dt(te,this._rawValidators))}removeAsyncValidators(te){this.setAsyncValidators(dt(te,this._rawAsyncValidators))}hasValidator(te){return We(this._rawValidators,te)}hasAsyncValidator(te){return We(this._rawAsyncValidators,te)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(te={}){this.touched=!0,this._parent&&!te.onlySelf&&this._parent.markAsTouched(te)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(te=>te.markAllAsTouched())}markAsUntouched(te={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}markAsDirty(te={}){this.pristine=!1,this._parent&&!te.onlySelf&&this._parent.markAsDirty(te)}markAsPristine(te={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}markAsPending(te={}){this.status=Fn,!1!==te.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!te.onlySelf&&this._parent.markAsPending(te)}disable(te={}){const U=this._parentMarkedDirty(te.onlySelf);this.status=Mt,this.errors=null,this._forEachChild(pe=>{pe.disable({...te,onlySelf:!0})}),this._updateValue(),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...te,skipPristineCheck:U}),this._onDisabledChange.forEach(pe=>pe(!0))}enable(te={}){const U=this._parentMarkedDirty(te.onlySelf);this.status=Un,this._forEachChild(pe=>{pe.enable({...te,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent}),this._updateAncestors({...te,skipPristineCheck:U}),this._onDisabledChange.forEach(pe=>pe(!1))}_updateAncestors(te){this._parent&&!te.onlySelf&&(this._parent.updateValueAndValidity(te),te.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(te){this._parent=te}getRawValue(){return this.value}updateValueAndValidity(te={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Un||this.status===Fn)&&this._runAsyncValidator(te.emitEvent)),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!te.onlySelf&&this._parent.updateValueAndValidity(te)}_updateTreeValidity(te={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(te)),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mt:Un}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(te){if(this.asyncValidator){this.status=Fn,this._hasOwnPendingAsyncValidator=!0;const U=Yt(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(pe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(pe,{emitEvent:te})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(te,U={}){this.errors=te,this._updateControlsErrors(!1!==U.emitEvent)}get(te){let U=te;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((pe,qe)=>pe&&pe._find(qe),this)}getError(te,U){const pe=U?this.get(U):this;return pe&&pe.errors?pe.errors[te]:null}hasError(te,U){return!!this.getError(te,U)}get root(){let te=this;for(;te._parent;)te=te._parent;return te}_updateControlsErrors(te){this.status=this._calculateStatus(),te&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(te)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Mt:this.errors?Xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fn)?Fn:this._anyControlsHaveStatus(Xn)?Xn:Un}_anyControlsHaveStatus(te){return this._anyControls(U=>U.status===te)}_anyControlsDirty(){return this._anyControls(te=>te.dirty)}_anyControlsTouched(){return this._anyControls(te=>te.touched)}_updatePristine(te={}){this.pristine=!this._anyControlsDirty(),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}_updateTouched(te={}){this.touched=this._anyControlsTouched(),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}_registerOnCollectionChange(te){this._onCollectionChange=te}_setUpdateStrategy(te){Te(te)&&null!=te.updateOn&&(this._updateOn=te.updateOn)}_parentMarkedDirty(te){return!te&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(te){return null}_assignValidators(te){this._rawValidators=Array.isArray(te)?te.slice():te,this._composedValidatorFn=function kt(Z){return Array.isArray(Z)?Le(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(te){this._rawAsyncValidators=Array.isArray(te)?te.slice():te,this._composedAsyncValidatorFn=function ze(Z){return Array.isArray(Z)?st(Z):Z||null}(this._rawAsyncValidators)}}class ie extends ve{constructor(te,U,pe){super(Vn(U),lt(pe,U)),this.controls=te,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(te,U){return this.controls[te]?this.controls[te]:(this.controls[te]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(te,U,pe={}){this.registerControl(te,U),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}removeControl(te,U={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(te,U,pe={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],U&&this.registerControl(te,U),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}contains(te){return this.controls.hasOwnProperty(te)&&this.controls[te].enabled}setValue(te,U={}){xt(this,0,te),Object.keys(te).forEach(pe=>{Ze(this,!0,pe),this.controls[pe].setValue(te[pe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(te,U={}){null!=te&&(Object.keys(te).forEach(pe=>{const qe=this.controls[pe];qe&&qe.patchValue(te[pe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(te={},U={}){this._forEachChild((pe,qe)=>{pe.reset(te?te[qe]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(te,U,pe)=>(te[pe]=U.getRawValue(),te))}_syncPendingControls(){let te=this._reduceChildren(!1,(U,pe)=>!!pe._syncPendingControls()||U);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){Object.keys(this.controls).forEach(U=>{const pe=this.controls[U];pe&&te(pe,U)})}_setUpControls(){this._forEachChild(te=>{te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(te){for(const[U,pe]of Object.entries(this.controls))if(this.contains(U)&&te(pe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,pe,qe)=>((pe.enabled||this.disabled)&&(U[qe]=pe.value),U))}_reduceChildren(te,U){let pe=te;return this._forEachChild((qe,Pn)=>{pe=U(pe,qe,Pn)}),pe}_allControlsDisabled(){for(const te of Object.keys(this.controls))if(this.controls[te].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(te){return this.controls.hasOwnProperty(te)?this.controls[te]:null}}class B extends ie{}const Xe=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xt}),Xt="always";function kn(Z,te,U=Xt){Et(Z,te),te.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===U)&&te.valueAccessor.setDisabledState?.(Z.disabled),function ft(Z,te){te.valueAccessor.registerOnChange(U=>{Z._pendingValue=U,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&$e(Z,te)})}(Z,te),function Dt(Z,te){const U=(pe,qe)=>{te.valueAccessor.writeValue(pe),qe&&te.viewToModelUpdate(pe)};Z.registerOnChange(U),te._registerOnDestroy(()=>{Z._unregisterOnChange(U)})}(Z,te),function Ke(Z,te){te.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&$e(Z,te),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,te),function ti(Z,te){if(te.valueAccessor.setDisabledState){const U=pe=>{te.valueAccessor.setDisabledState(pe)};Z.registerOnDisabledChange(U),te._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(U)})}}(Z,te)}function Rn(Z,te,U=!0){const pe=()=>{};te.valueAccessor&&(te.valueAccessor.registerOnChange(pe),te.valueAccessor.registerOnTouched(pe)),tt(Z,te),Z&&(te._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function Gn(Z,te){Z.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(te)})}function Et(Z,te){const U=Oe(Z);null!==te.validator?Z.setValidators(ot(U,te.validator)):"function"==typeof U&&Z.setValidators([U]);const pe=Nt(Z);null!==te.asyncValidator?Z.setAsyncValidators(ot(pe,te.asyncValidator)):"function"==typeof pe&&Z.setAsyncValidators([pe]);const qe=()=>Z.updateValueAndValidity();Gn(te._rawValidators,qe),Gn(te._rawAsyncValidators,qe)}function tt(Z,te){let U=!1;if(null!==Z){if(null!==te.validator){const qe=Oe(Z);if(Array.isArray(qe)&&qe.length>0){const Pn=qe.filter(mi=>mi!==te.validator);Pn.length!==qe.length&&(U=!0,Z.setValidators(Pn))}}if(null!==te.asyncValidator){const qe=Nt(Z);if(Array.isArray(qe)&&qe.length>0){const Pn=qe.filter(mi=>mi!==te.asyncValidator);Pn.length!==qe.length&&(U=!0,Z.setAsyncValidators(Pn))}}}const pe=()=>{};return Gn(te._rawValidators,pe),Gn(te._rawAsyncValidators,pe),U}function $e(Z,te){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),te.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function Pt(Z,te){Et(Z,te)}function Tn(Z,te){Z._syncPendingControls(),te.forEach(U=>{const pe=U.control;"submit"===pe.updateOn&&pe._pendingChange&&(U.viewToModelUpdate(pe._pendingValue),pe._pendingChange=!1)})}const Ln={provide:Kt,useExisting:(0,h.Gpc)(()=>Br)},Di=(()=>Promise.resolve())();let Br=(()=>{class Z extends Kt{constructor(U,pe,qe){super(),this.callSetDisabledState=qe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new ie({},Le(U),st(pe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){Di.then(()=>{const pe=this._findContainer(U.path);U.control=pe.registerControl(U.name,U.control),kn(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){Di.then(()=>{const pe=this._findContainer(U.path);pe&&pe.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){Di.then(()=>{const pe=this._findContainer(U.path),qe=new ie({});Pt(qe,U),pe.registerControl(U.name,qe),qe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){Di.then(()=>{const pe=this._findContainer(U.path);pe&&pe.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,pe){Di.then(()=>{this.form.get(U.path).setValue(pe)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,Tn(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static#e=this.\u0275fac=function(pe){return new(pe||Z)(h.Y36(ye,10),h.Y36(Ee,10),h.Y36(Xe,8))};static#t=this.\u0275dir=h.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(pe,qe){1&pe&&h.NdJ("submit",function(mi){return qe.onSubmit(mi)})("reset",function(){return qe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Ln]),h.qOj]})}return Z})();function fr(Z,te){const U=Z.indexOf(te);U>-1&&Z.splice(U,1)}function Wi(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const Wr=class extends ve{constructor(te=null,U,pe){super(Vn(U),lt(pe,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(te),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Te(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Wi(te)?te.value:te)}setValue(te,U={}){this.value=this._pendingValue=te,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(pe=>pe(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(te,U={}){this.setValue(te,U)}reset(te=this.defaultValue,U={}){this._applyFormState(te),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(te){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(te){this._onChange.push(te)}_unregisterOnChange(te){fr(this._onChange,te)}registerOnDisabledChange(te){this._onDisabledChange.push(te)}_unregisterOnDisabledChange(te){fr(this._onDisabledChange,te)}_forEachChild(te){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(te){Wi(te)?(this.value=this._pendingValue=te.value,te.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=te}};let ca=(()=>{class Z{static#e=this.\u0275fac=function(pe){return new(pe||Z)};static#t=this.\u0275dir=h.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Z})(),Zr=(()=>{class Z{static#e=this.\u0275fac=function(pe){return new(pe||Z)};static#t=this.\u0275mod=h.oAB({type:Z});static#n=this.\u0275inj=h.cJS({})}return Z})();const _i=new h.OlP("NgModelWithFormControlWarning"),Qr={provide:Kt,useExisting:(0,h.Gpc)(()=>vr)};let vr=(()=>{class Z extends Kt{constructor(U,pe,qe){super(),this.callSetDisabledState=qe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(U),this._setAsyncValidators(pe)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const pe=this.form.get(U.path);return kn(pe,U,this.callSetDisabledState),pe.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),pe}getControl(U){return this.form.get(U.path)}removeControl(U){Rn(U.control||null,U,!1),function ci(Z,te){const U=Z.indexOf(te);U>-1&&Z.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,pe){this.form.get(U.path).setValue(pe)}onSubmit(U){return this.submitted=!0,Tn(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const pe=U.control,qe=this.form.get(U.path);pe!==qe&&(Rn(pe||null,U),(Z=>Z instanceof Wr)(qe)&&(kn(qe,U,this.callSetDisabledState),U.control=qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const pe=this.form.get(U.path);Pt(pe,U),pe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const pe=this.form.get(U.path);pe&&function he(Z,te){return tt(Z,te)}(pe,U)&&pe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Et(this.form,this),this._oldForm&&tt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(pe){return new(pe||Z)(h.Y36(ye,10),h.Y36(Ee,10),h.Y36(Xe,8))};static#t=this.\u0275dir=h.lG2({type:Z,selectors:[["","formGroup",""]],hostBindings:function(pe,qe){1&pe&&h.NdJ("submit",function(mi){return qe.onSubmit(mi)})("reset",function(){return qe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Qr]),h.qOj,h.TTD]})}return Z})();const Mi={provide:qt,useExisting:(0,h.Gpc)(()=>Cn)};let Cn=(()=>{class Z extends qt{set isDisabled(U){}static#e=this._ngModelWarningSentOnce=!1;constructor(U,pe,qe,Pn,mi){super(),this._ngModelWarningConfig=mi,this._added=!1,this.name=null,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(pe),this._setAsyncValidators(qe),this.valueAccessor=function ni(Z,te){if(!te)return null;let U,pe,qe;return Array.isArray(te),te.forEach(Pn=>{Pn.constructor===Fe?U=Pn:function $n(Z){return Object.getPrototypeOf(Z.constructor)===Me}(Pn)?pe=Pn:qe=Pn}),qe||pe||U||null}(0,Pn)}ngOnChanges(U){this._added||this._setUpControl(),function cn(Z,te){if(!Z.hasOwnProperty("model"))return!1;const U=Z.model;return!!U.isFirstChange()||!Object.is(te,U.currentValue)}(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return function vn(Z,te){return[...te.path,Z]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(pe){return new(pe||Z)(h.Y36(Kt,13),h.Y36(ye,10),h.Y36(Ee,10),h.Y36(X,10),h.Y36(_i,8))};static#n=this.\u0275dir=h.lG2({type:Z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Mi]),h.qOj,h.TTD]})}return Z})(),Hi=(()=>{class Z{constructor(){this._validator=Gt}ngOnChanges(U){if(this.inputName in U){const pe=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(pe),this._validator=this._enabled?this.createValidator(pe):Gt,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static#e=this.\u0275fac=function(pe){return new(pe||Z)};static#t=this.\u0275dir=h.lG2({type:Z,features:[h.TTD]})}return Z})();const rs={provide:ye,useExisting:(0,h.Gpc)(()=>lo),multi:!0},Co={provide:ye,useExisting:(0,h.Gpc)(()=>jr),multi:!0};let lo=(()=>{class Z extends Hi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.VuI,this.createValidator=U=>xe}enabled(U){return U}static#e=this.\u0275fac=function(){let U;return function(qe){return(U||(U=h.n5z(Z)))(qe||Z)}}();static#t=this.\u0275dir=h.lG2({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(pe,qe){2&pe&&h.uIk("required",qe._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([rs]),h.qOj]})}return Z})(),jr=(()=>{class Z extends lo{constructor(){super(...arguments),this.createValidator=U=>He}static#e=this.\u0275fac=function(){let U;return function(qe){return(U||(U=h.n5z(Z)))(qe||Z)}}();static#t=this.\u0275dir=h.lG2({type:Z,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(pe,qe){2&pe&&h.uIk("required",qe._enabled?"":null)},features:[h._Bn([Co]),h.qOj]})}return Z})(),yi=(()=>{class Z{static#e=this.\u0275fac=function(pe){return new(pe||Z)};static#t=this.\u0275mod=h.oAB({type:Z});static#n=this.\u0275inj=h.cJS({imports:[Zr]})}return Z})();class Xi extends ve{constructor(te,U,pe){super(Vn(U),lt(pe,U)),this.controls=te,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(te){return this.controls[this._adjustIndex(te)]}push(te,U={}){this.controls.push(te),this._registerControl(te),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(te,U,pe={}){this.controls.splice(te,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:pe.emitEvent})}removeAt(te,U={}){let pe=this._adjustIndex(te);pe<0&&(pe=0),this.controls[pe]&&this.controls[pe]._registerOnCollectionChange(()=>{}),this.controls.splice(pe,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(te,U,pe={}){let qe=this._adjustIndex(te);qe<0&&(qe=0),this.controls[qe]&&this.controls[qe]._registerOnCollectionChange(()=>{}),this.controls.splice(qe,1),U&&(this.controls.splice(qe,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(te,U={}){xt(this,0,te),te.forEach((pe,qe)=>{Ze(this,!1,qe),this.at(qe).setValue(pe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(te,U={}){null!=te&&(te.forEach((pe,qe)=>{this.at(qe)&&this.at(qe).patchValue(pe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(te=[],U={}){this._forEachChild((pe,qe)=>{pe.reset(te[qe],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(te=>te.getRawValue())}clear(te={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:te.emitEvent}))}_adjustIndex(te){return te<0?te+this.length:te}_syncPendingControls(){let te=this.controls.reduce((U,pe)=>!!pe._syncPendingControls()||U,!1);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){this.controls.forEach((U,pe)=>{te(U,pe)})}_updateValue(){this.value=this.controls.filter(te=>te.enabled||this.disabled).map(te=>te.value)}_anyControls(te){return this.controls.some(U=>U.enabled&&te(U))}_setUpControls(){this._forEachChild(te=>this._registerControl(te))}_allControlsDisabled(){for(const te of this.controls)if(te.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(te){te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)}_find(te){return this.at(te)??null}}function Ms(Z){return!!Z&&(void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn)}let Er=(()=>{class Z{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new Z;return U.useNonNullable=!0,U}group(U,pe=null){const qe=this._reduceControls(U);let Pn={};return Ms(pe)?Pn=pe:null!==pe&&(Pn.validators=pe.validator,Pn.asyncValidators=pe.asyncValidator),new ie(qe,Pn)}record(U,pe=null){const qe=this._reduceControls(U);return new B(qe,pe)}control(U,pe,qe){let Pn={};return this.useNonNullable?(Ms(pe)?Pn=pe:(Pn.validators=pe,Pn.asyncValidators=qe),new Wr(U,{...Pn,nonNullable:!0})):new Wr(U,pe,qe)}array(U,pe,qe){const Pn=U.map(mi=>this._createControl(mi));return new Xi(Pn,pe,qe)}_reduceControls(U){const pe={};return Object.keys(U).forEach(qe=>{pe[qe]=this._createControl(U[qe])}),pe}_createControl(U){return U instanceof Wr||U instanceof ve?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static#e=this.\u0275fac=function(pe){return new(pe||Z)};static#t=this.\u0275prov=h.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),$a=(()=>{class Z{static withConfig(U){return{ngModule:Z,providers:[{provide:Xe,useValue:U.callSetDisabledState??Xt}]}}static#e=this.\u0275fac=function(pe){return new(pe||Z)};static#t=this.\u0275mod=h.oAB({type:Z});static#n=this.\u0275inj=h.cJS({imports:[yi]})}return Z})(),Xr=(()=>{class Z{static withConfig(U){return{ngModule:Z,providers:[{provide:_i,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:Xe,useValue:U.callSetDisabledState??Xt}]}}static#e=this.\u0275fac=function(pe){return new(pe||Z)};static#t=this.\u0275mod=h.oAB({type:Z});static#n=this.\u0275inj=h.cJS({imports:[yi]})}return Z})()},2296:(on,et,T)=>{T.d(et,{RK:()=>tn,lW:()=>it,ot:()=>Le});var h=T(2831),k=T(5879),z=T(4300),I=T(2495),ge=T(3680);const Ae=["mat-button",""],Me=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],X=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Fe=["mat-icon-button",""],Qe=["*"],bt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],ct=(0,ge.pj)((0,ge.Id)((0,ge.Kr)(class{constructor(Se){this._elementRef=Se}})));let fe=(()=>{class Se extends ct{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(ot){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,ot)}get disableRipple(){return this._disableRipple}set disableRipple(ot){this._disableRipple=(0,I.Ig)(ot),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(ot){this._disabled=(0,I.Ig)(ot),this._updateRippleDisabled()}constructor(ot,Oe,Nt,De){super(ot),this._platform=Oe,this._ngZone=Nt,this._animationMode=De,this._focusMonitor=(0,k.f3M)(z.tE),this._rippleLoader=(0,k.f3M)(ge.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const We=ot.nativeElement.classList;for(const Ce of bt)this._hasHostAttributes(Ce.selector)&&Ce.mdcClasses.forEach(dt=>{We.add(dt)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ot="program",Oe){ot?this._focusMonitor.focusVia(this._elementRef.nativeElement,ot,Oe):this._elementRef.nativeElement.focus(Oe)}_hasHostAttributes(...ot){return ot.some(Oe=>this._elementRef.nativeElement.hasAttribute(Oe))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(Oe){k.$Z()};static#t=this.\u0275dir=k.lG2({type:Se,features:[k.qOj]})}return Se})(),it=(()=>{class Se extends fe{constructor(ot,Oe,Nt,De){super(ot,Oe,Nt,De)}static#e=this.\u0275fac=function(Oe){return new(Oe||Se)(k.Y36(k.SBq),k.Y36(h.t4),k.Y36(k.R0b),k.Y36(k.QbO,8))};static#t=this.\u0275cmp=k.Xpm({type:Se,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(Oe,Nt){2&Oe&&(k.uIk("disabled",Nt.disabled||null),k.ekj("_mat-animation-noopable","NoopAnimations"===Nt._animationMode)("mat-unthemed",!Nt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[k.qOj],attrs:Ae,ngContentSelectors:X,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Oe,Nt){1&Oe&&(k.F$t(Me),k._UZ(0,"span",0),k.Hsn(1),k.TgZ(2,"span",1),k.Hsn(3,1),k.qZA(),k.Hsn(4,2),k._UZ(5,"span",2)(6,"span",3)),2&Oe&&k.ekj("mdc-button__ripple",!Nt._isFab)("mdc-fab__ripple",Nt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Se})(),tn=(()=>{class Se extends fe{constructor(ot,Oe,Nt,De){super(ot,Oe,Nt,De),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(Oe){return new(Oe||Se)(k.Y36(k.SBq),k.Y36(h.t4),k.Y36(k.R0b),k.Y36(k.QbO,8))};static#t=this.\u0275cmp=k.Xpm({type:Se,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(Oe,Nt){2&Oe&&(k.uIk("disabled",Nt.disabled||null),k.ekj("_mat-animation-noopable","NoopAnimations"===Nt._animationMode)("mat-unthemed",!Nt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[k.qOj],attrs:Fe,ngContentSelectors:Qe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Oe,Nt){1&Oe&&(k.F$t(),k._UZ(0,"span",0),k.Hsn(1),k._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Se})(),Le=(()=>{class Se{static#e=this.\u0275fac=function(Oe){return new(Oe||Se)};static#t=this.\u0275mod=k.oAB({type:Se});static#n=this.\u0275inj=k.cJS({imports:[ge.BQ,ge.si,ge.BQ]})}return Se})()},3680:(on,et,T)=>{T.d(et,{yN:()=>ct,mZ:()=>fe,rD:()=>Ce,K7:()=>Zt,HF:()=>It,BQ:()=>He,ey:()=>Fn,Ng:()=>kt,wG:()=>Q,Fq:()=>ie,si:()=>ue,CB:()=>Mt,jH:()=>Vn,pj:()=>Gt,Kr:()=>_n,Id:()=>an,FD:()=>bn,dB:()=>en,sb:()=>Yt});var h=T(5879),k=T(4300),z=T(9388),ge=T(6814),Ae=T(2831),Me=T(2495),X=T(5592),be=T(8645),ne=T(6028);const nt=["text"];function Fe(Y,$){if(1&Y&&h._UZ(0,"mat-pseudo-checkbox",6),2&Y){const B=h.oxw();h.Q6J("disabled",B.disabled)("state",B.selected?"checked":"unchecked")}}function Qe(Y,$){if(1&Y&&h._UZ(0,"mat-pseudo-checkbox",7),2&Y){const B=h.oxw();h.Q6J("disabled",B.disabled)}}function Ue(Y,$){if(1&Y&&(h.TgZ(0,"span",8),h._uU(1),h.qZA()),2&Y){const B=h.oxw();h.xp6(1),h.hij("(",B.group.label,")")}}const ye=[[["mat-icon"]],"*"],Ee=["mat-icon","*"];let ct=(()=>{class Y{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return Y})(),fe=(()=>{class Y{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return Y})();const xe=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ne(){return!0}});let He=(()=>{class Y{constructor(B,_e,Xe){this._sanityChecks=_e,this._document=Xe,this._hasDoneGlobalChecks=!1,B._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(B){return!(0,Ae.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[B])}static#e=this.\u0275fac=function(_e){return new(_e||Y)(h.LFG(k.qm),h.LFG(xe,8),h.LFG(ge.K0))};static#t=this.\u0275mod=h.oAB({type:Y});static#n=this.\u0275inj=h.cJS({imports:[z.vT,z.vT]})}return Y})();function an(Y){return class extends Y{get disabled(){return this._disabled}set disabled($){this._disabled=(0,Me.Ig)($)}constructor(...$){super(...$),this._disabled=!1}}}function Gt(Y,$){return class extends Y{get color(){return this._color}set color(B){const _e=B||this.defaultColor;_e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),_e&&this._elementRef.nativeElement.classList.add(`mat-${_e}`),this._color=_e)}constructor(...B){super(...B),this.defaultColor=$,this.color=$}}}function _n(Y){return class extends Y{get disableRipple(){return this._disableRipple}set disableRipple($){this._disableRipple=(0,Me.Ig)($)}constructor(...$){super(...$),this._disableRipple=!1}}}function Yt(Y,$=0){return class extends Y{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(B){this._tabIndex=null!=B?(0,Me.su)(B):this.defaultTabIndex}constructor(...B){super(...B),this._tabIndex=$,this.defaultTabIndex=$}}}function bn(Y){return class extends Y{updateErrorState(){const $=this.errorState,Xt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Xt!==$&&(this.errorState=Xt,this.stateChanges.next())}constructor(...$){super(...$),this.errorState=!1}}}function en(Y){return class extends Y{constructor(...$){super(...$),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new X.y(B=>{this._isInitialized?this._notifySubscriber(B):this._pendingSubscribers.push(B)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber($){$.next(),$.complete()}}}let Ce=(()=>{class Y{isErrorState(B,_e){return!!(B&&B.invalid&&(B.touched||_e&&_e.submitted))}static#e=this.\u0275fac=function(_e){return new(_e||Y)};static#t=this.\u0275prov=h.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();class An{constructor($,B,_e,Xe=!1){this._renderer=$,this.element=B,this.config=_e,this._animationForciblyDisabledThroughCss=Xe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const at=(0,Ae.i$)({passive:!0,capture:!0});class Bt{constructor(){this._events=new Map,this._delegateEventHandler=$=>{const B=(0,Ae.sA)($);B&&this._events.get($.type)?.forEach((_e,Xe)=>{(Xe===B||Xe.contains(B))&&_e.forEach(Xt=>Xt.handleEvent($))})}}addHandler($,B,_e,Xe){const Xt=this._events.get(B);if(Xt){const vn=Xt.get(_e);vn?vn.add(Xe):Xt.set(_e,new Set([Xe]))}else this._events.set(B,new Map([[_e,new Set([Xe])]])),$.runOutsideAngular(()=>{document.addEventListener(B,this._delegateEventHandler,at)})}removeHandler($,B,_e){const Xe=this._events.get($);if(!Xe)return;const Xt=Xe.get(B);Xt&&(Xt.delete(_e),0===Xt.size&&Xe.delete(B),0===Xe.size&&(this._events.delete($),document.removeEventListener($,this._delegateEventHandler,at)))}}const un={enterDuration:225,exitDuration:150},Qn=(0,Ae.i$)({passive:!0,capture:!0}),gi=["mousedown","touchstart"],ai=["mouseup","mouseleave","touchend","touchcancel"];class sn{static#e=this._eventManager=new Bt;constructor($,B,_e,Xe){this._target=$,this._ngZone=B,this._platform=Xe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Xe.isBrowser&&(this._containerElement=(0,Me.fI)(_e))}fadeInRipple($,B,_e={}){const Xe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Xt={...un,..._e.animation};_e.centered&&($=Xe.left+Xe.width/2,B=Xe.top+Xe.height/2);const vn=_e.radius||function Ct(Y,$,B){const _e=Math.max(Math.abs(Y-B.left),Math.abs(Y-B.right)),Xe=Math.max(Math.abs($-B.top),Math.abs($-B.bottom));return Math.sqrt(_e*_e+Xe*Xe)}($,B,Xe),kn=$-Xe.left,Rn=B-Xe.top,Gn=Xt.enterDuration,ti=document.createElement("div");ti.classList.add("mat-ripple-element"),ti.style.left=kn-vn+"px",ti.style.top=Rn-vn+"px",ti.style.height=2*vn+"px",ti.style.width=2*vn+"px",null!=_e.color&&(ti.style.backgroundColor=_e.color),ti.style.transitionDuration=`${Gn}ms`,this._containerElement.appendChild(ti);const Et=window.getComputedStyle(ti),ft=Et.transitionDuration,Ke="none"===Et.transitionProperty||"0s"===ft||"0s, 0s"===ft||0===Xe.width&&0===Xe.height,$e=new An(this,ti,_e,Ke);ti.style.transform="scale3d(1, 1, 1)",$e.state=0,_e.persistent||(this._mostRecentTransientRipple=$e);let Dt=null;return!Ke&&(Gn||Xt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Pt=()=>this._finishRippleTransition($e),he=()=>this._destroyRipple($e);ti.addEventListener("transitionend",Pt),ti.addEventListener("transitioncancel",he),Dt={onTransitionEnd:Pt,onTransitionCancel:he}}),this._activeRipples.set($e,Dt),(Ke||!Gn)&&this._finishRippleTransition($e),$e}fadeOutRipple($){if(2===$.state||3===$.state)return;const B=$.element,_e={...un,...$.config.animation};B.style.transitionDuration=`${_e.exitDuration}ms`,B.style.opacity="0",$.state=2,($._animationForciblyDisabledThroughCss||!_e.exitDuration)&&this._finishRippleTransition($)}fadeOutAll(){this._getActiveRipples().forEach($=>$.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach($=>{$.config.persistent||$.fadeOut()})}setupTriggerEvents($){const B=(0,Me.fI)($);!this._platform.isBrowser||!B||B===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=B,gi.forEach(_e=>{sn._eventManager.addHandler(this._ngZone,_e,B,this)}))}handleEvent($){"mousedown"===$.type?this._onMousedown($):"touchstart"===$.type?this._onTouchStart($):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ai.forEach(B=>{this._triggerElement.addEventListener(B,this,Qn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition($){0===$.state?this._startFadeOutTransition($):2===$.state&&this._destroyRipple($)}_startFadeOutTransition($){const B=$===this._mostRecentTransientRipple,{persistent:_e}=$.config;$.state=1,!_e&&(!B||!this._isPointerDown)&&$.fadeOut()}_destroyRipple($){const B=this._activeRipples.get($)??null;this._activeRipples.delete($),this._activeRipples.size||(this._containerRect=null),$===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),$.state=3,null!==B&&($.element.removeEventListener("transitionend",B.onTransitionEnd),$.element.removeEventListener("transitioncancel",B.onTransitionCancel)),$.element.remove()}_onMousedown($){const B=(0,k.X6)($),_e=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!B&&!_e&&(this._isPointerDown=!0,this.fadeInRipple($.clientX,$.clientY,this._target.rippleConfig))}_onTouchStart($){if(!this._target.rippleDisabled&&!(0,k.yG)($)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const B=$.changedTouches;if(B)for(let _e=0;_e<B.length;_e++)this.fadeInRipple(B[_e].clientX,B[_e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach($=>{!$.config.persistent&&(1===$.state||$.config.terminateOnPointerUp&&0===$.state)&&$.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const $=this._triggerElement;$&&(gi.forEach(B=>sn._eventManager.removeHandler(B,$,this)),this._pointerUpEventsRegistered&&ai.forEach(B=>$.removeEventListener(B,this,Qn)))}}const H=new h.OlP("mat-ripple-global-options");let Q=(()=>{class Y{get disabled(){return this._disabled}set disabled(B){B&&this.fadeOutAllNonPersistent(),this._disabled=B,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(B){this._trigger=B,this._setupTriggerEventsIfEnabled()}constructor(B,_e,Xe,Xt,vn){this._elementRef=B,this._animationMode=vn,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Xt||{},this._rippleRenderer=new sn(this,_e,B,Xe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(B,_e=0,Xe){return"number"==typeof B?this._rippleRenderer.fadeInRipple(B,_e,{...this.rippleConfig,...Xe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...B})}static#e=this.\u0275fac=function(_e){return new(_e||Y)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Ae.t4),h.Y36(H,8),h.Y36(h.QbO,8))};static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(_e,Xe){2&_e&&h.ekj("mat-ripple-unbounded",Xe.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return Y})(),ue=(()=>{class Y{static#e=this.\u0275fac=function(_e){return new(_e||Y)};static#t=this.\u0275mod=h.oAB({type:Y});static#n=this.\u0275inj=h.cJS({imports:[He,He]})}return Y})(),pt=(()=>{class Y{constructor(B){this._animationMode=B,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(_e){return new(_e||Y)(h.Y36(h.QbO,8))};static#t=this.\u0275cmp=h.Xpm({type:Y,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(_e,Xe){2&_e&&h.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Xe.state)("mat-pseudo-checkbox-checked","checked"===Xe.state)("mat-pseudo-checkbox-disabled",Xe.disabled)("mat-pseudo-checkbox-minimal","minimal"===Xe.appearance)("mat-pseudo-checkbox-full","full"===Xe.appearance)("_mat-animation-noopable","NoopAnimations"===Xe._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(_e,Xe){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Y})(),je=(()=>{class Y{static#e=this.\u0275fac=function(_e){return new(_e||Y)};static#t=this.\u0275mod=h.oAB({type:Y});static#n=this.\u0275inj=h.cJS({imports:[He]})}return Y})();const It=new h.OlP("MAT_OPTION_PARENT_COMPONENT"),Zt=new h.OlP("MatOptgroup");let In=0;class Un{constructor($,B=!1){this.source=$,this.isUserInput=B}}let Xn=(()=>{class Y{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(B){this._disabled=(0,Me.Ig)(B)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(B,_e,Xe,Xt){this._element=B,this._changeDetectorRef=_e,this._parent=Xe,this.group=Xt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+In++,this.onSelectionChange=new h.vpe,this._stateChanges=new be.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(B=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),B&&this._emitSelectionChangeEvent())}deselect(B=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),B&&this._emitSelectionChangeEvent())}focus(B,_e){const Xe=this._getHostElement();"function"==typeof Xe.focus&&Xe.focus(_e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(B){(B.keyCode===ne.K5||B.keyCode===ne.L_)&&!(0,ne.Vb)(B)&&(this._selectViaInteraction(),B.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const B=this.viewValue;B!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=B)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(B=!1){this.onSelectionChange.emit(new Un(this,B))}static#e=this.\u0275fac=function(_e){h.$Z()};static#t=this.\u0275dir=h.lG2({type:Y,viewQuery:function(_e,Xe){if(1&_e&&h.Gf(nt,7),2&_e){let Xt;h.iGM(Xt=h.CRH())&&(Xe._text=Xt.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return Y})(),Fn=(()=>{class Y extends Xn{constructor(B,_e,Xe,Xt){super(B,_e,Xe,Xt)}static#e=this.\u0275fac=function(_e){return new(_e||Y)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(It,8),h.Y36(Zt,8))};static#t=this.\u0275cmp=h.Xpm({type:Y,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(_e,Xe){1&_e&&h.NdJ("click",function(){return Xe._selectViaInteraction()})("keydown",function(vn){return Xe._handleKeydown(vn)}),2&_e&&(h.Ikx("id",Xe.id),h.uIk("aria-selected",Xe.selected)("aria-disabled",Xe.disabled.toString()),h.ekj("mdc-list-item--selected",Xe.selected)("mat-mdc-option-multiple",Xe.multiple)("mat-mdc-option-active",Xe.active)("mdc-list-item--disabled",Xe.disabled))},exportAs:["matOption"],features:[h.qOj],ngContentSelectors:Ee,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(_e,Xe){1&_e&&(h.F$t(ye),h.YNc(0,Fe,1,2,"mat-pseudo-checkbox",0),h.Hsn(1),h.TgZ(2,"span",1,2),h.Hsn(4,1),h.qZA(),h.YNc(5,Qe,1,1,"mat-pseudo-checkbox",3),h.YNc(6,Ue,2,1,"span",4),h._UZ(7,"div",5)),2&_e&&(h.Q6J("ngIf",Xe.multiple),h.xp6(5),h.Q6J("ngIf",!Xe.multiple&&Xe.selected&&!Xe.hideSingleSelectionIndicator),h.xp6(1),h.Q6J("ngIf",Xe.group&&Xe.group._inert),h.xp6(1),h.Q6J("matRippleTrigger",Xe._getHostElement())("matRippleDisabled",Xe.disabled||Xe.disableRipple))},dependencies:[Q,ge.O5,pt],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Y})();function Mt(Y,$,B){if(B.length){let _e=$.toArray(),Xe=B.toArray(),Xt=0;for(let vn=0;vn<Y+1;vn++)_e[vn].group&&_e[vn].group===Xe[Xt]&&Xt++;return Xt}return 0}function Vn(Y,$,B,_e){return Y<B?Y:Y+$>B+_e?Math.max(0,Y-_e+$):B}let kt=(()=>{class Y{static#e=this.\u0275fac=function(_e){return new(_e||Y)};static#t=this.\u0275mod=h.oAB({type:Y});static#n=this.\u0275inj=h.cJS({imports:[ue,ge.ez,He,je]})}return Y})();const lt={capture:!0},ze=["focus","click","mouseenter","touchstart"],Te="mat-ripple-loader-uninitialized",Ze="mat-ripple-loader-class-name",xt="mat-ripple-loader-centered",ve="mat-ripple-loader-disabled";let ie=(()=>{class Y{constructor(){this._document=(0,h.f3M)(ge.K0,{optional:!0}),this._animationMode=(0,h.f3M)(h.QbO,{optional:!0}),this._globalRippleOptions=(0,h.f3M)(H,{optional:!0}),this._platform=(0,h.f3M)(Ae.t4),this._ngZone=(0,h.f3M)(h.R0b),this._onInteraction=B=>{if(!(B.target instanceof HTMLElement))return;const Xe=B.target.closest(`[${Te}]`);Xe&&this.createRipple(Xe)},this._ngZone.runOutsideAngular(()=>{for(const B of ze)this._document?.addEventListener(B,this._onInteraction,lt)})}ngOnDestroy(){for(const B of ze)this._document?.removeEventListener(B,this._onInteraction,lt)}configureRipple(B,_e){B.setAttribute(Te,""),(_e.className||!B.hasAttribute(Ze))&&B.setAttribute(Ze,_e.className||""),_e.centered&&B.setAttribute(xt,""),_e.disabled&&B.setAttribute(ve,"")}getRipple(B){return B.matRipple?B.matRipple:this.createRipple(B)}setDisabled(B,_e){const Xe=B.matRipple;Xe?Xe.disabled=_e:_e?B.setAttribute(ve,""):B.removeAttribute(ve)}createRipple(B){if(!this._document)return;B.querySelector(".mat-ripple")?.remove();const _e=this._document.createElement("span");_e.classList.add("mat-ripple",B.getAttribute(Ze)),B.append(_e);const Xe=new Q(new h.SBq(_e),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Xe._isInitialized=!0,Xe.trigger=B,Xe.centered=B.hasAttribute(xt),Xe.disabled=B.hasAttribute(ve),this.attachRipple(B,Xe),Xe}attachRipple(B,_e){B.removeAttribute(Te),B.matRipple=_e}static#e=this.\u0275fac=function(_e){return new(_e||Y)};static#t=this.\u0275prov=h.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})()},7700:(on,et,T)=>{T.d(et,{WI:()=>dt,uw:()=>zn,H8:()=>Ct,xY:()=>sn,Is:()=>Q,so:()=>We,uh:()=>ai});var h=T(3651),k=T(6814),z=T(5879),I=T(4300),ge=T(2831),Ae=T(8484),Me=T(6028),X=T(8645),be=T(4911),ne=T(2096),de=T(9388),Re=T(7921);function nt(je,It){}class Fe{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Ue=(()=>{class je extends Ae.en{constructor(Ve,gt,ut,Zt,Wt,In,Un,Xn){super(),this._elementRef=Ve,this._focusTrapFactory=gt,this._config=Zt,this._interactivityChecker=Wt,this._ngZone=In,this._overlayRef=Un,this._focusMonitor=Xn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=Fn=>{this._portalOutlet.hasAttached();const Mt=this._portalOutlet.attachDomPortal(Fn);return this._contentAttached(),Mt},this._document=ut,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Ve){this._portalOutlet.hasAttached();const gt=this._portalOutlet.attachComponentPortal(Ve);return this._contentAttached(),gt}attachTemplatePortal(Ve){this._portalOutlet.hasAttached();const gt=this._portalOutlet.attachTemplatePortal(Ve);return this._contentAttached(),gt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Ve,gt){this._interactivityChecker.isFocusable(Ve)||(Ve.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ut=()=>{Ve.removeEventListener("blur",ut),Ve.removeEventListener("mousedown",ut),Ve.removeAttribute("tabindex")};Ve.addEventListener("blur",ut),Ve.addEventListener("mousedown",ut)})),Ve.focus(gt)}_focusByCssSelector(Ve,gt){let ut=this._elementRef.nativeElement.querySelector(Ve);ut&&this._forceFocus(ut,gt)}_trapFocus(){const Ve=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Ve.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(gt=>{gt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Ve=this._config.restoreFocus;let gt=null;if("string"==typeof Ve?gt=this._document.querySelector(Ve):"boolean"==typeof Ve?gt=Ve?this._elementFocusedBeforeDialogWasOpened:null:Ve&&(gt=Ve),this._config.restoreFocus&&gt&&"function"==typeof gt.focus){const ut=(0,ge.ht)(),Zt=this._elementRef.nativeElement;(!ut||ut===this._document.body||ut===Zt||Zt.contains(ut))&&(this._focusMonitor?(this._focusMonitor.focusVia(gt,this._closeInteractionType),this._closeInteractionType=null):gt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Ve=this._elementRef.nativeElement,gt=(0,ge.ht)();return Ve===gt||Ve.contains(gt)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,ge.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(gt){return new(gt||je)(z.Y36(z.SBq),z.Y36(I.qV),z.Y36(k.K0,8),z.Y36(Fe),z.Y36(I.ic),z.Y36(z.R0b),z.Y36(h.Iu),z.Y36(I.tE))};static#t=this.\u0275cmp=z.Xpm({type:je,selectors:[["cdk-dialog-container"]],viewQuery:function(gt,ut){if(1&gt&&z.Gf(Ae.Pl,7),2&gt){let Zt;z.iGM(Zt=z.CRH())&&(ut._portalOutlet=Zt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(gt,ut){2&gt&&z.uIk("id",ut._config.id||null)("role",ut._config.role)("aria-modal",ut._config.ariaModal)("aria-labelledby",ut._config.ariaLabel?null:ut._ariaLabelledByQueue[0])("aria-label",ut._config.ariaLabel)("aria-describedby",ut._config.ariaDescribedBy||null)},features:[z.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(gt,ut){1&gt&&z.YNc(0,nt,0,0,"ng-template",0)},dependencies:[Ae.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return je})();class ye{constructor(It,Ve){this.overlayRef=It,this.config=Ve,this.closed=new X.x,this.disableClose=Ve.disableClose,this.backdropClick=It.backdropClick(),this.keydownEvents=It.keydownEvents(),this.outsidePointerEvents=It.outsidePointerEvents(),this.id=Ve.id,this.keydownEvents.subscribe(gt=>{gt.keyCode===Me.hY&&!this.disableClose&&!(0,Me.Vb)(gt)&&(gt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=It.detachments().subscribe(()=>{!1!==Ve.closeOnOverlayDetachments&&this.close()})}close(It,Ve){if(this.containerInstance){const gt=this.closed;this.containerInstance._closeInteractionType=Ve?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),gt.next(It),gt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(It="",Ve=""){return this.overlayRef.updateSize({width:It,height:Ve}),this}addPanelClass(It){return this.overlayRef.addPanelClass(It),this}removePanelClass(It){return this.overlayRef.removePanelClass(It),this}}const Ee=new z.OlP("DialogScrollStrategy"),bt=new z.OlP("DialogData"),ct=new z.OlP("DefaultDialogConfig"),Ne={provide:Ee,deps:[h.aV],useFactory:function fe(je){return()=>je.scrollStrategies.block()}};let xe=0,He=(()=>{class je{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Ve,gt,ut,Zt,Wt,In){this._overlay=Ve,this._injector=gt,this._defaultOptions=ut,this._parentDialog=Zt,this._overlayContainer=Wt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new X.x,this._afterOpenedAtThisLevel=new X.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,be.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Re.O)(void 0))),this._scrollStrategy=In}open(Ve,gt){(gt={...this._defaultOptions||new Fe,...gt}).id=gt.id||"cdk-dialog-"+xe++,gt.id&&this.getDialogById(gt.id);const Zt=this._getOverlayConfig(gt),Wt=this._overlay.create(Zt),In=new ye(Wt,gt),Un=this._attachContainer(Wt,In,gt);return In.containerInstance=Un,this._attachDialogContent(Ve,In,Un,gt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(In),In.closed.subscribe(()=>this._removeOpenDialog(In,!0)),this.afterOpened.next(In),In}closeAll(){it(this.openDialogs,Ve=>Ve.close())}getDialogById(Ve){return this.openDialogs.find(gt=>gt.id===Ve)}ngOnDestroy(){it(this._openDialogsAtThisLevel,Ve=>{!1===Ve.config.closeOnDestroy&&this._removeOpenDialog(Ve,!1)}),it(this._openDialogsAtThisLevel,Ve=>Ve.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Ve){const gt=new h.X_({positionStrategy:Ve.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Ve.scrollStrategy||this._scrollStrategy(),panelClass:Ve.panelClass,hasBackdrop:Ve.hasBackdrop,direction:Ve.direction,minWidth:Ve.minWidth,minHeight:Ve.minHeight,maxWidth:Ve.maxWidth,maxHeight:Ve.maxHeight,width:Ve.width,height:Ve.height,disposeOnNavigation:Ve.closeOnNavigation});return Ve.backdropClass&&(gt.backdropClass=Ve.backdropClass),gt}_attachContainer(Ve,gt,ut){const Zt=ut.injector||ut.viewContainerRef?.injector,Wt=[{provide:Fe,useValue:ut},{provide:ye,useValue:gt},{provide:h.Iu,useValue:Ve}];let In;ut.container?"function"==typeof ut.container?In=ut.container:(In=ut.container.type,Wt.push(...ut.container.providers(ut))):In=Ue;const Un=new Ae.C5(In,ut.viewContainerRef,z.zs3.create({parent:Zt||this._injector,providers:Wt}),ut.componentFactoryResolver);return Ve.attach(Un).instance}_attachDialogContent(Ve,gt,ut,Zt){if(Ve instanceof z.Rgc){const Wt=this._createInjector(Zt,gt,ut,void 0);let In={$implicit:Zt.data,dialogRef:gt};Zt.templateContext&&(In={...In,..."function"==typeof Zt.templateContext?Zt.templateContext():Zt.templateContext}),ut.attachTemplatePortal(new Ae.UE(Ve,null,In,Wt))}else{const Wt=this._createInjector(Zt,gt,ut,this._injector),In=ut.attachComponentPortal(new Ae.C5(Ve,Zt.viewContainerRef,Wt,Zt.componentFactoryResolver));gt.componentRef=In,gt.componentInstance=In.instance}}_createInjector(Ve,gt,ut,Zt){const Wt=Ve.injector||Ve.viewContainerRef?.injector,In=[{provide:bt,useValue:Ve.data},{provide:ye,useValue:gt}];return Ve.providers&&("function"==typeof Ve.providers?In.push(...Ve.providers(gt,Ve,ut)):In.push(...Ve.providers)),Ve.direction&&(!Wt||!Wt.get(de.Is,null,{optional:!0}))&&In.push({provide:de.Is,useValue:{value:Ve.direction,change:(0,ne.of)()}}),z.zs3.create({parent:Wt||Zt,providers:In})}_removeOpenDialog(Ve,gt){const ut=this.openDialogs.indexOf(Ve);ut>-1&&(this.openDialogs.splice(ut,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Zt,Wt)=>{Zt?Wt.setAttribute("aria-hidden",Zt):Wt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),gt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Ve=this._overlayContainer.getContainerElement();if(Ve.parentElement){const gt=Ve.parentElement.children;for(let ut=gt.length-1;ut>-1;ut--){const Zt=gt[ut];Zt!==Ve&&"SCRIPT"!==Zt.nodeName&&"STYLE"!==Zt.nodeName&&!Zt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Zt,Zt.getAttribute("aria-hidden")),Zt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Ve=this._parentDialog;return Ve?Ve._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(gt){return new(gt||je)(z.LFG(h.aV),z.LFG(z.zs3),z.LFG(ct,8),z.LFG(je,12),z.LFG(h.Xj),z.LFG(Ee))};static#t=this.\u0275prov=z.Yz7({token:je,factory:je.\u0275fac})}return je})();function it(je,It){let Ve=je.length;for(;Ve--;)It(je[Ve])}let ke=(()=>{class je{static#e=this.\u0275fac=function(gt){return new(gt||je)};static#t=this.\u0275mod=z.oAB({type:je});static#n=this.\u0275inj=z.cJS({providers:[He,Ne],imports:[h.U8,Ae.eL,I.rt,Ae.eL]})}return je})();var $t=T(2495),an=T(3019),Gt=T(2181),_n=T(8180),Yt=T(3680);function en(je,It){}T(6825);class Ut{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const tn="mdc-dialog--open",Ie="mdc-dialog--opening",Le="mdc-dialog--closing";let ot=(()=>{class je extends Ue{constructor(Ve,gt,ut,Zt,Wt,In,Un,Xn){super(Ve,gt,ut,Zt,Wt,In,Un,Xn),this._animationStateChanged=new z.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Ve){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Ve})}static#e=this.\u0275fac=function(gt){return new(gt||je)(z.Y36(z.SBq),z.Y36(I.qV),z.Y36(k.K0,8),z.Y36(Ut),z.Y36(I.ic),z.Y36(z.R0b),z.Y36(h.Iu),z.Y36(I.tE))};static#t=this.\u0275cmp=z.Xpm({type:je,selectors:[["ng-component"]],features:[z.qOj],decls:0,vars:0,template:function(gt,ut){},encapsulation:2})}return je})();const Oe="--mat-dialog-transition-duration";function Nt(je){return null==je?null:"number"==typeof je?je:je.endsWith("ms")?(0,$t.su)(je.substring(0,je.length-2)):je.endsWith("s")?1e3*(0,$t.su)(je.substring(0,je.length-1)):"0"===je?0:null}let De=(()=>{class je extends ot{constructor(Ve,gt,ut,Zt,Wt,In,Un,Xn,Fn){super(Ve,gt,ut,Zt,Wt,In,Un,Fn),this._animationMode=Xn,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Nt(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Nt(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Oe,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ie,tn)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(tn),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(tn),this._animationsEnabled?(this._hostElement.style.setProperty(Oe,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Le)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ie,Le)}_waitForAnimationToComplete(Ve,gt){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(gt,Ve)}_requestAnimationFrame(Ve){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Ve):Ve()})}static#e=this.\u0275fac=function(gt){return new(gt||je)(z.Y36(z.SBq),z.Y36(I.qV),z.Y36(k.K0,8),z.Y36(Ut),z.Y36(I.ic),z.Y36(z.R0b),z.Y36(h.Iu),z.Y36(z.QbO,8),z.Y36(I.tE))};static#t=this.\u0275cmp=z.Xpm({type:je,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(gt,ut){2&gt&&(z.Ikx("id",ut._config.id),z.uIk("aria-modal",ut._config.ariaModal)("role",ut._config.role)("aria-labelledby",ut._config.ariaLabel?null:ut._ariaLabelledByQueue[0])("aria-label",ut._config.ariaLabel)("aria-describedby",ut._config.ariaDescribedBy||null),z.ekj("_mat-animation-noopable",!ut._animationsEnabled))},features:[z.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(gt,ut){1&gt&&(z.TgZ(0,"div",0)(1,"div",1),z.YNc(2,en,0,0,"ng-template",2),z.qZA()())},dependencies:[Ae.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return je})();class We{constructor(It,Ve,gt){this._ref=It,this._containerInstance=gt,this._afterOpened=new X.x,this._beforeClosed=new X.x,this._state=0,this.disableClose=Ve.disableClose,this.id=It.id,gt._animationStateChanged.pipe((0,Gt.h)(ut=>"opened"===ut.state),(0,_n.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),gt._animationStateChanged.pipe((0,Gt.h)(ut=>"closed"===ut.state),(0,_n.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),It.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,an.T)(this.backdropClick(),this.keydownEvents().pipe((0,Gt.h)(ut=>ut.keyCode===Me.hY&&!this.disableClose&&!(0,Me.Vb)(ut)))).subscribe(ut=>{this.disableClose||(ut.preventDefault(),function Ce(je,It,Ve){je._closeInteractionType=It,je.close(Ve)}(this,"keydown"===ut.type?"keyboard":"mouse"))})}close(It){this._result=It,this._containerInstance._animationStateChanged.pipe((0,Gt.h)(Ve=>"closing"===Ve.state),(0,_n.q)(1)).subscribe(Ve=>{this._beforeClosed.next(It),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Ve.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(It){let Ve=this._ref.config.positionStrategy;return It&&(It.left||It.right)?It.left?Ve.left(It.left):Ve.right(It.right):Ve.centerHorizontally(),It&&(It.top||It.bottom)?It.top?Ve.top(It.top):Ve.bottom(It.bottom):Ve.centerVertically(),this._ref.updatePosition(),this}updateSize(It="",Ve=""){return this._ref.updateSize(It,Ve),this}addPanelClass(It){return this._ref.addPanelClass(It),this}removePanelClass(It){return this._ref.removePanelClass(It),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const dt=new z.OlP("MatMdcDialogData"),wt=new z.OlP("mat-mdc-dialog-default-options"),Kt=new z.OlP("mat-mdc-dialog-scroll-strategy"),An={provide:Kt,deps:[h.aV],useFactory:function qt(je){return()=>je.scrollStrategies.block()}};let Bt=0,un=(()=>{class je{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Ve=this._parentDialog;return Ve?Ve._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Ve,gt,ut,Zt,Wt,In,Un,Xn,Fn,Mt){this._overlay=Ve,this._defaultOptions=ut,this._parentDialog=Zt,this._dialogRefConstructor=Un,this._dialogContainerType=Xn,this._dialogDataToken=Fn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new X.x,this._afterOpenedAtThisLevel=new X.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Ut,this.afterAllClosed=(0,be.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Re.O)(void 0))),this._scrollStrategy=In,this._dialog=gt.get(He)}open(Ve,gt){let ut;(gt={...this._defaultOptions||new Ut,...gt}).id=gt.id||`${this._idPrefix}${Bt++}`,gt.scrollStrategy=gt.scrollStrategy||this._scrollStrategy();const Zt=this._dialog.open(Ve,{...gt,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:gt},{provide:Fe,useValue:gt}]},templateContext:()=>({dialogRef:ut}),providers:(Wt,In,Un)=>(ut=new this._dialogRefConstructor(Wt,gt,Un),ut.updatePosition(gt?.position),[{provide:this._dialogContainerType,useValue:Un},{provide:this._dialogDataToken,useValue:In.data},{provide:this._dialogRefConstructor,useValue:ut}])});return ut.componentRef=Zt.componentRef,ut.componentInstance=Zt.componentInstance,this.openDialogs.push(ut),this.afterOpened.next(ut),ut.afterClosed().subscribe(()=>{const Wt=this.openDialogs.indexOf(ut);Wt>-1&&(this.openDialogs.splice(Wt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),ut}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Ve){return this.openDialogs.find(gt=>gt.id===Ve)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Ve){let gt=Ve.length;for(;gt--;)Ve[gt].close()}static#e=this.\u0275fac=function(gt){z.$Z()};static#t=this.\u0275prov=z.Yz7({token:je,factory:je.\u0275fac})}return je})(),zn=(()=>{class je extends un{constructor(Ve,gt,ut,Zt,Wt,In,Un,Xn){super(Ve,gt,Zt,In,Un,Wt,We,De,dt,Xn),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(gt){return new(gt||je)(z.LFG(h.aV),z.LFG(z.zs3),z.LFG(k.Ye,8),z.LFG(wt,8),z.LFG(Kt),z.LFG(je,12),z.LFG(h.Xj),z.LFG(z.QbO,8))};static#t=this.\u0275prov=z.Yz7({token:je,factory:je.\u0275fac})}return je})(),Qn=0,ai=(()=>{class je{constructor(Ve,gt,ut){this._dialogRef=Ve,this._elementRef=gt,this._dialog=ut,this.id="mat-mdc-dialog-title-"+Qn++}ngOnInit(){this._dialogRef||(this._dialogRef=function H(je,It){let Ve=je.nativeElement.parentElement;for(;Ve&&!Ve.classList.contains("mat-mdc-dialog-container");)Ve=Ve.parentElement;return Ve?It.find(gt=>gt.id===Ve.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const Ve=this._dialogRef?._containerInstance?._ariaLabelledByQueue;Ve&&Promise.resolve().then(()=>{const gt=Ve.indexOf(this.id);gt>-1&&Ve.splice(gt,1)})}static#e=this.\u0275fac=function(gt){return new(gt||je)(z.Y36(We,8),z.Y36(z.SBq),z.Y36(zn))};static#t=this.\u0275dir=z.lG2({type:je,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(gt,ut){2&gt&&z.Ikx("id",ut.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return je})(),sn=(()=>{class je{static#e=this.\u0275fac=function(gt){return new(gt||je)};static#t=this.\u0275dir=z.lG2({type:je,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return je})(),Ct=(()=>{class je{constructor(){this.align="start"}static#e=this.\u0275fac=function(gt){return new(gt||je)};static#t=this.\u0275dir=z.lG2({type:je,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(gt,ut){2&gt&&z.ekj("mat-mdc-dialog-actions-align-center","center"===ut.align)("mat-mdc-dialog-actions-align-end","end"===ut.align)},inputs:{align:"align"}})}return je})(),Q=(()=>{class je{static#e=this.\u0275fac=function(gt){return new(gt||je)};static#t=this.\u0275mod=z.oAB({type:je});static#n=this.\u0275inj=z.cJS({providers:[zn,An],imports:[ke,h.U8,Ae.eL,Yt.BQ,Yt.BQ]})}return je})()},4170:(on,et,T)=>{T.d(et,{G_:()=>Ve,o2:()=>gt,TO:()=>wt,KE:()=>Xn,Eo:()=>ue,lN:()=>Fn,hX:()=>We});var h=T(5879),k=T(9388),z=T(2831),I=T(7394),ge=T(8645),Ae=T(3019),Me=T(9773),X=T(5592),be=T(2181),ne=T(940);class Re{constructor(Vn){this._box=Vn,this._destroyed=new ge.x,this._resizeSubject=new ge.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(kt=>this._resizeSubject.next(kt)))}observe(Vn){return this._elementObservables.has(Vn)||this._elementObservables.set(Vn,new X.y(kt=>{const lt=this._resizeSubject.subscribe(kt);return this._resizeObserver?.observe(Vn,{box:this._box}),()=>{this._resizeObserver?.unobserve(Vn),lt.unsubscribe(),this._elementObservables.delete(Vn)}}).pipe((0,be.h)(kt=>kt.some(lt=>lt.target===Vn)),(0,ne.d)({bufferSize:1,refCount:!0}),(0,Me.R)(this._destroyed))),this._elementObservables.get(Vn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let nt=(()=>{class Mt{constructor(){this._observers=new Map,this._ngZone=(0,h.f3M)(h.R0b)}ngOnDestroy(){for(const[,kt]of this._observers)kt.destroy();this._observers.clear()}observe(kt,lt){const ze=lt?.box||"content-box";return this._observers.has(ze)||this._observers.set(ze,new Re(ze)),this._observers.get(ze).observe(kt)}static#e=this.\u0275fac=function(lt){return new(lt||Mt)};static#t=this.\u0275prov=h.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}return Mt})();var Fe=T(2495),Qe=T(6825),Ue=T(6814),ye=T(7131),Ee=T(3680);const bt=["notch"],ct=["matFormFieldNotchedOutline",""],fe=["*"],Ne=["textField"],xe=["iconPrefixContainer"],He=["textPrefixContainer"];function it(Mt,Vn){1&Mt&&h._UZ(0,"span",19)}function ke(Mt,Vn){if(1&Mt&&(h.TgZ(0,"label",17),h.Hsn(1,1),h.YNc(2,it,1,0,"span",18),h.qZA()),2&Mt){const kt=h.oxw(2);h.Q6J("floating",kt._shouldLabelFloat())("monitorResize",kt._hasOutline())("id",kt._labelId),h.uIk("for",kt._control.id),h.xp6(2),h.Q6J("ngIf",!kt.hideRequiredMarker&&kt._control.required)}}function $t(Mt,Vn){if(1&Mt&&h.YNc(0,ke,3,5,"label",16),2&Mt){const kt=h.oxw();h.Q6J("ngIf",kt._hasFloatingLabel())}}function an(Mt,Vn){1&Mt&&h._UZ(0,"div",20)}function Gt(Mt,Vn){}function _n(Mt,Vn){if(1&Mt&&h.YNc(0,Gt,0,0,"ng-template",22),2&Mt){h.oxw(2);const kt=h.MAs(1);h.Q6J("ngTemplateOutlet",kt)}}function Yt(Mt,Vn){if(1&Mt&&(h.TgZ(0,"div",21),h.YNc(1,_n,1,1,"ng-template",9),h.qZA()),2&Mt){const kt=h.oxw();h.Q6J("matFormFieldNotchedOutlineOpen",kt._shouldLabelFloat()),h.xp6(1),h.Q6J("ngIf",!kt._forceDisplayInfixLabel())}}function bn(Mt,Vn){1&Mt&&(h.TgZ(0,"div",23,24),h.Hsn(2,2),h.qZA())}function en(Mt,Vn){1&Mt&&(h.TgZ(0,"div",25,26),h.Hsn(2,3),h.qZA())}function Ut(Mt,Vn){}function tn(Mt,Vn){if(1&Mt&&h.YNc(0,Ut,0,0,"ng-template",22),2&Mt){h.oxw();const kt=h.MAs(1);h.Q6J("ngTemplateOutlet",kt)}}function Ie(Mt,Vn){1&Mt&&(h.TgZ(0,"div",27),h.Hsn(1,4),h.qZA())}function Le(Mt,Vn){1&Mt&&(h.TgZ(0,"div",28),h.Hsn(1,5),h.qZA())}function Se(Mt,Vn){1&Mt&&h._UZ(0,"div",29)}function st(Mt,Vn){if(1&Mt&&(h.TgZ(0,"div",30),h.Hsn(1,6),h.qZA()),2&Mt){const kt=h.oxw();h.Q6J("@transitionMessages",kt._subscriptAnimationState)}}function ot(Mt,Vn){if(1&Mt&&(h.TgZ(0,"mat-hint",34),h._uU(1),h.qZA()),2&Mt){const kt=h.oxw(2);h.Q6J("id",kt._hintLabelId),h.xp6(1),h.Oqu(kt.hintLabel)}}function Oe(Mt,Vn){if(1&Mt&&(h.TgZ(0,"div",31),h.YNc(1,ot,2,2,"mat-hint",32),h.Hsn(2,7),h._UZ(3,"div",33),h.Hsn(4,8),h.qZA()),2&Mt){const kt=h.oxw();h.Q6J("@transitionMessages",kt._subscriptAnimationState),h.xp6(1),h.Q6J("ngIf",kt.hintLabel)}}const Nt=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],De=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let We=(()=>{class Mt{static#e=this.\u0275fac=function(lt){return new(lt||Mt)};static#t=this.\u0275dir=h.lG2({type:Mt,selectors:[["mat-label"]]})}return Mt})(),Ce=0;const dt=new h.OlP("MatError");let wt=(()=>{class Mt{constructor(kt,lt){this.id="mat-mdc-error-"+Ce++,kt||lt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(lt){return new(lt||Mt)(h.$8M("aria-live"),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:Mt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(lt,ze){2&lt&&h.Ikx("id",ze.id)},inputs:{id:"id"},features:[h._Bn([{provide:dt,useExisting:Mt}])]})}return Mt})(),Kt=0,qt=(()=>{class Mt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Kt++}static#e=this.\u0275fac=function(lt){return new(lt||Mt)};static#t=this.\u0275dir=h.lG2({type:Mt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(lt,ze){2&lt&&(h.Ikx("id",ze.id),h.uIk("align",null),h.ekj("mat-mdc-form-field-hint-end","end"===ze.align))},inputs:{align:"align",id:"id"}})}return Mt})();const An=new h.OlP("MatPrefix"),Bt=new h.OlP("MatSuffix"),zn=new h.OlP("FloatingLabelParent");let Qn=(()=>{class Mt{get floating(){return this._floating}set floating(kt){this._floating=kt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(kt){this._monitorResize=kt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(kt){this._elementRef=kt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,h.f3M)(nt),this._ngZone=(0,h.f3M)(h.R0b),this._parent=(0,h.f3M)(zn),this._resizeSubscription=new I.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function gi(Mt){if(null!==Mt.offsetParent)return Mt.scrollWidth;const kt=Mt.cloneNode(!0);kt.style.setProperty("position","absolute"),kt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(kt);const lt=kt.scrollWidth;return kt.remove(),lt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(lt){return new(lt||Mt)(h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:Mt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(lt,ze){2&lt&&h.ekj("mdc-floating-label--float-above",ze.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Mt})();const ai="mdc-line-ripple--active",sn="mdc-line-ripple--deactivating";let Ct=(()=>{class Mt{constructor(kt,lt){this._elementRef=kt,this._handleTransitionEnd=ze=>{const Te=this._elementRef.nativeElement.classList,Ze=Te.contains(sn);"opacity"===ze.propertyName&&Ze&&Te.remove(ai,sn)},lt.runOutsideAngular(()=>{kt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const kt=this._elementRef.nativeElement.classList;kt.remove(sn),kt.add(ai)}deactivate(){this._elementRef.nativeElement.classList.add(sn)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(lt){return new(lt||Mt)(h.Y36(h.SBq),h.Y36(h.R0b))};static#t=this.\u0275dir=h.lG2({type:Mt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Mt})(),H=(()=>{class Mt{constructor(kt,lt){this._elementRef=kt,this._ngZone=lt,this.open=!1}ngAfterViewInit(){const kt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");kt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(kt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>kt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(kt){this._notch.nativeElement.style.width=this.open&&kt?`calc(${kt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(lt){return new(lt||Mt)(h.Y36(h.SBq),h.Y36(h.R0b))};static#t=this.\u0275cmp=h.Xpm({type:Mt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(lt,ze){if(1&lt&&h.Gf(bt,5),2&lt){let Te;h.iGM(Te=h.CRH())&&(ze._notch=Te.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(lt,ze){2&lt&&h.ekj("mdc-notched-outline--notched",ze.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:ct,ngContentSelectors:fe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(lt,ze){1&lt&&(h.F$t(),h._UZ(0,"div",0),h.TgZ(1,"div",1,2),h.Hsn(3),h.qZA(),h._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Mt})();const Q={transitionMessages:(0,Qe.X$)("transitionMessages",[(0,Qe.SB)("enter",(0,Qe.oB)({opacity:1,transform:"translateY(0%)"})),(0,Qe.eR)("void => enter",[(0,Qe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Qe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ue=(()=>{class Mt{static#e=this.\u0275fac=function(lt){return new(lt||Mt)};static#t=this.\u0275dir=h.lG2({type:Mt})}return Mt})();const Ve=new h.OlP("MatFormField"),gt=new h.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let ut=0,Xn=(()=>{class Mt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(kt){this._hideRequiredMarker=(0,Fe.Ig)(kt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(kt){kt!==this._floatLabel&&(this._floatLabel=kt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(kt){const lt=this._appearance;this._appearance=kt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==lt&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(kt){this._subscriptSizing=kt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(kt){this._hintLabel=kt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(kt){this._explicitFormFieldControl=kt}constructor(kt,lt,ze,Te,Ze,xt,ve,ie){this._elementRef=kt,this._changeDetectorRef=lt,this._ngZone=ze,this._dir=Te,this._platform=Ze,this._defaults=xt,this._animationMode=ve,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+ut++,this._hintLabelId="mat-mdc-hint-"+ut++,this._subscriptAnimationState="",this._destroyed=new ge.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,xt&&(xt.appearance&&(this.appearance=xt.appearance),this._hideRequiredMarker=!!xt?.hideRequiredMarker,xt.color&&(this.color=xt.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const kt=this._control;kt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${kt.controlType}`),kt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),kt.ngControl&&kt.ngControl.valueChanges&&kt.ngControl.valueChanges.pipe((0,Me.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(kt=>!kt._isText),this._hasTextPrefix=!!this._prefixChildren.find(kt=>kt._isText),this._hasIconSuffix=!!this._suffixChildren.find(kt=>!kt._isText),this._hasTextSuffix=!!this._suffixChildren.find(kt=>kt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ae.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Me.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Me.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(kt){const lt=this._control?this._control.ngControl:null;return lt&&lt[kt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let kt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&kt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const lt=this._hintChildren?this._hintChildren.find(Te=>"start"===Te.align):null,ze=this._hintChildren?this._hintChildren.find(Te=>"end"===Te.align):null;lt?kt.push(lt.id):this._hintLabel&&kt.push(this._hintLabelId),ze&&kt.push(ze.id)}else this._errorChildren&&kt.push(...this._errorChildren.map(lt=>lt.id));this._control.setDescribedByIds(kt)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const kt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(kt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const lt=this._iconPrefixContainer?.nativeElement,ze=this._textPrefixContainer?.nativeElement,Te=lt?.getBoundingClientRect().width??0,Ze=ze?.getBoundingClientRect().width??0;kt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Te+Ze}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const kt=this._elementRef.nativeElement;if(kt.getRootNode){const lt=kt.getRootNode();return lt&&lt!==kt}return document.documentElement.contains(kt)}static#e=this.\u0275fac=function(lt){return new(lt||Mt)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.R0b),h.Y36(k.Is),h.Y36(z.t4),h.Y36(gt,8),h.Y36(h.QbO,8),h.Y36(Ue.K0))};static#t=this.\u0275cmp=h.Xpm({type:Mt,selectors:[["mat-form-field"]],contentQueries:function(lt,ze,Te){if(1&lt&&(h.Suo(Te,We,5),h.Suo(Te,We,7),h.Suo(Te,ue,5),h.Suo(Te,An,5),h.Suo(Te,Bt,5),h.Suo(Te,dt,5),h.Suo(Te,qt,5)),2&lt){let Ze;h.iGM(Ze=h.CRH())&&(ze._labelChildNonStatic=Ze.first),h.iGM(Ze=h.CRH())&&(ze._labelChildStatic=Ze.first),h.iGM(Ze=h.CRH())&&(ze._formFieldControl=Ze.first),h.iGM(Ze=h.CRH())&&(ze._prefixChildren=Ze),h.iGM(Ze=h.CRH())&&(ze._suffixChildren=Ze),h.iGM(Ze=h.CRH())&&(ze._errorChildren=Ze),h.iGM(Ze=h.CRH())&&(ze._hintChildren=Ze)}},viewQuery:function(lt,ze){if(1&lt&&(h.Gf(Ne,5),h.Gf(xe,5),h.Gf(He,5),h.Gf(Qn,5),h.Gf(H,5),h.Gf(Ct,5)),2&lt){let Te;h.iGM(Te=h.CRH())&&(ze._textField=Te.first),h.iGM(Te=h.CRH())&&(ze._iconPrefixContainer=Te.first),h.iGM(Te=h.CRH())&&(ze._textPrefixContainer=Te.first),h.iGM(Te=h.CRH())&&(ze._floatingLabel=Te.first),h.iGM(Te=h.CRH())&&(ze._notchedOutline=Te.first),h.iGM(Te=h.CRH())&&(ze._lineRipple=Te.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(lt,ze){2&lt&&h.ekj("mat-mdc-form-field-label-always-float",ze._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",ze._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",ze._hasIconSuffix)("mat-form-field-invalid",ze._control.errorState)("mat-form-field-disabled",ze._control.disabled)("mat-form-field-autofilled",ze._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===ze._animationMode)("mat-form-field-appearance-fill","fill"==ze.appearance)("mat-form-field-appearance-outline","outline"==ze.appearance)("mat-form-field-hide-placeholder",ze._hasFloatingLabel()&&!ze._shouldLabelFloat())("mat-focused",ze._control.focused)("mat-primary","accent"!==ze.color&&"warn"!==ze.color)("mat-accent","accent"===ze.color)("mat-warn","warn"===ze.color)("ng-untouched",ze._shouldForward("untouched"))("ng-touched",ze._shouldForward("touched"))("ng-pristine",ze._shouldForward("pristine"))("ng-dirty",ze._shouldForward("dirty"))("ng-valid",ze._shouldForward("valid"))("ng-invalid",ze._shouldForward("invalid"))("ng-pending",ze._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[h._Bn([{provide:Ve,useExisting:Mt},{provide:zn,useExisting:Mt}])],ngContentSelectors:De,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(lt,ze){1&lt&&(h.F$t(Nt),h.YNc(0,$t,1,1,"ng-template",null,0,h.W1O),h.TgZ(2,"div",1,2),h.NdJ("click",function(Ze){return ze._control.onContainerClick(Ze)}),h.YNc(4,an,1,0,"div",3),h.TgZ(5,"div",4),h.YNc(6,Yt,2,2,"div",5),h.YNc(7,bn,3,0,"div",6),h.YNc(8,en,3,0,"div",7),h.TgZ(9,"div",8),h.YNc(10,tn,1,1,"ng-template",9),h.Hsn(11),h.qZA(),h.YNc(12,Ie,2,0,"div",10),h.YNc(13,Le,2,0,"div",11),h.qZA(),h.YNc(14,Se,1,0,"div",12),h.qZA(),h.TgZ(15,"div",13),h.YNc(16,st,2,1,"div",14),h.YNc(17,Oe,5,2,"div",15),h.qZA()),2&lt&&(h.xp6(2),h.ekj("mdc-text-field--filled",!ze._hasOutline())("mdc-text-field--outlined",ze._hasOutline())("mdc-text-field--no-label",!ze._hasFloatingLabel())("mdc-text-field--disabled",ze._control.disabled)("mdc-text-field--invalid",ze._control.errorState),h.xp6(2),h.Q6J("ngIf",!ze._hasOutline()&&!ze._control.disabled),h.xp6(2),h.Q6J("ngIf",ze._hasOutline()),h.xp6(1),h.Q6J("ngIf",ze._hasIconPrefix),h.xp6(1),h.Q6J("ngIf",ze._hasTextPrefix),h.xp6(2),h.Q6J("ngIf",!ze._hasOutline()||ze._forceDisplayInfixLabel()),h.xp6(2),h.Q6J("ngIf",ze._hasTextSuffix),h.xp6(1),h.Q6J("ngIf",ze._hasIconSuffix),h.xp6(1),h.Q6J("ngIf",!ze._hasOutline()),h.xp6(1),h.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===ze.subscriptSizing),h.Q6J("ngSwitch",ze._getDisplayedMessages()),h.xp6(1),h.Q6J("ngSwitchCase","error"),h.xp6(1),h.Q6J("ngSwitchCase","hint"))},dependencies:[Ue.O5,Ue.tP,Ue.RF,Ue.n9,qt,Qn,H,Ct],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Q.transitionMessages]},changeDetection:0})}return Mt})(),Fn=(()=>{class Mt{static#e=this.\u0275fac=function(lt){return new(lt||Mt)};static#t=this.\u0275mod=h.oAB({type:Mt});static#n=this.\u0275inj=h.cJS({imports:[Ee.BQ,Ue.ez,ye.Q8,Ee.BQ]})}return Mt})()},617:(on,et,T)=>{T.d(et,{Hw:()=>st,Ps:()=>ot});var h=T(5879),k=T(3680),z=T(2495),I=T(6814),ge=T(2096),Ae=T(8504),Me=T(9315),X=T(7394),be=T(9397),ne=T(7398),de=T(6306),Re=T(4716),nt=T(3020),Fe=T(8180),Qe=T(9862),Ue=T(6593);const ye=["*"];let Ee;function ct(Oe){return function bt(){if(void 0===Ee&&(Ee=null,typeof window<"u")){const Oe=window;void 0!==Oe.trustedTypes&&(Ee=Oe.trustedTypes.createPolicy("angular#components",{createHTML:Nt=>Nt}))}return Ee}()?.createHTML(Oe)||Oe}function fe(Oe){return Error(`Unable to find icon with the name "${Oe}"`)}function xe(Oe){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Oe}".`)}function He(Oe){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Oe}".`)}class it{constructor(Nt,De,We){this.url=Nt,this.svgText=De,this.options=We}}let ke=(()=>{class Oe{constructor(De,We,Ce,dt){this._httpClient=De,this._sanitizer=We,this._errorHandler=dt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ce}addSvgIcon(De,We,Ce){return this.addSvgIconInNamespace("",De,We,Ce)}addSvgIconLiteral(De,We,Ce){return this.addSvgIconLiteralInNamespace("",De,We,Ce)}addSvgIconInNamespace(De,We,Ce,dt){return this._addSvgIconConfig(De,We,new it(Ce,null,dt))}addSvgIconResolver(De){return this._resolvers.push(De),this}addSvgIconLiteralInNamespace(De,We,Ce,dt){const wt=this._sanitizer.sanitize(h.q3G.HTML,Ce);if(!wt)throw He(Ce);const Kt=ct(wt);return this._addSvgIconConfig(De,We,new it("",Kt,dt))}addSvgIconSet(De,We){return this.addSvgIconSetInNamespace("",De,We)}addSvgIconSetLiteral(De,We){return this.addSvgIconSetLiteralInNamespace("",De,We)}addSvgIconSetInNamespace(De,We,Ce){return this._addSvgIconSetConfig(De,new it(We,null,Ce))}addSvgIconSetLiteralInNamespace(De,We,Ce){const dt=this._sanitizer.sanitize(h.q3G.HTML,We);if(!dt)throw He(We);const wt=ct(dt);return this._addSvgIconSetConfig(De,new it("",wt,Ce))}registerFontClassAlias(De,We=De){return this._fontCssClassesByAlias.set(De,We),this}classNameForFontAlias(De){return this._fontCssClassesByAlias.get(De)||De}setDefaultFontSetClass(...De){return this._defaultFontSetClass=De,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(De){const We=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,De);if(!We)throw xe(De);const Ce=this._cachedIconsByUrl.get(We);return Ce?(0,ge.of)(Gt(Ce)):this._loadSvgIconFromConfig(new it(De,null)).pipe((0,be.b)(dt=>this._cachedIconsByUrl.set(We,dt)),(0,ne.U)(dt=>Gt(dt)))}getNamedSvgIcon(De,We=""){const Ce=_n(We,De);let dt=this._svgIconConfigs.get(Ce);if(dt)return this._getSvgFromConfig(dt);if(dt=this._getIconConfigFromResolvers(We,De),dt)return this._svgIconConfigs.set(Ce,dt),this._getSvgFromConfig(dt);const wt=this._iconSetConfigs.get(We);return wt?this._getSvgFromIconSetConfigs(De,wt):(0,Ae._)(fe(Ce))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(De){return De.svgText?(0,ge.of)(Gt(this._svgElementFromConfig(De))):this._loadSvgIconFromConfig(De).pipe((0,ne.U)(We=>Gt(We)))}_getSvgFromIconSetConfigs(De,We){const Ce=this._extractIconWithNameFromAnySet(De,We);if(Ce)return(0,ge.of)(Ce);const dt=We.filter(wt=>!wt.svgText).map(wt=>this._loadSvgIconSetFromConfig(wt).pipe((0,de.K)(Kt=>{const An=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,wt.url)} failed: ${Kt.message}`;return this._errorHandler.handleError(new Error(An)),(0,ge.of)(null)})));return(0,Me.D)(dt).pipe((0,ne.U)(()=>{const wt=this._extractIconWithNameFromAnySet(De,We);if(!wt)throw fe(De);return wt}))}_extractIconWithNameFromAnySet(De,We){for(let Ce=We.length-1;Ce>=0;Ce--){const dt=We[Ce];if(dt.svgText&&dt.svgText.toString().indexOf(De)>-1){const wt=this._svgElementFromConfig(dt),Kt=this._extractSvgIconFromSet(wt,De,dt.options);if(Kt)return Kt}}return null}_loadSvgIconFromConfig(De){return this._fetchIcon(De).pipe((0,be.b)(We=>De.svgText=We),(0,ne.U)(()=>this._svgElementFromConfig(De)))}_loadSvgIconSetFromConfig(De){return De.svgText?(0,ge.of)(null):this._fetchIcon(De).pipe((0,be.b)(We=>De.svgText=We))}_extractSvgIconFromSet(De,We,Ce){const dt=De.querySelector(`[id="${We}"]`);if(!dt)return null;const wt=dt.cloneNode(!0);if(wt.removeAttribute("id"),"svg"===wt.nodeName.toLowerCase())return this._setSvgAttributes(wt,Ce);if("symbol"===wt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(wt),Ce);const Kt=this._svgElementFromString(ct("<svg></svg>"));return Kt.appendChild(wt),this._setSvgAttributes(Kt,Ce)}_svgElementFromString(De){const We=this._document.createElement("DIV");We.innerHTML=De;const Ce=We.querySelector("svg");if(!Ce)throw Error("<svg> tag not found");return Ce}_toSvgElement(De){const We=this._svgElementFromString(ct("<svg></svg>")),Ce=De.attributes;for(let dt=0;dt<Ce.length;dt++){const{name:wt,value:Kt}=Ce[dt];"id"!==wt&&We.setAttribute(wt,Kt)}for(let dt=0;dt<De.childNodes.length;dt++)De.childNodes[dt].nodeType===this._document.ELEMENT_NODE&&We.appendChild(De.childNodes[dt].cloneNode(!0));return We}_setSvgAttributes(De,We){return De.setAttribute("fit",""),De.setAttribute("height","100%"),De.setAttribute("width","100%"),De.setAttribute("preserveAspectRatio","xMidYMid meet"),De.setAttribute("focusable","false"),We&&We.viewBox&&De.setAttribute("viewBox",We.viewBox),De}_fetchIcon(De){const{url:We,options:Ce}=De,dt=Ce?.withCredentials??!1;if(!this._httpClient)throw function Ne(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==We)throw Error(`Cannot fetch icon from URL "${We}".`);const wt=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,We);if(!wt)throw xe(We);const Kt=this._inProgressUrlFetches.get(wt);if(Kt)return Kt;const qt=this._httpClient.get(wt,{responseType:"text",withCredentials:dt}).pipe((0,ne.U)(An=>ct(An)),(0,Re.x)(()=>this._inProgressUrlFetches.delete(wt)),(0,nt.B)());return this._inProgressUrlFetches.set(wt,qt),qt}_addSvgIconConfig(De,We,Ce){return this._svgIconConfigs.set(_n(De,We),Ce),this}_addSvgIconSetConfig(De,We){const Ce=this._iconSetConfigs.get(De);return Ce?Ce.push(We):this._iconSetConfigs.set(De,[We]),this}_svgElementFromConfig(De){if(!De.svgElement){const We=this._svgElementFromString(De.svgText);this._setSvgAttributes(We,De.options),De.svgElement=We}return De.svgElement}_getIconConfigFromResolvers(De,We){for(let Ce=0;Ce<this._resolvers.length;Ce++){const dt=this._resolvers[Ce](We,De);if(dt)return Yt(dt)?new it(dt.url,null,dt.options):new it(dt,null)}}static#e=this.\u0275fac=function(We){return new(We||Oe)(h.LFG(Qe.eN,8),h.LFG(Ue.H7),h.LFG(I.K0,8),h.LFG(h.qLn))};static#t=this.\u0275prov=h.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})();function Gt(Oe){return Oe.cloneNode(!0)}function _n(Oe,Nt){return Oe+":"+Nt}function Yt(Oe){return!(!Oe.url||!Oe.options)}const bn=(0,k.pj)(class{constructor(Oe){this._elementRef=Oe}}),en=new h.OlP("MAT_ICON_DEFAULT_OPTIONS"),Ut=new h.OlP("mat-icon-location",{providedIn:"root",factory:function tn(){const Oe=(0,h.f3M)(I.K0),Nt=Oe?Oe.location:null;return{getPathname:()=>Nt?Nt.pathname+Nt.search:""}}}),Ie=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Le=Ie.map(Oe=>`[${Oe}]`).join(", "),Se=/^url\(['"]?#(.*?)['"]?\)$/;let st=(()=>{class Oe extends bn{get inline(){return this._inline}set inline(De){this._inline=(0,z.Ig)(De)}get svgIcon(){return this._svgIcon}set svgIcon(De){De!==this._svgIcon&&(De?this._updateSvgIcon(De):this._svgIcon&&this._clearSvgElement(),this._svgIcon=De)}get fontSet(){return this._fontSet}set fontSet(De){const We=this._cleanupFontValue(De);We!==this._fontSet&&(this._fontSet=We,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(De){const We=this._cleanupFontValue(De);We!==this._fontIcon&&(this._fontIcon=We,this._updateFontIconClasses())}constructor(De,We,Ce,dt,wt,Kt){super(De),this._iconRegistry=We,this._location=dt,this._errorHandler=wt,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=X.w0.EMPTY,Kt&&(Kt.color&&(this.color=this.defaultColor=Kt.color),Kt.fontSet&&(this.fontSet=Kt.fontSet)),Ce||De.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(De){if(!De)return["",""];const We=De.split(":");switch(We.length){case 1:return["",We[0]];case 2:return We;default:throw Error(`Invalid icon name: "${De}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const De=this._elementsWithExternalReferences;if(De&&De.size){const We=this._location.getPathname();We!==this._previousPath&&(this._previousPath=We,this._prependPathToReferences(We))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(De){this._clearSvgElement();const We=this._location.getPathname();this._previousPath=We,this._cacheChildrenWithExternalReferences(De),this._prependPathToReferences(We),this._elementRef.nativeElement.appendChild(De)}_clearSvgElement(){const De=this._elementRef.nativeElement;let We=De.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();We--;){const Ce=De.childNodes[We];(1!==Ce.nodeType||"svg"===Ce.nodeName.toLowerCase())&&Ce.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const De=this._elementRef.nativeElement,We=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ce=>Ce.length>0);this._previousFontSetClass.forEach(Ce=>De.classList.remove(Ce)),We.forEach(Ce=>De.classList.add(Ce)),this._previousFontSetClass=We,this.fontIcon!==this._previousFontIconClass&&!We.includes("mat-ligature-font")&&(this._previousFontIconClass&&De.classList.remove(this._previousFontIconClass),this.fontIcon&&De.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(De){return"string"==typeof De?De.trim().split(" ")[0]:De}_prependPathToReferences(De){const We=this._elementsWithExternalReferences;We&&We.forEach((Ce,dt)=>{Ce.forEach(wt=>{dt.setAttribute(wt.name,`url('${De}#${wt.value}')`)})})}_cacheChildrenWithExternalReferences(De){const We=De.querySelectorAll(Le),Ce=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let dt=0;dt<We.length;dt++)Ie.forEach(wt=>{const Kt=We[dt],qt=Kt.getAttribute(wt),An=qt?qt.match(Se):null;if(An){let at=Ce.get(Kt);at||(at=[],Ce.set(Kt,at)),at.push({name:wt,value:An[1]})}})}_updateSvgIcon(De){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),De){const[We,Ce]=this._splitIconName(De);We&&(this._svgNamespace=We),Ce&&(this._svgName=Ce),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ce,We).pipe((0,Fe.q)(1)).subscribe(dt=>this._setSvgElement(dt),dt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${We}:${Ce}! ${dt.message}`))})}}static#e=this.\u0275fac=function(We){return new(We||Oe)(h.Y36(h.SBq),h.Y36(ke),h.$8M("aria-hidden"),h.Y36(Ut),h.Y36(h.qLn),h.Y36(en,8))};static#t=this.\u0275cmp=h.Xpm({type:Oe,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(We,Ce){2&We&&(h.uIk("data-mat-icon-type",Ce._usingFontIcon()?"font":"svg")("data-mat-icon-name",Ce._svgName||Ce.fontIcon)("data-mat-icon-namespace",Ce._svgNamespace||Ce.fontSet)("fontIcon",Ce._usingFontIcon()?Ce.fontIcon:null),h.ekj("mat-icon-inline",Ce.inline)("mat-icon-no-color","primary"!==Ce.color&&"accent"!==Ce.color&&"warn"!==Ce.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:ye,decls:1,vars:0,template:function(We,Ce){1&We&&(h.F$t(),h.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return Oe})(),ot=(()=>{class Oe{static#e=this.\u0275fac=function(We){return new(We||Oe)};static#t=this.\u0275mod=h.oAB({type:Oe});static#n=this.\u0275inj=h.cJS({imports:[k.BQ,k.BQ]})}return Oe})()},4516:(on,et,T)=>{T.d(et,{Nt:()=>Fe,c:()=>Qe});var h=T(2495),k=T(2831),z=T(6263),I=T(5879),ge=T(6223),Ae=T(3680),Me=T(4170),X=T(8645);const ne=new I.OlP("MAT_INPUT_VALUE_ACCESSOR"),de=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Re=0;const nt=(0,Ae.FD)(class{constructor(Ue,ye,Ee,bt){this._defaultErrorStateMatcher=Ue,this._parentForm=ye,this._parentFormGroup=Ee,this.ngControl=bt,this.stateChanges=new X.x}});let Fe=(()=>{class Ue extends nt{get disabled(){return this._disabled}set disabled(Ee){this._disabled=(0,h.Ig)(Ee),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Ee){this._id=Ee||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ge.kI.required)??!1}set required(Ee){this._required=(0,h.Ig)(Ee)}get type(){return this._type}set type(Ee){this._type=Ee||"text",this._validateType(),!this._isTextarea&&(0,k.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Ee){Ee!==this.value&&(this._inputValueAccessor.value=Ee,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Ee){this._readonly=(0,h.Ig)(Ee)}constructor(Ee,bt,ct,fe,Ne,xe,He,it,ke,$t){super(xe,fe,Ne,ct),this._elementRef=Ee,this._platform=bt,this._autofillMonitor=it,this._formField=$t,this._uid="mat-input-"+Re++,this.focused=!1,this.stateChanges=new X.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(_n=>(0,k.qK)().has(_n)),this._iOSKeyupListener=_n=>{const Yt=_n.target;!Yt.value&&0===Yt.selectionStart&&0===Yt.selectionEnd&&(Yt.setSelectionRange(1,1),Yt.setSelectionRange(0,0))};const an=this._elementRef.nativeElement,Gt=an.nodeName.toLowerCase();this._inputValueAccessor=He||an,this._previousNativeValue=this.value,this.id=this.id,bt.IOS&&ke.runOutsideAngular(()=>{Ee.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Gt,this._isTextarea="textarea"===Gt,this._isInFormField=!!$t,this._isNativeSelect&&(this.controlType=an.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Ee=>{this.autofilled=Ee.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Ee){this._elementRef.nativeElement.focus(Ee)}_focusChanged(Ee){Ee!==this.focused&&(this.focused=Ee,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const Ee=this._elementRef.nativeElement.value;this._previousNativeValue!==Ee&&(this._previousNativeValue=Ee,this.stateChanges.next())}_dirtyCheckPlaceholder(){const Ee=this._getPlaceholder();if(Ee!==this._previousPlaceholder){const bt=this._elementRef.nativeElement;this._previousPlaceholder=Ee,Ee?bt.setAttribute("placeholder",Ee):bt.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){de.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Ee=this._elementRef.nativeElement.validity;return Ee&&Ee.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Ee=this._elementRef.nativeElement,bt=Ee.options[0];return this.focused||Ee.multiple||!this.empty||!!(Ee.selectedIndex>-1&&bt&&bt.label)}return this.focused||!this.empty}setDescribedByIds(Ee){Ee.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Ee.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Ee=this._elementRef.nativeElement;return this._isNativeSelect&&(Ee.multiple||Ee.size>1)}static#e=this.\u0275fac=function(bt){return new(bt||Ue)(I.Y36(I.SBq),I.Y36(k.t4),I.Y36(ge.a5,10),I.Y36(ge.F,8),I.Y36(ge.sg,8),I.Y36(Ae.rD),I.Y36(ne,10),I.Y36(z.Lq),I.Y36(I.R0b),I.Y36(Me.G_,8))};static#t=this.\u0275dir=I.lG2({type:Ue,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(bt,ct){1&bt&&I.NdJ("focus",function(){return ct._focusChanged(!0)})("blur",function(){return ct._focusChanged(!1)})("input",function(){return ct._onInput()}),2&bt&&(I.Ikx("id",ct.id)("disabled",ct.disabled)("required",ct.required),I.uIk("name",ct.name||null)("readonly",ct.readonly&&!ct._isNativeSelect||null)("aria-invalid",ct.empty&&ct.required?null:ct.errorState)("aria-required",ct.required)("id",ct.id),I.ekj("mat-input-server",ct._isServer)("mat-mdc-form-field-textarea-control",ct._isInFormField&&ct._isTextarea)("mat-mdc-form-field-input-control",ct._isInFormField)("mdc-text-field__input",ct._isInFormField)("mat-mdc-native-select-inline",ct._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[I._Bn([{provide:Me.Eo,useExisting:Ue}]),I.qOj,I.TTD]})}return Ue})(),Qe=(()=>{class Ue{static#e=this.\u0275fac=function(bt){return new(bt||Ue)};static#t=this.\u0275mod=I.oAB({type:Ue});static#n=this.\u0275inj=I.cJS({imports:[Ae.BQ,Me.lN,Me.lN,z.Ky,Ae.BQ]})}return Ue})()},3365:(on,et,T)=>{T.d(et,{NW:()=>gi,TU:()=>ai});var h=T(6814),k=T(5879),z=T(8645),I=T(2296),ge=T(8525),Ae=T(9773),Me=T(8180),X=T(2495),be=T(6028),ne=T(2831),de=T(4300),Re=T(9388),nt=T(3651),Fe=T(5407),Qe=T(8484),ye=(T(6825),T(3680));const Ee=["tooltip"],fe=new k.OlP("mat-tooltip-scroll-strategy"),xe={provide:fe,deps:[nt.aV],useFactory:function Ne(sn){return()=>sn.scrollStrategies.reposition({scrollThrottle:20})}},it=new k.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function He(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),$t="tooltip-panel",an=(0,ne.i$)({passive:!0});let Ut=(()=>{class sn{get position(){return this._position}set position(H){H!==this._position&&(this._position=H,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(H){this._positionAtOrigin=(0,X.Ig)(H),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(H){this._disabled=(0,X.Ig)(H),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(H){this._showDelay=(0,X.su)(H)}get hideDelay(){return this._hideDelay}set hideDelay(H){this._hideDelay=(0,X.su)(H),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(H){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=H?String(H).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(H){this._tooltipClass=H,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(H,Q,ue,pt,je,It,Ve,gt,ut,Zt,Wt,In){this._overlay=H,this._elementRef=Q,this._scrollDispatcher=ue,this._viewContainerRef=pt,this._ngZone=je,this._platform=It,this._ariaDescriber=Ve,this._focusMonitor=gt,this._dir=Zt,this._defaultOptions=Wt,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new z.x,this._scrollStrategy=ut,this._document=In,Wt&&(this._showDelay=Wt.showDelay,this._hideDelay=Wt.hideDelay,Wt.position&&(this.position=Wt.position),Wt.positionAtOrigin&&(this.positionAtOrigin=Wt.positionAtOrigin),Wt.touchGestures&&(this.touchGestures=Wt.touchGestures)),Zt.change.pipe((0,Ae.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,Ae.R)(this._destroyed)).subscribe(H=>{H?"keyboard"===H&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const H=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Q,ue])=>{H.removeEventListener(Q,ue,an)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(H,this.message,"tooltip"),this._focusMonitor.stopMonitoring(H)}show(H=this.showDelay,Q){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const ue=this._createOverlay(Q);this._detach(),this._portal=this._portal||new Qe.C5(this._tooltipComponent,this._viewContainerRef);const pt=this._tooltipInstance=ue.attach(this._portal).instance;pt._triggerElement=this._elementRef.nativeElement,pt._mouseLeaveHideDelay=this._hideDelay,pt.afterHidden().pipe((0,Ae.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),pt.show(H)}hide(H=this.hideDelay){const Q=this._tooltipInstance;Q&&(Q.isVisible()?Q.hide(H):(Q._cancelPendingAnimations(),this._detach()))}toggle(H){this._isTooltipVisible()?this.hide():this.show(void 0,H)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(H){if(this._overlayRef){const pt=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!H)&&pt._origin instanceof k.SBq)return this._overlayRef;this._detach()}const Q=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),ue=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&H||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Q);return ue.positionChanges.pipe((0,Ae.R)(this._destroyed)).subscribe(pt=>{this._updateCurrentPositionClass(pt.connectionPair),this._tooltipInstance&&pt.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:ue,panelClass:`${this._cssClassPrefix}-${$t}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,Ae.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,Ae.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,Ae.R)(this._destroyed)).subscribe(pt=>{this._isTooltipVisible()&&pt.keyCode===be.hY&&!(0,be.Vb)(pt)&&(pt.preventDefault(),pt.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(H){const Q=H.getConfig().positionStrategy,ue=this._getOrigin(),pt=this._getOverlayPosition();Q.withPositions([this._addOffset({...ue.main,...pt.main}),this._addOffset({...ue.fallback,...pt.fallback})])}_addOffset(H){return H}_getOrigin(){const H=!this._dir||"ltr"==this._dir.value,Q=this.position;let ue;"above"==Q||"below"==Q?ue={originX:"center",originY:"above"==Q?"top":"bottom"}:"before"==Q||"left"==Q&&H||"right"==Q&&!H?ue={originX:"start",originY:"center"}:("after"==Q||"right"==Q&&H||"left"==Q&&!H)&&(ue={originX:"end",originY:"center"});const{x:pt,y:je}=this._invertPosition(ue.originX,ue.originY);return{main:ue,fallback:{originX:pt,originY:je}}}_getOverlayPosition(){const H=!this._dir||"ltr"==this._dir.value,Q=this.position;let ue;"above"==Q?ue={overlayX:"center",overlayY:"bottom"}:"below"==Q?ue={overlayX:"center",overlayY:"top"}:"before"==Q||"left"==Q&&H||"right"==Q&&!H?ue={overlayX:"end",overlayY:"center"}:("after"==Q||"right"==Q&&H||"left"==Q&&!H)&&(ue={overlayX:"start",overlayY:"center"});const{x:pt,y:je}=this._invertPosition(ue.overlayX,ue.overlayY);return{main:ue,fallback:{overlayX:pt,overlayY:je}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Me.q)(1),(0,Ae.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(H){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=H,this._tooltipInstance._markForCheck())}_invertPosition(H,Q){return"above"===this.position||"below"===this.position?"top"===Q?Q="bottom":"bottom"===Q&&(Q="top"):"end"===H?H="start":"start"===H&&(H="end"),{x:H,y:Q}}_updateCurrentPositionClass(H){const{overlayY:Q,originX:ue,originY:pt}=H;let je;if(je="center"===Q?this._dir&&"rtl"===this._dir.value?"end"===ue?"left":"right":"start"===ue?"left":"right":"bottom"===Q&&"top"===pt?"above":"below",je!==this._currentPosition){const It=this._overlayRef;if(It){const Ve=`${this._cssClassPrefix}-${$t}-`;It.removePanelClass(Ve+this._currentPosition),It.addPanelClass(Ve+je)}this._currentPosition=je}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",H=>{let Q;this._setupPointerExitEventsIfNeeded(),void 0!==H.x&&void 0!==H.y&&(Q=H),this.show(void 0,Q)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",H=>{const Q=H.targetTouches?.[0],ue=Q?{x:Q.clientX,y:Q.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,ue),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const H=[];if(this._platformSupportsMouseEvents())H.push(["mouseleave",Q=>{const ue=Q.relatedTarget;(!ue||!this._overlayRef?.overlayElement.contains(ue))&&this.hide()}],["wheel",Q=>this._wheelListener(Q)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Q=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};H.push(["touchend",Q],["touchcancel",Q])}this._addListeners(H),this._passiveListeners.push(...H)}_addListeners(H){H.forEach(([Q,ue])=>{this._elementRef.nativeElement.addEventListener(Q,ue,an)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(H){if(this._isTooltipVisible()){const Q=this._document.elementFromPoint(H.clientX,H.clientY),ue=this._elementRef.nativeElement;Q!==ue&&!ue.contains(Q)&&this.hide()}}_disableNativeGesturesIfNecessary(){const H=this.touchGestures;if("off"!==H){const Q=this._elementRef.nativeElement,ue=Q.style;("on"===H||"INPUT"!==Q.nodeName&&"TEXTAREA"!==Q.nodeName)&&(ue.userSelect=ue.msUserSelect=ue.webkitUserSelect=ue.MozUserSelect="none"),("on"===H||!Q.draggable)&&(ue.webkitUserDrag="none"),ue.touchAction="none",ue.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Q){k.$Z()};static#t=this.\u0275dir=k.lG2({type:sn,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return sn})(),tn=(()=>{class sn extends Ut{constructor(H,Q,ue,pt,je,It,Ve,gt,ut,Zt,Wt,In){super(H,Q,ue,pt,je,It,Ve,gt,ut,Zt,Wt,In),this._tooltipComponent=Le,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(H){const ue=!this._dir||"ltr"==this._dir.value;return"top"===H.originY?H.offsetY=-8:"bottom"===H.originY?H.offsetY=8:"start"===H.originX?H.offsetX=ue?-8:8:"end"===H.originX&&(H.offsetX=ue?8:-8),H}static#e=this.\u0275fac=function(Q){return new(Q||sn)(k.Y36(nt.aV),k.Y36(k.SBq),k.Y36(Fe.mF),k.Y36(k.s_b),k.Y36(k.R0b),k.Y36(ne.t4),k.Y36(de.$s),k.Y36(de.tE),k.Y36(fe),k.Y36(Re.Is,8),k.Y36(it,8),k.Y36(h.K0))};static#t=this.\u0275dir=k.lG2({type:sn,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Q,ue){2&Q&&k.ekj("mat-mdc-tooltip-disabled",ue.disabled)},exportAs:["matTooltip"],features:[k.qOj]})}return sn})(),Ie=(()=>{class sn{constructor(H,Q){this._changeDetectorRef=H,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new z.x,this._animationsDisabled="NoopAnimations"===Q}show(H){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},H)}hide(H){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},H)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:H}){(!H||!this._triggerElement.contains(H))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:H}){(H===this._showAnimation||H===this._hideAnimation)&&this._finalizeAnimation(H===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(H){H?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(H){const Q=this._tooltip.nativeElement,ue=this._showAnimation,pt=this._hideAnimation;if(Q.classList.remove(H?pt:ue),Q.classList.add(H?ue:pt),this._isVisible=H,H&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const je=getComputedStyle(Q);("0s"===je.getPropertyValue("animation-duration")||"none"===je.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}H&&this._onShow(),this._animationsDisabled&&(Q.classList.add("_mat-animation-noopable"),this._finalizeAnimation(H))}static#e=this.\u0275fac=function(Q){return new(Q||sn)(k.Y36(k.sBO),k.Y36(k.QbO,8))};static#t=this.\u0275dir=k.lG2({type:sn})}return sn})(),Le=(()=>{class sn extends Ie{constructor(H,Q,ue){super(H,ue),this._elementRef=Q,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const H=this._elementRef.nativeElement.getBoundingClientRect();return H.height>24&&H.width>=200}static#e=this.\u0275fac=function(Q){return new(Q||sn)(k.Y36(k.sBO),k.Y36(k.SBq),k.Y36(k.QbO,8))};static#t=this.\u0275cmp=k.Xpm({type:sn,selectors:[["mat-tooltip-component"]],viewQuery:function(Q,ue){if(1&Q&&k.Gf(Ee,7),2&Q){let pt;k.iGM(pt=k.CRH())&&(ue._tooltip=pt.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Q,ue){1&Q&&k.NdJ("mouseleave",function(je){return ue._handleMouseLeave(je)}),2&Q&&k.Udp("zoom",ue.isVisible()?1:null)},features:[k.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Q,ue){1&Q&&(k.TgZ(0,"div",0,1),k.NdJ("animationend",function(je){return ue._handleAnimationEnd(je)}),k.TgZ(2,"div",2),k._uU(3),k.qZA()()),2&Q&&(k.ekj("mdc-tooltip--multiline",ue._isMultiline),k.Q6J("ngClass",ue.tooltipClass),k.xp6(3),k.Oqu(ue.message))},dependencies:[h.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return sn})(),st=(()=>{class sn{static#e=this.\u0275fac=function(Q){return new(Q||sn)};static#t=this.\u0275mod=k.oAB({type:sn});static#n=this.\u0275inj=k.cJS({providers:[xe],imports:[de.rt,h.ez,nt.U8,ye.BQ,ye.BQ,Fe.ZD]})}return sn})();var ot=T(4170);function Oe(sn,Ct){if(1&sn&&(k.TgZ(0,"mat-option",19),k._uU(1),k.qZA()),2&sn){const H=Ct.$implicit;k.Q6J("value",H),k.xp6(1),k.hij(" ",H," ")}}function Nt(sn,Ct){if(1&sn){const H=k.EpF();k.TgZ(0,"mat-form-field",16)(1,"mat-select",17),k.NdJ("selectionChange",function(ue){k.CHM(H);const pt=k.oxw(2);return k.KtG(pt._changePageSize(ue.value))}),k.YNc(2,Oe,2,2,"mat-option",18),k.qZA()()}if(2&sn){const H=k.oxw(2);k.Q6J("appearance",H._formFieldAppearance)("color",H.color),k.xp6(1),k.Q6J("value",H.pageSize)("disabled",H.disabled)("aria-labelledby",H._pageSizeLabelId)("panelClass",H.selectConfig.panelClass||"")("disableOptionCentering",H.selectConfig.disableOptionCentering),k.xp6(1),k.Q6J("ngForOf",H._displayedPageSizeOptions)}}function De(sn,Ct){if(1&sn&&(k.TgZ(0,"div",20),k._uU(1),k.qZA()),2&sn){const H=k.oxw(2);k.xp6(1),k.Oqu(H.pageSize)}}function We(sn,Ct){if(1&sn&&(k.TgZ(0,"div",12)(1,"div",13),k._uU(2),k.qZA(),k.YNc(3,Nt,3,8,"mat-form-field",14),k.YNc(4,De,2,1,"div",15),k.qZA()),2&sn){const H=k.oxw();k.xp6(1),k.s9C("id",H._pageSizeLabelId),k.xp6(1),k.hij(" ",H._intl.itemsPerPageLabel," "),k.xp6(1),k.Q6J("ngIf",H._displayedPageSizeOptions.length>1),k.xp6(1),k.Q6J("ngIf",H._displayedPageSizeOptions.length<=1)}}function Ce(sn,Ct){if(1&sn){const H=k.EpF();k.TgZ(0,"button",21),k.NdJ("click",function(){k.CHM(H);const ue=k.oxw();return k.KtG(ue.firstPage())}),k.O4$(),k.TgZ(1,"svg",7),k._UZ(2,"path",22),k.qZA()()}if(2&sn){const H=k.oxw();k.Q6J("matTooltip",H._intl.firstPageLabel)("matTooltipDisabled",H._previousButtonsDisabled())("matTooltipPosition","above")("disabled",H._previousButtonsDisabled()),k.uIk("aria-label",H._intl.firstPageLabel)}}function dt(sn,Ct){if(1&sn){const H=k.EpF();k.O4$(),k.kcU(),k.TgZ(0,"button",23),k.NdJ("click",function(){k.CHM(H);const ue=k.oxw();return k.KtG(ue.lastPage())}),k.O4$(),k.TgZ(1,"svg",7),k._UZ(2,"path",24),k.qZA()()}if(2&sn){const H=k.oxw();k.Q6J("matTooltip",H._intl.lastPageLabel)("matTooltipDisabled",H._nextButtonsDisabled())("matTooltipPosition","above")("disabled",H._nextButtonsDisabled()),k.uIk("aria-label",H._intl.lastPageLabel)}}let wt=(()=>{class sn{constructor(){this.changes=new z.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(H,Q,ue)=>{if(0==ue||0==Q)return`0 of ${ue}`;const pt=H*Q;return`${pt+1} \u2013 ${pt<(ue=Math.max(ue,0))?Math.min(pt+Q,ue):pt+Q} of ${ue}`}}static#e=this.\u0275fac=function(Q){return new(Q||sn)};static#t=this.\u0275prov=k.Yz7({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})();const qt={provide:wt,deps:[[new k.FiY,new k.tp0,wt]],useFactory:function Kt(sn){return sn||new wt}},Bt=new k.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),un=(0,ye.Id)((0,ye.dB)(class{}));let zn=(()=>{class sn extends un{get pageIndex(){return this._pageIndex}set pageIndex(H){this._pageIndex=Math.max((0,X.su)(H),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(H){this._length=(0,X.su)(H),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(H){this._pageSize=Math.max((0,X.su)(H),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(H){this._pageSizeOptions=(H||[]).map(Q=>(0,X.su)(Q)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(H){this._hidePageSize=(0,X.Ig)(H)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(H){this._showFirstLastButtons=(0,X.Ig)(H)}constructor(H,Q,ue){if(super(),this._intl=H,this._changeDetectorRef=Q,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new k.vpe,this._intlChanges=H.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),ue){const{pageSize:pt,pageSizeOptions:je,hidePageSize:It,showFirstLastButtons:Ve}=ue;null!=pt&&(this._pageSize=pt),null!=je&&(this._pageSizeOptions=je),null!=It&&(this._hidePageSize=It),null!=Ve&&(this._showFirstLastButtons=Ve)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const H=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(H)}previousPage(){if(!this.hasPreviousPage())return;const H=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(H)}firstPage(){if(!this.hasPreviousPage())return;const H=this.pageIndex;this.pageIndex=0,this._emitPageEvent(H)}lastPage(){if(!this.hasNextPage())return;const H=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(H)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const H=this.getNumberOfPages()-1;return this.pageIndex<H&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(H){const ue=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/H)||0,this.pageSize=H,this._emitPageEvent(ue)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((H,Q)=>H-Q),this._changeDetectorRef.markForCheck())}_emitPageEvent(H){this.page.emit({previousPageIndex:H,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(Q){k.$Z()};static#t=this.\u0275dir=k.lG2({type:sn,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[k.qOj]})}return sn})(),Qn=0,gi=(()=>{class sn extends zn{constructor(H,Q,ue){super(H,Q,ue),this._pageSizeLabelId="mat-paginator-page-size-label-"+Qn++,this._formFieldAppearance=ue?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(Q){return new(Q||sn)(k.Y36(wt),k.Y36(k.sBO),k.Y36(Bt,8))};static#t=this.\u0275cmp=k.Xpm({type:sn,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[k.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(Q,ue){1&Q&&(k.TgZ(0,"div",0)(1,"div",1),k.YNc(2,We,5,4,"div",2),k.TgZ(3,"div",3)(4,"div",4),k._uU(5),k.qZA(),k.YNc(6,Ce,3,5,"button",5),k.TgZ(7,"button",6),k.NdJ("click",function(){return ue.previousPage()}),k.O4$(),k.TgZ(8,"svg",7),k._UZ(9,"path",8),k.qZA()(),k.kcU(),k.TgZ(10,"button",9),k.NdJ("click",function(){return ue.nextPage()}),k.O4$(),k.TgZ(11,"svg",7),k._UZ(12,"path",10),k.qZA()(),k.YNc(13,dt,3,5,"button",11),k.qZA()()()),2&Q&&(k.xp6(2),k.Q6J("ngIf",!ue.hidePageSize),k.xp6(3),k.hij(" ",ue._intl.getRangeLabel(ue.pageIndex,ue.pageSize,ue.length)," "),k.xp6(1),k.Q6J("ngIf",ue.showFirstLastButtons),k.xp6(1),k.Q6J("matTooltip",ue._intl.previousPageLabel)("matTooltipDisabled",ue._previousButtonsDisabled())("matTooltipPosition","above")("disabled",ue._previousButtonsDisabled()),k.uIk("aria-label",ue._intl.previousPageLabel),k.xp6(3),k.Q6J("matTooltip",ue._intl.nextPageLabel)("matTooltipDisabled",ue._nextButtonsDisabled())("matTooltipPosition","above")("disabled",ue._nextButtonsDisabled()),k.uIk("aria-label",ue._intl.nextPageLabel),k.xp6(3),k.Q6J("ngIf",ue.showFirstLastButtons))},dependencies:[h.sg,h.O5,I.RK,ot.KE,ge.gD,ye.ey,tn],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return sn})(),ai=(()=>{class sn{static#e=this.\u0275fac=function(Q){return new(Q||sn)};static#t=this.\u0275mod=k.oAB({type:sn});static#n=this.\u0275inj=k.cJS({providers:[qt],imports:[h.ez,I.ot,ge.LD,st]})}return sn})()},8525:(on,et,T)=>{T.d(et,{LD:()=>Kt,gD:()=>wt});var h=T(3651),k=T(6814),z=T(5879),I=T(3680),ge=T(4170),Ae=T(5407),Me=T(4300),X=T(9388),be=T(2495),ne=T(8337),de=T(6028),Re=T(6223),nt=T(8645),Fe=T(4911),Qe=T(3019),Ue=T(7921),ye=T(4664),Ee=T(8180),bt=T(2181),ct=T(7398),fe=T(3997),Ne=T(9773),xe=T(6825);const He=["trigger"],it=["panel"];function ke(qt,An){if(1&qt&&(z.TgZ(0,"span",10),z._uU(1),z.qZA()),2&qt){const at=z.oxw();z.xp6(1),z.Oqu(at.placeholder)}}function $t(qt,An){if(1&qt&&(z.TgZ(0,"span",14),z._uU(1),z.qZA()),2&qt){const at=z.oxw(2);z.xp6(1),z.Oqu(at.triggerValue)}}function an(qt,An){1&qt&&z.Hsn(0,0,["*ngSwitchCase","true"])}function Gt(qt,An){if(1&qt&&(z.TgZ(0,"span",11),z.YNc(1,$t,2,1,"span",12),z.YNc(2,an,1,0,"ng-content",13),z.qZA()),2&qt){const at=z.oxw();z.Q6J("ngSwitch",!!at.customTrigger),z.xp6(2),z.Q6J("ngSwitchCase",!0)}}function _n(qt,An){if(1&qt){const at=z.EpF();z.O4$(),z.kcU(),z.TgZ(0,"div",15,16),z.NdJ("@transformPanel.done",function(un){z.CHM(at);const zn=z.oxw();return z.KtG(zn._panelDoneAnimatingStream.next(un.toState))})("keydown",function(un){z.CHM(at);const zn=z.oxw();return z.KtG(zn._handleKeydown(un))}),z.Hsn(2,1),z.qZA()}if(2&qt){const at=z.oxw();z.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",at._getPanelTheme(),""),z.Q6J("ngClass",at.panelClass)("@transformPanel","showing"),z.uIk("id",at.id+"-panel")("aria-multiselectable",at.multiple)("aria-label",at.ariaLabel||null)("aria-labelledby",at._getPanelAriaLabelledby())}}const Yt=[[["mat-select-trigger"]],"*"],bn=["mat-select-trigger","*"],en={transformPanelWrap:(0,xe.X$)("transformPanelWrap",[(0,xe.eR)("* => void",(0,xe.IO)("@transformPanel",[(0,xe.pV)()],{optional:!0}))]),transformPanel:(0,xe.X$)("transformPanel",[(0,xe.SB)("void",(0,xe.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,xe.eR)("void => showing",(0,xe.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,xe.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,xe.eR)("* => void",(0,xe.jt)("100ms linear",(0,xe.oB)({opacity:0})))])};let Le=0;const Se=new z.OlP("mat-select-scroll-strategy"),ot=new z.OlP("MAT_SELECT_CONFIG"),Oe={provide:Se,deps:[h.aV],useFactory:function st(qt){return()=>qt.scrollStrategies.reposition()}},Nt=new z.OlP("MatSelectTrigger");class De{constructor(An,at){this.source=An,this.value=at}}const We=(0,I.Kr)((0,I.sb)((0,I.Id)((0,I.FD)(class{constructor(qt,An,at,Bt,un){this._elementRef=qt,this._defaultErrorStateMatcher=An,this._parentForm=at,this._parentFormGroup=Bt,this.ngControl=un,this.stateChanges=new nt.x}}))));let Ce=(()=>{class qt extends We{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(at){this._placeholder=at,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Re.kI.required)??!1}set required(at){this._required=(0,be.Ig)(at),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(at){this._multiple=(0,be.Ig)(at)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(at){this._disableOptionCentering=(0,be.Ig)(at)}get compareWith(){return this._compareWith}set compareWith(at){this._compareWith=at,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(at){this._assignValue(at)&&this._onChange(at)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(at){this._typeaheadDebounceInterval=(0,be.su)(at)}get id(){return this._id}set id(at){this._id=at||this._uid,this.stateChanges.next()}constructor(at,Bt,un,zn,Qn,gi,ai,sn,Ct,H,Q,ue,pt,je){super(Qn,zn,ai,sn,H),this._viewportRuler=at,this._changeDetectorRef=Bt,this._ngZone=un,this._dir=gi,this._parentFormField=Ct,this._liveAnnouncer=pt,this._defaultOptions=je,this._panelOpen=!1,this._compareWith=(It,Ve)=>It===Ve,this._uid="mat-select-"+Le++,this._triggerAriaLabelledBy=null,this._destroy=new nt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Le++,this._panelDoneAnimatingStream=new nt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Fe.P)(()=>{const It=this.options;return It?It.changes.pipe((0,Ue.O)(It),(0,ye.w)(()=>(0,Qe.T)(...It.map(Ve=>Ve.onSelectionChange)))):this._ngZone.onStable.pipe((0,Ee.q)(1),(0,ye.w)(()=>this.optionSelectionChanges))}),this.openedChange=new z.vpe,this._openedStream=this.openedChange.pipe((0,bt.h)(It=>It),(0,ct.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,bt.h)(It=>!It),(0,ct.U)(()=>{})),this.selectionChange=new z.vpe,this.valueChange=new z.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=je?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=je.typeaheadDebounceInterval),this._scrollStrategyFactory=ue,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Q)||0,this.id=this.id}ngOnInit(){this._selectionModel=new ne.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,fe.x)(),(0,Ne.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Ne.R)(this._destroy)).subscribe(at=>{at.added.forEach(Bt=>Bt.select()),at.removed.forEach(Bt=>Bt.deselect())}),this.options.changes.pipe((0,Ue.O)(null),(0,Ne.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const at=this._getTriggerAriaLabelledby(),Bt=this.ngControl;if(at!==this._triggerAriaLabelledBy){const un=this._elementRef.nativeElement;this._triggerAriaLabelledBy=at,at?un.setAttribute("aria-labelledby",at):un.removeAttribute("aria-labelledby")}Bt&&(this._previousControl!==Bt.control&&(void 0!==this._previousControl&&null!==Bt.disabled&&Bt.disabled!==this.disabled&&(this.disabled=Bt.disabled),this._previousControl=Bt.control),this.updateErrorState())}ngOnChanges(at){(at.disabled||at.userAriaDescribedBy)&&this.stateChanges.next(),at.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const at=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!at)return;const Bt=`${this.id}-panel`;this._trackedModal&&(0,Me.iD)(this._trackedModal,"aria-owns",Bt),(0,Me.Zf)(at,"aria-owns",Bt),this._trackedModal=at}_clearFromModal(){this._trackedModal&&((0,Me.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(at){this._assignValue(at)}registerOnChange(at){this._onChange=at}registerOnTouched(at){this._onTouched=at}setDisabledState(at){this.disabled=at,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const at=this._selectionModel.selected.map(Bt=>Bt.viewValue);return this._isRtl()&&at.reverse(),at.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(at){this.disabled||(this.panelOpen?this._handleOpenKeydown(at):this._handleClosedKeydown(at))}_handleClosedKeydown(at){const Bt=at.keyCode,un=Bt===de.JH||Bt===de.LH||Bt===de.oh||Bt===de.SV,zn=Bt===de.K5||Bt===de.L_,Qn=this._keyManager;if(!Qn.isTyping()&&zn&&!(0,de.Vb)(at)||(this.multiple||at.altKey)&&un)at.preventDefault(),this.open();else if(!this.multiple){const gi=this.selected;Qn.onKeydown(at);const ai=this.selected;ai&&gi!==ai&&this._liveAnnouncer.announce(ai.viewValue,1e4)}}_handleOpenKeydown(at){const Bt=this._keyManager,un=at.keyCode,zn=un===de.JH||un===de.LH,Qn=Bt.isTyping();if(zn&&at.altKey)at.preventDefault(),this.close();else if(Qn||un!==de.K5&&un!==de.L_||!Bt.activeItem||(0,de.Vb)(at))if(!Qn&&this._multiple&&un===de.A&&at.ctrlKey){at.preventDefault();const gi=this.options.some(ai=>!ai.disabled&&!ai.selected);this.options.forEach(ai=>{ai.disabled||(gi?ai.select():ai.deselect())})}else{const gi=Bt.activeItemIndex;Bt.onKeydown(at),this._multiple&&zn&&at.shiftKey&&Bt.activeItem&&Bt.activeItemIndex!==gi&&Bt.activeItem._selectViaInteraction()}else at.preventDefault(),Bt.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Ee.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(at){if(this.options.forEach(Bt=>Bt.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&at)Array.isArray(at),at.forEach(Bt=>this._selectOptionByValue(Bt)),this._sortValues();else{const Bt=this._selectOptionByValue(at);Bt?this._keyManager.updateActiveItem(Bt):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(at){const Bt=this.options.find(un=>{if(this._selectionModel.isSelected(un))return!1;try{return null!=un.value&&this._compareWith(un.value,at)}catch{return!1}});return Bt&&this._selectionModel.select(Bt),Bt}_assignValue(at){return!!(at!==this._value||this._multiple&&Array.isArray(at))&&(this.options&&this._setSelectionByValue(at),this._value=at,!0)}_skipPredicate(at){return at.disabled}_initKeyManager(){this._keyManager=new Me.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const at=(0,Qe.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Ne.R)(at)).subscribe(Bt=>{this._onSelect(Bt.source,Bt.isUserInput),Bt.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Qe.T)(...this.options.map(Bt=>Bt._stateChanges)).pipe((0,Ne.R)(at)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(at,Bt){const un=this._selectionModel.isSelected(at);null!=at.value||this._multiple?(un!==at.selected&&(at.selected?this._selectionModel.select(at):this._selectionModel.deselect(at)),Bt&&this._keyManager.setActiveItem(at),this.multiple&&(this._sortValues(),Bt&&this.focus())):(at.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(at.value)),un!==this._selectionModel.isSelected(at)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const at=this.options.toArray();this._selectionModel.sort((Bt,un)=>this.sortComparator?this.sortComparator(Bt,un,at):at.indexOf(Bt)-at.indexOf(un)),this.stateChanges.next()}}_propagateChanges(at){let Bt=null;Bt=this.multiple?this.selected.map(un=>un.value):this.selected?this.selected.value:at,this._value=Bt,this.valueChange.emit(Bt),this._onChange(Bt),this.selectionChange.emit(this._getChangeEvent(Bt)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let at=-1;for(let Bt=0;Bt<this.options.length;Bt++)if(!this.options.get(Bt).disabled){at=Bt;break}this._keyManager.setActiveItem(at)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(at){this._elementRef.nativeElement.focus(at)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const at=this._parentFormField?.getLabelId();return this.ariaLabelledby?(at?at+" ":"")+this.ariaLabelledby:at}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const at=this._parentFormField?.getLabelId();let Bt=(at?at+" ":"")+this._valueId;return this.ariaLabelledby&&(Bt+=" "+this.ariaLabelledby),Bt}_panelDoneAnimating(at){this.openedChange.emit(at)}setDescribedByIds(at){at.length?this._elementRef.nativeElement.setAttribute("aria-describedby",at.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(Bt){return new(Bt||qt)(z.Y36(Ae.rL),z.Y36(z.sBO),z.Y36(z.R0b),z.Y36(I.rD),z.Y36(z.SBq),z.Y36(X.Is,8),z.Y36(Re.F,8),z.Y36(Re.sg,8),z.Y36(ge.G_,8),z.Y36(Re.a5,10),z.$8M("tabindex"),z.Y36(Se),z.Y36(Me.Kd),z.Y36(ot,8))};static#t=this.\u0275dir=z.lG2({type:qt,viewQuery:function(Bt,un){if(1&Bt&&(z.Gf(He,5),z.Gf(it,5),z.Gf(h.pI,5)),2&Bt){let zn;z.iGM(zn=z.CRH())&&(un.trigger=zn.first),z.iGM(zn=z.CRH())&&(un.panel=zn.first),z.iGM(zn=z.CRH())&&(un._overlayDir=zn.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[z.qOj,z.TTD]})}return qt})(),wt=(()=>{class qt extends Ce{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=at=>!this.panelOpen&&at.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Ne.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(at){const Bt=this.options.toArray()[at];if(Bt){const un=this.panel.nativeElement,zn=(0,I.CB)(at,this.options,this.optionGroups),Qn=Bt._getHostElement();un.scrollTop=0===at&&1===zn?0:(0,I.jH)(Qn.offsetTop,Qn.offsetHeight,un.scrollTop,un.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(at){return new De(this,at)}_getOverlayWidth(at){return"auto"===this.panelWidth?(at instanceof h.xu?at.elementRef:at||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(at){this._hideSingleSelectionIndicator=(0,be.Ig)(at),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const at of this.options)at._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let at;return function(un){return(at||(at=z.n5z(qt)))(un||qt)}}();static#t=this.\u0275cmp=z.Xpm({type:qt,selectors:[["mat-select"]],contentQueries:function(Bt,un,zn){if(1&Bt&&(z.Suo(zn,Nt,5),z.Suo(zn,I.ey,5),z.Suo(zn,I.K7,5)),2&Bt){let Qn;z.iGM(Qn=z.CRH())&&(un.customTrigger=Qn.first),z.iGM(Qn=z.CRH())&&(un.options=Qn),z.iGM(Qn=z.CRH())&&(un.optionGroups=Qn)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Bt,un){1&Bt&&z.NdJ("keydown",function(Qn){return un._handleKeydown(Qn)})("focus",function(){return un._onFocus()})("blur",function(){return un._onBlur()}),2&Bt&&(z.uIk("id",un.id)("tabindex",un.tabIndex)("aria-controls",un.panelOpen?un.id+"-panel":null)("aria-expanded",un.panelOpen)("aria-label",un.ariaLabel||null)("aria-required",un.required.toString())("aria-disabled",un.disabled.toString())("aria-invalid",un.errorState)("aria-activedescendant",un._getAriaActiveDescendant()),z.ekj("mat-mdc-select-disabled",un.disabled)("mat-mdc-select-invalid",un.errorState)("mat-mdc-select-required",un.required)("mat-mdc-select-empty",un.empty)("mat-mdc-select-multiple",un.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[z._Bn([{provide:ge.Eo,useExisting:qt},{provide:I.HF,useExisting:qt}]),z.qOj],ngContentSelectors:bn,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(Bt,un){if(1&Bt&&(z.F$t(Yt),z.TgZ(0,"div",0,1),z.NdJ("click",function(){return un.toggle()}),z.TgZ(3,"div",2),z.YNc(4,ke,2,1,"span",3),z.YNc(5,Gt,3,2,"span",4),z.qZA(),z.TgZ(6,"div",5)(7,"div",6),z.O4$(),z.TgZ(8,"svg",7),z._UZ(9,"path",8),z.qZA()()()(),z.YNc(10,_n,3,9,"ng-template",9),z.NdJ("backdropClick",function(){return un.close()})("attach",function(){return un._onAttached()})("detach",function(){return un.close()})),2&Bt){const zn=z.MAs(1);z.xp6(3),z.Q6J("ngSwitch",un.empty),z.uIk("id",un._valueId),z.xp6(1),z.Q6J("ngSwitchCase",!0),z.xp6(1),z.Q6J("ngSwitchCase",!1),z.xp6(5),z.Q6J("cdkConnectedOverlayPanelClass",un._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",un._scrollStrategy)("cdkConnectedOverlayOrigin",un._preferredOverlayOrigin||zn)("cdkConnectedOverlayOpen",un.panelOpen)("cdkConnectedOverlayPositions",un._positions)("cdkConnectedOverlayWidth",un._overlayWidth)}},dependencies:[k.mk,k.RF,k.n9,k.ED,h.pI,h.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[en.transformPanel]},changeDetection:0})}return qt})(),Kt=(()=>{class qt{static#e=this.\u0275fac=function(Bt){return new(Bt||qt)};static#t=this.\u0275mod=z.oAB({type:qt});static#n=this.\u0275inj=z.cJS({providers:[Oe],imports:[k.ez,h.U8,I.Ng,I.BQ,Ae.ZD,ge.lN,I.Ng,I.BQ]})}return qt})()},2939:(on,et,T)=>{T.d(et,{ZX:()=>Gt,ux:()=>en});var h=T(5879),k=T(8645),z=T(6814),I=T(2296),ge=T(6825),Ae=T(8484),Me=T(2831),X=T(8180),be=T(9773),ne=T(4300),de=T(1088),Re=T(3651),nt=T(3680);function Fe(Ut,tn){if(1&Ut){const Ie=h.EpF();h.TgZ(0,"div",2)(1,"button",3),h.NdJ("click",function(){h.CHM(Ie);const Se=h.oxw();return h.KtG(Se.action())}),h._uU(2),h.qZA()()}if(2&Ut){const Ie=h.oxw();h.xp6(2),h.hij(" ",Ie.data.action," ")}}const Qe=["label"];function Ue(Ut,tn){}const ye=Math.pow(2,31)-1;class Ee{constructor(tn,Ie){this._overlayRef=Ie,this._afterDismissed=new k.x,this._afterOpened=new k.x,this._onAction=new k.x,this._dismissedByAction=!1,this.containerInstance=tn,tn._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(tn){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(tn,ye))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const bt=new h.OlP("MatSnackBarData");class ct{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let fe=(()=>{class Ut{static#e=this.\u0275fac=function(Le){return new(Le||Ut)};static#t=this.\u0275dir=h.lG2({type:Ut,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return Ut})(),Ne=(()=>{class Ut{static#e=this.\u0275fac=function(Le){return new(Le||Ut)};static#t=this.\u0275dir=h.lG2({type:Ut,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return Ut})(),xe=(()=>{class Ut{static#e=this.\u0275fac=function(Le){return new(Le||Ut)};static#t=this.\u0275dir=h.lG2({type:Ut,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return Ut})(),He=(()=>{class Ut{constructor(Ie,Le){this.snackBarRef=Ie,this.data=Le}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(h.Y36(Ee),h.Y36(bt))};static#t=this.\u0275cmp=h.Xpm({type:Ut,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(Le,Se){1&Le&&(h.TgZ(0,"div",0),h._uU(1),h.qZA(),h.YNc(2,Fe,3,1,"div",1)),2&Le&&(h.xp6(1),h.hij(" ",Se.data.message,"\n"),h.xp6(1),h.Q6J("ngIf",Se.hasAction))},dependencies:[z.O5,I.lW,fe,Ne,xe],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return Ut})();const it={snackBarState:(0,ge.X$)("state",[(0,ge.SB)("void, hidden",(0,ge.oB)({transform:"scale(0.8)",opacity:0})),(0,ge.SB)("visible",(0,ge.oB)({transform:"scale(1)",opacity:1})),(0,ge.eR)("* => visible",(0,ge.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,ge.eR)("* => void, * => hidden",(0,ge.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,ge.oB)({opacity:0})))])};let ke=0,$t=(()=>{class Ut extends Ae.en{constructor(Ie,Le,Se,st,ot){super(),this._ngZone=Ie,this._elementRef=Le,this._changeDetectorRef=Se,this._platform=st,this.snackBarConfig=ot,this._document=(0,h.f3M)(z.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new k.x,this._onExit=new k.x,this._onEnter=new k.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+ke++,this.attachDomPortal=Oe=>{this._assertNotAttached();const Nt=this._portalOutlet.attachDomPortal(Oe);return this._afterPortalAttached(),Nt},this._live="assertive"!==ot.politeness||ot.announcementMessage?"off"===ot.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ie){this._assertNotAttached();const Le=this._portalOutlet.attachComponentPortal(Ie);return this._afterPortalAttached(),Le}attachTemplatePortal(Ie){this._assertNotAttached();const Le=this._portalOutlet.attachTemplatePortal(Ie);return this._afterPortalAttached(),Le}onAnimationEnd(Ie){const{fromState:Le,toState:Se}=Ie;if(("void"===Se&&"void"!==Le||"hidden"===Se)&&this._completeExit(),"visible"===Se){const st=this._onEnter;this._ngZone.run(()=>{st.next(),st.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,X.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ie=this._elementRef.nativeElement,Le=this.snackBarConfig.panelClass;Le&&(Array.isArray(Le)?Le.forEach(Se=>Ie.classList.add(Se)):Ie.classList.add(Le)),this._exposeToModals()}_exposeToModals(){const Ie=this._liveElementId,Le=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Se=0;Se<Le.length;Se++){const st=Le[Se],ot=st.getAttribute("aria-owns");this._trackedModals.add(st),ot?-1===ot.indexOf(Ie)&&st.setAttribute("aria-owns",ot+" "+Ie):st.setAttribute("aria-owns",Ie)}}_clearFromModals(){this._trackedModals.forEach(Ie=>{const Le=Ie.getAttribute("aria-owns");if(Le){const Se=Le.replace(this._liveElementId,"").trim();Se.length>0?Ie.setAttribute("aria-owns",Se):Ie.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ie=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Le=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ie&&Le){let Se=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ie.contains(document.activeElement)&&(Se=document.activeElement),Ie.removeAttribute("aria-hidden"),Le.appendChild(Ie),Se?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(h.Y36(h.R0b),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(Me.t4),h.Y36(ct))};static#t=this.\u0275dir=h.lG2({type:Ut,viewQuery:function(Le,Se){if(1&Le&&h.Gf(Ae.Pl,7),2&Le){let st;h.iGM(st=h.CRH())&&(Se._portalOutlet=st.first)}},features:[h.qOj]})}return Ut})(),an=(()=>{class Ut extends $t{_afterPortalAttached(){super._afterPortalAttached();const Ie=this._label.nativeElement,Le="mdc-snackbar__label";Ie.classList.toggle(Le,!Ie.querySelector(`.${Le}`))}static#e=this.\u0275fac=function(){let Ie;return function(Se){return(Ie||(Ie=h.n5z(Ut)))(Se||Ut)}}();static#t=this.\u0275cmp=h.Xpm({type:Ut,selectors:[["mat-snack-bar-container"]],viewQuery:function(Le,Se){if(1&Le&&h.Gf(Qe,7),2&Le){let st;h.iGM(st=h.CRH())&&(Se._label=st.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(Le,Se){1&Le&&h.WFA("@state.done",function(ot){return Se.onAnimationEnd(ot)}),2&Le&&h.d8E("@state",Se._animationState)},features:[h.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(Le,Se){1&Le&&(h.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),h.YNc(4,Ue,0,0,"ng-template",4),h.qZA(),h._UZ(5,"div"),h.qZA()()),2&Le&&(h.xp6(5),h.uIk("aria-live",Se._live)("role",Se._role)("id",Se._liveElementId))},dependencies:[Ae.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[it.snackBarState]}})}return Ut})(),Gt=(()=>{class Ut{static#e=this.\u0275fac=function(Le){return new(Le||Ut)};static#t=this.\u0275mod=h.oAB({type:Ut});static#n=this.\u0275inj=h.cJS({imports:[Re.U8,Ae.eL,z.ez,I.ot,nt.BQ,nt.BQ]})}return Ut})();const Yt=new h.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function _n(){return new ct}});let bn=(()=>{class Ut{get _openedSnackBarRef(){const Ie=this._parentSnackBar;return Ie?Ie._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ie){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ie:this._snackBarRefAtThisLevel=Ie}constructor(Ie,Le,Se,st,ot,Oe){this._overlay=Ie,this._live=Le,this._injector=Se,this._breakpointObserver=st,this._parentSnackBar=ot,this._defaultConfig=Oe,this._snackBarRefAtThisLevel=null}openFromComponent(Ie,Le){return this._attach(Ie,Le)}openFromTemplate(Ie,Le){return this._attach(Ie,Le)}open(Ie,Le="",Se){const st={...this._defaultConfig,...Se};return st.data={message:Ie,action:Le},st.announcementMessage===Ie&&(st.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,st)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ie,Le){const st=h.zs3.create({parent:Le&&Le.viewContainerRef&&Le.viewContainerRef.injector||this._injector,providers:[{provide:ct,useValue:Le}]}),ot=new Ae.C5(this.snackBarContainerComponent,Le.viewContainerRef,st),Oe=Ie.attach(ot);return Oe.instance.snackBarConfig=Le,Oe.instance}_attach(Ie,Le){const Se={...new ct,...this._defaultConfig,...Le},st=this._createOverlay(Se),ot=this._attachSnackBarContainer(st,Se),Oe=new Ee(ot,st);if(Ie instanceof h.Rgc){const Nt=new Ae.UE(Ie,null,{$implicit:Se.data,snackBarRef:Oe});Oe.instance=ot.attachTemplatePortal(Nt)}else{const Nt=this._createInjector(Se,Oe),De=new Ae.C5(Ie,void 0,Nt),We=ot.attachComponentPortal(De);Oe.instance=We.instance}return this._breakpointObserver.observe(de.u3.HandsetPortrait).pipe((0,be.R)(st.detachments())).subscribe(Nt=>{st.overlayElement.classList.toggle(this.handsetCssClass,Nt.matches)}),Se.announcementMessage&&ot._onAnnounce.subscribe(()=>{this._live.announce(Se.announcementMessage,Se.politeness)}),this._animateSnackBar(Oe,Se),this._openedSnackBarRef=Oe,this._openedSnackBarRef}_animateSnackBar(Ie,Le){Ie.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ie&&(this._openedSnackBarRef=null),Le.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ie.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ie.containerInstance.enter(),Le.duration&&Le.duration>0&&Ie.afterOpened().subscribe(()=>Ie._dismissAfter(Le.duration))}_createOverlay(Ie){const Le=new Re.X_;Le.direction=Ie.direction;let Se=this._overlay.position().global();const st="rtl"===Ie.direction,ot="left"===Ie.horizontalPosition||"start"===Ie.horizontalPosition&&!st||"end"===Ie.horizontalPosition&&st,Oe=!ot&&"center"!==Ie.horizontalPosition;return ot?Se.left("0"):Oe?Se.right("0"):Se.centerHorizontally(),"top"===Ie.verticalPosition?Se.top("0"):Se.bottom("0"),Le.positionStrategy=Se,this._overlay.create(Le)}_createInjector(Ie,Le){return h.zs3.create({parent:Ie&&Ie.viewContainerRef&&Ie.viewContainerRef.injector||this._injector,providers:[{provide:Ee,useValue:Le},{provide:bt,useValue:Ie.data}]})}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(h.LFG(Re.aV),h.LFG(ne.Kd),h.LFG(h.zs3),h.LFG(de.Yg),h.LFG(Ut,12),h.LFG(Yt))};static#t=this.\u0275prov=h.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})(),en=(()=>{class Ut extends bn{constructor(Ie,Le,Se,st,ot,Oe){super(Ie,Le,Se,st,ot,Oe),this.simpleSnackBarComponent=He,this.snackBarContainerComponent=an,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(h.LFG(Re.aV),h.LFG(ne.Kd),h.LFG(h.zs3),h.LFG(de.Yg),h.LFG(Ut,12),h.LFG(Yt))};static#t=this.\u0275prov=h.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:Gt})}return Ut})()},3566:(on,et,T)=>{T.d(et,{JX:()=>an,YE:()=>bt,nU:()=>$t});var h=T(5879),k=T(4300),z=T(2495),I=T(6028),ge=T(3680),Ae=T(8645),Me=T(3019),X=T(6825),be=T(6814);const ne=["mat-sort-header",""];function de(Gt,_n){if(1&Gt){const Yt=h.EpF();h.TgZ(0,"div",3),h.NdJ("@arrowPosition.start",function(){h.CHM(Yt);const en=h.oxw();return h.KtG(en._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){h.CHM(Yt);const en=h.oxw();return h.KtG(en._disableViewStateAnimation=!1)}),h._UZ(1,"div",4),h.TgZ(2,"div",5),h._UZ(3,"div",6)(4,"div",7)(5,"div",8),h.qZA()()}if(2&Gt){const Yt=h.oxw();h.Q6J("@arrowOpacity",Yt._getArrowViewState())("@arrowPosition",Yt._getArrowViewState())("@allowChildren",Yt._getArrowDirectionState()),h.xp6(2),h.Q6J("@indicator",Yt._getArrowDirectionState()),h.xp6(1),h.Q6J("@leftPointer",Yt._getArrowDirectionState()),h.xp6(1),h.Q6J("@rightPointer",Yt._getArrowDirectionState())}}const Re=["*"],ye=new h.OlP("MAT_SORT_DEFAULT_OPTIONS"),Ee=(0,ge.dB)((0,ge.Id)(class{}));let bt=(()=>{class Gt extends Ee{get direction(){return this._direction}set direction(Yt){this._direction=Yt}get disableClear(){return this._disableClear}set disableClear(Yt){this._disableClear=(0,z.Ig)(Yt)}constructor(Yt){super(),this._defaultOptions=Yt,this.sortables=new Map,this._stateChanges=new Ae.x,this.start="asc",this._direction="",this.sortChange=new h.vpe}register(Yt){this.sortables.set(Yt.id,Yt)}deregister(Yt){this.sortables.delete(Yt.id)}sort(Yt){this.active!=Yt.id?(this.active=Yt.id,this.direction=Yt.start?Yt.start:this.start):this.direction=this.getNextSortDirection(Yt),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(Yt){if(!Yt)return"";let en=function ct(Gt,_n){let Yt=["asc","desc"];return"desc"==Gt&&Yt.reverse(),_n||Yt.push(""),Yt}(Yt.start||this.start,Yt?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),Ut=en.indexOf(this.direction)+1;return Ut>=en.length&&(Ut=0),en[Ut]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(bn){return new(bn||Gt)(h.Y36(ye,8))};static#t=this.\u0275dir=h.lG2({type:Gt,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[h.qOj,h.TTD]})}return Gt})();const fe=ge.mZ.ENTERING+" "+ge.yN.STANDARD_CURVE,Ne={indicator:(0,X.X$)("indicator",[(0,X.SB)("active-asc, asc",(0,X.oB)({transform:"translateY(0px)"})),(0,X.SB)("active-desc, desc",(0,X.oB)({transform:"translateY(10px)"})),(0,X.eR)("active-asc <=> active-desc",(0,X.jt)(fe))]),leftPointer:(0,X.X$)("leftPointer",[(0,X.SB)("active-asc, asc",(0,X.oB)({transform:"rotate(-45deg)"})),(0,X.SB)("active-desc, desc",(0,X.oB)({transform:"rotate(45deg)"})),(0,X.eR)("active-asc <=> active-desc",(0,X.jt)(fe))]),rightPointer:(0,X.X$)("rightPointer",[(0,X.SB)("active-asc, asc",(0,X.oB)({transform:"rotate(45deg)"})),(0,X.SB)("active-desc, desc",(0,X.oB)({transform:"rotate(-45deg)"})),(0,X.eR)("active-asc <=> active-desc",(0,X.jt)(fe))]),arrowOpacity:(0,X.X$)("arrowOpacity",[(0,X.SB)("desc-to-active, asc-to-active, active",(0,X.oB)({opacity:1})),(0,X.SB)("desc-to-hint, asc-to-hint, hint",(0,X.oB)({opacity:.54})),(0,X.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,X.oB)({opacity:0})),(0,X.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,X.jt)("0ms")),(0,X.eR)("* <=> *",(0,X.jt)(fe))]),arrowPosition:(0,X.X$)("arrowPosition",[(0,X.eR)("* => desc-to-hint, * => desc-to-active",(0,X.jt)(fe,(0,X.F4)([(0,X.oB)({transform:"translateY(-25%)"}),(0,X.oB)({transform:"translateY(0)"})]))),(0,X.eR)("* => hint-to-desc, * => active-to-desc",(0,X.jt)(fe,(0,X.F4)([(0,X.oB)({transform:"translateY(0)"}),(0,X.oB)({transform:"translateY(25%)"})]))),(0,X.eR)("* => asc-to-hint, * => asc-to-active",(0,X.jt)(fe,(0,X.F4)([(0,X.oB)({transform:"translateY(25%)"}),(0,X.oB)({transform:"translateY(0)"})]))),(0,X.eR)("* => hint-to-asc, * => active-to-asc",(0,X.jt)(fe,(0,X.F4)([(0,X.oB)({transform:"translateY(0)"}),(0,X.oB)({transform:"translateY(-25%)"})]))),(0,X.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,X.oB)({transform:"translateY(0)"})),(0,X.SB)("hint-to-desc, active-to-desc, desc",(0,X.oB)({transform:"translateY(-25%)"})),(0,X.SB)("hint-to-asc, active-to-asc, asc",(0,X.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,X.X$)("allowChildren",[(0,X.eR)("* <=> *",[(0,X.IO)("@*",(0,X.pV)(),{optional:!0})])])};let xe=(()=>{class Gt{constructor(){this.changes=new Ae.x}static#e=this.\u0275fac=function(bn){return new(bn||Gt)};static#t=this.\u0275prov=h.Yz7({token:Gt,factory:Gt.\u0275fac,providedIn:"root"})}return Gt})();const it={provide:xe,deps:[[new h.FiY,new h.tp0,xe]],useFactory:function He(Gt){return Gt||new xe}},ke=(0,ge.Id)(class{});let $t=(()=>{class Gt extends ke{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(Yt){this._updateSortActionDescription(Yt)}get disableClear(){return this._disableClear}set disableClear(Yt){this._disableClear=(0,z.Ig)(Yt)}constructor(Yt,bn,en,Ut,tn,Ie,Le,Se){super(),this._intl=Yt,this._changeDetectorRef=bn,this._sort=en,this._columnDef=Ut,this._focusMonitor=tn,this._elementRef=Ie,this._ariaDescriber=Le,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Se?.arrowPosition&&(this.arrowPosition=Se?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(Yt=>{const bn=!!Yt;bn!==this._showIndicatorHint&&(this._setIndicatorHintVisible(bn),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(Yt){this._isDisabled()&&Yt||(this._showIndicatorHint=Yt,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(Yt){this._viewState=Yt||{},this._disableViewStateAnimation&&(this._viewState={toState:Yt.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(Yt){!this._isDisabled()&&(Yt.keyCode===I.L_||Yt.keyCode===I.K5)&&(Yt.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const Yt=this._viewState.fromState;return(Yt?`${Yt}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(Yt){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,Yt)),this._sortActionDescription=Yt}_handleStateChanges(){this._rerenderSubscription=(0,Me.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(bn){return new(bn||Gt)(h.Y36(xe),h.Y36(h.sBO),h.Y36(bt,8),h.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),h.Y36(k.tE),h.Y36(h.SBq),h.Y36(k.$s,8),h.Y36(ye,8))};static#t=this.\u0275cmp=h.Xpm({type:Gt,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(bn,en){1&bn&&h.NdJ("click",function(){return en._handleClick()})("keydown",function(tn){return en._handleKeydown(tn)})("mouseenter",function(){return en._setIndicatorHintVisible(!0)})("mouseleave",function(){return en._setIndicatorHintVisible(!1)}),2&bn&&(h.uIk("aria-sort",en._getAriaSortAttribute()),h.ekj("mat-sort-header-disabled",en._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[h.qOj],attrs:ne,ngContentSelectors:Re,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(bn,en){1&bn&&(h.F$t(),h.TgZ(0,"div",0)(1,"div",1),h.Hsn(2),h.qZA(),h.YNc(3,de,6,6,"div",2),h.qZA()),2&bn&&(h.ekj("mat-sort-header-sorted",en._isSorted())("mat-sort-header-position-before","before"===en.arrowPosition),h.uIk("tabindex",en._isDisabled()?null:0)("role",en._isDisabled()?null:"button"),h.xp6(3),h.Q6J("ngIf",en._renderArrow()))},dependencies:[be.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Ne.indicator,Ne.leftPointer,Ne.rightPointer,Ne.arrowOpacity,Ne.arrowPosition,Ne.allowChildren]},changeDetection:0})}return Gt})(),an=(()=>{class Gt{static#e=this.\u0275fac=function(bn){return new(bn||Gt)};static#t=this.\u0275mod=h.oAB({type:Gt});static#n=this.\u0275inj=h.cJS({providers:[it],imports:[be.ez,ge.BQ]})}return Gt})()},5313:(on,et,T)=>{T.d(et,{ev:()=>_e,Dz:()=>xt,w1:()=>Y,ge:()=>$,fO:()=>ve,XQ:()=>Rn,as:()=>Xt,Gk:()=>ti,nj:()=>kn,BZ:()=>Ze,by:()=>Pt,p0:()=>Ke});var h=T(5879),k=T(9388),z=T(2495),I=T(8337),ge=T(2831),Ae=T(5407),Me=T(6814),X=T(8645),be=T(2459),ne=T(5619),de=T(2664),Re=T(2096),nt=T(9773),Fe=T(8180);const Qe=[[["caption"]],[["colgroup"],["col"]]],Ue=["caption","colgroup, col"];function bt(he){return class extends he{get sticky(){return this._sticky}set sticky(_t){const re=this._sticky;this._sticky=(0,z.Ig)(_t),this._hasStickyChanged=re!==this._sticky}hasStickyChanged(){const _t=this._hasStickyChanged;return this._hasStickyChanged=!1,_t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(..._t){super(..._t),this._sticky=!1,this._hasStickyChanged=!1}}}const ct=new h.OlP("CDK_TABLE");let Ne=(()=>{class he{constructor(re){this.template=re}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","cdkCellDef",""]]})}return he})(),xe=(()=>{class he{constructor(re){this.template=re}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","cdkHeaderCellDef",""]]})}return he})(),He=(()=>{class he{constructor(re){this.template=re}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","cdkFooterCellDef",""]]})}return he})();class it{}const ke=bt(it);let $t=(()=>{class he extends ke{get name(){return this._name}set name(re){this._setNameInput(re)}get stickyEnd(){return this._stickyEnd}set stickyEnd(re){const we=this._stickyEnd;this._stickyEnd=(0,z.Ig)(re),this._hasStickyChanged=we!==this._stickyEnd}constructor(re){super(),this._table=re,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(re){re&&(this._name=re,this.cssClassFriendlyName=re.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(ct,8))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","cdkColumnDef",""]],contentQueries:function(we,Je,jt){if(1&we&&(h.Suo(jt,Ne,5),h.Suo(jt,xe,5),h.Suo(jt,He,5)),2&we){let cn;h.iGM(cn=h.CRH())&&(Je.cell=cn.first),h.iGM(cn=h.CRH())&&(Je.headerCell=cn.first),h.iGM(cn=h.CRH())&&(Je.footerCell=cn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[h._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:he}]),h.qOj]})}return he})();class an{constructor(_t,re){re.nativeElement.classList.add(..._t._columnCssClassName)}}let Gt=(()=>{class he extends an{constructor(re,we){super(re,we)}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36($t),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[h.qOj]})}return he})(),Yt=(()=>{class he extends an{constructor(re,we){if(super(re,we),1===re._table?._elementRef.nativeElement.nodeType){const Je=re._table._elementRef.nativeElement.getAttribute("role");we.nativeElement.setAttribute("role","grid"===Je||"treegrid"===Je?"gridcell":"cell")}}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36($t),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[h.qOj]})}return he})();class bn{constructor(){this.tasks=[],this.endTasks=[]}}const en=new h.OlP("_COALESCED_STYLE_SCHEDULER");let Ut=(()=>{class he{constructor(re){this._ngZone=re,this._currentSchedule=null,this._destroyed=new X.x}schedule(re){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(re)}scheduleEnd(re){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(re)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new bn,this._getScheduleObservable().pipe((0,nt.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const re=this._currentSchedule;this._currentSchedule=new bn;for(const we of re.tasks)we();for(const we of re.endTasks)we()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,be.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Fe.q)(1))}static#e=this.\u0275fac=function(we){return new(we||he)(h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:he,factory:he.\u0275fac})}return he})(),Ie=(()=>{class he{constructor(re,we){this.template=re,this._differs=we}ngOnChanges(re){if(!this._columnsDiffer){const we=re.columns&&re.columns.currentValue||[];this._columnsDiffer=this._differs.find(we).create(),this._columnsDiffer.diff(we)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(re){return this instanceof st?re.headerCell.template:this instanceof Nt?re.footerCell.template:re.cell.template}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.Rgc),h.Y36(h.ZZ4))};static#t=this.\u0275dir=h.lG2({type:he,features:[h.TTD]})}return he})();class Le extends Ie{}const Se=bt(Le);let st=(()=>{class he extends Se{constructor(re,we,Je){super(re,we),this._table=Je}ngOnChanges(re){super.ngOnChanges(re)}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(ct,8))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[h.qOj,h.TTD]})}return he})();class ot extends Ie{}const Oe=bt(ot);let Nt=(()=>{class he extends Oe{constructor(re,we,Je){super(re,we),this._table=Je}ngOnChanges(re){super.ngOnChanges(re)}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(ct,8))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[h.qOj,h.TTD]})}return he})(),De=(()=>{class he extends Ie{constructor(re,we,Je){super(re,we),this._table=Je}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(ct,8))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[h.qOj]})}return he})(),We=(()=>{class he{static#e=this.mostRecentCellOutlet=null;constructor(re){this._viewContainer=re,he.mostRecentCellOutlet=this}ngOnDestroy(){he.mostRecentCellOutlet===this&&(he.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.s_b))};static#n=this.\u0275dir=h.lG2({type:he,selectors:[["","cdkCellOutlet",""]]})}return he})(),Ce=(()=>{class he{static#e=this.\u0275fac=function(we){return new(we||he)};static#t=this.\u0275cmp=h.Xpm({type:he,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(we,Je){1&we&&h.GkF(0,0)},dependencies:[We],encapsulation:2})}return he})(),wt=(()=>{class he{static#e=this.\u0275fac=function(we){return new(we||he)};static#t=this.\u0275cmp=h.Xpm({type:he,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(we,Je){1&we&&h.GkF(0,0)},dependencies:[We],encapsulation:2})}return he})(),Kt=(()=>{class he{constructor(re){this.templateRef=re,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["ng-template","cdkNoDataRow",""]]})}return he})();const qt=["top","bottom","left","right"];class An{constructor(_t,re,we,Je,jt=!0,cn=!0,$n){this._isNativeHtmlTable=_t,this._stickCellCss=re,this.direction=we,this._coalescedStyleScheduler=Je,this._isBrowser=jt,this._needsPositionStickyOnElement=cn,this._positionListener=$n,this._cachedCellWidths=[],this._borderCellCss={top:`${re}-border-elem-top`,bottom:`${re}-border-elem-bottom`,left:`${re}-border-elem-left`,right:`${re}-border-elem-right`}}clearStickyPositioning(_t,re){const we=[];for(const Je of _t)if(Je.nodeType===Je.ELEMENT_NODE){we.push(Je);for(let jt=0;jt<Je.children.length;jt++)we.push(Je.children[jt])}this._coalescedStyleScheduler.schedule(()=>{for(const Je of we)this._removeStickyStyle(Je,re)})}updateStickyColumns(_t,re,we,Je=!0){if(!_t.length||!this._isBrowser||!re.some(Ln=>Ln)&&!we.some(Ln=>Ln))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const jt=_t[0],cn=jt.children.length,$n=this._getCellWidths(jt,Je),Tn=this._getStickyStartColumnPositions($n,re),ni=this._getStickyEndColumnPositions($n,we),ci=re.lastIndexOf(!0),Ai=we.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Ln="rtl"===this.direction,Di=Ln?"right":"left",Br=Ln?"left":"right";for(const fr of _t)for(let Wi=0;Wi<cn;Wi++){const Wr=fr.children[Wi];re[Wi]&&this._addStickyStyle(Wr,Di,Tn[Wi],Wi===ci),we[Wi]&&this._addStickyStyle(Wr,Br,ni[Wi],Wi===Ai)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===ci?[]:$n.slice(0,ci+1).map((fr,Wi)=>re[Wi]?fr:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Ai?[]:$n.slice(Ai).map((fr,Wi)=>we[Wi+Ai]?fr:null).reverse()}))})}stickRows(_t,re,we){if(!this._isBrowser)return;const Je="bottom"===we?_t.slice().reverse():_t,jt="bottom"===we?re.slice().reverse():re,cn=[],$n=[],Tn=[];for(let ci=0,Ai=0;ci<Je.length;ci++){if(!jt[ci])continue;cn[ci]=Ai;const Ln=Je[ci];Tn[ci]=this._isNativeHtmlTable?Array.from(Ln.children):[Ln];const Di=Ln.getBoundingClientRect().height;Ai+=Di,$n[ci]=Di}const ni=jt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let ci=0;ci<Je.length;ci++){if(!jt[ci])continue;const Ai=cn[ci],Ln=ci===ni;for(const Di of Tn[ci])this._addStickyStyle(Di,we,Ai,Ln)}"top"===we?this._positionListener?.stickyHeaderRowsUpdated({sizes:$n,offsets:cn,elements:Tn}):this._positionListener?.stickyFooterRowsUpdated({sizes:$n,offsets:cn,elements:Tn})})}updateStickyFooterContainer(_t,re){if(!this._isNativeHtmlTable)return;const we=_t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{re.some(Je=>!Je)?this._removeStickyStyle(we,["bottom"]):this._addStickyStyle(we,"bottom",0,!1)})}_removeStickyStyle(_t,re){for(const Je of re)_t.style[Je]="",_t.classList.remove(this._borderCellCss[Je]);qt.some(Je=>-1===re.indexOf(Je)&&_t.style[Je])?_t.style.zIndex=this._getCalculatedZIndex(_t):(_t.style.zIndex="",this._needsPositionStickyOnElement&&(_t.style.position=""),_t.classList.remove(this._stickCellCss))}_addStickyStyle(_t,re,we,Je){_t.classList.add(this._stickCellCss),Je&&_t.classList.add(this._borderCellCss[re]),_t.style[re]=`${we}px`,_t.style.zIndex=this._getCalculatedZIndex(_t),this._needsPositionStickyOnElement&&(_t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(_t){const re={top:100,bottom:10,left:1,right:1};let we=0;for(const Je of qt)_t.style[Je]&&(we+=re[Je]);return we?`${we}`:""}_getCellWidths(_t,re=!0){if(!re&&this._cachedCellWidths.length)return this._cachedCellWidths;const we=[],Je=_t.children;for(let jt=0;jt<Je.length;jt++)we.push(Je[jt].getBoundingClientRect().width);return this._cachedCellWidths=we,we}_getStickyStartColumnPositions(_t,re){const we=[];let Je=0;for(let jt=0;jt<_t.length;jt++)re[jt]&&(we[jt]=Je,Je+=_t[jt]);return we}_getStickyEndColumnPositions(_t,re){const we=[];let Je=0;for(let jt=_t.length;jt>0;jt--)re[jt]&&(we[jt]=Je,Je+=_t[jt]);return we}}const Ct=new h.OlP("CDK_SPL");let Q=(()=>{class he{constructor(re,we){this.viewContainer=re,this.elementRef=we}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.s_b),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","rowOutlet",""]]})}return he})(),ue=(()=>{class he{constructor(re,we){this.viewContainer=re,this.elementRef=we}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.s_b),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","headerRowOutlet",""]]})}return he})(),pt=(()=>{class he{constructor(re,we){this.viewContainer=re,this.elementRef=we}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.s_b),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","footerRowOutlet",""]]})}return he})(),je=(()=>{class he{constructor(re,we){this.viewContainer=re,this.elementRef=we}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.s_b),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","noDataRowOutlet",""]]})}return he})(),gt=(()=>{class he{get trackBy(){return this._trackByFn}set trackBy(re){this._trackByFn=re}get dataSource(){return this._dataSource}set dataSource(re){this._dataSource!==re&&this._switchDataSource(re)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(re){this._multiTemplateDataRows=(0,z.Ig)(re),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(re){this._fixedLayout=(0,z.Ig)(re),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(re,we,Je,jt,cn,$n,Tn,ni,ci,Ai,Ln,Di){this._differs=re,this._changeDetectorRef=we,this._elementRef=Je,this._dir=cn,this._platform=Tn,this._viewRepeater=ni,this._coalescedStyleScheduler=ci,this._viewportRuler=Ai,this._stickyPositioningListener=Ln,this._ngZone=Di,this._onDestroy=new X.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new h.vpe,this.viewChange=new ne.X({start:0,end:Number.MAX_VALUE}),jt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=$n,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((re,we)=>this.trackBy?this.trackBy(we.dataIndex,we.data):we),this._viewportRuler.change().pipe((0,nt.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const we=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||we,this._forceRecalculateCellWidths=we,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(re=>{re.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,I.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const re=this._dataDiffer.diff(this._renderRows);if(!re)return this._updateNoDataRow(),void this.contentChanged.next();const we=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(re,we,(Je,jt,cn)=>this._getEmbeddedViewArgs(Je.item,cn),Je=>Je.item.data,Je=>{1===Je.operation&&Je.context&&this._renderCellTemplateForItem(Je.record.item.rowDef,Je.context)}),this._updateRowIndexContext(),re.forEachIdentityChange(Je=>{we.get(Je.currentIndex).context.$implicit=Je.item.data}),this._updateNoDataRow(),this._ngZone&&h.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Fe.q)(1),(0,nt.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(re){this._customColumnDefs.add(re)}removeColumnDef(re){this._customColumnDefs.delete(re)}addRowDef(re){this._customRowDefs.add(re)}removeRowDef(re){this._customRowDefs.delete(re)}addHeaderRowDef(re){this._customHeaderRowDefs.add(re),this._headerRowDefChanged=!0}removeHeaderRowDef(re){this._customHeaderRowDefs.delete(re),this._headerRowDefChanged=!0}addFooterRowDef(re){this._customFooterRowDefs.add(re),this._footerRowDefChanged=!0}removeFooterRowDef(re){this._customFooterRowDefs.delete(re),this._footerRowDefChanged=!0}setNoDataRow(re){this._customNoDataRow=re}updateStickyHeaderRowStyles(){const re=this._getRenderedRows(this._headerRowOutlet),Je=this._elementRef.nativeElement.querySelector("thead");Je&&(Je.style.display=re.length?"":"none");const jt=this._headerRowDefs.map(cn=>cn.sticky);this._stickyStyler.clearStickyPositioning(re,["top"]),this._stickyStyler.stickRows(re,jt,"top"),this._headerRowDefs.forEach(cn=>cn.resetStickyChanged())}updateStickyFooterRowStyles(){const re=this._getRenderedRows(this._footerRowOutlet),Je=this._elementRef.nativeElement.querySelector("tfoot");Je&&(Je.style.display=re.length?"":"none");const jt=this._footerRowDefs.map(cn=>cn.sticky);this._stickyStyler.clearStickyPositioning(re,["bottom"]),this._stickyStyler.stickRows(re,jt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,jt),this._footerRowDefs.forEach(cn=>cn.resetStickyChanged())}updateStickyColumnStyles(){const re=this._getRenderedRows(this._headerRowOutlet),we=this._getRenderedRows(this._rowOutlet),Je=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...re,...we,...Je],["left","right"]),this._stickyColumnStylesNeedReset=!1),re.forEach((jt,cn)=>{this._addStickyColumnStyles([jt],this._headerRowDefs[cn])}),this._rowDefs.forEach(jt=>{const cn=[];for(let $n=0;$n<we.length;$n++)this._renderRows[$n].rowDef===jt&&cn.push(we[$n]);this._addStickyColumnStyles(cn,jt)}),Je.forEach((jt,cn)=>{this._addStickyColumnStyles([jt],this._footerRowDefs[cn])}),Array.from(this._columnDefsByName.values()).forEach(jt=>jt.resetStickyChanged())}_getAllRenderRows(){const re=[],we=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Je=0;Je<this._data.length;Je++){let jt=this._data[Je];const cn=this._getRenderRowsForData(jt,Je,we.get(jt));this._cachedRenderRowsMap.has(jt)||this._cachedRenderRowsMap.set(jt,new WeakMap);for(let $n=0;$n<cn.length;$n++){let Tn=cn[$n];const ni=this._cachedRenderRowsMap.get(Tn.data);ni.has(Tn.rowDef)?ni.get(Tn.rowDef).push(Tn):ni.set(Tn.rowDef,[Tn]),re.push(Tn)}}return re}_getRenderRowsForData(re,we,Je){return this._getRowDefs(re,we).map(cn=>{const $n=Je&&Je.has(cn)?Je.get(cn):[];if($n.length){const Tn=$n.shift();return Tn.dataIndex=we,Tn}return{data:re,rowDef:cn,dataIndex:we}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ut(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(we=>{this._columnDefsByName.has(we.name),this._columnDefsByName.set(we.name,we)})}_cacheRowDefs(){this._headerRowDefs=ut(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ut(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ut(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const re=this._rowDefs.filter(we=>!we.when);this._defaultRowDef=re[0]}_renderUpdatedColumns(){const re=(cn,$n)=>cn||!!$n.getColumnsDiff(),we=this._rowDefs.reduce(re,!1);we&&this._forceRenderDataRows();const Je=this._headerRowDefs.reduce(re,!1);Je&&this._forceRenderHeaderRows();const jt=this._footerRowDefs.reduce(re,!1);return jt&&this._forceRenderFooterRows(),we||Je||jt}_switchDataSource(re){this._data=[],(0,I.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),re||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=re}_observeRenderChanges(){if(!this.dataSource)return;let re;(0,I.Z9)(this.dataSource)?re=this.dataSource.connect(this):(0,de.b)(this.dataSource)?re=this.dataSource:Array.isArray(this.dataSource)&&(re=(0,Re.of)(this.dataSource)),this._renderChangeSubscription=re.pipe((0,nt.R)(this._onDestroy)).subscribe(we=>{this._data=we||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((re,we)=>this._renderRow(this._headerRowOutlet,re,we)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((re,we)=>this._renderRow(this._footerRowOutlet,re,we)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(re,we){const Je=Array.from(we.columns||[]).map($n=>this._columnDefsByName.get($n)),jt=Je.map($n=>$n.sticky),cn=Je.map($n=>$n.stickyEnd);this._stickyStyler.updateStickyColumns(re,jt,cn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(re){const we=[];for(let Je=0;Je<re.viewContainer.length;Je++){const jt=re.viewContainer.get(Je);we.push(jt.rootNodes[0])}return we}_getRowDefs(re,we){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Je=[];if(this.multiTemplateDataRows)Je=this._rowDefs.filter(jt=>!jt.when||jt.when(we,re));else{let jt=this._rowDefs.find(cn=>cn.when&&cn.when(we,re))||this._defaultRowDef;jt&&Je.push(jt)}return Je}_getEmbeddedViewArgs(re,we){return{templateRef:re.rowDef.template,context:{$implicit:re.data},index:we}}_renderRow(re,we,Je,jt={}){const cn=re.viewContainer.createEmbeddedView(we.template,jt,Je);return this._renderCellTemplateForItem(we,jt),cn}_renderCellTemplateForItem(re,we){for(let Je of this._getCellTemplates(re))We.mostRecentCellOutlet&&We.mostRecentCellOutlet._viewContainer.createEmbeddedView(Je,we);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const re=this._rowOutlet.viewContainer;for(let we=0,Je=re.length;we<Je;we++){const cn=re.get(we).context;cn.count=Je,cn.first=0===we,cn.last=we===Je-1,cn.even=we%2==0,cn.odd=!cn.even,this.multiTemplateDataRows?(cn.dataIndex=this._renderRows[we].dataIndex,cn.renderIndex=we):cn.index=this._renderRows[we].dataIndex}}_getCellTemplates(re){return re&&re.columns?Array.from(re.columns,we=>{const Je=this._columnDefsByName.get(we);return re.extractCellTemplate(Je)}):[]}_applyNativeTableSections(){const re=this._document.createDocumentFragment(),we=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Je of we){const jt=this._document.createElement(Je.tag);jt.setAttribute("role","rowgroup");for(const cn of Je.outlets)jt.appendChild(cn.elementRef.nativeElement);re.appendChild(jt)}this._elementRef.nativeElement.appendChild(re)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const re=(we,Je)=>we||Je.hasStickyChanged();this._headerRowDefs.reduce(re,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(re,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(re,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new An(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Re.of)()).pipe((0,nt.R)(this._onDestroy)).subscribe(we=>{this._stickyStyler.direction=we,this.updateStickyColumnStyles()})}_getOwnDefs(re){return re.filter(we=>!we._table||we._table===this)}_updateNoDataRow(){const re=this._customNoDataRow||this._noDataRow;if(!re)return;const we=0===this._rowOutlet.viewContainer.length;if(we===this._isShowingNoDataRow)return;const Je=this._noDataRowOutlet.viewContainer;if(we){const jt=Je.createEmbeddedView(re.templateRef),cn=jt.rootNodes[0];1===jt.rootNodes.length&&cn?.nodeType===this._document.ELEMENT_NODE&&(cn.setAttribute("role","row"),cn.classList.add(re._contentClassName))}else Je.clear();this._isShowingNoDataRow=we,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(we){return new(we||he)(h.Y36(h.ZZ4),h.Y36(h.sBO),h.Y36(h.SBq),h.$8M("role"),h.Y36(k.Is,8),h.Y36(Me.K0),h.Y36(ge.t4),h.Y36(I.k),h.Y36(en),h.Y36(Ae.rL),h.Y36(Ct,12),h.Y36(h.R0b,8))};static#t=this.\u0275cmp=h.Xpm({type:he,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(we,Je,jt){if(1&we&&(h.Suo(jt,Kt,5),h.Suo(jt,$t,5),h.Suo(jt,De,5),h.Suo(jt,st,5),h.Suo(jt,Nt,5)),2&we){let cn;h.iGM(cn=h.CRH())&&(Je._noDataRow=cn.first),h.iGM(cn=h.CRH())&&(Je._contentColumnDefs=cn),h.iGM(cn=h.CRH())&&(Je._contentRowDefs=cn),h.iGM(cn=h.CRH())&&(Je._contentHeaderRowDefs=cn),h.iGM(cn=h.CRH())&&(Je._contentFooterRowDefs=cn)}},viewQuery:function(we,Je){if(1&we&&(h.Gf(Q,7),h.Gf(ue,7),h.Gf(pt,7),h.Gf(je,7)),2&we){let jt;h.iGM(jt=h.CRH())&&(Je._rowOutlet=jt.first),h.iGM(jt=h.CRH())&&(Je._headerRowOutlet=jt.first),h.iGM(jt=h.CRH())&&(Je._footerRowOutlet=jt.first),h.iGM(jt=h.CRH())&&(Je._noDataRowOutlet=jt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(we,Je){2&we&&h.ekj("cdk-table-fixed-layout",Je.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[h._Bn([{provide:ct,useExisting:he},{provide:I.k,useClass:I.yy},{provide:en,useClass:Ut},{provide:Ct,useValue:null}])],ngContentSelectors:Ue,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(we,Je){1&we&&(h.F$t(Qe),h.Hsn(0),h.Hsn(1,1),h.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Q,ue,pt,je],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return he})();function ut(he,_t){return he.concat(Array.from(_t))}let In=(()=>{class he{static#e=this.\u0275fac=function(we){return new(we||he)};static#t=this.\u0275mod=h.oAB({type:he});static#n=this.\u0275inj=h.cJS({imports:[Ae.Cl]})}return he})();var Un=T(3680),Xn=T(3019),Fn=T(2572),Mt=T(7398);const Vn=[[["caption"]],[["colgroup"],["col"]]],kt=["caption","colgroup, col"];let Ze=(()=>{class he extends gt{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let re;return function(Je){return(re||(re=h.n5z(he)))(Je||he)}}();static#t=this.\u0275cmp=h.Xpm({type:he,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(we,Je){2&we&&h.ekj("mdc-table-fixed-layout",Je.fixedLayout)},exportAs:["matTable"],features:[h._Bn([{provide:gt,useExisting:he},{provide:ct,useExisting:he},{provide:en,useClass:Ut},{provide:I.k,useClass:I.yy},{provide:Ct,useValue:null}]),h.qOj],ngContentSelectors:kt,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(we,Je){1&we&&(h.F$t(Vn),h.Hsn(0),h.Hsn(1,1),h.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Q,ue,pt,je],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return he})(),xt=(()=>{class he extends Ne{static#e=this.\u0275fac=function(){let re;return function(Je){return(re||(re=h.n5z(he)))(Je||he)}}();static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","matCellDef",""]],features:[h._Bn([{provide:Ne,useExisting:he}]),h.qOj]})}return he})(),ve=(()=>{class he extends xe{static#e=this.\u0275fac=function(){let re;return function(Je){return(re||(re=h.n5z(he)))(Je||he)}}();static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","matHeaderCellDef",""]],features:[h._Bn([{provide:xe,useExisting:he}]),h.qOj]})}return he})(),Y=(()=>{class he extends $t{get name(){return this._name}set name(re){this._setNameInput(re)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let re;return function(Je){return(re||(re=h.n5z(he)))(Je||he)}}();static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[h._Bn([{provide:$t,useExisting:he},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:he}]),h.qOj]})}return he})(),$=(()=>{class he extends Gt{static#e=this.\u0275fac=function(){let re;return function(Je){return(re||(re=h.n5z(he)))(Je||he)}}();static#t=this.\u0275dir=h.lG2({type:he,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[h.qOj]})}return he})(),_e=(()=>{class he extends Yt{static#e=this.\u0275fac=function(){let re;return function(Je){return(re||(re=h.n5z(he)))(Je||he)}}();static#t=this.\u0275dir=h.lG2({type:he,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[h.qOj]})}return he})(),Xt=(()=>{class he extends st{static#e=this.\u0275fac=function(){let re;return function(Je){return(re||(re=h.n5z(he)))(Je||he)}}();static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[h._Bn([{provide:st,useExisting:he}]),h.qOj]})}return he})(),kn=(()=>{class he extends De{static#e=this.\u0275fac=function(){let re;return function(Je){return(re||(re=h.n5z(he)))(Je||he)}}();static#t=this.\u0275dir=h.lG2({type:he,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[h._Bn([{provide:De,useExisting:he}]),h.qOj]})}return he})(),Rn=(()=>{class he extends Ce{static#e=this.\u0275fac=function(){let re;return function(Je){return(re||(re=h.n5z(he)))(Je||he)}}();static#t=this.\u0275cmp=h.Xpm({type:he,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[h._Bn([{provide:Ce,useExisting:he}]),h.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(we,Je){1&we&&h.GkF(0,0)},dependencies:[We],encapsulation:2})}return he})(),ti=(()=>{class he extends wt{static#e=this.\u0275fac=function(){let re;return function(Je){return(re||(re=h.n5z(he)))(Je||he)}}();static#t=this.\u0275cmp=h.Xpm({type:he,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[h._Bn([{provide:wt,useExisting:he}]),h.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(we,Je){1&we&&h.GkF(0,0)},dependencies:[We],encapsulation:2})}return he})(),Ke=(()=>{class he{static#e=this.\u0275fac=function(we){return new(we||he)};static#t=this.\u0275mod=h.oAB({type:he});static#n=this.\u0275inj=h.cJS({imports:[Un.BQ,In,Un.BQ]})}return he})();class Dt extends I.o2{get data(){return this._data.value}set data(_t){_t=Array.isArray(_t)?_t:[],this._data.next(_t),this._renderChangesSubscription||this._filterData(_t)}get filter(){return this._filter.value}set filter(_t){this._filter.next(_t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(_t){this._sort=_t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(_t){this._paginator=_t,this._updateChangeSubscription()}constructor(_t=[]){super(),this._renderData=new ne.X([]),this._filter=new ne.X(""),this._internalPageChanges=new X.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(re,we)=>{const Je=re[we];if((0,z.t6)(Je)){const jt=Number(Je);return jt<9007199254740991?jt:Je}return Je},this.sortData=(re,we)=>{const Je=we.active,jt=we.direction;return Je&&""!=jt?re.sort((cn,$n)=>{let Tn=this.sortingDataAccessor(cn,Je),ni=this.sortingDataAccessor($n,Je);const ci=typeof Tn,Ai=typeof ni;ci!==Ai&&("number"===ci&&(Tn+=""),"number"===Ai&&(ni+=""));let Ln=0;return null!=Tn&&null!=ni?Tn>ni?Ln=1:Tn<ni&&(Ln=-1):null!=Tn?Ln=1:null!=ni&&(Ln=-1),Ln*("asc"==jt?1:-1)}):re},this.filterPredicate=(re,we)=>{const Je=Object.keys(re).reduce((cn,$n)=>cn+re[$n]+"\u25ec","").toLowerCase(),jt=we.trim().toLowerCase();return-1!=Je.indexOf(jt)},this._data=new ne.X(_t),this._updateChangeSubscription()}_updateChangeSubscription(){const _t=this._sort?(0,Xn.T)(this._sort.sortChange,this._sort.initialized):(0,Re.of)(null),re=this._paginator?(0,Xn.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,Re.of)(null),Je=(0,Fn.a)([this._data,this._filter]).pipe((0,Mt.U)(([$n])=>this._filterData($n))),jt=(0,Fn.a)([Je,_t]).pipe((0,Mt.U)(([$n])=>this._orderData($n))),cn=(0,Fn.a)([jt,re]).pipe((0,Mt.U)(([$n])=>this._pageData($n)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=cn.subscribe($n=>this._renderData.next($n))}_filterData(_t){return this.filteredData=null==this.filter||""===this.filter?_t:_t.filter(re=>this.filterPredicate(re,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(_t){return this.sort?this.sortData(_t.slice(),this.sort):_t}_pageData(_t){if(!this.paginator)return _t;const re=this.paginator.pageIndex*this.paginator.pageSize;return _t.slice(re,re+this.paginator.pageSize)}_updatePaginator(_t){Promise.resolve().then(()=>{const re=this.paginator;if(re&&(re.length=_t,re.pageIndex>0)){const we=Math.ceil(re.length/re.pageSize)-1||0,Je=Math.min(re.pageIndex,we);Je!==re.pageIndex&&(re.pageIndex=Je,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Pt extends Dt{}},6593:(on,et,T)=>{T.d(et,{Dx:()=>gi,H7:()=>Xn,b2:()=>at,q6:()=>wt,se:()=>ke});var h=T(5879),k=T(6814);class z extends k.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class I extends z{static makeCurrent(){(0,k.HT)(new I)}onAndCancel(Y,$,B){return Y.addEventListener($,B),()=>{Y.removeEventListener($,B)}}dispatchEvent(Y,$){Y.dispatchEvent($)}remove(Y){Y.parentNode&&Y.parentNode.removeChild(Y)}createElement(Y,$){return($=$||this.getDefaultDocument()).createElement(Y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Y){return Y.nodeType===Node.ELEMENT_NODE}isShadowRoot(Y){return Y instanceof DocumentFragment}getGlobalEventTarget(Y,$){return"window"===$?window:"document"===$?Y:"body"===$?Y.body:null}getBaseHref(Y){const $=function Ae(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==$?null:function X(ie){Me=Me||document.createElement("a"),Me.setAttribute("href",ie);const Y=Me.pathname;return"/"===Y.charAt(0)?Y:`/${Y}`}($)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(Y){return(0,k.Mx)(document.cookie,Y)}}let Me,ge=null,ne=(()=>{class ie{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(B){return new(B||ie)};static#t=this.\u0275prov=h.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const de=new h.OlP("EventManagerPlugins");let Re=(()=>{class ie{constructor($,B){this._zone=B,this._eventNameToPlugin=new Map,$.forEach(_e=>{_e.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,B,_e){return this._findPluginFor(B).addEventListener($,B,_e)}getZone(){return this._zone}_findPluginFor($){let B=this._eventNameToPlugin.get($);if(B)return B;if(B=this._plugins.find(Xe=>Xe.supports($)),!B)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set($,B),B}static#e=this.\u0275fac=function(B){return new(B||ie)(h.LFG(de),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();class nt{constructor(Y){this._doc=Y}}const Fe="ng-app-id";let Qe=(()=>{class ie{constructor($,B,_e,Xe={}){this.doc=$,this.appId=B,this.nonce=_e,this.platformId=Xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,k.PM)(Xe),this.resetHostNodes()}addStyles($){for(const B of $)1===this.changeUsageCount(B,1)&&this.onStyleAdded(B)}removeStyles($){for(const B of $)this.changeUsageCount(B,-1)<=0&&this.onStyleRemoved(B)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(B=>B.remove()),$.clear());for(const B of this.getAllStyles())this.onStyleRemoved(B);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const B of this.getAllStyles())this.addStyleToHost($,B)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const B of this.hostNodes)this.addStyleToHost(B,$)}onStyleRemoved($){const B=this.styleRef;B.get($)?.elements?.forEach(_e=>_e.remove()),B.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if($?.length){const B=new Map;return $.forEach(_e=>{null!=_e.textContent&&B.set(_e.textContent,_e)}),B}return null}changeUsageCount($,B){const _e=this.styleRef;if(_e.has($)){const Xe=_e.get($);return Xe.usage+=B,Xe.usage}return _e.set($,{usage:B,elements:[]}),B}getStyleElement($,B){const _e=this.styleNodesInDOM,Xe=_e?.get(B);if(Xe?.parentNode===$)return _e.delete(B),Xe.removeAttribute(Fe),Xe;{const Xt=this.doc.createElement("style");return this.nonce&&Xt.setAttribute("nonce",this.nonce),Xt.textContent=B,this.platformIsServer&&Xt.setAttribute(Fe,this.appId),Xt}}addStyleToHost($,B){const _e=this.getStyleElement($,B);$.appendChild(_e);const Xe=this.styleRef,Xt=Xe.get(B)?.elements;Xt?Xt.push(_e):Xe.set(B,{elements:[_e],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}static#e=this.\u0275fac=function(B){return new(B||ie)(h.LFG(k.K0),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ye=/%COMP%/g,Ne=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function it(ie,Y){return Y.map($=>$.replace(ye,ie))}let ke=(()=>{class ie{constructor($,B,_e,Xe,Xt,vn,kn,Rn=null){this.eventManager=$,this.sharedStylesHost=B,this.appId=_e,this.removeStylesOnCompDestroy=Xe,this.doc=Xt,this.platformId=vn,this.ngZone=kn,this.nonce=Rn,this.rendererByCompId=new Map,this.platformIsServer=(0,k.PM)(vn),this.defaultRenderer=new $t($,Xt,kn,this.platformIsServer)}createRenderer($,B){if(!$||!B)return this.defaultRenderer;this.platformIsServer&&B.encapsulation===h.ifc.ShadowDom&&(B={...B,encapsulation:h.ifc.Emulated});const _e=this.getOrCreateRenderer($,B);return _e instanceof en?_e.applyToHost($):_e instanceof bn&&_e.applyStyles(),_e}getOrCreateRenderer($,B){const _e=this.rendererByCompId;let Xe=_e.get(B.id);if(!Xe){const Xt=this.doc,vn=this.ngZone,kn=this.eventManager,Rn=this.sharedStylesHost,Gn=this.removeStylesOnCompDestroy,ti=this.platformIsServer;switch(B.encapsulation){case h.ifc.Emulated:Xe=new en(kn,Rn,B,this.appId,Gn,Xt,vn,ti);break;case h.ifc.ShadowDom:return new Yt(kn,Rn,$,B,Xt,vn,this.nonce,ti);default:Xe=new bn(kn,Rn,B,Gn,Xt,vn,ti)}_e.set(B.id,Xe)}return Xe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(B){return new(B||ie)(h.LFG(Re),h.LFG(Qe),h.LFG(h.AFp),h.LFG(Ne),h.LFG(k.K0),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))};static#t=this.\u0275prov=h.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();class $t{constructor(Y,$,B,_e){this.eventManager=Y,this.doc=$,this.ngZone=B,this.platformIsServer=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Y,$){return $?this.doc.createElementNS(Ue[$]||$,Y):this.doc.createElement(Y)}createComment(Y){return this.doc.createComment(Y)}createText(Y){return this.doc.createTextNode(Y)}appendChild(Y,$){(_n(Y)?Y.content:Y).appendChild($)}insertBefore(Y,$,B){Y&&(_n(Y)?Y.content:Y).insertBefore($,B)}removeChild(Y,$){Y&&Y.removeChild($)}selectRootElement(Y,$){let B="string"==typeof Y?this.doc.querySelector(Y):Y;if(!B)throw new h.vHH(-5104,!1);return $||(B.textContent=""),B}parentNode(Y){return Y.parentNode}nextSibling(Y){return Y.nextSibling}setAttribute(Y,$,B,_e){if(_e){$=_e+":"+$;const Xe=Ue[_e];Xe?Y.setAttributeNS(Xe,$,B):Y.setAttribute($,B)}else Y.setAttribute($,B)}removeAttribute(Y,$,B){if(B){const _e=Ue[B];_e?Y.removeAttributeNS(_e,$):Y.removeAttribute(`${B}:${$}`)}else Y.removeAttribute($)}addClass(Y,$){Y.classList.add($)}removeClass(Y,$){Y.classList.remove($)}setStyle(Y,$,B,_e){_e&(h.JOm.DashCase|h.JOm.Important)?Y.style.setProperty($,B,_e&h.JOm.Important?"important":""):Y.style[$]=B}removeStyle(Y,$,B){B&h.JOm.DashCase?Y.style.removeProperty($):Y.style[$]=""}setProperty(Y,$,B){Y[$]=B}setValue(Y,$){Y.nodeValue=$}listen(Y,$,B){if("string"==typeof Y&&!(Y=(0,k.q)().getGlobalEventTarget(this.doc,Y)))throw new Error(`Unsupported event target ${Y} for event ${$}`);return this.eventManager.addEventListener(Y,$,this.decoratePreventDefault(B))}decoratePreventDefault(Y){return $=>{if("__ngUnwrap__"===$)return Y;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Y($)):Y($))&&$.preventDefault()}}}function _n(ie){return"TEMPLATE"===ie.tagName&&void 0!==ie.content}class Yt extends $t{constructor(Y,$,B,_e,Xe,Xt,vn,kn){super(Y,Xe,Xt,kn),this.sharedStylesHost=$,this.hostEl=B,this.shadowRoot=B.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Rn=it(_e.id,_e.styles);for(const Gn of Rn){const ti=document.createElement("style");vn&&ti.setAttribute("nonce",vn),ti.textContent=Gn,this.shadowRoot.appendChild(ti)}}nodeOrShadowRoot(Y){return Y===this.hostEl?this.shadowRoot:Y}appendChild(Y,$){return super.appendChild(this.nodeOrShadowRoot(Y),$)}insertBefore(Y,$,B){return super.insertBefore(this.nodeOrShadowRoot(Y),$,B)}removeChild(Y,$){return super.removeChild(this.nodeOrShadowRoot(Y),$)}parentNode(Y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Y)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bn extends $t{constructor(Y,$,B,_e,Xe,Xt,vn,kn){super(Y,Xe,Xt,vn),this.sharedStylesHost=$,this.removeStylesOnCompDestroy=_e,this.styles=kn?it(kn,B.styles):B.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class en extends bn{constructor(Y,$,B,_e,Xe,Xt,vn,kn){const Rn=_e+"-"+B.id;super(Y,$,B,Xe,Xt,vn,kn,Rn),this.contentAttr=function xe(ie){return"_ngcontent-%COMP%".replace(ye,ie)}(Rn),this.hostAttr=function He(ie){return"_nghost-%COMP%".replace(ye,ie)}(Rn)}applyToHost(Y){this.applyStyles(),this.setAttribute(Y,this.hostAttr,"")}createElement(Y,$){const B=super.createElement(Y,$);return super.setAttribute(B,this.contentAttr,""),B}}let Ut=(()=>{class ie extends nt{constructor($){super($)}supports($){return!0}addEventListener($,B,_e){return $.addEventListener(B,_e,!1),()=>this.removeEventListener($,B,_e)}removeEventListener($,B,_e){return $.removeEventListener(B,_e)}static#e=this.\u0275fac=function(B){return new(B||ie)(h.LFG(k.K0))};static#t=this.\u0275prov=h.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const tn=["alt","control","meta","shift"],Ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Le={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let Se=(()=>{class ie extends nt{constructor($){super($)}supports($){return null!=ie.parseEventName($)}addEventListener($,B,_e){const Xe=ie.parseEventName(B),Xt=ie.eventCallback(Xe.fullKey,_e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,k.q)().onAndCancel($,Xe.domEventName,Xt))}static parseEventName($){const B=$.toLowerCase().split("."),_e=B.shift();if(0===B.length||"keydown"!==_e&&"keyup"!==_e)return null;const Xe=ie._normalizeKey(B.pop());let Xt="",vn=B.indexOf("code");if(vn>-1&&(B.splice(vn,1),Xt="code."),tn.forEach(Rn=>{const Gn=B.indexOf(Rn);Gn>-1&&(B.splice(Gn,1),Xt+=Rn+".")}),Xt+=Xe,0!=B.length||0===Xe.length)return null;const kn={};return kn.domEventName=_e,kn.fullKey=Xt,kn}static matchEventFullKeyCode($,B){let _e=Ie[$.key]||$.key,Xe="";return B.indexOf("code.")>-1&&(_e=$.code,Xe="code."),!(null==_e||!_e)&&(_e=_e.toLowerCase()," "===_e?_e="space":"."===_e&&(_e="dot"),tn.forEach(Xt=>{Xt!==_e&&(0,Le[Xt])($)&&(Xe+=Xt+".")}),Xe+=_e,Xe===B)}static eventCallback($,B,_e){return Xe=>{ie.matchEventFullKeyCode(Xe,$)&&_e.runGuarded(()=>B(Xe))}}static _normalizeKey($){return"esc"===$?"escape":$}static#e=this.\u0275fac=function(B){return new(B||ie)(h.LFG(k.K0))};static#t=this.\u0275prov=h.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const wt=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:k.bD},{provide:h.g9A,useValue:function De(){I.makeCurrent()},multi:!0},{provide:k.K0,useFactory:function Ce(){return(0,h.RDi)(document),document},deps:[]}]),Kt=new h.OlP(""),qt=[{provide:h.rWj,useClass:class be{addToWindow(Y){h.dqk.getAngularTestability=(B,_e=!0)=>{const Xe=Y.findTestabilityInTree(B,_e);if(null==Xe)throw new h.vHH(5103,!1);return Xe},h.dqk.getAllAngularTestabilities=()=>Y.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>Y.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(B=>{const _e=h.dqk.getAllAngularTestabilities();let Xe=_e.length,Xt=!1;const vn=function(kn){Xt=Xt||kn,Xe--,0==Xe&&B(Xt)};_e.forEach(kn=>{kn.whenStable(vn)})})}findTestabilityInTree(Y,$,B){return null==$?null:Y.getTestability($)??(B?(0,k.q)().isShadowRoot($)?this.findTestabilityInTree(Y,$.host,!0):this.findTestabilityInTree(Y,$.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],An=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function We(){return new h.qLn},deps:[]},{provide:de,useClass:Ut,multi:!0,deps:[k.K0,h.R0b,h.Lbi]},{provide:de,useClass:Se,multi:!0,deps:[k.K0]},ke,Qe,Re,{provide:h.FYo,useExisting:ke},{provide:k.JF,useClass:ne,deps:[]},[]];let at=(()=>{class ie{constructor($){}static withServerTransition($){return{ngModule:ie,providers:[{provide:h.AFp,useValue:$.appId}]}}static#e=this.\u0275fac=function(B){return new(B||ie)(h.LFG(Kt,12))};static#t=this.\u0275mod=h.oAB({type:ie});static#n=this.\u0275inj=h.cJS({providers:[...An,...qt],imports:[k.ez,h.hGG]})}return ie})(),gi=(()=>{class ie{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}static#e=this.\u0275fac=function(B){return new(B||ie)(h.LFG(k.K0))};static#t=this.\u0275prov=h.Yz7({token:ie,factory:function(B){let _e=null;return _e=B?new B:function Qn(){return new gi((0,h.LFG)(k.K0))}(),_e},providedIn:"root"})}return ie})();typeof window<"u"&&window;let Xn=(()=>{class ie{static#e=this.\u0275fac=function(B){return new(B||ie)};static#t=this.\u0275prov=h.Yz7({token:ie,factory:function(B){let _e=null;return _e=B?new(B||ie):h.LFG(Mt),_e},providedIn:"root"})}return ie})(),Mt=(()=>{class ie extends Xn{constructor($){super(),this._doc=$}sanitize($,B){if(null==B)return null;switch($){case h.q3G.NONE:return B;case h.q3G.HTML:return(0,h.qzn)(B,"HTML")?(0,h.z3N)(B):(0,h.EiD)(this._doc,String(B)).toString();case h.q3G.STYLE:return(0,h.qzn)(B,"Style")?(0,h.z3N)(B):B;case h.q3G.SCRIPT:if((0,h.qzn)(B,"Script"))return(0,h.z3N)(B);throw new h.vHH(5200,!1);case h.q3G.URL:return(0,h.qzn)(B,"URL")?(0,h.z3N)(B):(0,h.mCW)(String(B));case h.q3G.RESOURCE_URL:if((0,h.qzn)(B,"ResourceURL"))return(0,h.z3N)(B);throw new h.vHH(5201,!1);default:throw new h.vHH(5202,!1)}}bypassSecurityTrustHtml($){return(0,h.JVY)($)}bypassSecurityTrustStyle($){return(0,h.L6k)($)}bypassSecurityTrustScript($){return(0,h.eBb)($)}bypassSecurityTrustUrl($){return(0,h.LAX)($)}bypassSecurityTrustResourceUrl($){return(0,h.pB0)($)}static#e=this.\u0275fac=function(B){return new(B||ie)(h.LFG(k.K0))};static#t=this.\u0275prov=h.Yz7({token:ie,factory:function(B){let _e=null;return _e=B?new B:function Fn(ie){return new Mt(ie.get(k.K0))}(h.LFG(h.zs3)),_e},providedIn:"root"})}return ie})()},4190:(on,et,T)=>{T.d(et,{jw:()=>aa,F0:()=>Lr,Bz:()=>dn,lC:()=>Cn,fw:()=>Io});var h=T(5879),k=T(2664),z=T(2459),I=T(2096),ge=T(5619),Ae=T(2572),Me=T(6973),X=T(5211),be=T(4911),ne=T(8407),de=T(8504),Re=T(6232),nt=T(3168),Fe=T(8645),Qe=T(7394),Ue=T(6814),ye=T(7398),Ee=T(4664),bt=T(8180),ct=T(7921),fe=T(2181),Ne=T(1631),xe=T(1374),He=T(6328),it=T(9397),ke=T(6306),$t=T(6699),an=T(3572),Gt=T(9360),_n=T(8251);function Yt(S){return S<=0?()=>Re.E:(0,Gt.e)((F,D)=>{let N=[];F.subscribe((0,_n.x)(D,G=>{N.push(G),S<N.length&&N.shift()},()=>{for(const G of N)D.next(G);D.complete()},void 0,()=>{N=null}))})}var bn=T(3026),en=T(2737),tn=T(975),Ie=T(4716),Le=T(6196),Se=T(9773),st=T(7537),ot=T(6593);const Oe="primary",Nt=Symbol("RouteTitle");class De{constructor(F){this.params=F||{}}has(F){return Object.prototype.hasOwnProperty.call(this.params,F)}get(F){if(this.has(F)){const D=this.params[F];return Array.isArray(D)?D[0]:D}return null}getAll(F){if(this.has(F)){const D=this.params[F];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function We(S){return new De(S)}function Ce(S,F,D){const N=D.path.split("/");if(N.length>S.length||"full"===D.pathMatch&&(F.hasChildren()||N.length<S.length))return null;const G={};for(let me=0;me<N.length;me++){const Ye=N[me],Ot=S[me];if(Ye.startsWith(":"))G[Ye.substring(1)]=Ot;else if(Ye!==Ot.path)return null}return{consumed:S.slice(0,N.length),posParams:G}}function wt(S,F){const D=S?Object.keys(S):void 0,N=F?Object.keys(F):void 0;if(!D||!N||D.length!=N.length)return!1;let G;for(let me=0;me<D.length;me++)if(G=D[me],!Kt(S[G],F[G]))return!1;return!0}function Kt(S,F){if(Array.isArray(S)&&Array.isArray(F)){if(S.length!==F.length)return!1;const D=[...S].sort(),N=[...F].sort();return D.every((G,me)=>N[me]===G)}return S===F}function qt(S){return S.length>0?S[S.length-1]:null}function An(S){return(0,k.b)(S)?S:(0,h.QGY)(S)?(0,z.D)(Promise.resolve(S)):(0,I.of)(S)}const at={exact:function Qn(S,F,D){if(!je(S.segments,F.segments)||!Ct(S.segments,F.segments,D)||S.numberOfChildren!==F.numberOfChildren)return!1;for(const N in F.children)if(!S.children[N]||!Qn(S.children[N],F.children[N],D))return!1;return!0},subset:ai},Bt={exact:function zn(S,F){return wt(S,F)},subset:function gi(S,F){return Object.keys(F).length<=Object.keys(S).length&&Object.keys(F).every(D=>Kt(S[D],F[D]))},ignored:()=>!0};function un(S,F,D){return at[D.paths](S.root,F.root,D.matrixParams)&&Bt[D.queryParams](S.queryParams,F.queryParams)&&!("exact"===D.fragment&&S.fragment!==F.fragment)}function ai(S,F,D){return sn(S,F,F.segments,D)}function sn(S,F,D,N){if(S.segments.length>D.length){const G=S.segments.slice(0,D.length);return!(!je(G,D)||F.hasChildren()||!Ct(G,D,N))}if(S.segments.length===D.length){if(!je(S.segments,D)||!Ct(S.segments,D,N))return!1;for(const G in F.children)if(!S.children[G]||!ai(S.children[G],F.children[G],N))return!1;return!0}{const G=D.slice(0,S.segments.length),me=D.slice(S.segments.length);return!!(je(S.segments,G)&&Ct(S.segments,G,N)&&S.children[Oe])&&sn(S.children[Oe],F,me,N)}}function Ct(S,F,D){return F.every((N,G)=>Bt[D](S[G].parameters,N.parameters))}class H{constructor(F=new Q([],{}),D={},N=null){this.root=F,this.queryParams=D,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=We(this.queryParams)),this._queryParamMap}toString(){return ut.serialize(this)}}class Q{constructor(F,D){this.segments=F,this.children=D,this.parent=null,Object.values(D).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zt(this)}}class ue{constructor(F,D){this.path=F,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=We(this.parameters)),this._parameterMap}toString(){return kt(this)}}function je(S,F){return S.length===F.length&&S.every((D,N)=>D.path===F[N].path)}let Ve=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=h.Yz7({token:S,factory:function(){return new gt},providedIn:"root"})}return S})();class gt{parse(F){const D=new _e(F);return new H(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(F){const D=`/${Wt(F.root,!0)}`,N=function ze(S){const F=Object.keys(S).map(D=>{const N=S[D];return Array.isArray(N)?N.map(G=>`${Un(D)}=${Un(G)}`).join("&"):`${Un(D)}=${Un(N)}`}).filter(D=>!!D);return F.length?`?${F.join("&")}`:""}(F.queryParams);return`${D}${N}${"string"==typeof F.fragment?`#${function Xn(S){return encodeURI(S)}(F.fragment)}`:""}`}}const ut=new gt;function Zt(S){return S.segments.map(F=>kt(F)).join("/")}function Wt(S,F){if(!S.hasChildren())return Zt(S);if(F){const D=S.children[Oe]?Wt(S.children[Oe],!1):"",N=[];return Object.entries(S.children).forEach(([G,me])=>{G!==Oe&&N.push(`${G}:${Wt(me,!1)}`)}),N.length>0?`${D}(${N.join("//")})`:D}{const D=function It(S,F){let D=[];return Object.entries(S.children).forEach(([N,G])=>{N===Oe&&(D=D.concat(F(G,N)))}),Object.entries(S.children).forEach(([N,G])=>{N!==Oe&&(D=D.concat(F(G,N)))}),D}(S,(N,G)=>G===Oe?[Wt(S.children[Oe],!1)]:[`${G}:${Wt(N,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Oe]?`${Zt(S)}/${D[0]}`:`${Zt(S)}/(${D.join("//")})`}}function In(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Un(S){return In(S).replace(/%3B/gi,";")}function Fn(S){return In(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mt(S){return decodeURIComponent(S)}function Vn(S){return Mt(S.replace(/\+/g,"%20"))}function kt(S){return`${Fn(S.path)}${function lt(S){return Object.keys(S).map(F=>`;${Fn(F)}=${Fn(S[F])}`).join("")}(S.parameters)}`}const Te=/^[^\/()?;#]+/;function Ze(S){const F=S.match(Te);return F?F[0]:""}const xt=/^[^\/()?;=#]+/,ie=/^[^=?&#]+/,$=/^[^&#]+/;class _e{constructor(F){this.url=F,this.remaining=F}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){const F={};if(this.consumeOptional("?"))do{this.parseQueryParam(F)}while(this.consumeOptional("&"));return F}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const F=[];for(this.peekStartsWith("(")||F.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),F.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(F.length>0||Object.keys(D).length>0)&&(N[Oe]=new Q(F,D)),N}parseSegment(){const F=Ze(this.remaining);if(""===F&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(F),new ue(Mt(F),this.parseMatrixParams())}parseMatrixParams(){const F={};for(;this.consumeOptional(";");)this.parseParam(F);return F}parseParam(F){const D=function ve(S){const F=S.match(xt);return F?F[0]:""}(this.remaining);if(!D)return;this.capture(D);let N="";if(this.consumeOptional("=")){const G=Ze(this.remaining);G&&(N=G,this.capture(N))}F[Mt(D)]=Mt(N)}parseQueryParam(F){const D=function Y(S){const F=S.match(ie);return F?F[0]:""}(this.remaining);if(!D)return;this.capture(D);let N="";if(this.consumeOptional("=")){const Ye=function B(S){const F=S.match($);return F?F[0]:""}(this.remaining);Ye&&(N=Ye,this.capture(N))}const G=Vn(D),me=Vn(N);if(F.hasOwnProperty(G)){let Ye=F[G];Array.isArray(Ye)||(Ye=[Ye],F[G]=Ye),Ye.push(me)}else F[G]=me}parseParens(F){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=Ze(this.remaining),G=this.remaining[N.length];if("/"!==G&&")"!==G&&";"!==G)throw new h.vHH(4010,!1);let me;N.indexOf(":")>-1?(me=N.slice(0,N.indexOf(":")),this.capture(me),this.capture(":")):F&&(me=Oe);const Ye=this.parseChildren();D[me]=1===Object.keys(Ye).length?Ye[Oe]:new Q([],Ye),this.consumeOptional("//")}return D}peekStartsWith(F){return this.remaining.startsWith(F)}consumeOptional(F){return!!this.peekStartsWith(F)&&(this.remaining=this.remaining.substring(F.length),!0)}capture(F){if(!this.consumeOptional(F))throw new h.vHH(4011,!1)}}function Xe(S){return S.segments.length>0?new Q([],{[Oe]:S}):S}function Xt(S){const F={};for(const N of Object.keys(S.children)){const me=Xt(S.children[N]);if(N===Oe&&0===me.segments.length&&me.hasChildren())for(const[Ye,Ot]of Object.entries(me.children))F[Ye]=Ot;else(me.segments.length>0||me.hasChildren())&&(F[N]=me)}return function vn(S){if(1===S.numberOfChildren&&S.children[Oe]){const F=S.children[Oe];return new Q(S.segments.concat(F.segments),F.children)}return S}(new Q(S.segments,F))}function kn(S){return S instanceof H}function Gn(S){let F;const G=Xe(function D(me){const Ye={};for(const Ft of me.children){const Mn=D(Ft);Ye[Ft.outlet]=Mn}const Ot=new Q(me.url,Ye);return me===S&&(F=Ot),Ot}(S.root));return F??G}function ti(S,F,D,N){let G=S;for(;G.parent;)G=G.parent;if(0===F.length)return ft(G,G,G,D,N);const me=function Dt(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new $e(!0,0,S);let F=0,D=!1;const N=S.reduce((G,me,Ye)=>{if("object"==typeof me&&null!=me){if(me.outlets){const Ot={};return Object.entries(me.outlets).forEach(([Ft,Mn])=>{Ot[Ft]="string"==typeof Mn?Mn.split("/"):Mn}),[...G,{outlets:Ot}]}if(me.segmentPath)return[...G,me.segmentPath]}return"string"!=typeof me?[...G,me]:0===Ye?(me.split("/").forEach((Ot,Ft)=>{0==Ft&&"."===Ot||(0==Ft&&""===Ot?D=!0:".."===Ot?F++:""!=Ot&&G.push(Ot))}),G):[...G,me]},[]);return new $e(D,F,N)}(F);if(me.toRoot())return ft(G,G,new Q([],{}),D,N);const Ye=function he(S,F,D){if(S.isAbsolute)return new Pt(F,!0,0);if(!D)return new Pt(F,!1,NaN);if(null===D.parent)return new Pt(D,!0,0);const N=Et(S.commands[0])?0:1;return function _t(S,F,D){let N=S,G=F,me=D;for(;me>G;){if(me-=G,N=N.parent,!N)throw new h.vHH(4005,!1);G=N.segments.length}return new Pt(N,!1,G-me)}(D,D.segments.length-1+N,S.numberOfDoubleDots)}(me,G,S),Ot=Ye.processChildren?Je(Ye.segmentGroup,Ye.index,me.commands):we(Ye.segmentGroup,Ye.index,me.commands);return ft(G,Ye.segmentGroup,Ot,D,N)}function Et(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function tt(S){return"object"==typeof S&&null!=S&&S.outlets}function ft(S,F,D,N,G){let Ye,me={};N&&Object.entries(N).forEach(([Ft,Mn])=>{me[Ft]=Array.isArray(Mn)?Mn.map(bi=>`${bi}`):`${Mn}`}),Ye=S===F?D:Ke(S,F,D);const Ot=Xe(Xt(Ye));return new H(Ot,me,G)}function Ke(S,F,D){const N={};return Object.entries(S.children).forEach(([G,me])=>{N[G]=me===F?D:Ke(me,F,D)}),new Q(S.segments,N)}class $e{constructor(F,D,N){if(this.isAbsolute=F,this.numberOfDoubleDots=D,this.commands=N,F&&N.length>0&&Et(N[0]))throw new h.vHH(4003,!1);const G=N.find(tt);if(G&&G!==qt(N))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pt{constructor(F,D,N){this.segmentGroup=F,this.processChildren=D,this.index=N}}function we(S,F,D){if(S||(S=new Q([],{})),0===S.segments.length&&S.hasChildren())return Je(S,F,D);const N=function jt(S,F,D){let N=0,G=F;const me={match:!1,pathIndex:0,commandIndex:0};for(;G<S.segments.length;){if(N>=D.length)return me;const Ye=S.segments[G],Ot=D[N];if(tt(Ot))break;const Ft=`${Ot}`,Mn=N<D.length-1?D[N+1]:null;if(G>0&&void 0===Ft)break;if(Ft&&Mn&&"object"==typeof Mn&&void 0===Mn.outlets){if(!ni(Ft,Mn,Ye))return me;N+=2}else{if(!ni(Ft,{},Ye))return me;N++}G++}return{match:!0,pathIndex:G,commandIndex:N}}(S,F,D),G=D.slice(N.commandIndex);if(N.match&&N.pathIndex<S.segments.length){const me=new Q(S.segments.slice(0,N.pathIndex),{});return me.children[Oe]=new Q(S.segments.slice(N.pathIndex),S.children),Je(me,0,G)}return N.match&&0===G.length?new Q(S.segments,{}):N.match&&!S.hasChildren()?cn(S,F,D):N.match?Je(S,0,G):cn(S,F,D)}function Je(S,F,D){if(0===D.length)return new Q(S.segments,{});{const N=function re(S){return tt(S[0])?S[0].outlets:{[Oe]:S}}(D),G={};if(Object.keys(N).some(me=>me!==Oe)&&S.children[Oe]&&1===S.numberOfChildren&&0===S.children[Oe].segments.length){const me=Je(S.children[Oe],F,D);return new Q(S.segments,me.children)}return Object.entries(N).forEach(([me,Ye])=>{"string"==typeof Ye&&(Ye=[Ye]),null!==Ye&&(G[me]=we(S.children[me],F,Ye))}),Object.entries(S.children).forEach(([me,Ye])=>{void 0===N[me]&&(G[me]=Ye)}),new Q(S.segments,G)}}function cn(S,F,D){const N=S.segments.slice(0,F);let G=0;for(;G<D.length;){const me=D[G];if(tt(me)){const Ft=$n(me.outlets);return new Q(N,Ft)}if(0===G&&Et(D[0])){N.push(new ue(S.segments[F].path,Tn(D[0]))),G++;continue}const Ye=tt(me)?me.outlets[Oe]:`${me}`,Ot=G<D.length-1?D[G+1]:null;Ye&&Ot&&Et(Ot)?(N.push(new ue(Ye,Tn(Ot))),G+=2):(N.push(new ue(Ye,{})),G++)}return new Q(N,{})}function $n(S){const F={};return Object.entries(S).forEach(([D,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(F[D]=cn(new Q([],{}),0,N))}),F}function Tn(S){const F={};return Object.entries(S).forEach(([D,N])=>F[D]=`${N}`),F}function ni(S,F,D){return S==D.path&&wt(F,D.parameters)}const ci="imperative";class Ai{constructor(F,D){this.id=F,this.url=D}}class Ln extends Ai{constructor(F,D,N="imperative",G=null){super(F,D),this.type=0,this.navigationTrigger=N,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Di extends Ai{constructor(F,D,N){super(F,D),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Br extends Ai{constructor(F,D,N,G){super(F,D),this.reason=N,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fr extends Ai{constructor(F,D,N,G){super(F,D),this.reason=N,this.code=G,this.type=16}}class Wi extends Ai{constructor(F,D,N,G){super(F,D),this.error=N,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wr extends Ai{constructor(F,D,N,G){super(F,D),this.urlAfterRedirects=N,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class es extends Ai{constructor(F,D,N,G){super(F,D),this.urlAfterRedirects=N,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs extends Ai{constructor(F,D,N,G,me){super(F,D),this.urlAfterRedirects=N,this.state=G,this.shouldActivate=me,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pr extends Ai{constructor(F,D,N,G){super(F,D),this.urlAfterRedirects=N,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class js extends Ai{constructor(F,D,N,G){super(F,D),this.urlAfterRedirects=N,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oa{constructor(F){this.route=F,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class za{constructor(F){this.route=F,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sa{constructor(F){this.snapshot=F,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sa{constructor(F){this.snapshot=F,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(F){this.snapshot=F,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aa{constructor(F){this.snapshot=F,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lc{constructor(F,D,N){this.routerEvent=F,this.position=D,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gr{}class ca{constructor(F){this.url=F}}class la{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bo,this.attachRef=null}}let Bo=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(D,N){const G=this.getOrCreateContext(D);G.outlet=N,this.contexts.set(D,G)}onChildOutletDestroyed(D){const N=this.getContext(D);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let N=this.getContext(D);return N||(N=new la,this.contexts.set(D,N)),N}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class oo{constructor(F){this._root=F}get root(){return this._root.value}parent(F){const D=this.pathFromRoot(F);return D.length>1?D[D.length-2]:null}children(F){const D=Zr(F,this._root);return D?D.children.map(N=>N.value):[]}firstChild(F){const D=Zr(F,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(F){const D=Tr(F,this._root);return D.length<2?[]:D[D.length-2].children.map(G=>G.value).filter(G=>G!==F)}pathFromRoot(F){return Tr(F,this._root).map(D=>D.value)}}function Zr(S,F){if(S===F.value)return F;for(const D of F.children){const N=Zr(S,D);if(N)return N}return null}function Tr(S,F){if(S===F.value)return[F];for(const D of F.children){const N=Tr(S,D);if(N.length)return N.unshift(F),N}return[]}class wo{constructor(F,D){this.value=F,this.children=D}toString(){return`TreeNode(${this.value})`}}function ts(S){const F={};return S&&S.children.forEach(D=>F[D.value.outlet]=D),F}class Ds extends oo{constructor(F,D){super(F),this.snapshot=D,Vi(this,F)}toString(){return this.snapshot.toString()}}function _i(S,F){const D=function rr(S,F){const Ye=new ko([],{},{},"",{},Oe,F,null,{});return new ns("",new wo(Ye,[]))}(0,F),N=new ge.X([new ue("",{})]),G=new ge.X({}),me=new ge.X({}),Ye=new ge.X({}),Ot=new ge.X(""),Ft=new Li(N,G,Ye,Ot,me,Oe,F,D.root);return Ft.snapshot=D.root,new Ds(new wo(Ft,[]),D)}class Li{constructor(F,D,N,G,me,Ye,Ot,Ft){this.urlSubject=F,this.paramsSubject=D,this.queryParamsSubject=N,this.fragmentSubject=G,this.dataSubject=me,this.outlet=Ye,this.component=Ot,this._futureSnapshot=Ft,this.title=this.dataSubject?.pipe((0,ye.U)(Mn=>Mn[Nt]))??(0,I.of)(void 0),this.url=F,this.params=D,this.queryParams=N,this.fragment=G,this.data=me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ye.U)(F=>We(F)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ye.U)(F=>We(F)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qr(S,F="emptyOnly"){const D=S.pathFromRoot;let N=0;if("always"!==F)for(N=D.length-1;N>=1;){const G=D[N],me=D[N-1];if(G.routeConfig&&""===G.routeConfig.path)N--;else{if(me.component)break;N--}}return function vr(S){return S.reduce((F,D)=>({params:{...F.params,...D.params},data:{...F.data,...D.data},resolve:{...D.data,...F.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(N))}class ko{get title(){return this.data?.[Nt]}constructor(F,D,N,G,me,Ye,Ot,Ft,Mn){this.url=F,this.params=D,this.queryParams=N,this.fragment=G,this.data=me,this.outlet=Ye,this.component=Ot,this.routeConfig=Ft,this._resolve=Mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=We(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=We(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ns extends oo{constructor(F,D){super(D),this.url=F,Vi(this,D)}toString(){return ps(this._root)}}function Vi(S,F){F.value._routerState=S,F.children.forEach(D=>Vi(S,D))}function ps(S){const F=S.children.length>0?` { ${S.children.map(ps).join(", ")} } `:"";return`${S.value}${F}`}function Uo(S){if(S.snapshot){const F=S.snapshot,D=S._futureSnapshot;S.snapshot=D,wt(F.queryParams,D.queryParams)||S.queryParamsSubject.next(D.queryParams),F.fragment!==D.fragment&&S.fragmentSubject.next(D.fragment),wt(F.params,D.params)||S.paramsSubject.next(D.params),function dt(S,F){if(S.length!==F.length)return!1;for(let D=0;D<S.length;++D)if(!wt(S[D],F[D]))return!1;return!0}(F.url,D.url)||S.urlSubject.next(D.url),wt(F.data,D.data)||S.dataSubject.next(D.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Mi(S,F){const D=wt(S.params,F.params)&&function pt(S,F){return je(S,F)&&S.every((D,N)=>wt(D.parameters,F[N].parameters))}(S.url,F.url);return D&&!(!S.parent!=!F.parent)&&(!S.parent||Mi(S.parent,F.parent))}let Cn=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Oe,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Bo),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(ji,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:N,previousValue:G}=D.name;if(N)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,N){this.activated=D,this._activatedRoute=N,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,N){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=D;const G=this.location,Ye=D.snapshot.component,Ot=this.parentContexts.getOrCreateContext(this.name).children,Ft=new ii(D,Ot,G.injector);this.activated=G.createComponent(Ye,{index:G.length,injector:Ft,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275dir=h.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]})}return S})();class ii{constructor(F,D,N){this.route=F,this.childContexts=D,this.parent=N}get(F,D){return F===Li?this.route:F===Bo?this.childContexts:this.parent.get(F,D)}}const ji=new h.OlP("");let Nr=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:N}=D,G=(0,Ae.a)([N.queryParams,N.params,N.data]).pipe((0,Ee.w)(([me,Ye,Ot],Ft)=>(Ot={...me,...Ye,...Ot},0===Ft?(0,I.of)(Ot):Promise.resolve(Ot)))).subscribe(me=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(D);const Ye=(0,h.qFp)(N.component);if(Ye)for(const{templateName:Ot}of Ye.inputs)D.activatedComponentRef.setInput(Ot,me[Ot]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,G)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac})}return S})();function nr(S,F,D){if(D&&S.shouldReuseRoute(F.value,D.value.snapshot)){const N=D.value;N._futureSnapshot=F.value;const G=function so(S,F,D){return F.children.map(N=>{for(const G of D.children)if(S.shouldReuseRoute(N.value,G.value.snapshot))return nr(S,N,G);return nr(S,N)})}(S,F,D);return new wo(N,G)}{if(S.shouldAttach(F.value)){const me=S.retrieve(F.value);if(null!==me){const Ye=me.route;return Ye.value._futureSnapshot=F.value,Ye.children=F.children.map(Ot=>nr(S,Ot)),Ye}}const N=function Si(S){return new Li(new ge.X(S.url),new ge.X(S.params),new ge.X(S.queryParams),new ge.X(S.fragment),new ge.X(S.data),S.outlet,S.component,S)}(F.value),G=F.children.map(me=>nr(S,me));return new wo(N,G)}}const Ur="ngNavigationCancelingError";function or(S,F){const{redirectTo:D,navigationBehaviorOptions:N}=kn(F)?{redirectTo:F,navigationBehaviorOptions:void 0}:F,G=Yn(!1,0,F);return G.url=D,G.navigationBehaviorOptions=N,G}function Yn(S,F,D){const N=new Error("NavigationCancelingError: "+(S||""));return N[Ur]=!0,N.cancellationCode=F,D&&(N.url=D),N}function co(S){return S&&S[Ur]}let Io=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275cmp=h.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(N,G){1&N&&h._UZ(0,"router-outlet")},dependencies:[Cn],encapsulation:2})}return S})();function Ts(S){const F=S.children&&S.children.map(Ts),D=F?{...S,children:F}:{...S};return!D.component&&!D.loadComponent&&(F||D.loadChildren)&&D.outlet&&D.outlet!==Oe&&(D.component=Io),D}function Jn(S){return S.outlet||Oe}function jo(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let F=S.parent;F;F=F.parent){const D=F.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class Ho{constructor(F,D,N,G,me){this.routeReuseStrategy=F,this.futureState=D,this.currState=N,this.forwardEvent=G,this.inputBindingEnabled=me}activate(F){const D=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,N,F),Uo(this.futureState.root),this.activateChildRoutes(D,N,F)}deactivateChildRoutes(F,D,N){const G=ts(D);F.children.forEach(me=>{const Ye=me.value.outlet;this.deactivateRoutes(me,G[Ye],N),delete G[Ye]}),Object.values(G).forEach(me=>{this.deactivateRouteAndItsChildren(me,N)})}deactivateRoutes(F,D,N){const G=F.value,me=D?D.value:null;if(G===me)if(G.component){const Ye=N.getContext(G.outlet);Ye&&this.deactivateChildRoutes(F,D,Ye.children)}else this.deactivateChildRoutes(F,D,N);else me&&this.deactivateRouteAndItsChildren(D,N)}deactivateRouteAndItsChildren(F,D){F.value.component&&this.routeReuseStrategy.shouldDetach(F.value.snapshot)?this.detachAndStoreRouteSubtree(F,D):this.deactivateRouteAndOutlet(F,D)}detachAndStoreRouteSubtree(F,D){const N=D.getContext(F.value.outlet),G=N&&F.value.component?N.children:D,me=ts(F);for(const Ye of Object.keys(me))this.deactivateRouteAndItsChildren(me[Ye],G);if(N&&N.outlet){const Ye=N.outlet.detach(),Ot=N.children.onOutletDeactivated();this.routeReuseStrategy.store(F.value.snapshot,{componentRef:Ye,route:F,contexts:Ot})}}deactivateRouteAndOutlet(F,D){const N=D.getContext(F.value.outlet),G=N&&F.value.component?N.children:D,me=ts(F);for(const Ye of Object.keys(me))this.deactivateRouteAndItsChildren(me[Ye],G);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(F,D,N){const G=ts(D);F.children.forEach(me=>{this.activateRoutes(me,G[me.value.outlet],N),this.forwardEvent(new aa(me.value.snapshot))}),F.children.length&&this.forwardEvent(new Sa(F.value.snapshot))}activateRoutes(F,D,N){const G=F.value,me=D?D.value:null;if(Uo(G),G===me)if(G.component){const Ye=N.getOrCreateContext(G.outlet);this.activateChildRoutes(F,D,Ye.children)}else this.activateChildRoutes(F,D,N);else if(G.component){const Ye=N.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Ot=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Ye.children.onOutletReAttached(Ot.contexts),Ye.attachRef=Ot.componentRef,Ye.route=Ot.route.value,Ye.outlet&&Ye.outlet.attach(Ot.componentRef,Ot.route.value),Uo(Ot.route.value),this.activateChildRoutes(F,null,Ye.children)}else{const Ot=jo(G.snapshot);Ye.attachRef=null,Ye.route=G,Ye.injector=Ot,Ye.outlet&&Ye.outlet.activateWith(G,Ye.injector),this.activateChildRoutes(F,null,Ye.children)}}else this.activateChildRoutes(F,null,N)}}class uo{constructor(F){this.path=F,this.route=this.path[this.path.length-1]}}class sr{constructor(F,D){this.component=F,this.route=D}}function br(S,F,D){const N=S._root;return Xi(N,F?F._root:null,D,[N.value])}function yi(S,F){const D=Symbol(),N=F.get(S,D);return N===D?"function"!=typeof S||(0,h.Z0I)(S)?F.get(S):S:N}function Xi(S,F,D,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const me=ts(F);return S.children.forEach(Ye=>{(function bl(S,F,D,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const me=S.value,Ye=F?F.value:null,Ot=D?D.getContext(S.value.outlet):null;if(Ye&&me.routeConfig===Ye.routeConfig){const Ft=function Ss(S,F,D){if("function"==typeof D)return D(S,F);switch(D){case"pathParamsChange":return!je(S.url,F.url);case"pathParamsOrQueryParamsChange":return!je(S.url,F.url)||!wt(S.queryParams,F.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mi(S,F)||!wt(S.queryParams,F.queryParams);default:return!Mi(S,F)}}(Ye,me,me.routeConfig.runGuardsAndResolvers);Ft?G.canActivateChecks.push(new uo(N)):(me.data=Ye.data,me._resolvedData=Ye._resolvedData),Xi(S,F,me.component?Ot?Ot.children:null:D,N,G),Ft&&Ot&&Ot.outlet&&Ot.outlet.isActivated&&G.canDeactivateChecks.push(new sr(Ot.outlet.component,Ye))}else Ye&&Ms(F,Ot,G),G.canActivateChecks.push(new uo(N)),Xi(S,null,me.component?Ot?Ot.children:null:D,N,G)})(Ye,me[Ye.value.outlet],D,N.concat([Ye.value]),G),delete me[Ye.value.outlet]}),Object.entries(me).forEach(([Ye,Ot])=>Ms(Ot,D.getContext(Ye),G)),G}function Ms(S,F,D){const N=ts(S),G=S.value;Object.entries(N).forEach(([me,Ye])=>{Ms(Ye,G.component?F?F.children.getContext(me):null:F,D)}),D.canDeactivateChecks.push(new sr(G.component&&F&&F.outlet&&F.outlet.isActivated?F.outlet.component:null,G))}function Er(S){return"function"==typeof S}function pe(S){return S instanceof Me.K||"EmptyError"===S?.name}const qe=Symbol("INITIAL_VALUE");function Pn(){return(0,Ee.w)(S=>(0,Ae.a)(S.map(F=>F.pipe((0,bt.q)(1),(0,ct.O)(qe)))).pipe((0,ye.U)(F=>{for(const D of F)if(!0!==D){if(D===qe)return qe;if(!1===D||D instanceof H)return D}return!0}),(0,fe.h)(F=>F!==qe),(0,bt.q)(1)))}function El(S){return(0,ne.z)((0,it.b)(F=>{if(kn(F))throw or(0,F)}),(0,ye.U)(F=>!0===F))}class Ga{constructor(F){this.segmentGroup=F||null}}class Oo{constructor(F){this.urlTree=F}}function ro(S){return(0,de._)(new Ga(S))}function ms(S){return(0,de._)(new Oo(S))}class $o{constructor(F,D){this.urlSerializer=F,this.urlTree=D}noMatchError(F){return new h.vHH(4002,!1)}lineralizeSegments(F,D){let N=[],G=D.root;for(;;){if(N=N.concat(G.segments),0===G.numberOfChildren)return(0,I.of)(N);if(G.numberOfChildren>1||!G.children[Oe])return(0,de._)(new h.vHH(4e3,!1));G=G.children[Oe]}}applyRedirectCommands(F,D,N){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),F,N)}applyRedirectCreateUrlTree(F,D,N,G){const me=this.createSegmentGroup(F,D.root,N,G);return new H(me,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(F,D){const N={};return Object.entries(F).forEach(([G,me])=>{if("string"==typeof me&&me.startsWith(":")){const Ot=me.substring(1);N[G]=D[Ot]}else N[G]=me}),N}createSegmentGroup(F,D,N,G){const me=this.createSegments(F,D.segments,N,G);let Ye={};return Object.entries(D.children).forEach(([Ot,Ft])=>{Ye[Ot]=this.createSegmentGroup(F,Ft,N,G)}),new Q(me,Ye)}createSegments(F,D,N,G){return D.map(me=>me.path.startsWith(":")?this.findPosParam(F,me,G):this.findOrReturn(me,N))}findPosParam(F,D,N){const G=N[D.path.substring(1)];if(!G)throw new h.vHH(4001,!1);return G}findOrReturn(F,D){let N=0;for(const G of D){if(G.path===F.path)return D.splice(N),G;N++}return F}}const Ar={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vc(S,F,D,N,G){const me=gs(S,F,D);return me.matched?(N=function Hi(S,F){return S.providers&&!S._injector&&(S._injector=(0,h.MMx)(S.providers,F,`Route: ${S.path}`)),S._injector??F}(F,N),function Wa(S,F,D,N){const G=F.canMatch;if(!G||0===G.length)return(0,I.of)(!0);const me=G.map(Ye=>{const Ot=yi(Ye,S);return An(function Z(S){return S&&Er(S.canMatch)}(Ot)?Ot.canMatch(F,D):S.runInContext(()=>Ot(F,D)))});return(0,I.of)(me).pipe(Pn(),El())}(N,F,D).pipe((0,ye.U)(Ye=>!0===Ye?me:{...Ar}))):(0,I.of)(me)}function gs(S,F,D){if(""===F.path)return"full"===F.pathMatch&&(S.hasChildren()||D.length>0)?{...Ar}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const G=(F.matcher||Ce)(D,S,F);if(!G)return{...Ar};const me={};Object.entries(G.posParams??{}).forEach(([Ot,Ft])=>{me[Ot]=Ft.path});const Ye=G.consumed.length>0?{...me,...G.consumed[G.consumed.length-1].parameters}:me;return{matched:!0,consumedSegments:G.consumed,remainingSegments:D.slice(G.consumed.length),parameters:Ye,positionalParamSegments:G.posParams??{}}}function Jr(S,F,D,N){return D.length>0&&function ga(S,F,D){return D.some(N=>eo(S,F,N)&&Jn(N)!==Oe)}(S,D,N)?{segmentGroup:new Q(F,qa(N,new Q(D,S.children))),slicedSegments:[]}:0===D.length&&function su(S,F,D){return D.some(N=>eo(S,F,N))}(S,D,N)?{segmentGroup:new Q(S.segments,Ya(S,0,D,N,S.children)),slicedSegments:D}:{segmentGroup:new Q(S.segments,S.children),slicedSegments:D}}function Ya(S,F,D,N,G){const me={};for(const Ye of N)if(eo(S,D,Ye)&&!G[Jn(Ye)]){const Ot=new Q([],{});me[Jn(Ye)]=Ot}return{...G,...me}}function qa(S,F){const D={};D[Oe]=F;for(const N of S)if(""===N.path&&Jn(N)!==Oe){const G=new Q([],{});D[Jn(N)]=G}return D}function eo(S,F,D){return(!(S.hasChildren()||F.length>0)||"full"!==D.pathMatch)&&""===D.path}class Ma{constructor(F,D,N,G,me,Ye,Ot){this.injector=F,this.configLoader=D,this.rootComponentType=N,this.config=G,this.urlTree=me,this.paramsInheritanceStrategy=Ye,this.urlSerializer=Ot,this.allowRedirects=!0,this.applyRedirects=new $o(this.urlSerializer,this.urlTree)}noMatchError(F){return new h.vHH(4002,!1)}recognize(){const F=Jr(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,F,Oe).pipe((0,ke.K)(D=>{if(D instanceof Oo)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof Ga?this.noMatchError(D):D}),(0,ye.U)(D=>{const N=new ko([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Oe,this.rootComponentType,null,{}),G=new wo(N,D),me=new ns("",G),Ye=function Rn(S,F,D=null,N=null){return ti(Gn(S),F,D,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Ye.queryParams=this.urlTree.queryParams,me.url=this.urlSerializer.serialize(Ye),this.inheritParamsAndData(me._root),{state:me,tree:Ye}}))}match(F){return this.processSegmentGroup(this.injector,this.config,F.root,Oe).pipe((0,ke.K)(N=>{throw N instanceof Ga?this.noMatchError(N):N}))}inheritParamsAndData(F){const D=F.value,N=Qr(D,this.paramsInheritanceStrategy);D.params=Object.freeze(N.params),D.data=Object.freeze(N.data),F.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(F,D,N,G){return 0===N.segments.length&&N.hasChildren()?this.processChildren(F,D,N):this.processSegment(F,D,N,N.segments,G,!0)}processChildren(F,D,N){const G=[];for(const me of Object.keys(N.children))"primary"===me?G.unshift(me):G.push(me);return(0,z.D)(G).pipe((0,He.b)(me=>{const Ye=N.children[me],Ot=function As(S,F){const D=S.filter(N=>Jn(N)===F);return D.push(...S.filter(N=>Jn(N)!==F)),D}(D,me);return this.processSegmentGroup(F,Ot,Ye,me)}),(0,$t.R)((me,Ye)=>(me.push(...Ye),me)),(0,an.d)(null),function Ut(S,F){const D=arguments.length>=2;return N=>N.pipe(S?(0,fe.h)((G,me)=>S(G,me,N)):en.y,Yt(1),D?(0,an.d)(F):(0,bn.T)(()=>new Me.K))}(),(0,Ne.z)(me=>{if(null===me)return ro(N);const Ye=Za(me);return function To(S){S.sort((F,D)=>F.value.outlet===Oe?-1:D.value.outlet===Oe?1:F.value.outlet.localeCompare(D.value.outlet))}(Ye),(0,I.of)(Ye)}))}processSegment(F,D,N,G,me,Ye){return(0,z.D)(D).pipe((0,He.b)(Ot=>this.processSegmentAgainstRoute(Ot._injector??F,D,Ot,N,G,me,Ye).pipe((0,ke.K)(Ft=>{if(Ft instanceof Ga)return(0,I.of)(null);throw Ft}))),(0,xe.P)(Ot=>!!Ot),(0,ke.K)(Ot=>{if(pe(Ot))return function Bi(S,F,D){return 0===F.length&&!S.children[D]}(N,G,me)?(0,I.of)([]):ro(N);throw Ot}))}processSegmentAgainstRoute(F,D,N,G,me,Ye,Ot){return function Bc(S,F,D,N){return!!(Jn(S)===N||N!==Oe&&eo(F,D,S))&&("**"===S.path||gs(F,S,D).matched)}(N,G,me,Ye)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(F,G,N,me,Ye,Ot):Ot&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(F,G,D,N,me,Ye):ro(G):ro(G)}expandSegmentAgainstRouteUsingRedirect(F,D,N,G,me,Ye){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(F,N,G,Ye):this.expandRegularSegmentAgainstRouteUsingRedirect(F,D,N,G,me,Ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(F,D,N,G){const me=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?ms(me):this.applyRedirects.lineralizeSegments(N,me).pipe((0,Ne.z)(Ye=>{const Ot=new Q(Ye,{});return this.processSegment(F,D,Ot,Ye,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(F,D,N,G,me,Ye){const{matched:Ot,consumedSegments:Ft,remainingSegments:Mn,positionalParamSegments:bi}=gs(D,G,me);if(!Ot)return ro(D);const Ci=this.applyRedirects.applyRedirectCommands(Ft,G.redirectTo,bi);return G.redirectTo.startsWith("/")?ms(Ci):this.applyRedirects.lineralizeSegments(G,Ci).pipe((0,Ne.z)(Yi=>this.processSegment(F,N,D,Yi.concat(Mn),Ye,!1)))}matchSegmentAgainstRoute(F,D,N,G,me,Ye){let Ot;if("**"===N.path){const Ft=G.length>0?qt(G).parameters:{},Mn=new ko(G,Ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,au(N),Jn(N),N.component??N._loadedComponent??null,N,$u(N));Ot=(0,I.of)({snapshot:Mn,consumedSegments:[],remainingSegments:[]}),D.children={}}else Ot=Vc(D,N,G,F).pipe((0,ye.U)(({matched:Ft,consumedSegments:Mn,remainingSegments:bi,parameters:Ci})=>Ft?{snapshot:new ko(Mn,Ci,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,au(N),Jn(N),N.component??N._loadedComponent??null,N,$u(N)),consumedSegments:Mn,remainingSegments:bi}:null));return Ot.pipe((0,Ee.w)(Ft=>null===Ft?ro(D):this.getChildConfig(F=N._injector??F,N,G).pipe((0,Ee.w)(({routes:Mn})=>{const bi=N._loadedInjector??F,{snapshot:Ci,consumedSegments:Yi,remainingSegments:Zs}=Ft,{segmentGroup:Fo,slicedSegments:Gc}=Jr(D,Yi,Zs,Mn);if(0===Gc.length&&Fo.hasChildren())return this.processChildren(bi,Mn,Fo).pipe((0,ye.U)(nc=>null===nc?null:[new wo(Ci,nc)]));if(0===Mn.length&&0===Gc.length)return(0,I.of)([new wo(Ci,[])]);const ya=Jn(N)===me;return this.processSegment(bi,Mn,Fo,Gc,ya?Oe:me,!0).pipe((0,ye.U)(nc=>[new wo(Ci,nc)]))}))))}getChildConfig(F,D,N){return D.children?(0,I.of)({routes:D.children,injector:F}):D.loadChildren?void 0!==D._loadedRoutes?(0,I.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function ma(S,F,D,N){const G=F.canLoad;if(void 0===G||0===G.length)return(0,I.of)(!0);const me=G.map(Ye=>{const Ot=yi(Ye,S);return An(function Do(S){return S&&Er(S.canLoad)}(Ot)?Ot.canLoad(F,D):S.runInContext(()=>Ot(F,D)))});return(0,I.of)(me).pipe(Pn(),El())}(F,D,N).pipe((0,Ne.z)(G=>G?this.configLoader.loadChildren(F,D).pipe((0,it.b)(me=>{D._loadedRoutes=me.routes,D._loadedInjector=me.injector})):function wr(S){return(0,de._)(Yn(!1,3))}())):(0,I.of)({routes:[],injector:F})}}function Ws(S){const F=S.value.routeConfig;return F&&""===F.path}function Za(S){const F=[],D=new Set;for(const N of S){if(!Ws(N)){F.push(N);continue}const G=F.find(me=>N.value.routeConfig===me.value.routeConfig);void 0!==G?(G.children.push(...N.children),D.add(G)):F.push(N)}for(const N of D){const G=Za(N.children);F.push(new wo(N.value,G))}return F.filter(N=>!D.has(N))}function au(S){return S.data||{}}function $u(S){return S.resolve||{}}function Pa(S){return"string"==typeof S.title||null===S.title}function Uc(S){return(0,Ee.w)(F=>{const D=S(F);return D?(0,z.D)(D).pipe((0,ye.U)(()=>F)):(0,I.of)(F)})}const No=new h.OlP("ROUTES");let zc=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,I.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const N=An(D.loadComponent()).pipe((0,ye.U)(j),(0,it.b)(me=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=me}),(0,Ie.x)(()=>{this.componentLoaders.delete(D)})),G=new nt.c(N,()=>new Fe.x).pipe((0,Le.x)());return this.componentLoaders.set(D,G),G}loadChildren(D,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,I.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const me=function R(S,F,D,N){return An(S.loadChildren()).pipe((0,ye.U)(j),(0,Ne.z)(G=>G instanceof h.YKP||Array.isArray(G)?(0,I.of)(G):(0,z.D)(F.compileModuleAsync(G))),(0,ye.U)(G=>{N&&N(S);let me,Ye,Ot=!1;return Array.isArray(G)?(Ye=G,!0):(me=G.create(D).injector,Ye=me.get(No,[],{optional:!0,self:!0}).flat()),{routes:Ye.map(Ts),injector:me}}))}(N,this.compiler,D,this.onLoadEndListener).pipe((0,Ie.x)(()=>{this.childrenLoaders.delete(N)})),Ye=new nt.c(me,()=>new Fe.x).pipe((0,Le.x)());return this.childrenLoaders.set(N,Ye),Ye}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function j(S){return function oe(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let ee=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe.x,this.transitionAbortSubject=new Fe.x,this.configLoader=(0,h.f3M)(zc),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Ve),this.rootContexts=(0,h.f3M)(Bo),this.inputBindingEnabled=null!==(0,h.f3M)(ji,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,I.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new za(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new oa(G))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:N})}setupNavigations(D,N,G){return this.transitions=new ge.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:D.urlHandlingStrategy.extract(N),urlAfterRedirects:D.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ci,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,fe.h)(me=>0!==me.id),(0,ye.U)(me=>({...me,extractedUrl:D.urlHandlingStrategy.extract(me.rawUrl)})),(0,Ee.w)(me=>{this.currentTransition=me;let Ye=!1,Ot=!1;return(0,I.of)(me).pipe((0,it.b)(Ft=>{this.currentNavigation={id:Ft.id,initialUrl:Ft.rawUrl,extractedUrl:Ft.extractedUrl,trigger:Ft.source,extras:Ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ee.w)(Ft=>{const Mn=Ft.currentBrowserUrl.toString(),bi=!D.navigated||Ft.extractedUrl.toString()!==Mn||Mn!==Ft.currentUrlTree.toString();if(!bi&&"reload"!==(Ft.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const Yi="";return this.events.next(new fr(Ft.id,this.urlSerializer.serialize(Ft.rawUrl),Yi,0)),Ft.resolve(null),Re.E}if(D.urlHandlingStrategy.shouldProcessUrl(Ft.rawUrl))return(0,I.of)(Ft).pipe((0,Ee.w)(Yi=>{const Zs=this.transitions?.getValue();return this.events.next(new Ln(Yi.id,this.urlSerializer.serialize(Yi.extractedUrl),Yi.source,Yi.restoredState)),Zs!==this.transitions?.getValue()?Re.E:Promise.resolve(Yi)}),function os(S,F,D,N,G,me){return(0,Ne.z)(Ye=>function wl(S,F,D,N,G,me,Ye="emptyOnly"){return new Ma(S,F,D,N,G,Ye,me).recognize()}(S,F,D,N,Ye.extractedUrl,G,me).pipe((0,ye.U)(({state:Ot,tree:Ft})=>({...Ye,targetSnapshot:Ot,urlAfterRedirects:Ft}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,it.b)(Yi=>{me.targetSnapshot=Yi.targetSnapshot,me.urlAfterRedirects=Yi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Yi.urlAfterRedirects};const Zs=new Wr(Yi.id,this.urlSerializer.serialize(Yi.extractedUrl),this.urlSerializer.serialize(Yi.urlAfterRedirects),Yi.targetSnapshot);this.events.next(Zs)}));if(bi&&D.urlHandlingStrategy.shouldProcessUrl(Ft.currentRawUrl)){const{id:Yi,extractedUrl:Zs,source:Fo,restoredState:Gc,extras:ya}=Ft,nc=new Ln(Yi,this.urlSerializer.serialize(Zs),Fo,Gc);this.events.next(nc);const sf=_i(0,this.rootComponentType).snapshot;return this.currentTransition=me={...Ft,targetSnapshot:sf,urlAfterRedirects:Zs,extras:{...ya,skipLocationChange:!1,replaceUrl:!1}},(0,I.of)(me)}{const Yi="";return this.events.next(new fr(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),Yi,1)),Ft.resolve(null),Re.E}}),(0,it.b)(Ft=>{const Mn=new es(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot);this.events.next(Mn)}),(0,ye.U)(Ft=>(this.currentTransition=me={...Ft,guards:br(Ft.targetSnapshot,Ft.currentSnapshot,this.rootContexts)},me)),function mi(S,F){return(0,Ne.z)(D=>{const{targetSnapshot:N,currentSnapshot:G,guards:{canActivateChecks:me,canDeactivateChecks:Ye}}=D;return 0===Ye.length&&0===me.length?(0,I.of)({...D,guardsResult:!0}):function ho(S,F,D,N){return(0,z.D)(S).pipe((0,Ne.z)(G=>function pa(S,F,D,N,G){const me=F&&F.routeConfig?F.routeConfig.canDeactivate:null;if(!me||0===me.length)return(0,I.of)(!0);const Ye=me.map(Ot=>{const Ft=jo(F)??G,Mn=yi(Ot,Ft);return An(function Xr(S){return S&&Er(S.canDeactivate)}(Mn)?Mn.canDeactivate(S,F,D,N):Ft.runInContext(()=>Mn(S,F,D,N))).pipe((0,xe.P)())});return(0,I.of)(Ye).pipe(Pn())}(G.component,G.route,D,F,N)),(0,xe.P)(G=>!0!==G,!0))}(Ye,N,G,S).pipe((0,Ne.z)(Ot=>Ot&&function ua(S){return"boolean"==typeof S}(Ot)?function da(S,F,D,N){return(0,z.D)(F).pipe((0,He.b)(G=>(0,X.z)(function Hu(S,F){return null!==S&&F&&F(new sa(S)),(0,I.of)(!0)}(G.route.parent,N),function ha(S,F){return null!==S&&F&&F(new Hs(S)),(0,I.of)(!0)}(G.route,N),function $s(S,F,D){const N=F[F.length-1],me=F.slice(0,F.length-1).reverse().map(Ye=>function tf(S){const F=S.routeConfig?S.routeConfig.canActivateChild:null;return F&&0!==F.length?{node:S,guards:F}:null}(Ye)).filter(Ye=>null!==Ye).map(Ye=>(0,be.P)(()=>{const Ot=Ye.guards.map(Ft=>{const Mn=jo(Ye.node)??D,bi=yi(Ft,Mn);return An(function $a(S){return S&&Er(S.canActivateChild)}(bi)?bi.canActivateChild(N,S):Mn.runInContext(()=>bi(N,S))).pipe((0,xe.P)())});return(0,I.of)(Ot).pipe(Pn())}));return(0,I.of)(me).pipe(Pn())}(S,G.path,D),function fa(S,F,D){const N=F.routeConfig?F.routeConfig.canActivate:null;if(!N||0===N.length)return(0,I.of)(!0);const G=N.map(me=>(0,be.P)(()=>{const Ye=jo(F)??D,Ot=yi(me,Ye);return An(function Ha(S){return S&&Er(S.canActivate)}(Ot)?Ot.canActivate(F,S):Ye.runInContext(()=>Ot(F,S))).pipe((0,xe.P)())}));return(0,I.of)(G).pipe(Pn())}(S,G.route,D))),(0,xe.P)(G=>!0!==G,!0))}(N,me,S,F):(0,I.of)(Ot)),(0,ye.U)(Ot=>({...D,guardsResult:Ot})))})}(this.environmentInjector,Ft=>this.events.next(Ft)),(0,it.b)(Ft=>{if(me.guardsResult=Ft.guardsResult,kn(Ft.guardsResult))throw or(0,Ft.guardsResult);const Mn=new fs(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot,!!Ft.guardsResult);this.events.next(Mn)}),(0,fe.h)(Ft=>!!Ft.guardsResult||(this.cancelNavigationTransition(Ft,"",3),!1)),Uc(Ft=>{if(Ft.guards.canActivateChecks.length)return(0,I.of)(Ft).pipe((0,it.b)(Mn=>{const bi=new pr(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(bi)}),(0,Ee.w)(Mn=>{let bi=!1;return(0,I.of)(Mn).pipe(function ss(S,F){return(0,Ne.z)(D=>{const{targetSnapshot:N,guards:{canActivateChecks:G}}=D;if(!G.length)return(0,I.of)(D);let me=0;return(0,z.D)(G).pipe((0,He.b)(Ye=>function fo(S,F,D,N){const G=S.routeConfig,me=S._resolve;return void 0!==G?.title&&!Pa(G)&&(me[Nt]=G.title),function _a(S,F,D,N){const G=function Qa(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===G.length)return(0,I.of)({});const me={};return(0,z.D)(G).pipe((0,Ne.z)(Ye=>function Gs(S,F,D,N){const G=jo(F)??N,me=yi(S,G);return An(me.resolve?me.resolve(F,D):G.runInContext(()=>me(F,D)))}(S[Ye],F,D,N).pipe((0,xe.P)(),(0,it.b)(Ot=>{me[Ye]=Ot}))),Yt(1),(0,tn.h)(me),(0,ke.K)(Ye=>pe(Ye)?Re.E:(0,de._)(Ye)))}(me,S,F,N).pipe((0,ye.U)(Ye=>(S._resolvedData=Ye,S.data=Qr(S,D).resolve,G&&Pa(G)&&(S.data[Nt]=G.title),null)))}(Ye.route,N,S,F)),(0,it.b)(()=>me++),Yt(1),(0,Ne.z)(Ye=>me===G.length?(0,I.of)(D):Re.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,it.b)({next:()=>bi=!0,complete:()=>{bi||this.cancelNavigationTransition(Mn,"",2)}}))}),(0,it.b)(Mn=>{const bi=new js(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(bi)}))}),Uc(Ft=>{const Mn=bi=>{const Ci=[];bi.routeConfig?.loadComponent&&!bi.routeConfig._loadedComponent&&Ci.push(this.configLoader.loadComponent(bi.routeConfig).pipe((0,it.b)(Yi=>{bi.component=Yi}),(0,ye.U)(()=>{})));for(const Yi of bi.children)Ci.push(...Mn(Yi));return Ci};return(0,Ae.a)(Mn(Ft.targetSnapshot.root)).pipe((0,an.d)(),(0,bt.q)(1))}),Uc(()=>this.afterPreactivation()),(0,ye.U)(Ft=>{const Mn=function is(S,F,D){const N=nr(S,F._root,D?D._root:void 0);return new Ds(N,F)}(D.routeReuseStrategy,Ft.targetSnapshot,Ft.currentRouterState);return this.currentTransition=me={...Ft,targetRouterState:Mn},me}),(0,it.b)(()=>{this.events.next(new Gr)}),((S,F,D,N)=>(0,ye.U)(G=>(new Ho(F,G.targetRouterState,G.currentRouterState,D,N).activate(S),G)))(this.rootContexts,D.routeReuseStrategy,Ft=>this.events.next(Ft),this.inputBindingEnabled),(0,bt.q)(1),(0,it.b)({next:Ft=>{Ye=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Di(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects))),D.titleStrategy?.updateTitle(Ft.targetRouterState.snapshot),Ft.resolve(!0)},complete:()=>{Ye=!0}}),(0,Se.R)(this.transitionAbortSubject.pipe((0,it.b)(Ft=>{throw Ft}))),(0,Ie.x)(()=>{Ye||Ot||this.cancelNavigationTransition(me,"",1),this.currentNavigation?.id===me.id&&(this.currentNavigation=null)}),(0,ke.K)(Ft=>{if(Ot=!0,co(Ft))this.events.next(new Br(me.id,this.urlSerializer.serialize(me.extractedUrl),Ft.message,Ft.cancellationCode)),function ao(S){return co(S)&&kn(S.url)}(Ft)?this.events.next(new ca(Ft.url)):me.resolve(!1);else{this.events.next(new Wi(me.id,this.urlSerializer.serialize(me.extractedUrl),Ft,me.targetSnapshot??void 0));try{me.resolve(D.errorHandler(Ft))}catch(Mn){me.reject(Mn)}}return Re.E}))}))}cancelNavigationTransition(D,N,G){const me=new Br(D.id,this.urlSerializer.serialize(D.extractedUrl),N,G);this.events.next(me),D.resolve(!1)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Ge(S){return S!==ci}let Vt=(()=>{class S{buildTitle(D){let N,G=D.root;for(;void 0!==G;)N=this.getResolvedTitleForRoute(G)??N,G=G.children.find(me=>me.outlet===Oe);return N}getResolvedTitleForRoute(D){return D.data[Nt]}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=h.Yz7({token:S,factory:function(){return(0,h.f3M)(nn)},providedIn:"root"})}return S})(),nn=(()=>{class S extends Vt{constructor(D){super(),this.title=D}updateTitle(D){const N=this.buildTitle(D);void 0!==N&&this.title.setTitle(N)}static#e=this.\u0275fac=function(N){return new(N||S)(h.LFG(ot.Dx))};static#t=this.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),Wn=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=h.Yz7({token:S,factory:function(){return(0,h.f3M)(Ui)},providedIn:"root"})}return S})();class Gi{shouldDetach(F){return!1}store(F,D){}shouldAttach(F){return!1}retrieve(F){return null}shouldReuseRoute(F,D){return F.routeConfig===D.routeConfig}}let Ui=(()=>{class S extends Gi{static#e=this.\u0275fac=function(){let D;return function(G){return(D||(D=h.n5z(S)))(G||S)}}();static#t=this.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Ri=new h.OlP("",{providedIn:"root",factory:()=>({})});let jn=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=h.Yz7({token:S,factory:function(){return(0,h.f3M)(Zi)},providedIn:"root"})}return S})(),Zi=(()=>{class S{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,N){return D}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var Ii=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Ii||{});function ar(S,F){S.events.pipe((0,fe.h)(D=>D instanceof Di||D instanceof Br||D instanceof Wi||D instanceof fr),(0,ye.U)(D=>D instanceof Di||D instanceof fr?Ii.COMPLETE:D instanceof Br&&(0===D.code||1===D.code)?Ii.REDIRECTING:Ii.FAILED),(0,fe.h)(D=>D!==Ii.REDIRECTING),(0,bt.q)(1)).subscribe(()=>{F()})}function _s(S){throw S}function Qt(S,F,D){return F.parse("/")}const $i={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lr=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this._events=new Fe.x,this.options=(0,h.f3M)(Ri,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||_s,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Qt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(jn),this.routeReuseStrategy=(0,h.f3M)(Wn),this.titleStrategy=(0,h.f3M)(Vt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(No,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(ee),this.urlSerializer=(0,h.f3M)(Ve),this.location=(0,h.f3M)(Ue.Ye),this.componentInputBindingEnabled=!!(0,h.f3M)(ji,{optional:!0}),this.eventsSubscription=new Qe.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new H,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_i(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(On(N)&&this._events.next(N));if(N instanceof Ln)Ge(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(N instanceof fr)this.rawUrlTree=G.rawUrl;else if(N instanceof Wr){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const me=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(me,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(N instanceof Gr)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(N instanceof Br)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(G);else if(N instanceof ca){const me=this.urlHandlingStrategy.merge(N.url,G.currentRawUrl),Ye={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ge(G.source)};this.scheduleNavigation(me,ci,null,Ye,{resolve:G.resolve,reject:G.reject,promise:G.promise})}N instanceof Wi&&this.restoreHistory(G,!0),N instanceof Di&&(this.navigated=!0),On(N)&&this._events.next(N)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ci,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const N="popstate"===D.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,N,D.state)},0)}))}navigateToSyncWithBrowser(D,N,G){const me={replaceUrl:!0},Ye=G?.navigationId?G:null;if(G){const Ft={...G};delete Ft.navigationId,delete Ft.\u0275routerPageId,0!==Object.keys(Ft).length&&(me.state=Ft)}const Ot=this.parseUrl(D);this.scheduleNavigation(Ot,N,Ye,me)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Ts),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,N={}){const{relativeTo:G,queryParams:me,fragment:Ye,queryParamsHandling:Ot,preserveFragment:Ft}=N,Mn=Ft?this.currentUrlTree.fragment:Ye;let Ci,bi=null;switch(Ot){case"merge":bi={...this.currentUrlTree.queryParams,...me};break;case"preserve":bi=this.currentUrlTree.queryParams;break;default:bi=me||null}null!==bi&&(bi=this.removeEmptyProps(bi));try{Ci=Gn(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Ci=this.currentUrlTree.root}return ti(Ci,D,bi,Mn??null)}navigateByUrl(D,N={skipLocationChange:!1}){const G=kn(D)?D:this.parseUrl(D),me=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(me,ci,null,N)}navigate(D,N={skipLocationChange:!1}){return function En(S){for(let F=0;F<S.length;F++)if(null==S[F])throw new h.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,N),N)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let N;try{N=this.urlSerializer.parse(D)}catch(G){N=this.malformedUriErrorHandler(G,this.urlSerializer,D)}return N}isActive(D,N){let G;if(G=!0===N?{...$i}:!1===N?{...cr}:N,kn(D))return un(this.currentUrlTree,D,G);const me=this.parseUrl(D);return un(this.currentUrlTree,me,G)}removeEmptyProps(D){return Object.keys(D).reduce((N,G)=>{const me=D[G];return null!=me&&(N[G]=me),N},{})}scheduleNavigation(D,N,G,me,Ye){if(this.disposed)return Promise.resolve(!1);let Ot,Ft,Mn;Ye?(Ot=Ye.resolve,Ft=Ye.reject,Mn=Ye.promise):Mn=new Promise((Ci,Yi)=>{Ot=Ci,Ft=Yi});const bi=this.pendingTasks.add();return ar(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(bi))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:me,resolve:Ot,reject:Ft,promise:Mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Mn.catch(Ci=>Promise.reject(Ci))}setBrowserUrl(D,N){const G=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(G)||N.extras.replaceUrl){const Ye={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(G,"",Ye)}else{const me={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(G,"",me)}}restoreHistory(D,N=!1){if("computed"===this.canceledNavigationResolution){const me=this.currentPageId-this.browserPageId;0!==me?this.location.historyGo(me):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===me&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,N){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:N}:{navigationId:D}}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function On(S){return!(S instanceof Gr||S instanceof ca)}class hn{}let Kd=(()=>{class S{constructor(D,N,G,me,Ye){this.router=D,this.injector=G,this.preloadingStrategy=me,this.loader=Ye}setUpPreloading(){this.subscription=this.router.events.pipe((0,fe.h)(D=>D instanceof Di),(0,He.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,N){const G=[];for(const me of N){me.providers&&!me._injector&&(me._injector=(0,h.MMx)(me.providers,D,`Route: ${me.path}`));const Ye=me._injector??D,Ot=me._loadedInjector??Ye;(me.loadChildren&&!me._loadedRoutes&&void 0===me.canLoad||me.loadComponent&&!me._loadedComponent)&&G.push(this.preloadConfig(Ye,me)),(me.children||me._loadedRoutes)&&G.push(this.processRoutes(Ot,me.children??me._loadedRoutes))}return(0,z.D)(G).pipe((0,st.J)())}preloadConfig(D,N){return this.preloadingStrategy.preload(N,()=>{let G;G=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(D,N):(0,I.of)(null);const me=G.pipe((0,Ne.z)(Ye=>null===Ye?(0,I.of)(void 0):(N._loadedRoutes=Ye.routes,N._loadedInjector=Ye.injector,this.processRoutes(Ye.injector??D,Ye.routes))));if(N.loadComponent&&!N._loadedComponent){const Ye=this.loader.loadComponent(N);return(0,z.D)([me,Ye]).pipe((0,st.J)())}return me})}static#e=this.\u0275fac=function(N){return new(N||S)(h.LFG(Lr),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(hn),h.LFG(zc))};static#t=this.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Xa=new h.OlP("");let Ao=(()=>{class S{constructor(D,N,G,me,Ye={}){this.urlSerializer=D,this.transitions=N,this.viewportScroller=G,this.zone=me,this.options=Ye,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ye.scrollPositionRestoration=Ye.scrollPositionRestoration||"disabled",Ye.anchorScrolling=Ye.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Ln?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Di?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof fr&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Lc&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Lc(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(N){h.$Z()};static#t=this.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac})}return S})();function Rs(S,F){return{\u0275kind:S,\u0275providers:F}}function li(){const S=(0,h.f3M)(h.zs3);return F=>{const D=S.get(h.z2F);if(F!==D.components[0])return;const N=S.get(Lr),G=S.get(Ks);1===S.get(Hc)&&N.initialNavigation(),S.get(Pi,null,h.XFs.Optional)?.setUpPreloading(),S.get(Xa,null,h.XFs.Optional)?.init(),N.resetRootComponentType(D.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const Ks=new h.OlP("",{factory:()=>new Fe.x}),Hc=new h.OlP("",{providedIn:"root",factory:()=>1}),Pi=new h.OlP("");function Gu(S){return Rs(0,[{provide:Pi,useExisting:Kd},{provide:hn,useExisting:S}])}const ec=new h.OlP("ROUTER_FORROOT_GUARD"),tc=[Ue.Ye,{provide:Ve,useClass:gt},Lr,Bo,{provide:Li,useFactory:function cu(S){return S.routerState.root},deps:[Lr]},zc,[]];function Cl(){return new h.PXZ("Router",Lr)}let dn=(()=>{class S{constructor(D){}static forRoot(D,N){return{ngModule:S,providers:[tc,[],{provide:No,multi:!0,useValue:D},{provide:ec,useFactory:to,deps:[[Lr,new h.FiY,new h.tp0]]},{provide:Ri,useValue:N||{}},N?.useHash?{provide:Ue.S$,useClass:Ue.Do}:{provide:Ue.S$,useClass:Ue.b0},{provide:Xa,useFactory:()=>{const S=(0,h.f3M)(Ue.EM),F=(0,h.f3M)(h.R0b),D=(0,h.f3M)(Ri),N=(0,h.f3M)(ee),G=(0,h.f3M)(Ve);return D.scrollOffset&&S.setOffset(D.scrollOffset),new Ao(G,N,S,F,D)}},N?.preloadingStrategy?Gu(N.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Cl},N?.initialNavigation?$c(N):[],N?.bindToComponentInputs?Rs(8,[Nr,{provide:ji,useExisting:Nr}]).\u0275providers:[],[{provide:ka,useFactory:li},{provide:h.tb,multi:!0,useExisting:ka}]]}}static forChild(D){return{ngModule:S,providers:[{provide:No,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(N){return new(N||S)(h.LFG(ec,8))};static#t=this.\u0275mod=h.oAB({type:S});static#n=this.\u0275inj=h.cJS({})}return S})();function to(S){return"guarded"}function $c(S){return["disabled"===S.initialNavigation?Rs(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const F=(0,h.f3M)(Lr);return()=>{F.setUpLocationChangeListener()}}},{provide:Hc,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Rs(2,[{provide:Hc,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:F=>{const D=F.get(Ue.V_,Promise.resolve());return()=>D.then(()=>new Promise(N=>{const G=F.get(Lr),me=F.get(Ks);ar(G,()=>{N(!0)}),F.get(ee).afterPreactivation=()=>(N(!0),me.closed?(0,I.of)(void 0):me),G.initialNavigation()}))}}]).\u0275providers:[]]}const ka=new h.OlP("")},3106:(on,et,T)=>{T.d(et,{Z:()=>Qe});var h=T(9058),k=T(4537),z=T(534),I=T(7879);class ge{constructor(ye,Ee){this._delegate=ye,this.firebase=Ee,(0,z._addComponent)(ye,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(ye,Ee=z._DEFAULT_ENTRY_NAME){var bt;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(ye);return!ct.isInitialized()&&"EXPLICIT"===(null===(bt=ct.getComponent())||void 0===bt?void 0:bt.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:Ee})}_removeServiceInstance(ye,Ee=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Ee)}_addComponent(ye){(0,z._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,z._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function be(){const Ue=function X(Ue){const ye={},Ee={__esModule:!0,initializeApp:function fe(it,ke={}){const $t=z.initializeApp(it,ke);if((0,h.r3)(ye,$t.name))return ye[$t.name];const an=new Ue($t,Ee);return ye[$t.name]=an,an},app:ct,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function xe(it){const ke=it.name,$t=ke.replace("-compat","");if(z._registerComponent(it)&&"PUBLIC"===it.type){const an=(Gt=ct())=>{if("function"!=typeof Gt[$t])throw Me.create("invalid-app-argument",{appName:ke});return Gt[$t]()};void 0!==it.serviceProps&&(0,h.ZB)(an,it.serviceProps),Ee[$t]=an,Ue.prototype[$t]=function(...Gt){return this._getService.bind(this,ke).apply(this,it.multipleInstances?Gt:[])}}return"PUBLIC"===it.type?Ee[$t]:null},removeApp:function bt(it){delete ye[it]},useAsService:function He(it,ke){return"serverAuth"===ke?null:ke},modularAPIs:z}};function ct(it){if(!(0,h.r3)(ye,it=it||z._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:it});return ye[it]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function Ne(){return Object.keys(ye).map(it=>ye[it])}}),ct.App=Ue,Ee}(ge);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function ye(Ee){(0,h.ZB)(Ue,Ee)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ue}(),de=new I.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=ne;!function Fe(Ue){(0,z.registerVersion)("@firebase/app-compat","0.2.23",Ue)}()},534:(on,et,T)=>{T.r(et),T.d(et,{FirebaseError:()=>I.ZR,SDK_VERSION:()=>Un,_DEFAULT_ENTRY_NAME:()=>Ct,_addComponent:()=>pt,_addOrOverwriteComponent:()=>je,_apps:()=>Q,_clearComponents:()=>ut,_components:()=>ue,_getProvider:()=>Ve,_registerComponent:()=>It,_removeServiceInstance:()=>gt,deleteApp:()=>Vn,getApp:()=>Fn,getApps:()=>Mt,initializeApp:()=>Xn,onLog:()=>ze,registerVersion:()=>lt,setLogLevel:()=>Te});var h=T(5861),k=T(4537),z=T(7879),I=T(9058);const ge=(Ke,$e)=>$e.some(Dt=>Ke instanceof Dt);let Ae,Me;const ne=new WeakMap,de=new WeakMap,Re=new WeakMap,nt=new WeakMap,Fe=new WeakMap;let ye={get(Ke,$e,Dt){if(Ke instanceof IDBTransaction){if("done"===$e)return de.get(Ke);if("objectStoreNames"===$e)return Ke.objectStoreNames||Re.get(Ke);if("store"===$e)return Dt.objectStoreNames[1]?void 0:Dt.objectStore(Dt.objectStoreNames[0])}return fe(Ke[$e])},set:(Ke,$e,Dt)=>(Ke[$e]=Dt,!0),has:(Ke,$e)=>Ke instanceof IDBTransaction&&("done"===$e||"store"===$e)||$e in Ke};function ct(Ke){return"function"==typeof Ke?function bt(Ke){return Ke!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ke)?function(...$e){return Ke.apply(Ne(this),$e),fe(ne.get(this))}:function(...$e){return fe(Ke.apply(Ne(this),$e))}:function($e,...Dt){const Pt=Ke.call(Ne(this),$e,...Dt);return Re.set(Pt,$e.sort?$e.sort():[$e]),fe(Pt)}}(Ke):(Ke instanceof IDBTransaction&&function Ue(Ke){if(de.has(Ke))return;const $e=new Promise((Dt,Pt)=>{const he=()=>{Ke.removeEventListener("complete",_t),Ke.removeEventListener("error",re),Ke.removeEventListener("abort",re)},_t=()=>{Dt(),he()},re=()=>{Pt(Ke.error||new DOMException("AbortError","AbortError")),he()};Ke.addEventListener("complete",_t),Ke.addEventListener("error",re),Ke.addEventListener("abort",re)});de.set(Ke,$e)}(Ke),ge(Ke,function X(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ke,ye):Ke)}function fe(Ke){if(Ke instanceof IDBRequest)return function Qe(Ke){const $e=new Promise((Dt,Pt)=>{const he=()=>{Ke.removeEventListener("success",_t),Ke.removeEventListener("error",re)},_t=()=>{Dt(fe(Ke.result)),he()},re=()=>{Pt(Ke.error),he()};Ke.addEventListener("success",_t),Ke.addEventListener("error",re)});return $e.then(Dt=>{Dt instanceof IDBCursor&&ne.set(Dt,Ke)}).catch(()=>{}),Fe.set($e,Ke),$e}(Ke);if(nt.has(Ke))return nt.get(Ke);const $e=ct(Ke);return $e!==Ke&&(nt.set(Ke,$e),Fe.set($e,Ke)),$e}const Ne=Ke=>Fe.get(Ke),it=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],$t=new Map;function an(Ke,$e){if(!(Ke instanceof IDBDatabase)||$e in Ke||"string"!=typeof $e)return;if($t.get($e))return $t.get($e);const Dt=$e.replace(/FromIndex$/,""),Pt=$e!==Dt,he=ke.includes(Dt);if(!(Dt in(Pt?IDBIndex:IDBObjectStore).prototype)||!he&&!it.includes(Dt))return;const _t=function(){var re=(0,h.Z)(function*(we,...Je){const jt=this.transaction(we,he?"readwrite":"readonly");let cn=jt.store;return Pt&&(cn=cn.index(Je.shift())),(yield Promise.all([cn[Dt](...Je),he&&jt.done]))[0]});return function(Je){return re.apply(this,arguments)}}();return $t.set($e,_t),_t}!function Ee(Ke){ye=Ke(ye)}(Ke=>({...Ke,get:($e,Dt,Pt)=>an($e,Dt)||Ke.get($e,Dt,Pt),has:($e,Dt)=>!!an($e,Dt)||Ke.has($e,Dt)}));class Gt{constructor($e){this.container=$e}getPlatformInfoString(){return this.container.getProviders().map(Dt=>{if(function _n(Ke){const $e=Ke.getComponent();return"VERSION"===$e?.type}(Dt)){const Pt=Dt.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(Dt=>Dt).join(" ")}}const Yt="@firebase/app",en=new z.Yd("@firebase/app"),Ct="[DEFAULT]",H={[Yt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Q=new Map,ue=new Map;function pt(Ke,$e){try{Ke.container.addComponent($e)}catch(Dt){en.debug(`Component ${$e.name} failed to register with FirebaseApp ${Ke.name}`,Dt)}}function je(Ke,$e){Ke.container.addOrOverwriteComponent($e)}function It(Ke){const $e=Ke.name;if(ue.has($e))return en.debug(`There were multiple attempts to register component ${$e}.`),!1;ue.set($e,Ke);for(const Dt of Q.values())pt(Dt,Ke);return!0}function Ve(Ke,$e){const Dt=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Dt&&Dt.triggerHeartbeat(),Ke.container.getProvider($e)}function gt(Ke,$e,Dt=Ct){Ve(Ke,$e).clearInstance(Dt)}function ut(){ue.clear()}const Wt=new I.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class In{constructor($e,Dt,Pt){this._isDeleted=!1,this._options=Object.assign({},$e),this._config=Object.assign({},Dt),this._name=Dt.name,this._automaticDataCollectionEnabled=Dt.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this.checkDestroyed(),this._automaticDataCollectionEnabled=$e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($e){this._isDeleted=$e}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}const Un="10.6.0";function Xn(Ke,$e={}){let Dt=Ke;"object"!=typeof $e&&($e={name:$e});const Pt=Object.assign({name:Ct,automaticDataCollectionEnabled:!1},$e),he=Pt.name;if("string"!=typeof he||!he)throw Wt.create("bad-app-name",{appName:String(he)});if(Dt||(Dt=(0,I.aH)()),!Dt)throw Wt.create("no-options");const _t=Q.get(he);if(_t){if((0,I.vZ)(Dt,_t.options)&&(0,I.vZ)(Pt,_t.config))return _t;throw Wt.create("duplicate-app",{appName:he})}const re=new k.H0(he);for(const Je of ue.values())re.addComponent(Je);const we=new In(Dt,Pt,re);return Q.set(he,we),we}function Fn(Ke=Ct){const $e=Q.get(Ke);if(!$e&&Ke===Ct&&(0,I.aH)())return Xn();if(!$e)throw Wt.create("no-app",{appName:Ke});return $e}function Mt(){return Array.from(Q.values())}function Vn(Ke){return kt.apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(Ke){const $e=Ke.name;Q.has($e)&&(Q.delete($e),yield Promise.all(Ke.container.getProviders().map(Dt=>Dt.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function lt(Ke,$e,Dt){var Pt;let he=null!==(Pt=H[Ke])&&void 0!==Pt?Pt:Ke;Dt&&(he+=`-${Dt}`);const _t=he.match(/\s|\//),re=$e.match(/\s|\//);if(_t||re){const we=[`Unable to register library "${he}" with version "${$e}":`];return _t&&we.push(`library name "${he}" contains illegal characters (whitespace or "/")`),_t&&re&&we.push("and"),re&&we.push(`version name "${$e}" contains illegal characters (whitespace or "/")`),void en.warn(we.join(" "))}It(new k.wA(`${he}-version`,()=>({library:he,version:$e}),"VERSION"))}function ze(Ke,$e){if(null!==Ke&&"function"!=typeof Ke)throw Wt.create("invalid-log-argument");(0,z.Am)(Ke,$e)}function Te(Ke){(0,z.Ub)(Ke)}const Ze="firebase-heartbeat-database",xt=1,ve="firebase-heartbeat-store";let ie=null;function Y(){return ie||(ie=function xe(Ke,$e,{blocked:Dt,upgrade:Pt,blocking:he,terminated:_t}={}){const re=indexedDB.open(Ke,$e),we=fe(re);return Pt&&re.addEventListener("upgradeneeded",Je=>{Pt(fe(re.result),Je.oldVersion,Je.newVersion,fe(re.transaction),Je)}),Dt&&re.addEventListener("blocked",Je=>Dt(Je.oldVersion,Je.newVersion,Je)),we.then(Je=>{_t&&Je.addEventListener("close",()=>_t()),he&&Je.addEventListener("versionchange",jt=>he(jt.oldVersion,jt.newVersion,jt))}).catch(()=>{}),we}(Ze,xt,{upgrade:(Ke,$e)=>{0===$e&&Ke.createObjectStore(ve)}}).catch(Ke=>{throw Wt.create("idb-open",{originalErrorMessage:Ke.message})})),ie}function B(){return(B=(0,h.Z)(function*(Ke){try{return yield(yield Y()).transaction(ve).objectStore(ve).get(Xt(Ke))}catch($e){if($e instanceof I.ZR)en.warn($e.message);else{const Dt=Wt.create("idb-get",{originalErrorMessage:$e?.message});en.warn(Dt.message)}}})).apply(this,arguments)}function _e(Ke,$e){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,h.Z)(function*(Ke,$e){try{const Pt=(yield Y()).transaction(ve,"readwrite");yield Pt.objectStore(ve).put($e,Xt(Ke)),yield Pt.done}catch(Dt){if(Dt instanceof I.ZR)en.warn(Dt.message);else{const Pt=Wt.create("idb-set",{originalErrorMessage:Dt?.message});en.warn(Pt.message)}}})).apply(this,arguments)}function Xt(Ke){return`${Ke.name}!${Ke.options.appId}`}class Rn{constructor($e){this.container=$e,this._heartbeatsCache=null;const Dt=this.container.getProvider("app").getImmediate();this._storage=new Et(Dt),this._heartbeatsCachePromise=this._storage.read().then(Pt=>(this._heartbeatsCache=Pt,Pt))}triggerHeartbeat(){var $e=this;return(0,h.Z)(function*(){var Dt;const he=$e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=Gn();if(null==(null===(Dt=$e._heartbeatsCache)||void 0===Dt?void 0:Dt.heartbeats)&&($e._heartbeatsCache=yield $e._heartbeatsCachePromise),$e._heartbeatsCache.lastSentHeartbeatDate!==_t&&!$e._heartbeatsCache.heartbeats.some(re=>re.date===_t))return $e._heartbeatsCache.heartbeats.push({date:_t,agent:he}),$e._heartbeatsCache.heartbeats=$e._heartbeatsCache.heartbeats.filter(re=>{const we=new Date(re.date).valueOf();return Date.now()-we<=2592e6}),$e._storage.overwrite($e._heartbeatsCache)})()}getHeartbeatsHeader(){var $e=this;return(0,h.Z)(function*(){var Dt;if(null===$e._heartbeatsCache&&(yield $e._heartbeatsCachePromise),null==(null===(Dt=$e._heartbeatsCache)||void 0===Dt?void 0:Dt.heartbeats)||0===$e._heartbeatsCache.heartbeats.length)return"";const Pt=Gn(),{heartbeatsToSend:he,unsentEntries:_t}=function ti(Ke,$e=1024){const Dt=[];let Pt=Ke.slice();for(const he of Ke){const _t=Dt.find(re=>re.agent===he.agent);if(_t){if(_t.dates.push(he.date),tt(Dt)>$e){_t.dates.pop();break}}else if(Dt.push({agent:he.agent,dates:[he.date]}),tt(Dt)>$e){Dt.pop();break}Pt=Pt.slice(1)}return{heartbeatsToSend:Dt,unsentEntries:Pt}}($e._heartbeatsCache.heartbeats),re=(0,I.L)(JSON.stringify({version:2,heartbeats:he}));return $e._heartbeatsCache.lastSentHeartbeatDate=Pt,_t.length>0?($e._heartbeatsCache.heartbeats=_t,yield $e._storage.overwrite($e._heartbeatsCache)):($e._heartbeatsCache.heartbeats=[],$e._storage.overwrite($e._heartbeatsCache)),re})()}}function Gn(){return(new Date).toISOString().substring(0,10)}class Et{constructor($e){this.app=$e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,I.hl)()&&(0,I.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $e=this;return(0,h.Z)(function*(){return(yield $e._canUseIndexedDBPromise)&&(yield function $(Ke){return B.apply(this,arguments)}($e.app))||{heartbeats:[]}})()}overwrite($e){var Dt=this;return(0,h.Z)(function*(){var Pt;if(yield Dt._canUseIndexedDBPromise){const _t=yield Dt.read();return _e(Dt.app,{lastSentHeartbeatDate:null!==(Pt=$e.lastSentHeartbeatDate)&&void 0!==Pt?Pt:_t.lastSentHeartbeatDate,heartbeats:$e.heartbeats})}})()}add($e){var Dt=this;return(0,h.Z)(function*(){var Pt;if(yield Dt._canUseIndexedDBPromise){const _t=yield Dt.read();return _e(Dt.app,{lastSentHeartbeatDate:null!==(Pt=$e.lastSentHeartbeatDate)&&void 0!==Pt?Pt:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...$e.heartbeats]})}})()}}function tt(Ke){return(0,I.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function ft(Ke){It(new k.wA("platform-logger",$e=>new Gt($e),"PRIVATE")),It(new k.wA("heartbeat",$e=>new Rn($e),"PRIVATE")),lt(Yt,"0.9.23",Ke),lt(Yt,"0.9.23","esm2017"),lt("fire-js","")}("")},4537:(on,et,T)=>{T.d(et,{H0:()=>X,wA:()=>z});var h=T(5861),k=T(9058);class z{constructor(ne,de,Re){this.name=ne,this.instanceFactory=de,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const I="[DEFAULT]";class ge{constructor(ne,de){this.name=ne,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const de=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(de)){const Re=new k.BH;if(this.instancesDeferred.set(de,Re),this.isInitialized(de)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:de});nt&&Re.resolve(nt)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ne){var de;const Re=this.normalizeInstanceIdentifier(ne?.identifier),nt=null!==(de=ne?.optional)&&void 0!==de&&de;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Fe){if(nt)return null;throw Fe}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Me(be){return"EAGER"===be.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:I})}catch{}for(const[de,Re]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(de);try{const Fe=this.getOrInitializeService({instanceIdentifier:nt});Re.resolve(Fe)}catch{}}}}clearInstance(ne=I){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,h.Z)(function*(){const de=Array.from(ne.instances.values());yield Promise.all([...de.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...de.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=I){return this.instances.has(ne)}getOptions(ne=I){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:de={}}=ne,Re=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:Re,options:de});for(const[Fe,Qe]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(Fe)&&Qe.resolve(nt);return nt}onInit(ne,de){var Re;const nt=this.normalizeInstanceIdentifier(de),Fe=null!==(Re=this.onInitCallbacks.get(nt))&&void 0!==Re?Re:new Set;Fe.add(ne),this.onInitCallbacks.set(nt,Fe);const Qe=this.instances.get(nt);return Qe&&ne(Qe,nt),()=>{Fe.delete(ne)}}invokeOnInitCallbacks(ne,de){const Re=this.onInitCallbacks.get(de);if(Re)for(const nt of Re)try{nt(ne,de)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:de={}}){let Re=this.instances.get(ne);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(be=ne,be===I?void 0:be),options:de}),this.instances.set(ne,Re),this.instancesOptions.set(ne,de),this.invokeOnInitCallbacks(Re,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Re)}catch{}var be;return Re||null}normalizeInstanceIdentifier(ne=I){return this.component?this.component.multipleInstances?ne:I:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const de=this.getProvider(ne.name);if(de.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);de.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const de=new ge(ne,this);return this.providers.set(ne,de),de}getProviders(){return Array.from(this.providers.values())}}},7879:(on,et,T)=>{T.d(et,{Am:()=>be,Ub:()=>X,Yd:()=>Me,in:()=>k});const h=[];var k=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(k||{});const z={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},I=k.INFO,ge={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},Ae=(ne,de,...Re)=>{if(de<ne.logLevel)return;const nt=(new Date).toISOString(),Fe=ge[de];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Fe](`[${nt}]  ${ne.name}:`,...Re)};class Me{constructor(de){this.name=de,this._logLevel=I,this._logHandler=Ae,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in k))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?z[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...de),this._logHandler(this,k.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...de),this._logHandler(this,k.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,k.INFO,...de),this._logHandler(this,k.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,k.WARN,...de),this._logHandler(this,k.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...de),this._logHandler(this,k.ERROR,...de)}}function X(ne){h.forEach(de=>{de.setLogLevel(ne)})}function be(ne,de){for(const Re of h){let nt=null;de&&de.level&&(nt=z[de.level]),Re.userLogHandler=null===ne?null:(Fe,Qe,...Ue)=>{const ye=Ue.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");Qe>=(nt??Fe.logLevel)&&ne({level:k[Qe].toLowerCase(),message:ye,args:Ue,type:Fe.name})}}}},3182:(on,et,T)=>{T.d(et,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=T(534);(0,h.registerVersion)("firebase","10.6.0","app")},7142:(on,et,T)=>{T.d(et,{Z:()=>h.Z});var h=T(3106);h.Z.registerVersion("firebase","10.6.0","app-compat")},5861:(on,et,T)=>{function h(z,I,ge,Ae,Me,X,be){try{var ne=z[X](be),de=ne.value}catch(Re){return void ge(Re)}ne.done?I(de):Promise.resolve(de).then(Ae,Me)}function k(z){return function(){var I=this,ge=arguments;return new Promise(function(Ae,Me){var X=z.apply(I,ge);function be(de){h(X,Ae,Me,be,ne,"next",de)}function ne(de){h(X,Ae,Me,be,ne,"throw",de)}be(void 0)})}}T.d(et,{Z:()=>k})},7582:(on,et,T)=>{function I(Ie,Le){var Se={};for(var st in Ie)Object.prototype.hasOwnProperty.call(Ie,st)&&Le.indexOf(st)<0&&(Se[st]=Ie[st]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(st=Object.getOwnPropertySymbols(Ie);ot<st.length;ot++)Le.indexOf(st[ot])<0&&Object.prototype.propertyIsEnumerable.call(Ie,st[ot])&&(Se[st[ot]]=Ie[st[ot]])}return Se}function Re(Ie,Le,Se,st){return new(Se||(Se=Promise))(function(Oe,Nt){function De(dt){try{Ce(st.next(dt))}catch(wt){Nt(wt)}}function We(dt){try{Ce(st.throw(dt))}catch(wt){Nt(wt)}}function Ce(dt){dt.done?Oe(dt.value):function ot(Oe){return Oe instanceof Se?Oe:new Se(function(Nt){Nt(Oe)})}(dt.value).then(De,We)}Ce((st=st.apply(Ie,Le||[])).next())})}function fe(Ie){return this instanceof fe?(this.v=Ie,this):new fe(Ie)}function Ne(Ie,Le,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,st=Se.apply(Ie,Le||[]),Oe=[];return ot={},Nt("next"),Nt("throw"),Nt("return"),ot[Symbol.asyncIterator]=function(){return this},ot;function Nt(Kt){st[Kt]&&(ot[Kt]=function(qt){return new Promise(function(An,at){Oe.push([Kt,qt,An,at])>1||De(Kt,qt)})})}function De(Kt,qt){try{!function We(Kt){Kt.value instanceof fe?Promise.resolve(Kt.value.v).then(Ce,dt):wt(Oe[0][2],Kt)}(st[Kt](qt))}catch(An){wt(Oe[0][3],An)}}function Ce(Kt){De("next",Kt)}function dt(Kt){De("throw",Kt)}function wt(Kt,qt){Kt(qt),Oe.shift(),Oe.length&&De(Oe[0][0],Oe[0][1])}}function He(Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,Le=Ie[Symbol.asyncIterator];return Le?Le.call(Ie):(Ie=function Ue(Ie){var Le="function"==typeof Symbol&&Symbol.iterator,Se=Le&&Ie[Le],st=0;if(Se)return Se.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&st>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[st++],done:!Ie}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ie),Se={},st("next"),st("throw"),st("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function st(Oe){Se[Oe]=Ie[Oe]&&function(Nt){return new Promise(function(De,We){!function ot(Oe,Nt,De,We){Promise.resolve(We).then(function(Ce){Oe({value:Ce,done:De})},Nt)}(De,We,(Nt=Ie[Oe](Nt)).done,Nt.value)})}}}T.d(et,{FC:()=>Ne,KL:()=>He,_T:()=>I,mG:()=>Re,qq:()=>fe}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=9770)}]);